var Cr=Object.defineProperty,Vr=Object.defineProperties;var Fr=Object.getOwnPropertyDescriptors;var xo=Object.getOwnPropertySymbols;var Ar=Object.prototype.hasOwnProperty,Ir=Object.prototype.propertyIsEnumerable;var Rl=(e,t,n)=>t in e?Cr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pe=(e,t)=>{for(var n in t||(t={}))Ar.call(t,n)&&Rl(e,n,t[n]);if(xo)for(var n of xo(t))Ir.call(t,n)&&Rl(e,n,t[n]);return e},Ve=(e,t)=>Vr(e,Fr(t));var ft=(e,t,n)=>(Rl(e,typeof t!="symbol"?t+"":t,n),n);import{d as At,s as Ot,c as Er,l as U,b as Dr,e as Tr,f as Pr,g as Or,h as Lr,i as jr,j as Rr,k as Mr,n as z,u as Y,o as V,r as c,p,q as C,w as d,t as o,v as E,y as _e,z as Zt,A as Re,B as S,C as b,D as Ze,E as ye,F as Se,G as x,H as Fe,I as R,J as Et,K as se,L as Ue,M as He,N as Xe,O as dt,P as D,Q as it,R as Pt,S as Yt,T as bt,U as Ye,V as I,W as ea,X as Ur,Y as ie,Z as xt,_ as gn,$ as he,a0 as sn,a1 as We,a2 as Ge,a3 as Nr,a4 as Br,a5 as qr,a6 as zr,a7 as ta,a8 as na,a9 as la,aa as St,ab as $t,ac as Ml,ad as oa,ae as aa,af as Ul,ag as Mn,ah as Kr,ai as Hr,aj as Un,ak as Lt,al as ia,am as Nl,an as dl,ao as sa,ap as Wr,aq as Gr,ar as _t,as as Jr,at as Qr,au as Xr,av as Zr,aw as Yr,ax as ze,ay as ra,az as xr,aA as Ct,aB as wt,aC as Bl,aD as ed,aE as jt,aF as ql,aG as zl,aH as Kl,aI as da,aJ as Hl,aK as ua,aL as td,aM as nd,aN as ld,aO as od,aP as ad,aQ as id,aR as sd,aS as rd,aT as dd,aU as ud,aV as cd,aW as pd,aX as md,aY as fd,aZ as vd,a_ as _d,a$ as yd,b0 as gd,b1 as hd,b2 as bd,b3 as $d,b4 as wd,b5 as kd,b6 as Sd,b7 as ca,b8 as Cd,b9 as Vd,ba as Fd,bb as Ad,bc as Id,bd as zt,be as Ed,bf as pa,bg as rn,bh as Dd,bi as Td,bj as Pd,bk as Nn,bl as hn,bm as ma,bn as Od,bo as Ld,bp as Kt,bq as jd,br as Rd,bs as Md,bt as Wl,bu as fa,bv as Ud,bw as Nd,bx as Bd,by as qd,bz as zd,bA as Kd,bB as Hd,bC as Wd,bD as Gd}from"./assets/vendor.764dd834.js";import{g as Jd,u as Le,d as dn,a as at,b as yt,S as Qd,A as Xd,c as Zd,e as ul,f as gt,h as Me,i as cl,j as pl}from"./assets/use-sync.03a52ddb.js";const Yd=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))l(i);new MutationObserver(i=>{for(const u of i)if(u.type==="childList")for(const a of u.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&l(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const u={};return i.integrity&&(u.integrity=i.integrity),i.referrerpolicy&&(u.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?u.credentials="include":i.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(i){if(i.ep)return;i.ep=!0;const u=n(i);fetch(i.href,u)}};Yd();const va="9.2.1",kt=At({id:"appStore",state:()=>({sidebarOpen:!1,notificationsDrawerOpen:!1,fullScreen:!1,hydrated:!1,hydrating:!1,error:null,authenticated:!1,accessTokenExpiry:0,basemap:"OpenStreetMap"})}),xd="modulepreload",_a={},eu="",j=function(t,n){return!n||n.length===0?t():Promise.all(n.map(l=>{if(l=`${eu}${l}`,l in _a)return;_a[l]=!0;const i=l.endsWith(".css"),u=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const a=document.createElement("link");if(a.rel=i?"stylesheet":xd,i||(a.as="script",a.crossOrigin=""),a.href=l,document.head.appendChild(a),i)return new Promise((s,r)=>{a.addEventListener("load",s),a.addEventListener("error",r)})})).then(()=>t())},tu=Ot([]),ya=Ot([]);function Gl(){return{displays:ya,displaysRaw:tu}}function Bn(e){return e?ya.value.find(({id:t})=>t===e):void 0}const nu=Ot([]),ga=Ot([]);function bn(){return{interfaces:ga,interfacesRaw:nu}}function Dt(e){return e?ga.value.find(({id:t})=>t===e):void 0}const lu=Ot([]),ou=Ot([]);function ml(){return{panels:ou,panelsRaw:lu}}const au=Ot([]),ha=Ot([]);function $n(){return{layouts:ha,layoutsRaw:au}}function Jl(e){return e?ha.value.find(({id:t})=>t===e):void 0}const iu=Ot([]),su=Ot([]);function Ql(){return{modules:su,modulesRaw:iu}}var ru={"en-US":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!0}},"bg-BG":{short:{year:"numeric",month:"numeric",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"cs-CZ":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"de-DE":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"fr-FR":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"it-IT":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"ms-MY":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"nl-NL":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"pl-PL":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"pt-BR":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"ru-RU":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"zh-CN":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!0}}},du={"en-US":{currency:{style:"currency",currency:"USD",notation:"standard"},decimal:{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2},percent:{style:"percent",useGrouping:!1}}},w={identifier:"Identifier",avatar:"Avatar",default_provider:"Default",published:"Published",draft:"Draft",archived:"Archived",modules:"Modules",module_bar:"Module Bar",tile_size:"Tile Size",edit_field:"Edit Field",conditions:"Conditions",maps:"Maps",item_creation:"Item Creation",item_revision:"Item Revision",enter_a_name:"Enter a Name...",duplicate_field:"Duplicate Field",half_width:"Half Width",full_width:"Full Width",group:"Group",and:"And",or:"Or",fill_width:"Fill Width",field_name_translations:"Field Name Translations",enter_password_to_enable_tfa:"Enter your password to enable Two-Factor Authentication",add_field:"Add Field",role_name:"Role Name",branch:"Branch",leaf:"Leaf",indeterminate:"Indeterminate",edit_collection:"Edit Collection",exclusive:"Exclusive",children:"Children",db_only_click_to_configure:"Database Only: Click to Configure",show_archived_items:"Show Archived Items",edited:"Value Edited",required:"Required",required_for_app_access:"Required for App Access",requires_value:"Requires value",create_preset:"Create Preset",create_panel:"Create Panel",create_role:"Create Role",create_user:"Create User",delete_panel:"Delete Panel",create_webhook:"Create Webhook",invite_users:"Invite Users",invite:"Invite",email_already_invited:'Email "{email}" has already been invited',subject:"Subject",inbox:"Inbox",emails:"Emails",connection_excellent:"Excellent Connection",connection_good:"Good Connection",connection_fair:"Fair Connection",connection_poor:"Poor Connection",primary:"Primary",rename_folder:"Rename Folder",delete_folder:"Delete Folder",prefix:"Prefix",suffix:"Suffix",reset_bookmark:"Reset Bookmark",rename_bookmark:"Rename Bookmark",update_bookmark:"Update Bookmark",delete_bookmark:"Delete Bookmark",delete_bookmark_copy:'Are you sure you want to delete the "{bookmark}" bookmark? This action cannot be undone.',logoutReason:{SIGN_OUT:"Signed out",SESSION_EXPIRED:"Session expired"},public_label:"Public",public_description:"Controls what API data is available without authenticating.",not_allowed:"Not Allowed",directus_version:"Directus Version",node_version:"Node Version",node_uptime:"Node Uptime",os_type:"OS Type",os_version:"OS Version",os_uptime:"OS Uptime",os_totalmem:"OS Memory",archive:"Archive",archive_confirm:"Are you sure you want to archive this item?",archive_confirm_count:"No Items Selected | Are you sure you want to archive this item? | Are you sure you want to archive these {count} items?",reset_system_permissions_to:"Reset System Permissions to:",reset_system_permissions_copy:"This action will overwrite any custom permissions you may have applied to the system collections. Are you sure?",the_following_are_minimum_permissions:'The following are minimum permissions required when "App Access" is enabled. You can extend permissions beyond this, but not below.',app_access_minimum:"App Access Minimum",recommended_defaults:"Recommended Defaults",unarchive:"Unarchive",unarchive_confirm:"Are you sure you want to unarchive this item?",nested_files_folders_will_be_moved:"Nested files and folders will be moved one level up.",unknown_validation_errors:"There were validation errors for the following hidden fields:",validationError:{eq:"Value has to be {valid}",neq:"Value can't be {invalid}",in:"Value has to be one of {valid}",nin:"Value can't be one of {invalid}",contains:"Value has to contain {substring}",ncontains:"Value can't contain {substring}",gt:"Value has to be greater than {valid}",gte:"Value has to be greater than or equal to {valid}",lt:"Value has to be less than {valid}",lte:"Value has to be less than or equal to {valid}",empty:"Value has to be empty",nempty:"Value can't be empty",null:"Value has to be null",nnull:"Value can't be null",required:"Value is required",unique:"Value has to be unique",regex:"Value doesn't have the correct format"},all_access:"All Access",no_access:"No Access",use_custom:"Use Custom",nullable:"Nullable",allow_null_value:"Allow NULL value",allow_multiple:"Allow Multiple",allow_multiple_to_be_open:"Allow Multiple to be Opened",enter_value_to_replace_nulls:"Please enter a new value to replace any NULLs currently within this field.",field_standard:"Standard",field_presentation:"Presentation & Aliases",field_file:"Single File",field_files:"Multiple Files",field_m2o:"M2O Relationship",field_m2a:"M2A Relationship",field_o2m:"O2M Relationship",field_m2m:"M2M Relationship",field_translations:"Translations",field_group:"Field Group",item_permissions:"Item Permissions",field_permissions:"Field Permissions",field_validation:"Field Validation",field_presets:"Field Presets",permissions_for_role:"Items the {role} Role can {action}.",fields_for_role:"Fields the {role} Role can {action}.",validation_for_role:"Field {action} rules the {role} Role must obey.",presets_for_role:"Field value defaults for the {role} Role.",presentation_and_aliases:"Presentation & Aliases",revision_post_create:"Here is what this item looked like when it was created.",revision_post_update:"Here is what this item looked like after the update.",changes_made:"Below are the specific changes made in this revision.",no_relational_data:"Keep in mind that relational data is not included here.",hide_field_on_detail:"Hide Field on Detail",show_field_on_detail:"Show Field on Detail",delete_field:"Delete Field",fields_and_layout:"Fields & Layout",field_create_success:'Created Field: "{field}"',field_update_success:'Updated Field: "{field}"',duplicate_where_to:"Where would you like to duplicate this field to?",language:"Language",aggregate_function:"Aggregate Function",aggregate_precision:"Aggregate Precision",group_aggregation:"Group Aggregation",group_precision:"Group Precision",global:"Global",admins_have_all_permissions:"Admins have all permissions",camera:"Camera",show_zero:"Show Zero",create_in_advanced_field_creation_mode:"Create Field in Advanced Mode",continue_in_advanced_field_creation_mode:"Continue in Advanced Field Creation Mode",sum:"Sum",sum_distinct:"Sum Distinct",avg:"Average",avg_distinct:"Average Distinct",count:"Count",count_distinct:"Count Distinct",min:"Min",max:"Max",exposure:"Exposure",shutter:"Shutter",iso:"ISO",focal_length:"Focal Length",schema_setup_key:"This field's database column name and API key",create_field:"Create Field",creating_new_field:"New Field ({collection})",field_in_collection:"{field} ({collection})",reset_page_preferences:"Reset Page Preferences",hidden_field:"Hidden Field",hidden_on_detail:"Hidden on Detail",disabled_editing_value:"Disable editing value",key:"Key",alias:"Alias",bigInteger:"Big Integer",boolean:"Boolean",date:"Date",date_range:"Date Range",datetime:"DateTime",dateTime:"DateTime",precision:"Precision",decimal:"Decimal",float:"Float",integer:"Integer",json:"JSON",xml:"XML",string:"String",text:"Text",time:"Time",timestamp:"Timestamp",uuid:"UUID",hash:"Hash",geometry:"Geometry (All)","geometry.Point":"Point","geometry.LineString":"LineString","geometry.Polygon":"Polygon","geometry.MultiPoint":"MultiPoint","geometry.MultiLineString":"MultiLineString","geometry.MultiPolygon":"MultiPolygon",not_available_for_type:"Not Available for this Type",create_translations:"Create Translations",auto_refresh:"Auto Refresh",refresh_interval:"Refresh Interval",no_refresh:"Do not refresh",refresh_interval_seconds:"Refresh Instantly | Every Second | Every {seconds} Seconds",refresh_interval_minutes:"Every Minute | Every {minutes} Minutes",auto_generate:"Auto-Generate",this_will_auto_setup_fields_relations:"This will automatically setup all required fields and relations.",click_here:"Click here",to_manually_setup_translations:"to manually setup translations.",click_to_manage_translated_fields:"There are no translated fields yet. Click here to create them. | There is one translated field. Click here to manage it. | There are {count} translated fields. Click here to manage them.",fields_group:"Fields Group",no_collections_found:"No collections found.",new_data_alert:"The following will be created within your Data Model:",search_collection:"Search Collection...",new_field:"New Field",new_collection:"New Collection",add_m2o_to_collection:'Add M2O to "{collection}"',add_o2m_to_collection:'Add O2M to "{collection}"',add_m2m_to_collection:'Add M2M to "{collection}"',choose_a_type:"Choose a Type...",determined_by_relationship:"Determined by Relationship",add_note:"Add a helpful note for users...",add_link:"Add Link",custom_link:"Custom Link",default_value:"Default Value",standard_field:"Standard Field",single_file:"Single File",multiple_files:"Multiple Files",m2o_relationship:"Many to One Relationship",o2m_relationship:"One to Many Relationship",m2m_relationship:"Many to Many Relationship",m2a_relationship:"Many to Any Relationship",invalid_item:"Invalid Item",next:"Next",field_name:"Field Name",translations:"Translations",no_translations:"No Translations",note:"Note",enter_a_value:"Enter a value...",enter_a_placeholder:"Enter a placeholder...",length:"Length",precision_scale:"Precision & Scale",readonly:"Readonly",unique:"Unique",updated_on:"Updated On",updated_by:"Updated By",primary_key:"Primary Key",foreign_key:"Foreign Key",finish_setup:"Finish Setup",dismiss:"Dismiss",raw_value:"Raw value",edit_raw_value:"Edit Raw Value",enter_raw_value:"Enter raw value...",clear_value:"Clear value",clear_changes:"Clear Changes",reset_to_default:"Reset to default",undo_changes:"Undo changes",notifications:"Notifications",show_all_activity:"Show All Activity",page_not_found:"Page Not Found",page_not_found_body:"The page you are looking for doesn't seem to exist.",confirm_revert:"Confirm Revert",confirm_revert_body:"This will revert the item to the selected state.",display:"Display",settings_update_success:"Settings updated",title:"Title",revision_delta_created:"Created",revision_delta_created_externally:"Created Externally",revision_delta_updated:"Updated 1 Field | Updated {count} Fields",revision_delta_deleted:"Deleted",revision_delta_reverted:"Reverted",revision_delta_other:"Revision",revision_delta_by:"{date} by {user}",private_user:"Private User",creation_preview:"Creation Preview",revision_preview:"Revision Preview",updates_made:"Updates Made",leave_comment:"Leave a comment...",post_comment_success:"Comment posted",item_create_success:"Item Created | Items Created",item_update_success:"Item Updated | Items Updated",item_delete_success:"Item Deleted | Items Deleted",this_collection:"This Collection",related_collection:"Related Collection",related_collections:"Related Collections",translations_collection:"Translation Collection",languages_collection:"Languages Collection",export_data:"Export Data",format:"Format",use_current_filters_settings:"Use Current Filters & Settings",export_collection:"Export {collection}",last_page:"Last Page",last_access:"Last Access",fill_template:"Fill with Template Value",a_unique_table_name:"A unique table name...",a_unique_column_name:"A unique column name...",enable_custom_values:"Enable custom values",submit:"Submit",move_to_folder:"Move to Folder",move:"Move",system:"System",add_field_related:"Add Field to Related Collection",interface_label:"Interface",today:"Today",yesterday:"Yesterday",delete_comment:"Delete Comment","date-fns_date":"PPP","date-fns_time":"h:mm:ss a","date-fns_time_no_seconds":"h:mm a","date-fns_date_short":"MMM d, u","date-fns_time_short":"h:mma","date-fns_date_short_no_year":"MMM d",minutes:"Minutes",hours:"Hours",month:"Month",year:"Year",select_all:"Select All",months:{january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},drag_mode:"Drag Mode",cancel_crop:"Cancel Crop",original:"Original",url:"URL",import_label:"Import",file_details:"File Details",dimensions:"Dimensions",size:"Size",created:"Created",modified:"Modified",checksum:"Checksum",owner:"Owner",edited_by:"Edited by",folder:"Folder",zoom:"Zoom",download:"Download",open:"Open",open_in_new_window:"Open in New Window",open_folder:'Open "{folder}" folder',foreground_color:"Foreground Color",background_color:"Background Color",upload_from_device:"Upload File from Device",choose_from_library:"Choose File from Library",import_from_url:"Import File from URL",replace_from_device:"Replace File from Device",replace_from_library:"Replace File from Library",replace_from_url:"Replace File from URL",no_file_selected:"No File Selected",download_file:"Download File",collection_key:"Collection Key",name:"Name",primary_key_field:"Primary Key Field",type:"Type",creating_new_collection:"Creating New Collection",created_by:"Created By",created_on:"Created On",creating_collection_info:"Name the collection and setup its unique \u201Ckey\u201D field...",creating_collection_system:"Enable and rename any of these optional fields.",auto_increment_integer:"Auto-incremented integer",generated_uuid:"Generated UUID",manual_string:"Manually entered string",save_and_create_new:"Save and Create New",save_and_stay:"Save and Stay",save_as_copy:"Save as Copy",add_existing:"Add Existing",creating_items:"Creating Items",enable_create_button:"Enable Create Button",selecting_items:"Selecting Items",enable_select_button:"Enable Select Button",comments:"Comments",no_comments:"No Comments Yet",click_to_expand:"Click to Expand",select_item:"Select Item",no_items:"No items",search_items:"Search items...",disabled:"Disabled",information:"Information",report_bug:"Report Bug",request_feature:"Request Feature",interface_not_found:'Interface "{interface}" not found.',reset_interface:"Reset Interface",display_not_found:'Display "{display}" not found.',reset_display:"Reset Display","list-m2a":"Builder (M2A)",item_count:"No Items | One Item | {count} Items",no_items_copy:"There are no items in this collection yet.",file_count:"No Files | One File | {count} Files",no_files_copy:"There are no files here.",user_count:"No Users | One User | {count} Users",no_users_copy:"There are no users in this role yet.",webhooks_count:"No Webhooks | One Webhook | {count} Webhooks",no_webhooks_copy:"No webhooks have been configured yet. Get started by creating one below.",no_notifications:"No Notifications",no_notifications_copy:"You're all caught up!",activity_log:"Activity Log",all_items:"All Items",any:"Any",csv:"CSV",no_collections:"No Collections",create_collection:"Create Collection",no_collections_copy_admin:"You don\u2019t have any Collections yet. Click the button below to get started.",no_collections_copy:"You don\u2019t have any Collections yet. Please contact your system administrator.",relationship_not_setup:"The relationship hasn't been configured correctly",display_template_not_setup:"The display template option is misconfigured",collection_field_not_setup:"The collection field option is misconfigured",select_a_collection:"Select a Collection",select_a_field:"Select a Field",active:"Active",move_to:"Move To...",copy:"Copy",copy_to:"Copy To...",no_other_dashboards_copy:"You don't have any other Dashboards yet.",inactive:"Inactive",users:"Users",activity:"Activity",activity_item:"Activity Item",action:"Action",ip_address:"IP Address",user_agent:"User Agent",webhooks:"Webhooks",decimals:"Decimals",value_decimals:"Value Decimals",min_value:"Min Value",max_value:"Max Value",automatic:"Automatic",field_width:"Field Width",add_filter:"Add Filter",upper_limit:"Upper limit...",lower_limit:"Lower limit...",user_directory:"User Directory",documentation:"Documentation",sidebar:"Sidebar",duration:"Duration",charset:"Charset",second:"second",file_moved:"File Moved",collection_created:"Collection Created",modified_on:"Modified On",card_size:"Card Size",sort_field:"Sort Field",add_sort_field:"Add Sort Field",sort:"Sort",status:"Status",remove:"Remove",toggle_manual_sorting:"Toggle Manual Sorting",bookmark_doesnt_exist:"Bookmark Doesn't Exist",bookmark_doesnt_exist_copy:"The bookmark you're trying to open couldn't be found.",bookmark_doesnt_exist_cta:"Return to collection",select_an_item:"Select an item...",edit:"Edit",enabled:"Enabled",disable_tfa:"Disable 2FA",tfa_scan_code:"Scan the code in your authenticator app to finish setting up 2FA",enter_otp_to_disable_tfa:"Enter the OTP to disable 2FA",create_account:"Create Account",account_created_successfully:"Account Created Successfully",auto_fill:"Auto Fill",corresponding_field:"Corresponding Field",errors:{COLLECTION_NOT_FOUND:"Collection doesn't exist",FIELD_NOT_FOUND:"Field not found",FORBIDDEN:"Forbidden",INVALID_CREDENTIALS:"Wrong username or password",INVALID_OTP:"Wrong one-time password",INVALID_PAYLOAD:"Invalid payload",INVALID_QUERY:"Invalid query",ITEM_LIMIT_REACHED:"Item limit reached",ITEM_NOT_FOUND:"Item not found",ROUTE_NOT_FOUND:"Not found",RECORD_NOT_UNIQUE:"Duplicate value detected",USER_SUSPENDED:"User Suspended",CONTAINS_NULL_VALUES:"Field contains null values",UNPROCESSABLE_ENTITY:"Unprocessable entity",INTERNAL_SERVER_ERROR:"Unexpected Error",NOT_NULL_VIOLATION:"Value can't be null",ILLEGAL_ASSET_TRANSFORMATION:"Image source too large to preview",UNKNOWN:"Unexpected Error"},security:"Security",value_hashed:"Value Securely Hashed",bookmark_name:"Bookmark name...",create_bookmark:"Create Bookmark",edit_bookmark:"Edit Bookmark",bookmarks:"Bookmarks",presets:"Presets",unexpected_error:"Unexpected Error",unexpected_error_copy:"An unexpected error has occurred. Please try again later.",copy_details:"Copy Details",no_app_access:"No App Access",no_app_access_copy:"This user isn't allowed to use the admin app.",password_reset_sent:"We've sent you a secure link to reset your password",password_reset_successful:"Password successfully reset",back:"Back",filter:"Filter",editing_image:"Editing Image",square:"Square",free:"Free",flip_horizontal:"Flip Horizontal",flip_vertical:"Flip Vertical",aspect_ratio:"Aspect Ratio",rotate:"Rotate",all_users:"All Users",delete_collection:"Delete Collection",update_collection_success:"Updated Collection",delete_collection_success:"Deleted Collection",make_collection_visible:"Make Collection Visible",make_collection_hidden:"Make Collection Hidden",start_end_of_count_items:"{start}-{end} of {count} items",start_end_of_count_filtered_items:"{start}-{end} of {count} filtered items",one_item:"1 item",one_filtered_item:"1 filtered item",delete_collection_are_you_sure:"Are you sure you want to delete this collection? This will delete the collection and all items in it. This action is permanent.",collections_shown:"Collections Shown",visible_collections:"Visible Collections",hidden_collections:"Hidden Collections",show_hidden_collections:"Show Hidden Collections",hide_hidden_collections:"Hide Hidden Collections",show_header:"Show Header",unmanaged_collections:"Unconfigured Collections",system_collections:"System Collections",placeholder:"Placeholder",icon_left:"Icon Left",icon_right:"Icon Right",count_other_revisions:"{count} Other Revisions",font:"Font",sans_serif:"Sans Serif",serif:"Serif",monospace:"Monospace",divider:"Divider",color:"Color",circle:"Circle",empty_item:"Empty Item",log_in_with:"Log In with {provider}",conditional_styles:"Conditional Styles",advanced_settings:"Advanced Settings",advanced_filter:"Advanced Filter",delete_advanced_filter:"Delete Filter",change_advanced_filter_operator:"Change Operator",operators:{eq:"Equals",neq:"Doesn't equal",lt:"Less than",gt:"Greater than",lte:"Less than or equal to",gte:"Greater than or equal to",in:"Is one of",nin:"Is not one of",null:"Is null",nnull:"Isn't null",contains:"Contains",ncontains:"Doesn't contain",starts_with:"Starts with",nstarts_with:"Doesn't start with",ends_with:"Ends with",nends_with:"Doesn't end with",between:"Is between",nbetween:"Isn't between",empty:"Is empty",nempty:"Isn't empty",all:"Contains these keys",has:"Contains some of these keys",intersects:"Intersects",nintersects:"Doesn't intersect",intersects_bbox:"Intersects bounding box",nintersects_bbox:"Doesn't intersect bounding box"},loading:"Loading...",drop_to_upload:"Drop to Upload",item:"Item",items:"Items",upload_file:"Upload File",upload_file_indeterminate:"Uploading File...",upload_file_success:"File Uploaded",upload_files_indeterminate:"Uploading files {done}/{total}",upload_files_success:"{count} Files Uploaded",upload_pending:"Upload Pending",drag_file_here:"Drag & Drop a File Here",click_to_browse:"Click to Browse",interface_options:"Interface Options",layout_options:"Layout Options",rows:"Rows",columns:"Columns",collection_setup:"Collection Setup",optional_system_fields:"Optional System Fields",value_unique:"Value has to be unique",all_activity:"All Activity",create_item:"Create Item",display_template:"Display Template",language_display_template:"Language Display Template",translations_display_template:"Translations Display Template",n_items_selected:"No Items Selected | 1 Item Selected | {n} Items Selected",per_page:"Per Page",all_files:"All Files",my_files:"My Files",recent_files:"Recent Files",create_folder:"Create Folder",edit_folder:"Edit Folder",folder_name:"Folder Name...",folder_key:"Folder Key...",add_file:"Add File",replace_file:"Replace File",no_results:"No Results",no_results_copy:"Adjust or clear search filters to see results.",clear_filters:"Clear Filters",saves_automatically:"Saves Automatically",role:"Role",rule:"Rule",user:"User",no_presets:"No Presets",no_presets_copy:"No presets or bookmarks have been saved yet.",no_presets_cta:"Add Preset",presets_only:"Presets Only",create:"Create",on_create:"On Create",on_update:"On Update",read:"Read",update:"Update",select_fields:"Select Fields",format_text:"Format Text",format_value:"Format Value",abbreviate_value:"Abbreviate Value",operator:"Operator",bold:"Bold",toggle:"Toggle",icon_on:"Icon On",icon_off:"Icon Off",label:"Label",insights:"Insights",dashboard:"Dashboard",panel:"Panel",panel_options:"Panel Options",panel_header:"Panel Header",panel_name_placeholder:"Name this panel...",panel_note_placeholder:"Optional details about this panel...",panel_delete_confirm:"Are you sure you want to delete this panel? This action can not be undone.",dashboard_delete_confirm:"Are you sure you want to delete this dashboard? This action can not be undone.",edit_dashboard:"Edit Dashboard",delete_dashboard:"Delete Dashboard",visible:"Visible",prefix_placeholder:"Text before value...",suffix_placeholder:"Text after value...",decimals_placeholder:"Number of decimal places...",no_dashboards:"No Dashboards",no_dashboards_copy:"You don\u2019t have any Dashboards yet.",no_data:"No Data",create_dashboard:"Create Dashboard",dashboard_name:"Dashboard Name",full_screen:"Full Screen",edit_panels:"Edit Panels",fit_to_screen:"Fit to Screen",image_url:"Image Url",alt_text:"Alternative Text",media:"Media",quality:"Quality",width:"Width",height:"Height",source:"Source",url_placeholder:"Enter an url...",display_text:"Display Text",display_text_placeholder:"Enter a display text...",interface_group_text_and_numbers:"Text & Numbers",interface_group_selection:"Selection",interface_group_relational:"Relational",interface_group_presentation:"Presentation",interface_group_groups:"Groups",interface_group_other:"Other",tooltip:"Tooltip",tooltip_placeholder:"Enter a tooltip...",unlimited:"Unlimited",open_link_in:"Open link in",new_tab:"New tab",current_tab:"Current tab",wysiwyg_options:{aligncenter:"Align Center",alignjustify:"Align Justify",alignleft:"Align Left",alignnone:"Align None",alignright:"Align Right",forecolor:"Foreground Color",backcolor:"Background Color",bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",codeblock:"Code",blockquote:"Blockquote",bullist:"Bullet List",numlist:"Numbered List",hr:"Horizontal Rule",link:"Add/Edit Link",unlink:"Remove Link",media:"Add/Edit Media",image:"Add/Edit Image",copy:"Copy",cut:"Cut",paste:"Paste",heading:"Heading",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6",fontselect:"Select Font",fontsizeselect:"Select Font Size",indent:"Indent",outdent:"Outdent",undo:"Undo",redo:"Redo",remove:"Remove",removeformat:"Remove Format",selectall:"Select All",table:"Table",visualaid:"View invisible elements",source_code:"Edit Source Code",fullscreen:"Full Screen",directionality:"Directionality"},dropdown:"Dropdown",choices:"Choices",choices_option_configured_incorrectly:"Choices configured incorrectly",deselect:"Deselect",deselect_all:"Deselect All",other:"Other...",adding_user:"Adding User",unknown_user:"Unknown User",creating_in:"Creating Item in {collection}",editing_in:"Editing Item in {collection}",creating_unit:"Creating {unit}",editing_unit:"Editing {unit}",editing_in_batch:"Batch Editing {count} Items",no_options_available:"No options available",settings_data_model:"Data Model",settings_permissions:"Roles & Permissions",settings_project:"Project Settings",settings_webhooks:"Webhooks",settings_presets:"Presets & Bookmarks",one_or_more_options_are_missing:"One or more options are missing",scope:"Scope",select:"Select...",layout:"Layout",tree_view:"Tree View",changes_are_permanent:"Changes are permanent",preset_name_placeholder:"Serves as default when empty...",preset_search_placeholder:"Search query...",editing_preset:"Editing Preset",layout_preview:"Layout Preview",layout_setup:"Layout Setup",unsaved_changes:"Unsaved Changes",unsaved_changes_copy:"Are you sure you want to leave this page?",discard_changes:"Discard Changes",discard_all_changes:"Discard All Changes",discard_changes_copy:"Are you sure you want to discard all the changes made?",show_x_axis:"Show X Axis",show_y_axis:"Show Y Axis",keep_editing:"Keep Editing",page_help_collections_overview:"**Collections Overview** \u2014 List of all collections you have access to.",page_help_collections_collection:"**Browse Items** \u2014 Lists all {collection} items you have access to. Customize layout, filters, and sorting to tailor your view, and even save bookmarks of these different configurations for quick access.",page_help_collections_item:"**Item Detail** \u2014 A form for viewing and managing this item. This sidebar also contains a full history of revisions, and embedded comments.",page_help_activity_collection:"**Browse Activity** \u2014 A comprehensive listing of all your user's system and content activity.",page_help_docs_global:"**Documentation Overview** \u2014 Docs tailored specifically to this project's version and schema.",page_help_files_collection:"**File Library** \u2014 Lists all file assets uploaded to this project. Customize layout, filters, and sorting to tailor your view, and even save bookmarks of these different configurations for quick access.",page_help_files_item:"**File Detail** \u2014 A form for managing file metadata, editing the original asset, and updating access settings.",page_help_settings_project:"**Project Settings** \u2014 Your project's global configuration options.",page_help_settings_datamodel_collections:"**Data Model: Collections** \u2014 Lists all collections available. This includes visible, hidden, and system collections, as well as unmanaged database tables that can be added.",page_help_settings_datamodel_fields:"**Data Model: Collection** \u2014 A form for managing this collection and its fields.",page_help_settings_roles_collection:"**Browse Roles** \u2014 Lists the Admin, Public and custom User Roles.",page_help_settings_roles_item:"**Role Detail** \u2014 Manage a role's permissions and other settings.",page_help_settings_presets_collection:"**Browse Presets** \u2014 Lists all presets in the project, including: user, role, and global bookmarks, as well as default views.",page_help_settings_presets_item:"**Preset Detail** \u2014 A form for managing bookmarks and default collection presets.",page_help_settings_webhooks_collection:"**Browse Webhooks** \u2014 Lists all webhooks within the project.",page_help_settings_webhooks_item:"**Webhook Detail** \u2014 A form for creating and managing project webhooks.",page_help_users_collection:"**User Directory** \u2014 Lists all system users within this project.",page_help_users_item:"**User Detail** \u2014 Manage your account information, or view the details of other users.",page_help_insights_overview:"**Insights** \u2014 List of dashboards you have access to.",page_help_insights_dashboard:"**Dashboard** \u2014 Workspace for managing one or more panels",activity_feed:"Activity Feed",add_new:"Add New",create_new:"Create New",all:"All",none:"None",no_layout_collection_selected_yet:"No layout/collection selected yet",batch_delete_confirm:"No items have been selected | Are you sure you want to delete this item? This action can not be undone. | Are you sure you want to delete these {count} items? This action can not be undone.",cancel:"Cancel",no_upscale:"Don't upscale images",collection:"Collection",collections:"Collections",content:"Content",singleton:"Singleton",singleton_label:"Treat as single object",system_fields_locked:"System fields are locked and can't be edited",directus_collection:{directus_activity:"Accountability logs for all events",directus_collections:"Additional collection configuration and metadata",directus_dashboards:"Dashboards within the Insights module",directus_fields:"Additional field configuration and metadata",directus_files:"Metadata for all managed file assets",directus_folders:"Provides virtual directories for files",directus_migrations:"What version of the database you're using",directus_panels:"Individual panels within Insights dashboards",directus_permissions:"Access permissions for each role",directus_notifications:"Notifications sent to users",directus_presets:"Presets for collection defaults and bookmarks",directus_relations:"Relationship configuration and metadata",directus_revisions:"Data snapshots for all activity",directus_roles:"Permission groups for system users",directus_sessions:"User session information",directus_settings:"Project configuration options",directus_users:"System users for the platform",directus_webhooks:"Configuration for event-based HTTP requests"},fields:{directus_activity:{item:"Item Primary Key",action:"Action",collection:"Collection",timestamp:"Action On",user:"Action By",comment:"Comment",user_agent:"User Agent",ip:"IP Address",revisions:"Revisions"},directus_collections:{collection:"Collection",icon:"Icon",note:"Note",color:"Color",display_template:"Display Template",hidden:"Hidden",singleton:"Singleton",translations:"Collection Naming Translations",archive_app_filter:"Archive App Filter",archive_value:"Archive Value",unarchive_value:"Unarchive Value",sort_field:"Sort Field",accountability:"Activity & Revision Tracking",archive_field:"Archive Field",item_duplication_fields:"Item Duplication Fields"},directus_files:{$thumbnail:"Thumbnail",title:"Title",description:"Description",tags:"Tags",location:"Location",storage:"Storage",filename_disk:"Filename (Disk)",filename_download:"Filename (Download)",metadata:"Metadata",type:"Mime Type",filesize:"Filesize",modified_by:"Modified By",modified_on:"Modified On",created_on:"Created On",created_by:"Created By",embed:"Embed",uploaded_by:"Uploaded By",folder:"Folder",width:"Width",uploaded_on:"Uploaded On",height:"Height",charset:"Charset",duration:"Duration"},directus_users:{first_name:"First Name",last_name:"Last Name",email:"Email",password:"Password",avatar:"Avatar",location:"Location",title:"Title",description:"Description",tags:"Tags",user_preferences:"User Preferences",language:"Language",theme:"Theme",theme_auto:"Automatic (Based on System)",theme_light:"Light Mode",theme_dark:"Dark Mode",tfa_secret:"Two-Factor Authentication",admin_options:"Admin Options",status:"Status",status_draft:"Draft",status_invited:"Invited",status_active:"Active",status_suspended:"Suspended",status_archived:"Archived",role:"Role",token:"Token",token_placeholder:"Enter a secure access token...",provider:"Provider",external_identifier:"External Identifier",last_page:"Last Page",last_access:"Last Access"},directus_settings:{jpg:"JPEG",png:"PNG",webP:"WebP",tiff:"Tiff",mapping:"Mapping",basemaps:"Basemaps",basemaps_raster:"Raster",basemaps_tile:"Raster TileJSON",basemaps_style:"Mapbox Style",mapbox_key:"Mapbox Access Token",mapbox_placeholder:"pk.eyJ1Ijo.....",transforms_note:"The Sharp method name and its arguments. See https://sharp.pixelplumbing.com/api-constructor for more information.",additional_transforms:"Additional Transformations",project_name:"Project Name",project_url:"Project URL",project_color:"Project Color",project_logo:"Project Logo",branding:"Branding & Style",public_foreground:"Public Foreground",public_background:"Public Background",public_note:"Public Note",auth_password_policy:"Auth Password Policy",auth_login_attempts:"Auth Login Attempts",files_and_thumbnails:"Files & Storage",storage_default_folder:"Default Folder",storage_asset_presets:"Transformation Presets",storage_asset_transform:"Allowed Transformations",overrides:"App Overrides",custom_css:"Custom CSS",module_bar:"Module Bar",transformations_all:"Allow all transformations",transformations_none:"Disable transformations",transformations_presets:"Limit transformations to presets below"},directus_fields:{collection:"Collection Name",icon:"Collection Icon",note:"Note",hidden:"Hidden",singleton:"Singleton",translation:"Field Name Translations",display_template:"Template"},directus_roles:{name:"Role Name",icon:"Role Icon",description:"Description",app_access:"App Access",admin_access:"Admin Access",ip_access:"IP Access",enforce_tfa:"Require 2FA",users:"Users in Role",module_list:"Module Navigation"},directus_webhooks:{name:"Name",method:"Method",status:"Status",data:"Data",header:"Header",value:"Value",headers:"Request Headers",data_label:"Send Event Data",triggers:"Triggers",actions:"Actions",collections:"Collections"}},field_options:{directus_settings:{project_name_placeholder:"My project...",project_color_note:"Login & Logo Background",project_logo_note:"White 40x40 SVG/PNG",public_note_placeholder:"A short, public message that supports markdown formatting...",security_divider_title:"Security",auth_password_policy:{none_text:"None \u2013 Not Recommended",weak_text:"Weak \u2013 Minimum 8 Characters",strong_text:"Strong \u2013 Upper / Lowercase / Numbers / Special"},storage_asset_presets:{fit_label:"Fit",upscaling:"Upscaling",fit:{contain_text:"Contain (preserve aspect ratio)",cover_text:"Cover (forces exact size)",fit_text:"Fit inside",outside_text:"Fit outside"}},additional_transforms:"Additional Transformations",transforms_note:"The Sharp method name and its arguments. See https://sharp.pixelplumbing.com/api-constructor for more information.",mapbox_key:"Mapbox Access Token",mapbox_placeholder:"pk.eyJ1Ijo.....",basemaps:"Basemaps",basemaps_name_placeholder:"Enter the basemap name...",basemaps_raster:"Raster",basemaps_tile:"Raster TileJSON",basemaps_style:"Mapbox Style",files_divider_title:"Files & Thumbnails",overrides_divider_title:"App Overrides"},directus_activity:{login:"Login",create:"Create",update:"Update",delete:"Delete"},directus_collections:{track_activity_revisions:"Track Activity & Revisions",only_track_activity:"Only Track Activity",do_not_track_anything:"Do Not Track Anything",collection_setup:"Collection Setup",note_placeholder:"A description of this collection...",hidden_label:"Hide within the App",singleton:"Treat as single object",language:"Language",translation:"Translation",translation_placeholder:"Enter a translation...",collection_name:"Collection Name",singular_unit:"Singular Unit",plural_unit:"Plural Unit",archive_divider:"Archive",archive_field_placeholder:"Choose a field...",archive_app_filter:"Enable App Archive Filter",archive_value:"Value set when archiving...",unarchive_value:"Value set when unarchiving...",sort_divider:"Sort",sort_field:"Choose a field...",accountability_divider:"Accountability",duplication_divider:"Duplication"},directus_files:{title:"A unique title...",description:"An optional description...",location:"An optional location...",storage_divider:"File Naming",filename_disk:"Name on disk storage...",filename_download:"Name when downloading..."},directus_roles:{name:"The unique name for this role...",description:"A description of this role...",ip_access:"Add allowed IP addresses, leave empty to allow all...",fields:{icon_name:"Icon",name_name:"Name",name_placeholder:"Enter a title...",link_name:"Link",link_placeholder:"Relative or absolute URL..."},collections_name:"Collections",collections_addLabel:"Add Collection..."},directus_users:{preferences_divider:"User Preferences",dropdown_auto:"Automatic (Based on System)",dropdown_light:"Light Mode",dropdown_dark:"Dark Mode",admin_divider:"Admin Options",status_dropdown_draft:"Draft",status_dropdown_invited:"Invited",status_dropdown_active:"Active",status_dropdown_suspended:"Suspended",status_dropdown_archived:"Archived",token:"Enter a secure access token..."},directus_webhooks:{status_options_active:"Active",status_options_inactive:"Inactive",data_label:"Send Event Data",triggers_divider:"Triggers",actions_create:"Create",actions_update:"Update",actions_delete:"Delete",actions_login:"Login",headers:{header:"Header",value:"Value",add:"Add Header"}}},no_fields_in_collection:'There are no fields in "{collection}" yet',no_value:"No value",do_nothing:"Do Nothing",generate_and_save_uuid:"Generate and Save UUID",save_current_user_id:"Save Current User ID",save_current_user_role:"Save Current User Role",save_current_datetime:"Save Current Date/Time",always_open:"Always Open",start_open:"Start Open",start_collapsed:"Start Collapsed",block:"Block",inline:"Inline",comment:"Comment",relational_triggers:"Relational Triggers",referential_action_field_label_m2o:"On Delete of {collection}...",referential_action_field_label_o2m:"On Deselect of {collection}...",referential_action_no_action:"Prevent the deletion",referential_action_cascade:"Delete the {collection} item (cascade)",referential_action_set_null:"Nullify the {field} field",referential_action_set_default:"Set {field} to its default value",choose_action:"Choose Action",continue_label:"Continue",continue_as:"{name} is currently authenticated. If you recognize this account, press continue.",editing_role:"{role} Role",creating_webhook:"Creating Webhook",default_label:"Default",delete_label:"Delete",delete_are_you_sure:"This action is permanent and can not be undone. Are you sure you would like to proceed?",delete_field_are_you_sure:'Are you sure you want to delete the field "{field}"? This action can not be undone.',description:"Description",done:"Done",duplicate:"Duplicate",limit:"Limit",email:"Email",embed:"Embed",fallback_icon:"Fallback Icon",field:"Field | Fields",file:"File",file_library:"File Library",forgot_password:"Forgot Password",hidden:"Hidden",icon:"Icon",info:"Info",normal:"Normal",success:"Success",warning:"Warning",danger:"Danger",junction_collection:"Junction Collection",latency:"Latency",login:"Log in",my_activity:"My Activity",not_authenticated:"Not Authenticated",authenticated:"Authenticated",options:"Options",otp:"One-Time Password",password:"Password",permissions:"Permissions",relationship:"Relationship",reset:"Reset",reset_password:"Reset Password",revisions:"Revisions",revert:"Revert",save:"Save",schema:"Schema",search:"Search",select_existing:"Select Existing",select_field_type:"Select a field type",select_interface:"Select an interface",settings:"Settings",sign_in:"Sign In",sign_out:"Sign Out",sign_out_confirm:"Are you sure you want to sign out?",something_went_wrong:"Something went wrong.",sort_direction:"Sort Direction",sort_asc:"Sort Ascending",sort_desc:"Sort Descending",template:"Template",require_value_to_be_set:"Require value to be set",translation:"Translation",translation_placeholder:"Enter a translation...",value:"Value",view_project:"View Project",weeks:{},report_error:"Report Error",start:"Start",interfaces:{filter:{name:"Filter",description:"Configure a filter object.",add_filter:"Add Filter",add_group:"And / Or group",add_value:"Add Value",all:"All",any:"Any",and:"and",of_the_following:"of the following",no_rules:"No configured rules",change_value:"Click to change value",placeholder:"Drag rules here"},"group-accordion":{name:"Accordion",description:"Display fields or groups as accordion sections",start:"Start",all_closed:"All Closed",first_opened:"First Opened",all_opened:"All Opened",accordion_mode:"Accordion Mode",max_one_section_open:"Max 1 Section Open"},"presentation-links":{"presentation-links":"Button Links",links:"Links",description:"Configurable link buttons for launching dynamic URLs",style:"Style",primary:"Primary",link:"Links",button:"Buttons",error:"Cannot perform action"},"select-multiple-checkbox":{checkboxes:"Checkboxes",description:"Choose between multiple options via checkboxes",allow_other:"Allow Other",show_more:"Show {count} more",items_shown:"Items Shown"},"select-multiple-checkbox-tree":{name:"Checkboxes (Tree)",description:"Choose between multiple options via nested checkboxes",value_combining:"Value Combining",value_combining_note:"Controls what value is stored when nested selections are made.",show_all:"Show All",show_selected:"Show Selected"},"input-code":{code:"Code",description:"Write or share code snippets",line_number:"Line Number",line_wrapping:"Line Wrapping",placeholder:"Enter code here..."},"system-collection":{collection:"Collection",description:"Select between existing collections",include_system_collections:"Include System Collections"},"system-collections":{collections:"Collections",description:"Select between existing collections",include_system_collections:"Include System Collections"},"select-color":{color:"Color",description:"Enter or select a color value",placeholder:"Choose a color...",preset_colors:"Preset Colors",preset_colors_add_label:"Add new color...",name_placeholder:"Enter color name..."},datetime:{datetime:"Datetime",description:"Enter dates and times",include_seconds:"Include Seconds",set_to_now:"Set to Now",use_24:"Use 24-Hour Format"},"system-display-template":{"display-template":"Display Template",description:"Mix static text and dynamic field values",collection_field:"Collection field",collection_field_not_setup:"The collection field option is misconfigured",select_a_collection:"Select a Collection"},"presentation-divider":{divider:"Divider",description:"Label and divide fields into sections",title_placeholder:"Enter a title, or leave blank to only show a line...",inline_title:"Inline Title",inline_title_label:"Show title inside line",margin_top:"Margin Top",margin_top_label:"Increase Top Margin"},"select-dropdown":{description:"Select a value from a dropdown",choices_placeholder:"Add a new choice",allow_other:"Allow Other",allow_other_label:"Allow Other Values",allow_none:"Allow None",allow_none_label:"Allow No Selection",choices_name_placeholder:"Enter a name...",choices_value_placeholder:"Enter a value..."},"select-multiple-dropdown":{"select-multiple-dropdown":"Dropdown (Multiple)",description:"Select multiple values from a dropdown"},file:{file:"File",description:"Select or upload a file"},files:{files:"Files",description:"Select or upload multiple files"},"input-hash":{hash:"Hash",description:"Enter a value to be hashed",masked:"Masked",masked_label:"Hide the true values"},"select-icon":{icon:"Icon",description:"Select an icon from a dropdown",search_for_icon:"Search for icon..."},"file-image":{image:"Image",description:"Select or upload an image",crop:"Crop to Fit",crop_label:"Crop image as needed"},"system-interface":{interface:"Interface",description:"Select an existing interface",placeholder:"Select an interface..."},"system-interface-options":{"interface-options":"Interface Options",description:"A modal for selecting options of an interface"},"list-m2m":{"many-to-many":"Many to Many",description:"Select multiple related junction items"},"select-dropdown-m2o":{"many-to-one":"Many to One",description:"Select a single related item",display_template:"Display Template"},"input-rich-text-md":{markdown:"Markdown",description:"Enter and preview markdown",edit:"Edit",preview:"Preview",editorFont:"Editor Font",previewFont:"Preview Font",customSyntax:"Custom Blocks",customSyntax_label:"Add custom syntax types",customSyntax_add:"Add custom syntax",box:"Block / Inline",imageToken:"Image Token",imageToken_label:"What (static) token to append to image sources"},map:{map:"Map",description:"Select a location on a map",zoom:"Zoom",geometry_type:"Geometry Type",geometry_format:"Geometry Format",default_view:"Default View",invalid_options:"Invalid options",invalid_format:"Invalid format ({format})",unexpected_geometry:"Expected {expected}, got {got}.",fit_bounds:"Fit view to data",native:"Native",geojson:"GeoJSON",lnglat:"Longitude, Latitude",wkt:"WKT",wkb:"WKB",click_to_select:"Click to select {geometry}"},"presentation-notice":{notice:"Notice",description:"Display a short notice",text:"Enter notice content here..."},"list-o2m":{"one-to-many":"One to Many",description:"Select multiple related items",no_collection:"The collection could not be found"},"system-folder":{folder:"Folder",description:"Select a folder",field_hint:"Folder for uploaded files. Does not affect existing files.",root_name:"File Library Root",system_default:"System Defaults"},"select-radio":{"radio-buttons":"Radio Buttons",description:"Select one of multiple choices"},list:{repeater:"Repeater",description:"Create multiple entries of the same structure",edit_fields:"Edit Fields",add_label:'"Create New" Label',field_name_placeholder:"Enter field name...",field_note_placeholder:"Enter field note..."},slider:{slider:"Slider",description:"Select a number using a slider",always_show_value:"Always show value"},tags:{tags:"Tags",description:"Select or add tags",whitespace:"Whitespace",hyphen:"Replace with hyphen",underscore:"Replace with underscore",remove:"Remove whitespace",capitalization:"Capitalization",uppercase:"Convert Uppercase",lowercase:"Convert Lowercase",auto_formatter:"Use Title Auto-Formatter",alphabetize:"Alphabetize",alphabetize_label:"Force Alphabetical Order",add_tags:"Add tags..."},input:{input:"Input",description:"Manually enter a value",trim:"Trim",trim_label:"Trim the start and end",mask:"Masked",mask_label:"Hide the real value",clear:"Cleared Value",clear_label:"Save as empty string",minimum_value:"Minimum Value",maximum_value:"Maximum Value",step_interval:"Step Interval",slug:"Slugify",slug_label:"Make entered value URL safe"},"input-multiline":{textarea:"Textarea",description:"Enter multiline plain-text"},boolean:{toggle:"Toggle",description:"Switch between on and off",color_on:"Color On",color_off:"Color Off",label_placeholder:"Enter a label...",label_default:"Enabled"},translations:{display_template:"Display Template",no_collection:"No Collection",toggle_split_view:"Toggle Split View",language_field:"Language Indicator Field"},"list-o2m-tree-view":{description:"Tree view for nested recursive one-to-many items",recursive_only:"The tree view interface only works for recursive relationships."},user:{user:"User",description:"Select an existing directus user",select_mode:"Select Mode",modes:{auto:"Auto",dropdown:"Dropdown",modal:"Modal"}},"input-rich-text-html":{wysiwyg:"WYSIWYG",description:"A rich-text editor writing HTML content",toolbar:"Toolbar",custom_formats:"Custom Formats",options_override:"Options Override"},"input-autocomplete-api":{"input-autocomplete-api":"Autocomplete Input (API)",description:"A search typeahead for external API values.",results_path:"Results Path",value_path:"Value Path",text_path:"Text Path",trigger:"Trigger",rate:"Rate"},"group-raw":{name:"Raw Group",description:"Render the fields as-is"},"group-detail":{name:"Detail Group",description:"Render the fields as a collapsable section",show_header:"Show Group Header",header_icon:"Header Icon",header_color:"Header Color",start_open:"Start Open",start_closed:"Start Closed"}},displays:{translations:{translations:"Translations",description:"Preview translations",enable:"Enable",user_language:"Use Current User Language",default_language:"Default Language",language_field:"Language Indicator Field"},boolean:{boolean:"Boolean",description:"Display on and off states",label_on:"Label On",label_on_placeholder:"Enter an on label...",label_off:"Label Off",label_off_placeholder:"Enter an off label...",icon_on:"Icon On",icon_off:"Icon Off",color_on:"Color On",color_off:"Color Off"},collection:{collection:"Collection",description:"Display a collection",icon_label:"Show the collection's icon"},color:{color:"Color",description:"Display a colored dot",default_color:"Default Color"},datetime:{datetime:"Datetime",description:"Display values related to time",format:"Format",format_note:"The custom format accepts the __[Date Field Symbol Table](https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table)__",long:"Long",short:"Short",relative:"Relative",relative_label:"Show relative time, eg: 5 minutes ago"},file:{file:"File",description:"Display files"},filesize:{filesize:"File Size",description:"Display the size of a file"},"formatted-value":{"formatted-value":"Formatted Value",description:"Display a formatted version of the text",format_title:"Format Title",format_title_label:"Auto-format casing",bold_label:"Use bold style"},"formatted-json-value":{"formatted-json-value":"Formatted JSON value",description:"Display a formatted version of the object"},icon:{icon:"Icon",description:"Display an icon",filled:"Filled",filled_label:"Use the filled variant"},image:{image:"Image",description:"Display a tiny image preview",circle:"Circle",circle_label:"Display as a circle"},labels:{labels:"Labels",description:"Display either a single or a list of labels",default_foreground:"Default Foreground",default_background:"Default Background",format_label:"Format each label",show_as_dot:"Show As Dot",choices_value_placeholder:"Enter a value...",choices_text_placeholder:"Enter a text..."},"mime-type":{"mime-type":"MIME Type",description:"Show the MIME-Type of a file",extension_only:"Extension Only",extension_only_label:"Only show the file extension"},rating:{rating:"Rating",description:"Visualize a number as stars relative to the max-value",simple:"Simple",simple_label:"Show stars in a simple format"},raw:{raw:"Raw Value"},"related-values":{"related-values":"Related Values",description:"Display relative values"},user:{user:"User",description:"Display a directus user",avatar:"Avatar",name:"Name",both:"Both",circle_label:"Show user in a circle"}},layouts:{cards:{cards:"Cards",image_source:"Image Source",image_fit:"Image Fit",crop:"Crop",contain:"Contain",title:"Title",subtitle:"Subtitle"},tabular:{tabular:"Table",fields:"Fields",spacing:"Spacing",comfortable:"Comfortable",compact:"Compact",cozy:"Cozy"},calendar:{calendar:"Calendar",start_date_field:"Start Date Field",end_date_field:"End Date Field"},map:{map:"Map",basemap:"Basemap",layers:"Layers",cluster_options:"Clustering options",cluster:"Cluster Nearby Data",cluster_radius:"Cluster radius",cluster_minpoints:"Cluster minimum size",cluster_maxzoom:"Maximum zoom for clustering",field:"Geospatial Field",invalid_geometry:"Invalid geometry",find_location:"Find location...",default_template:"Using Collection Default...",no_compatible_fields:"No compatible fields"}},panels:{metric:{name:"Metric",description:"Show a single value based on a query",field:"Field"},time_series:{name:"Time Series",description:"Render a line chart based on values over time",date_field:"Date Field",value_field:"Value Field",fill_type:"Fill Type",curve_type:"Curve Type"},label:{name:"Label",description:"Show some text"},list:{name:"List",description:"Filter and list fields from a collection"}}},uu=w.identifier,cu=w.avatar,pu=w.default_provider,mu=w.published,fu=w.draft,vu=w.archived,_u=w.modules,yu=w.module_bar,gu=w.tile_size,hu=w.edit_field,bu=w.conditions,$u=w.maps,wu=w.item_creation,ku=w.item_revision,Su=w.enter_a_name,Cu=w.duplicate_field,Vu=w.half_width,Fu=w.full_width,Au=w.group,Iu=w.and,Eu=w.or,Du=w.fill_width,Tu=w.field_name_translations,Pu=w.enter_password_to_enable_tfa,Ou=w.add_field,Lu=w.role_name,ju=w.branch,Ru=w.leaf,Mu=w.indeterminate,Uu=w.edit_collection,Nu=w.exclusive,Bu=w.children,qu=w.db_only_click_to_configure,zu=w.show_archived_items,Ku=w.edited,Hu=w.required,Wu=w.required_for_app_access,Gu=w.requires_value,Ju=w.create_preset,Qu=w.create_panel,Xu=w.create_role,Zu=w.create_user,Yu=w.delete_panel,xu=w.create_webhook,ec=w.invite_users,tc=w.invite,nc=w.email_already_invited,lc=w.subject,oc=w.inbox,ac=w.emails,ic=w.connection_excellent,sc=w.connection_good,rc=w.connection_fair,dc=w.connection_poor,uc=w.primary,cc=w.rename_folder,pc=w.delete_folder,mc=w.prefix,fc=w.suffix,vc=w.reset_bookmark,_c=w.rename_bookmark,yc=w.update_bookmark,gc=w.delete_bookmark,hc=w.delete_bookmark_copy,bc=w.logoutReason,$c=w.public_label,wc=w.public_description,kc=w.not_allowed,Sc=w.directus_version,Cc=w.node_version,Vc=w.node_uptime,Fc=w.os_type,Ac=w.os_version,Ic=w.os_uptime,Ec=w.os_totalmem,Dc=w.archive,Tc=w.archive_confirm,Pc=w.archive_confirm_count,Oc=w.reset_system_permissions_to,Lc=w.reset_system_permissions_copy,jc=w.the_following_are_minimum_permissions,Rc=w.app_access_minimum,Mc=w.recommended_defaults,Uc=w.unarchive,Nc=w.unarchive_confirm,Bc=w.nested_files_folders_will_be_moved,qc=w.unknown_validation_errors,zc=w.validationError,Kc=w.all_access,Hc=w.no_access,Wc=w.use_custom,Gc=w.nullable,Jc=w.allow_null_value,Qc=w.allow_multiple,Xc=w.allow_multiple_to_be_open,Zc=w.enter_value_to_replace_nulls,Yc=w.field_standard,xc=w.field_presentation,ep=w.field_file,tp=w.field_files,np=w.field_m2o,lp=w.field_m2a,op=w.field_o2m,ap=w.field_m2m,ip=w.field_translations,sp=w.field_group,rp=w.item_permissions,dp=w.field_permissions,up=w.field_validation,cp=w.field_presets,pp=w.permissions_for_role,mp=w.fields_for_role,fp=w.validation_for_role,vp=w.presets_for_role,_p=w.presentation_and_aliases,yp=w.revision_post_create,gp=w.revision_post_update,hp=w.changes_made,bp=w.no_relational_data,$p=w.hide_field_on_detail,wp=w.show_field_on_detail,kp=w.delete_field,Sp=w.fields_and_layout,Cp=w.field_create_success,Vp=w.field_update_success,Fp=w.duplicate_where_to,Ap=w.language,Ip=w.aggregate_function,Ep=w.aggregate_precision,Dp=w.group_aggregation,Tp=w.group_precision,Pp=w.global,Op=w.admins_have_all_permissions,Lp=w.camera,jp=w.show_zero,Rp=w.create_in_advanced_field_creation_mode,Mp=w.continue_in_advanced_field_creation_mode,Up=w.sum,Np=w.sum_distinct,Bp=w.avg,qp=w.avg_distinct,zp=w.count,Kp=w.count_distinct,Hp=w.min,Wp=w.max,Gp=w.exposure,Jp=w.shutter,Qp=w.iso,Xp=w.focal_length,Zp=w.schema_setup_key,Yp=w.create_field,xp=w.creating_new_field,em=w.field_in_collection,tm=w.reset_page_preferences,nm=w.hidden_field,lm=w.hidden_on_detail,om=w.disabled_editing_value,am=w.key,im=w.alias,sm=w.bigInteger,rm=w.boolean,dm=w.date,um=w.date_range,cm=w.datetime,pm=w.dateTime,mm=w.precision,fm=w.decimal,vm=w.float,_m=w.integer,ym=w.json,gm=w.xml,hm=w.string,bm=w.text,$m=w.time,wm=w.timestamp,km=w.uuid,Sm=w.hash,Cm=w.geometry,Vm=w.not_available_for_type,Fm=w.create_translations,Am=w.auto_refresh,Im=w.refresh_interval,Em=w.no_refresh,Dm=w.refresh_interval_seconds,Tm=w.refresh_interval_minutes,Pm=w.auto_generate,Om=w.this_will_auto_setup_fields_relations,Lm=w.click_here,jm=w.to_manually_setup_translations,Rm=w.click_to_manage_translated_fields,Mm=w.fields_group,Um=w.no_collections_found,Nm=w.new_data_alert,Bm=w.search_collection,qm=w.new_field,zm=w.new_collection,Km=w.add_m2o_to_collection,Hm=w.add_o2m_to_collection,Wm=w.add_m2m_to_collection,Gm=w.choose_a_type,Jm=w.determined_by_relationship,Qm=w.add_note,Xm=w.add_link,Zm=w.custom_link,Ym=w.default_value,xm=w.standard_field,ef=w.single_file,tf=w.multiple_files,nf=w.m2o_relationship,lf=w.o2m_relationship,of=w.m2m_relationship,af=w.m2a_relationship,sf=w.invalid_item,rf=w.next,df=w.field_name,uf=w.translations,cf=w.no_translations,pf=w.note,mf=w.enter_a_value,ff=w.enter_a_placeholder,vf=w.length,_f=w.precision_scale,yf=w.readonly,gf=w.unique,hf=w.updated_on,bf=w.updated_by,$f=w.primary_key,wf=w.foreign_key,kf=w.finish_setup,Sf=w.dismiss,Cf=w.raw_value,Vf=w.edit_raw_value,Ff=w.enter_raw_value,Af=w.clear_value,If=w.clear_changes,Ef=w.reset_to_default,Df=w.undo_changes,Tf=w.notifications,Pf=w.show_all_activity,Of=w.page_not_found,Lf=w.page_not_found_body,jf=w.confirm_revert,Rf=w.confirm_revert_body,Mf=w.display,Uf=w.settings_update_success,Nf=w.title,Bf=w.revision_delta_created,qf=w.revision_delta_created_externally,zf=w.revision_delta_updated,Kf=w.revision_delta_deleted,Hf=w.revision_delta_reverted,Wf=w.revision_delta_other,Gf=w.revision_delta_by,Jf=w.private_user,Qf=w.creation_preview,Xf=w.revision_preview,Zf=w.updates_made,Yf=w.leave_comment,xf=w.post_comment_success,ev=w.item_create_success,tv=w.item_update_success,nv=w.item_delete_success,lv=w.this_collection,ov=w.related_collection,av=w.related_collections,iv=w.translations_collection,sv=w.languages_collection,rv=w.export_data,dv=w.format,uv=w.use_current_filters_settings,cv=w.export_collection,pv=w.last_page,mv=w.last_access,fv=w.fill_template,vv=w.a_unique_table_name,_v=w.a_unique_column_name,yv=w.enable_custom_values,gv=w.submit,hv=w.move_to_folder,bv=w.move,$v=w.system,wv=w.add_field_related,kv=w.interface_label,Sv=w.today,Cv=w.yesterday,Vv=w.delete_comment,Fv=w.minutes,Av=w.hours,Iv=w.month,Ev=w.year,Dv=w.select_all,Tv=w.months,Pv=w.drag_mode,Ov=w.cancel_crop,Lv=w.original,jv=w.url,Rv=w.import_label,Mv=w.file_details,Uv=w.dimensions,Nv=w.size,Bv=w.created,qv=w.modified,zv=w.checksum,Kv=w.owner,Hv=w.edited_by,Wv=w.folder,Gv=w.zoom,Jv=w.download,Qv=w.open,Xv=w.open_in_new_window,Zv=w.open_folder,Yv=w.foreground_color,xv=w.background_color,e_=w.upload_from_device,t_=w.choose_from_library,n_=w.import_from_url,l_=w.replace_from_device,o_=w.replace_from_library,a_=w.replace_from_url,i_=w.no_file_selected,s_=w.download_file,r_=w.collection_key,d_=w.name,u_=w.primary_key_field,c_=w.type,p_=w.creating_new_collection,m_=w.created_by,f_=w.created_on,v_=w.creating_collection_info,__=w.creating_collection_system,y_=w.auto_increment_integer,g_=w.generated_uuid,h_=w.manual_string,b_=w.save_and_create_new,$_=w.save_and_stay,w_=w.save_as_copy,k_=w.add_existing,S_=w.creating_items,C_=w.enable_create_button,V_=w.selecting_items,F_=w.enable_select_button,A_=w.comments,I_=w.no_comments,E_=w.click_to_expand,D_=w.select_item,T_=w.no_items,P_=w.search_items,O_=w.disabled,L_=w.information,j_=w.report_bug,R_=w.request_feature,M_=w.interface_not_found,U_=w.reset_interface,N_=w.display_not_found,B_=w.reset_display,q_=w.item_count,z_=w.no_items_copy,K_=w.file_count,H_=w.no_files_copy,W_=w.user_count,G_=w.no_users_copy,J_=w.webhooks_count,Q_=w.no_webhooks_copy,X_=w.no_notifications,Z_=w.no_notifications_copy,Y_=w.activity_log,x_=w.all_items,ey=w.any,ty=w.csv,ny=w.no_collections,ly=w.create_collection,oy=w.no_collections_copy_admin,ay=w.no_collections_copy,iy=w.relationship_not_setup,sy=w.display_template_not_setup,ry=w.collection_field_not_setup,dy=w.select_a_collection,uy=w.select_a_field,cy=w.active,py=w.move_to,my=w.copy,fy=w.copy_to,vy=w.no_other_dashboards_copy,_y=w.inactive,yy=w.users,gy=w.activity,hy=w.activity_item,by=w.action,$y=w.ip_address,wy=w.user_agent,ky=w.webhooks,Sy=w.decimals,Cy=w.value_decimals,Vy=w.min_value,Fy=w.max_value,Ay=w.automatic,Iy=w.field_width,Ey=w.add_filter,Dy=w.upper_limit,Ty=w.lower_limit,Py=w.user_directory,Oy=w.documentation,Ly=w.sidebar,jy=w.duration,Ry=w.charset,My=w.second,Uy=w.file_moved,Ny=w.collection_created,By=w.modified_on,qy=w.card_size,zy=w.sort_field,Ky=w.add_sort_field,Hy=w.sort,Wy=w.status,Gy=w.remove,Jy=w.toggle_manual_sorting,Qy=w.bookmark_doesnt_exist,Xy=w.bookmark_doesnt_exist_copy,Zy=w.bookmark_doesnt_exist_cta,Yy=w.select_an_item,xy=w.edit,eg=w.enabled,tg=w.disable_tfa,ng=w.tfa_scan_code,lg=w.enter_otp_to_disable_tfa,og=w.create_account,ag=w.account_created_successfully,ig=w.auto_fill,sg=w.corresponding_field,rg=w.errors,dg=w.security,ug=w.value_hashed,cg=w.bookmark_name,pg=w.create_bookmark,mg=w.edit_bookmark,fg=w.bookmarks,vg=w.presets,_g=w.unexpected_error,yg=w.unexpected_error_copy,gg=w.copy_details,hg=w.no_app_access,bg=w.no_app_access_copy,$g=w.password_reset_sent,wg=w.password_reset_successful,kg=w.back,Sg=w.filter,Cg=w.editing_image,Vg=w.square,Fg=w.free,Ag=w.flip_horizontal,Ig=w.flip_vertical,Eg=w.aspect_ratio,Dg=w.rotate,Tg=w.all_users,Pg=w.delete_collection,Og=w.update_collection_success,Lg=w.delete_collection_success,jg=w.make_collection_visible,Rg=w.make_collection_hidden,Mg=w.start_end_of_count_items,Ug=w.start_end_of_count_filtered_items,Ng=w.one_item,Bg=w.one_filtered_item,qg=w.delete_collection_are_you_sure,zg=w.collections_shown,Kg=w.visible_collections,Hg=w.hidden_collections,Wg=w.show_hidden_collections,Gg=w.hide_hidden_collections,Jg=w.show_header,Qg=w.unmanaged_collections,Xg=w.system_collections,Zg=w.placeholder,Yg=w.icon_left,xg=w.icon_right,eh=w.count_other_revisions,th=w.font,nh=w.sans_serif,lh=w.serif,oh=w.monospace,ah=w.divider,ih=w.color,sh=w.circle,rh=w.empty_item,dh=w.log_in_with,uh=w.conditional_styles,ch=w.advanced_settings,ph=w.advanced_filter,mh=w.delete_advanced_filter,fh=w.change_advanced_filter_operator,vh=w.operators,_h=w.loading,yh=w.drop_to_upload,gh=w.item,hh=w.items,bh=w.upload_file,$h=w.upload_file_indeterminate,wh=w.upload_file_success,kh=w.upload_files_indeterminate,Sh=w.upload_files_success,Ch=w.upload_pending,Vh=w.drag_file_here,Fh=w.click_to_browse,Ah=w.interface_options,Ih=w.layout_options,Eh=w.rows,Dh=w.columns,Th=w.collection_setup,Ph=w.optional_system_fields,Oh=w.value_unique,Lh=w.all_activity,jh=w.create_item,Rh=w.display_template,Mh=w.language_display_template,Uh=w.translations_display_template,Nh=w.n_items_selected,Bh=w.per_page,qh=w.all_files,zh=w.my_files,Kh=w.recent_files,Hh=w.create_folder,Wh=w.edit_folder,Gh=w.folder_name,Jh=w.folder_key,Qh=w.add_file,Xh=w.replace_file,Zh=w.no_results,Yh=w.no_results_copy,xh=w.clear_filters,eb=w.saves_automatically,tb=w.role,nb=w.rule,lb=w.user,ob=w.no_presets,ab=w.no_presets_copy,ib=w.no_presets_cta,sb=w.presets_only,rb=w.create,db=w.on_create,ub=w.on_update,cb=w.read,pb=w.update,mb=w.select_fields,fb=w.format_text,vb=w.format_value,_b=w.abbreviate_value,yb=w.operator,gb=w.bold,hb=w.toggle,bb=w.icon_on,$b=w.icon_off,wb=w.label,kb=w.insights,Sb=w.dashboard,Cb=w.panel,Vb=w.panel_options,Fb=w.panel_header,Ab=w.panel_name_placeholder,Ib=w.panel_note_placeholder,Eb=w.panel_delete_confirm,Db=w.dashboard_delete_confirm,Tb=w.edit_dashboard,Pb=w.delete_dashboard,Ob=w.visible,Lb=w.prefix_placeholder,jb=w.suffix_placeholder,Rb=w.decimals_placeholder,Mb=w.no_dashboards,Ub=w.no_dashboards_copy,Nb=w.no_data,Bb=w.create_dashboard,qb=w.dashboard_name,zb=w.full_screen,Kb=w.edit_panels,Hb=w.fit_to_screen,Wb=w.image_url,Gb=w.alt_text,Jb=w.media,Qb=w.quality,Xb=w.width,Zb=w.height,Yb=w.source,xb=w.url_placeholder,e0=w.display_text,t0=w.display_text_placeholder,n0=w.interface_group_text_and_numbers,l0=w.interface_group_selection,o0=w.interface_group_relational,a0=w.interface_group_presentation,i0=w.interface_group_groups,s0=w.interface_group_other,r0=w.tooltip,d0=w.tooltip_placeholder,u0=w.unlimited,c0=w.open_link_in,p0=w.new_tab,m0=w.current_tab,f0=w.wysiwyg_options,v0=w.dropdown,_0=w.choices,y0=w.choices_option_configured_incorrectly,g0=w.deselect,h0=w.deselect_all,b0=w.other,$0=w.adding_user,w0=w.unknown_user,k0=w.creating_in,S0=w.editing_in,C0=w.creating_unit,V0=w.editing_unit,F0=w.editing_in_batch,A0=w.no_options_available,I0=w.settings_data_model,E0=w.settings_permissions,D0=w.settings_project,T0=w.settings_webhooks,P0=w.settings_presets,O0=w.one_or_more_options_are_missing,L0=w.scope,j0=w.select,R0=w.layout,M0=w.tree_view,U0=w.changes_are_permanent,N0=w.preset_name_placeholder,B0=w.preset_search_placeholder,q0=w.editing_preset,z0=w.layout_preview,K0=w.layout_setup,H0=w.unsaved_changes,W0=w.unsaved_changes_copy,G0=w.discard_changes,J0=w.discard_all_changes,Q0=w.discard_changes_copy,X0=w.show_x_axis,Z0=w.show_y_axis,Y0=w.keep_editing,x0=w.page_help_collections_overview,e1=w.page_help_collections_collection,t1=w.page_help_collections_item,n1=w.page_help_activity_collection,l1=w.page_help_docs_global,o1=w.page_help_files_collection,a1=w.page_help_files_item,i1=w.page_help_settings_project,s1=w.page_help_settings_datamodel_collections,r1=w.page_help_settings_datamodel_fields,d1=w.page_help_settings_roles_collection,u1=w.page_help_settings_roles_item,c1=w.page_help_settings_presets_collection,p1=w.page_help_settings_presets_item,m1=w.page_help_settings_webhooks_collection,f1=w.page_help_settings_webhooks_item,v1=w.page_help_users_collection,_1=w.page_help_users_item,y1=w.page_help_insights_overview,g1=w.page_help_insights_dashboard,h1=w.activity_feed,b1=w.add_new,$1=w.create_new,w1=w.all,k1=w.none,S1=w.no_layout_collection_selected_yet,C1=w.batch_delete_confirm,V1=w.cancel,F1=w.no_upscale,A1=w.collection,I1=w.collections,E1=w.content,D1=w.singleton,T1=w.singleton_label,P1=w.system_fields_locked,O1=w.directus_collection,L1=w.fields,j1=w.field_options,R1=w.no_fields_in_collection,M1=w.no_value,U1=w.do_nothing,N1=w.generate_and_save_uuid,B1=w.save_current_user_id,q1=w.save_current_user_role,z1=w.save_current_datetime,K1=w.always_open,H1=w.start_open,W1=w.start_collapsed,G1=w.block,J1=w.inline,Q1=w.comment,X1=w.relational_triggers,Z1=w.referential_action_field_label_m2o,Y1=w.referential_action_field_label_o2m,x1=w.referential_action_no_action,e2=w.referential_action_cascade,t2=w.referential_action_set_null,n2=w.referential_action_set_default,l2=w.choose_action,o2=w.continue_label,a2=w.continue_as,i2=w.editing_role,s2=w.creating_webhook,r2=w.default_label,d2=w.delete_label,u2=w.delete_are_you_sure,c2=w.delete_field_are_you_sure,p2=w.description,m2=w.done,f2=w.duplicate,v2=w.limit,_2=w.email,y2=w.embed,g2=w.fallback_icon,h2=w.field,b2=w.file,$2=w.file_library,w2=w.forgot_password,k2=w.hidden,S2=w.icon,C2=w.info,V2=w.normal,F2=w.success,A2=w.warning,I2=w.danger,E2=w.junction_collection,D2=w.latency,T2=w.login,P2=w.my_activity,O2=w.not_authenticated,L2=w.authenticated,j2=w.options,R2=w.otp,M2=w.password,U2=w.permissions,N2=w.relationship,B2=w.reset,q2=w.reset_password,z2=w.revisions,K2=w.revert,H2=w.save,W2=w.schema,G2=w.search,J2=w.select_existing,Q2=w.select_field_type,X2=w.select_interface,Z2=w.settings,Y2=w.sign_in,x2=w.sign_out,e$=w.sign_out_confirm,t$=w.something_went_wrong,n$=w.sort_direction,l$=w.sort_asc,o$=w.sort_desc,a$=w.template,i$=w.require_value_to_be_set,s$=w.translation,r$=w.translation_placeholder,d$=w.value,u$=w.view_project,c$=w.weeks,p$=w.report_error,m$=w.start,f$=w.interfaces,v$=w.displays,_$=w.layouts,y$=w.panels,g$=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:w,identifier:uu,avatar:cu,default_provider:pu,published:mu,draft:fu,archived:vu,modules:_u,module_bar:yu,tile_size:gu,edit_field:hu,conditions:bu,maps:$u,item_creation:wu,item_revision:ku,enter_a_name:Su,duplicate_field:Cu,half_width:Vu,full_width:Fu,group:Au,and:Iu,or:Eu,fill_width:Du,field_name_translations:Tu,enter_password_to_enable_tfa:Pu,add_field:Ou,role_name:Lu,branch:ju,leaf:Ru,indeterminate:Mu,edit_collection:Uu,exclusive:Nu,children:Bu,db_only_click_to_configure:qu,show_archived_items:zu,edited:Ku,required:Hu,required_for_app_access:Wu,requires_value:Gu,create_preset:Ju,create_panel:Qu,create_role:Xu,create_user:Zu,delete_panel:Yu,create_webhook:xu,invite_users:ec,invite:tc,email_already_invited:nc,subject:lc,inbox:oc,emails:ac,connection_excellent:ic,connection_good:sc,connection_fair:rc,connection_poor:dc,primary:uc,rename_folder:cc,delete_folder:pc,prefix:mc,suffix:fc,reset_bookmark:vc,rename_bookmark:_c,update_bookmark:yc,delete_bookmark:gc,delete_bookmark_copy:hc,logoutReason:bc,public_label:$c,public_description:wc,not_allowed:kc,directus_version:Sc,node_version:Cc,node_uptime:Vc,os_type:Fc,os_version:Ac,os_uptime:Ic,os_totalmem:Ec,archive:Dc,archive_confirm:Tc,archive_confirm_count:Pc,reset_system_permissions_to:Oc,reset_system_permissions_copy:Lc,the_following_are_minimum_permissions:jc,app_access_minimum:Rc,recommended_defaults:Mc,unarchive:Uc,unarchive_confirm:Nc,nested_files_folders_will_be_moved:Bc,unknown_validation_errors:qc,validationError:zc,all_access:Kc,no_access:Hc,use_custom:Wc,nullable:Gc,allow_null_value:Jc,allow_multiple:Qc,allow_multiple_to_be_open:Xc,enter_value_to_replace_nulls:Zc,field_standard:Yc,field_presentation:xc,field_file:ep,field_files:tp,field_m2o:np,field_m2a:lp,field_o2m:op,field_m2m:ap,field_translations:ip,field_group:sp,item_permissions:rp,field_permissions:dp,field_validation:up,field_presets:cp,permissions_for_role:pp,fields_for_role:mp,validation_for_role:fp,presets_for_role:vp,presentation_and_aliases:_p,revision_post_create:yp,revision_post_update:gp,changes_made:hp,no_relational_data:bp,hide_field_on_detail:$p,show_field_on_detail:wp,delete_field:kp,fields_and_layout:Sp,field_create_success:Cp,field_update_success:Vp,duplicate_where_to:Fp,language:Ap,aggregate_function:Ip,aggregate_precision:Ep,group_aggregation:Dp,group_precision:Tp,global:Pp,admins_have_all_permissions:Op,camera:Lp,show_zero:jp,create_in_advanced_field_creation_mode:Rp,continue_in_advanced_field_creation_mode:Mp,sum:Up,sum_distinct:Np,avg:Bp,avg_distinct:qp,count:zp,count_distinct:Kp,min:Hp,max:Wp,exposure:Gp,shutter:Jp,iso:Qp,focal_length:Xp,schema_setup_key:Zp,create_field:Yp,creating_new_field:xp,field_in_collection:em,reset_page_preferences:tm,hidden_field:nm,hidden_on_detail:lm,disabled_editing_value:om,key:am,alias:im,bigInteger:sm,boolean:rm,date:dm,date_range:um,datetime:cm,dateTime:pm,precision:mm,decimal:fm,float:vm,integer:_m,json:ym,xml:gm,string:hm,text:bm,time:$m,timestamp:wm,uuid:km,hash:Sm,geometry:Cm,not_available_for_type:Vm,create_translations:Fm,auto_refresh:Am,refresh_interval:Im,no_refresh:Em,refresh_interval_seconds:Dm,refresh_interval_minutes:Tm,auto_generate:Pm,this_will_auto_setup_fields_relations:Om,click_here:Lm,to_manually_setup_translations:jm,click_to_manage_translated_fields:Rm,fields_group:Mm,no_collections_found:Um,new_data_alert:Nm,search_collection:Bm,new_field:qm,new_collection:zm,add_m2o_to_collection:Km,add_o2m_to_collection:Hm,add_m2m_to_collection:Wm,choose_a_type:Gm,determined_by_relationship:Jm,add_note:Qm,add_link:Xm,custom_link:Zm,default_value:Ym,standard_field:xm,single_file:ef,multiple_files:tf,m2o_relationship:nf,o2m_relationship:lf,m2m_relationship:of,m2a_relationship:af,invalid_item:sf,next:rf,field_name:df,translations:uf,no_translations:cf,note:pf,enter_a_value:mf,enter_a_placeholder:ff,length:vf,precision_scale:_f,readonly:yf,unique:gf,updated_on:hf,updated_by:bf,primary_key:$f,foreign_key:wf,finish_setup:kf,dismiss:Sf,raw_value:Cf,edit_raw_value:Vf,enter_raw_value:Ff,clear_value:Af,clear_changes:If,reset_to_default:Ef,undo_changes:Df,notifications:Tf,show_all_activity:Pf,page_not_found:Of,page_not_found_body:Lf,confirm_revert:jf,confirm_revert_body:Rf,display:Mf,settings_update_success:Uf,title:Nf,revision_delta_created:Bf,revision_delta_created_externally:qf,revision_delta_updated:zf,revision_delta_deleted:Kf,revision_delta_reverted:Hf,revision_delta_other:Wf,revision_delta_by:Gf,private_user:Jf,creation_preview:Qf,revision_preview:Xf,updates_made:Zf,leave_comment:Yf,post_comment_success:xf,item_create_success:ev,item_update_success:tv,item_delete_success:nv,this_collection:lv,related_collection:ov,related_collections:av,translations_collection:iv,languages_collection:sv,export_data:rv,format:dv,use_current_filters_settings:uv,export_collection:cv,last_page:pv,last_access:mv,fill_template:fv,a_unique_table_name:vv,a_unique_column_name:_v,enable_custom_values:yv,submit:gv,move_to_folder:hv,move:bv,system:$v,add_field_related:wv,interface_label:kv,today:Sv,yesterday:Cv,delete_comment:Vv,minutes:Fv,hours:Av,month:Iv,year:Ev,select_all:Dv,months:Tv,drag_mode:Pv,cancel_crop:Ov,original:Lv,url:jv,import_label:Rv,file_details:Mv,dimensions:Uv,size:Nv,created:Bv,modified:qv,checksum:zv,owner:Kv,edited_by:Hv,folder:Wv,zoom:Gv,download:Jv,open:Qv,open_in_new_window:Xv,open_folder:Zv,foreground_color:Yv,background_color:xv,upload_from_device:e_,choose_from_library:t_,import_from_url:n_,replace_from_device:l_,replace_from_library:o_,replace_from_url:a_,no_file_selected:i_,download_file:s_,collection_key:r_,name:d_,primary_key_field:u_,type:c_,creating_new_collection:p_,created_by:m_,created_on:f_,creating_collection_info:v_,creating_collection_system:__,auto_increment_integer:y_,generated_uuid:g_,manual_string:h_,save_and_create_new:b_,save_and_stay:$_,save_as_copy:w_,add_existing:k_,creating_items:S_,enable_create_button:C_,selecting_items:V_,enable_select_button:F_,comments:A_,no_comments:I_,click_to_expand:E_,select_item:D_,no_items:T_,search_items:P_,disabled:O_,information:L_,report_bug:j_,request_feature:R_,interface_not_found:M_,reset_interface:U_,display_not_found:N_,reset_display:B_,item_count:q_,no_items_copy:z_,file_count:K_,no_files_copy:H_,user_count:W_,no_users_copy:G_,webhooks_count:J_,no_webhooks_copy:Q_,no_notifications:X_,no_notifications_copy:Z_,activity_log:Y_,all_items:x_,any:ey,csv:ty,no_collections:ny,create_collection:ly,no_collections_copy_admin:oy,no_collections_copy:ay,relationship_not_setup:iy,display_template_not_setup:sy,collection_field_not_setup:ry,select_a_collection:dy,select_a_field:uy,active:cy,move_to:py,copy:my,copy_to:fy,no_other_dashboards_copy:vy,inactive:_y,users:yy,activity:gy,activity_item:hy,action:by,ip_address:$y,user_agent:wy,webhooks:ky,decimals:Sy,value_decimals:Cy,min_value:Vy,max_value:Fy,automatic:Ay,field_width:Iy,add_filter:Ey,upper_limit:Dy,lower_limit:Ty,user_directory:Py,documentation:Oy,sidebar:Ly,duration:jy,charset:Ry,second:My,file_moved:Uy,collection_created:Ny,modified_on:By,card_size:qy,sort_field:zy,add_sort_field:Ky,sort:Hy,status:Wy,remove:Gy,toggle_manual_sorting:Jy,bookmark_doesnt_exist:Qy,bookmark_doesnt_exist_copy:Xy,bookmark_doesnt_exist_cta:Zy,select_an_item:Yy,edit:xy,enabled:eg,disable_tfa:tg,tfa_scan_code:ng,enter_otp_to_disable_tfa:lg,create_account:og,account_created_successfully:ag,auto_fill:ig,corresponding_field:sg,errors:rg,security:dg,value_hashed:ug,bookmark_name:cg,create_bookmark:pg,edit_bookmark:mg,bookmarks:fg,presets:vg,unexpected_error:_g,unexpected_error_copy:yg,copy_details:gg,no_app_access:hg,no_app_access_copy:bg,password_reset_sent:$g,password_reset_successful:wg,back:kg,filter:Sg,editing_image:Cg,square:Vg,free:Fg,flip_horizontal:Ag,flip_vertical:Ig,aspect_ratio:Eg,rotate:Dg,all_users:Tg,delete_collection:Pg,update_collection_success:Og,delete_collection_success:Lg,make_collection_visible:jg,make_collection_hidden:Rg,start_end_of_count_items:Mg,start_end_of_count_filtered_items:Ug,one_item:Ng,one_filtered_item:Bg,delete_collection_are_you_sure:qg,collections_shown:zg,visible_collections:Kg,hidden_collections:Hg,show_hidden_collections:Wg,hide_hidden_collections:Gg,show_header:Jg,unmanaged_collections:Qg,system_collections:Xg,placeholder:Zg,icon_left:Yg,icon_right:xg,count_other_revisions:eh,font:th,sans_serif:nh,serif:lh,monospace:oh,divider:ah,color:ih,circle:sh,empty_item:rh,log_in_with:dh,conditional_styles:uh,advanced_settings:ch,advanced_filter:ph,delete_advanced_filter:mh,change_advanced_filter_operator:fh,operators:vh,loading:_h,drop_to_upload:yh,item:gh,items:hh,upload_file:bh,upload_file_indeterminate:$h,upload_file_success:wh,upload_files_indeterminate:kh,upload_files_success:Sh,upload_pending:Ch,drag_file_here:Vh,click_to_browse:Fh,interface_options:Ah,layout_options:Ih,rows:Eh,columns:Dh,collection_setup:Th,optional_system_fields:Ph,value_unique:Oh,all_activity:Lh,create_item:jh,display_template:Rh,language_display_template:Mh,translations_display_template:Uh,n_items_selected:Nh,per_page:Bh,all_files:qh,my_files:zh,recent_files:Kh,create_folder:Hh,edit_folder:Wh,folder_name:Gh,folder_key:Jh,add_file:Qh,replace_file:Xh,no_results:Zh,no_results_copy:Yh,clear_filters:xh,saves_automatically:eb,role:tb,rule:nb,user:lb,no_presets:ob,no_presets_copy:ab,no_presets_cta:ib,presets_only:sb,create:rb,on_create:db,on_update:ub,read:cb,update:pb,select_fields:mb,format_text:fb,format_value:vb,abbreviate_value:_b,operator:yb,bold:gb,toggle:hb,icon_on:bb,icon_off:$b,label:wb,insights:kb,dashboard:Sb,panel:Cb,panel_options:Vb,panel_header:Fb,panel_name_placeholder:Ab,panel_note_placeholder:Ib,panel_delete_confirm:Eb,dashboard_delete_confirm:Db,edit_dashboard:Tb,delete_dashboard:Pb,visible:Ob,prefix_placeholder:Lb,suffix_placeholder:jb,decimals_placeholder:Rb,no_dashboards:Mb,no_dashboards_copy:Ub,no_data:Nb,create_dashboard:Bb,dashboard_name:qb,full_screen:zb,edit_panels:Kb,fit_to_screen:Hb,image_url:Wb,alt_text:Gb,media:Jb,quality:Qb,width:Xb,height:Zb,source:Yb,url_placeholder:xb,display_text:e0,display_text_placeholder:t0,interface_group_text_and_numbers:n0,interface_group_selection:l0,interface_group_relational:o0,interface_group_presentation:a0,interface_group_groups:i0,interface_group_other:s0,tooltip:r0,tooltip_placeholder:d0,unlimited:u0,open_link_in:c0,new_tab:p0,current_tab:m0,wysiwyg_options:f0,dropdown:v0,choices:_0,choices_option_configured_incorrectly:y0,deselect:g0,deselect_all:h0,other:b0,adding_user:$0,unknown_user:w0,creating_in:k0,editing_in:S0,creating_unit:C0,editing_unit:V0,editing_in_batch:F0,no_options_available:A0,settings_data_model:I0,settings_permissions:E0,settings_project:D0,settings_webhooks:T0,settings_presets:P0,one_or_more_options_are_missing:O0,scope:L0,select:j0,layout:R0,tree_view:M0,changes_are_permanent:U0,preset_name_placeholder:N0,preset_search_placeholder:B0,editing_preset:q0,layout_preview:z0,layout_setup:K0,unsaved_changes:H0,unsaved_changes_copy:W0,discard_changes:G0,discard_all_changes:J0,discard_changes_copy:Q0,show_x_axis:X0,show_y_axis:Z0,keep_editing:Y0,page_help_collections_overview:x0,page_help_collections_collection:e1,page_help_collections_item:t1,page_help_activity_collection:n1,page_help_docs_global:l1,page_help_files_collection:o1,page_help_files_item:a1,page_help_settings_project:i1,page_help_settings_datamodel_collections:s1,page_help_settings_datamodel_fields:r1,page_help_settings_roles_collection:d1,page_help_settings_roles_item:u1,page_help_settings_presets_collection:c1,page_help_settings_presets_item:p1,page_help_settings_webhooks_collection:m1,page_help_settings_webhooks_item:f1,page_help_users_collection:v1,page_help_users_item:_1,page_help_insights_overview:y1,page_help_insights_dashboard:g1,activity_feed:h1,add_new:b1,create_new:$1,all:w1,none:k1,no_layout_collection_selected_yet:S1,batch_delete_confirm:C1,cancel:V1,no_upscale:F1,collection:A1,collections:I1,content:E1,singleton:D1,singleton_label:T1,system_fields_locked:P1,directus_collection:O1,fields:L1,field_options:j1,no_fields_in_collection:R1,no_value:M1,do_nothing:U1,generate_and_save_uuid:N1,save_current_user_id:B1,save_current_user_role:q1,save_current_datetime:z1,always_open:K1,start_open:H1,start_collapsed:W1,block:G1,inline:J1,comment:Q1,relational_triggers:X1,referential_action_field_label_m2o:Z1,referential_action_field_label_o2m:Y1,referential_action_no_action:x1,referential_action_cascade:e2,referential_action_set_null:t2,referential_action_set_default:n2,choose_action:l2,continue_label:o2,continue_as:a2,editing_role:i2,creating_webhook:s2,default_label:r2,delete_label:d2,delete_are_you_sure:u2,delete_field_are_you_sure:c2,description:p2,done:m2,duplicate:f2,limit:v2,email:_2,embed:y2,fallback_icon:g2,field:h2,file:b2,file_library:$2,forgot_password:w2,hidden:k2,icon:S2,info:C2,normal:V2,success:F2,warning:A2,danger:I2,junction_collection:E2,latency:D2,login:T2,my_activity:P2,not_authenticated:O2,authenticated:L2,options:j2,otp:R2,password:M2,permissions:U2,relationship:N2,reset:B2,reset_password:q2,revisions:z2,revert:K2,save:H2,schema:W2,search:G2,select_existing:J2,select_field_type:Q2,select_interface:X2,settings:Z2,sign_in:Y2,sign_out:x2,sign_out_confirm:e$,something_went_wrong:t$,sort_direction:n$,sort_asc:l$,sort_desc:o$,template:a$,require_value_to_be_set:i$,translation:s$,translation_placeholder:r$,value:d$,view_project:u$,weeks:c$,report_error:p$,start:m$,interfaces:f$,displays:v$,layouts:_$,panels:y$});const qe=Er({legacy:!1,locale:"en-US",fallbackLocale:"en-US",messages:{"en-US":w},silentTranslationWarn:!0,datetimeFormats:ru,numberFormats:du}),ba=["en-US"];function Ht(e){var u,a,s,r,m;const t=qe.global.t("unexpected_error");let n=e;if(typeof e=="object"&&(n=(m=(r=(s=(a=(u=e==null?void 0:e.response)==null?void 0:u.data)==null?void 0:a.errors)==null?void 0:s[0])==null?void 0:r.extensions)==null?void 0:m.code),!e||!n===void 0)return t;const l=`errors.${n}`;return qe.global.te(l)===!1?t:qe.global.t(l)}function $a(e){let t=e;return typeof e=="string"&&e.startsWith("$t:")&&(t=qe.global.t(e.replace("$t:",""))),t}function Vt(e){const t=U.exports.cloneDeep(e);return Object.entries(t).forEach(([n,l])=>{l&&typeof l=="object"&&(t[n]=Vt(l)),l&&typeof l=="string"&&(t[n]=$a(l))}),t}var wa={"af-ZA":"Afrikaans (South Africa)","ar-SA":"Arabic (Saudi Arabia)","bn-IN":"Bengali (India)","br-FR":"Breton (France)","bg-BG":"Bulgarian (Bulgaria)","ca-ES":"Catalan (Spain)","zh-CN":"Chinese (Simplified)","cs-CZ":"Czech (Czech Republic)","da-DK":"Danish (Denmark)","nl-NL":"Dutch (Netherlands)","en-GB":"English (United Kingdom)","en-US":"English (United States)","et-EE":"Estonian (Estonia)","fi-FI":"Finnish (Finland)","fr-FR":"French (France)","ka-GE":"Georgian (Georgia)","de-DE":"German (Germany)","el-GR":"Greek (Greece)","he-IL":"Hebrew (Israel)","hi-IN":"Hindi (India)","hu-HU":"Hungarian (Hungary)","is-IS":"Icelandic (Iceland)","id-ID":"Indonesian (Indonesia)","it-IT":"Italian (Italy)","ja-JP":"Japanese (Japan)","ko-KR":"Korean (Korea)","lt-LT":"Lithuanian (Lithuania)","ms-MY":"Malay (Malaysia)","no-NO":"Norwegian (Norway)","fa-IR":"Farci (Iran)","pl-PL":"Polish (Poland)","pt-BR":"Portuguese (Brazil)","pt-PT":"Portuguese (Portugal)","ro-RO":"Romanian (Romania)","ru-RU":"Russian (Russian Federation)","sr-SP":"Serbian (Cyrillic) (Serbia and Montenegro)","sr-CS":"Serbian (Latin) (Serbia and Montenegro)","si-LK":"Sinhala (Sri Lanka)","sk-SK":"Slovak (Slovakia)","sl-SI":"Slovenian (Slovenia)","es-ES":"Spanish (Spain)","es-419":"Spanish (Latin America)","es-cl":"Spanish (Chile)","sv-SE":"Swedish (Sweden)","zh-TW":"Taiwanese Mandarin (Taiwan)","th-TH":"Thai (Thailand)","tr-TR":"Turkish (Turkey)","uk-UA":"Ukrainian (Ukraine)","vi-VN":"Vietnamese (Vietnam)"};function h$(e){switch(e){case"./translations/af-ZA.yaml":return j(()=>import("./assets/af-ZA.e55141de.js"),[]);case"./translations/ar-SA.yaml":return j(()=>import("./assets/ar-SA.c14aed74.js"),[]);case"./translations/bg-BG.yaml":return j(()=>import("./assets/bg-BG.2ccc4340.js"),[]);case"./translations/bn-IN.yaml":return j(()=>import("./assets/bn-IN.1385676c.js"),[]);case"./translations/br-FR.yaml":return j(()=>import("./assets/br-FR.ac76f3c4.js"),[]);case"./translations/ca-ES.yaml":return j(()=>import("./assets/ca-ES.bb7c5b19.js"),[]);case"./translations/cs-CZ.yaml":return j(()=>import("./assets/cs-CZ.fe7a5446.js"),[]);case"./translations/da-DK.yaml":return j(()=>import("./assets/da-DK.3bcf884c.js"),[]);case"./translations/de-DE.yaml":return j(()=>import("./assets/de-DE.c8980e99.js"),[]);case"./translations/el-GR.yaml":return j(()=>import("./assets/el-GR.bd4d0ff3.js"),[]);case"./translations/en-GB.yaml":return j(()=>import("./assets/en-GB.361d696e.js"),[]);case"./translations/en-US.yaml":return j(()=>Promise.resolve().then(function(){return g$}),void 0);case"./translations/es-419.yaml":return j(()=>import("./assets/es-419.994854a0.js"),[]);case"./translations/es-CL.yaml":return j(()=>import("./assets/es-CL.3bf346ef.js"),[]);case"./translations/es-ES.yaml":return j(()=>import("./assets/es-ES.5f8461b5.js"),[]);case"./translations/et-EE.yaml":return j(()=>import("./assets/et-EE.da648eba.js"),[]);case"./translations/fa-IR.yaml":return j(()=>import("./assets/fa-IR.68ac8c0a.js"),[]);case"./translations/fi-FI.yaml":return j(()=>import("./assets/fi-FI.64bf9412.js"),[]);case"./translations/fr-FR.yaml":return j(()=>import("./assets/fr-FR.0db3601e.js"),[]);case"./translations/he-IL.yaml":return j(()=>import("./assets/he-IL.64ff8581.js"),[]);case"./translations/hi-IN.yaml":return j(()=>import("./assets/hi-IN.f686e98f.js"),[]);case"./translations/hu-HU.yaml":return j(()=>import("./assets/hu-HU.fc2083ad.js"),[]);case"./translations/id-ID.yaml":return j(()=>import("./assets/id-ID.e1a07bff.js"),[]);case"./translations/is-IS.yaml":return j(()=>import("./assets/is-IS.35706417.js"),[]);case"./translations/it-IT.yaml":return j(()=>import("./assets/it-IT.14bfc0b6.js"),[]);case"./translations/ja-JP.yaml":return j(()=>import("./assets/ja-JP.ba312533.js"),[]);case"./translations/ka-GE.yaml":return j(()=>import("./assets/ka-GE.eff8ef9c.js"),[]);case"./translations/ko-KR.yaml":return j(()=>import("./assets/ko-KR.f3349212.js"),[]);case"./translations/ku-TR.yaml":return j(()=>import("./assets/ku-TR.3322375c.js"),[]);case"./translations/lt-LT.yaml":return j(()=>import("./assets/lt-LT.497afd55.js"),[]);case"./translations/mn-MN.yaml":return j(()=>import("./assets/mn-MN.27ed8744.js"),[]);case"./translations/ms-MY.yaml":return j(()=>import("./assets/ms-MY.f51ba91a.js"),[]);case"./translations/nl-NL.yaml":return j(()=>import("./assets/nl-NL.edb61cc3.js"),[]);case"./translations/no-NO.yaml":return j(()=>import("./assets/no-NO.ebaacb8a.js"),[]);case"./translations/pl-PL.yaml":return j(()=>import("./assets/pl-PL.fcac44cc.js"),[]);case"./translations/pt-BR.yaml":return j(()=>import("./assets/pt-BR.eff6bc85.js"),[]);case"./translations/pt-PT.yaml":return j(()=>import("./assets/pt-PT.33683147.js"),[]);case"./translations/ro-RO.yaml":return j(()=>import("./assets/ro-RO.23969e56.js"),[]);case"./translations/ru-RU.yaml":return j(()=>import("./assets/ru-RU.2e06b3ed.js"),[]);case"./translations/si-LK.yaml":return j(()=>import("./assets/si-LK.2e97c6ef.js"),[]);case"./translations/sk-SK.yaml":return j(()=>import("./assets/sk-SK.8e0ff1f5.js"),[]);case"./translations/sl-SI.yaml":return j(()=>import("./assets/sl-SI.41305ef8.js"),[]);case"./translations/sr-CS.yaml":return j(()=>import("./assets/sr-CS.0b70ed56.js"),[]);case"./translations/sr-SP.yaml":return j(()=>import("./assets/sr-SP.2cb9f65c.js"),[]);case"./translations/sv-SE.yaml":return j(()=>import("./assets/sv-SE.07c9dbad.js"),[]);case"./translations/th-TH.yaml":return j(()=>import("./assets/th-TH.51bd50db.js"),[]);case"./translations/tr-TR.yaml":return j(()=>import("./assets/tr-TR.fea3a7da.js"),[]);case"./translations/uk-UA.yaml":return j(()=>import("./assets/uk-UA.c8fb0083.js"),[]);case"./translations/vi-VN.yaml":return j(()=>import("./assets/vi-VN.12000d52.js"),[]);case"./translations/zh-CN.yaml":return j(()=>import("./assets/zh-CN.7e212f77.js"),[]);case"./translations/zh-TW.yaml":return j(()=>import("./assets/zh-TW.ef28a778.js"),[]);default:return new Promise(function(t,n){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(n.bind(null,new Error("Unknown variable dynamic import: "+e)))})}}const{modules:b$,modulesRaw:$$}=Ql(),{layouts:w$,layoutsRaw:k$}=$n(),{interfaces:S$,interfacesRaw:C$}=bn(),{panels:V$,panelsRaw:F$}=ml(),{displays:A$,displaysRaw:I$}=Gl();async function ka(e){const t=Ke(),n=Pe();if(Object.keys(wa).includes(e)===!1)console.warn(`"${e}" is not an available language in the Directus app.`);else{if(ba.includes(e)===!1)try{const{default:l}=await h$(`./translations/${e}.yaml`);qe.global.mergeLocaleMessage(e,l),ba.push(e)}catch(l){console.warn(l)}qe.global.locale.value=e,document.querySelector("html").setAttribute("lang",e)}return b$.value=Vt($$.value),w$.value=Vt(k$.value),S$.value=Vt(C$.value),V$.value=Vt(F$.value),A$.value=Vt(I$.value),t.translateCollections(),n.translateFields(),!0}function E$(e,t){var n;e=U.exports.clone(e);const l=/^((?:-|\+)?\d*?\.?\d+?) *?(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|months?|mth|mo|years?|yrs?|y)?$/i.exec(t.trim());if(!l||!l[1])return;const i=parseFloat(l[1]);switch(((n=l[2])!==null&&n!==void 0?n:"days").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return Mr(e,i);case"months":case"month":case"mth":case"mo":return Rr(e,i);case"weeks":case"week":case"w":return jr(e,i);case"days":case"day":case"d":return Lr(e,i);case"hours":case"hour":case"hrs":case"hr":case"h":return Or(e,i);case"minutes":case"minute":case"mins":case"min":case"m":return Pr(e,i);case"seconds":case"second":case"secs":case"sec":case"s":return Tr(e,i);case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return Dr(e,i);default:return}}function D$(e){return e.schema?"table":e.meta?"alias":"unknown"}function Sa(e){switch(e){case"binary":case"hash":case"string":case"csv":return["contains","ncontains","starts_with","nstarts_with","ends_with","nends_with","eq","neq","empty","nempty","null","nnull","in","nin"];case"uuid":return["eq","neq","null","nnull","in","nin"];case"json":return["null","nnull"];case"boolean":return["eq","neq","null","nnull"];case"bigInteger":case"integer":case"decimal":case"float":return["eq","neq","lt","lte","gt","gte","between","nbetween","null","nnull","in","nin"];case"dateTime":case"date":case"time":return["eq","neq","null","nnull","lt","lte","gt","gte","between","nbetween","null","nnull","in","nin"];case"geometry":return["null","nnull","intersects","nintersects","intersects_bbox","nintersects_bbox"];default:return["contains","ncontains","eq","neq","lt","lte","gt","gte","between","nbetween","empty","nempty","null","nnull","in","nin"]}}const T$=["$NOW","$CURRENT_USER","$CURRENT_ROLE"];function P$(e){return typeof e=="string"&&T$.some(t=>e.startsWith(t))}const O$=["alias","bigInteger","boolean","date","dateTime","decimal","float","integer","json","string","text","time","timestamp","binary","uuid","hash","csv","geometry","geometry.Point","geometry.LineString","geometry.Polygon","geometry.MultiPoint","geometry.MultiLineString","geometry.MultiPolygon","unknown"],Ca=["Point","LineString","Polygon","MultiPoint","MultiLineString","MultiPolygon"],L$=["standard","file","files","m2o","o2m","m2m","m2a","presentation","translations","group"],j$=/\(([^)]+)\)/;function fl(e,t,n="and"){return e?t?{[`_${n}`]:[e,t]}:e:t}function vl(e){return typeof e=="string"?e.split(","):Array.isArray(e)?e:[e]}function Xl(e,t,n={}){var l;if(e==null)return null;if(!U.exports.isObjectLike(e))return{_eq:Zl(e,t,n)};const i=Object.entries(e).map(u=>R$(u,t,n));return i.length===0?{}:i.length===1?(l=i[0])!==null&&l!==void 0?l:null:{_and:i}}function R$([e,t],n,l){return["_or","_and"].includes(String(e))?{[e]:t.map(i=>Xl(i,n,l))}:["_in","_nin","_between","_nbetween"].includes(String(e))?{[e]:vl(t).flatMap(i=>Zl(i,n,l))}:String(e).startsWith("_")?{[e]:Zl(t,n,l)}:{[e]:Xl(t,n,l)}}function Zl(e,t,n){return e==="true"?!0:e==="false"?!1:e==="null"||e==="NULL"?null:P$(e)?M$(e,t,n):e}function M$(e,t,n){var l,i,u;if(e.startsWith("$NOW")){if(e.includes("(")&&e.includes(")")){const a=(l=e.match(j$))===null||l===void 0?void 0:l[1];return a?E$(new Date,a):new Date}return new Date}if(e.startsWith("$CURRENT_USER"))return e==="$CURRENT_USER"?(i=t==null?void 0:t.user)!==null&&i!==void 0?i:null:Yl(n,e,null);if(e.startsWith("$CURRENT_ROLE"))return e==="$CURRENT_ROLE"?(u=t==null?void 0:t.role)!==null&&u!==void 0?u:null:Yl(n,e,null)}function Yl(e,t,n){const[l,...i]=t.split("."),u=Array.isArray(e)?e.map(a=>a[l]):e==null?void 0:e[l];return i.length>0?Yl(u,i.join("."),n):u!=null?u:n}function _l(e,t,n){const l=[];if(Object.keys(e)[0]==="_and"){const i=Object.values(e)[0],u=U.exports.flatten(i.map(a=>_l(a,t,n))).filter(a=>a);l.push(...u)}else if(Object.keys(e)[0]==="_or"){const i=Object.values(e)[0],u=U.exports.flatten(i.map(s=>_l(s,t,n)));i.length===u.length&&l.push(...u)}else{const i=Jd(e,n),{error:u}=i.validate(t,{abortEarly:!1});u&&l.push(u)}return l}function ht(e){return e.first_name&&e.last_name?`${e.first_name} ${e.last_name}`:e.first_name?e.first_name:e.email?e.email:qe.global.t("unknown_user")}const Je=At({id:"userStore",state:()=>({currentUser:null,loading:!1,error:null}),getters:{fullName(){return this.currentUser===null?null:ht(this.currentUser)},isAdmin(){var e;return((e=this.currentUser)==null?void 0:e.role.admin_access)===!0||!1}},actions:{async hydrate(){this.loading=!0;try{const{data:e}=await re.get("/users/me",{params:{fields:"*,avatar.id,role.*"}});this.currentUser=e.data}catch(e){this.error=e}finally{this.loading=!1}},async dehydrate(){this.$reset()},async trackPage(e){const t=Bo(),n=performance.now();await re.patch("/users/me/track/page",{last_page:e});const l=performance.now();t.save({timestamp:new Date,latency:l-n}),this.currentUser&&(this.currentUser.last_page=e)}}});var q=(e,t)=>{const n=e.__vccOpts||e;for(const[l,i]of t)n[l]=i;return n};const U$=z({props:{filter:{type:Object,default:null}},emits:["update:filter"],setup(e,{emit:t}){const{t:n}=Y(),l=Je(),i=V(()=>{var m;return(m=l.currentUser)==null?void 0:m.id}),u=V(()=>{var m,f;return(f=Object.keys((m=e.filter)!=null?m:{})[0])!=null?f:null}),a=V(()=>{var m,f,v;return(v=(f=Object.values((m=e.filter)!=null?m:{})[0])==null?void 0:f._eq)!=null?v:null});return{t:n,currentUserID:i,setNavFilter:s,clearNavFilter:r,filterField:u,filterValue:a};function s(m,f){t("update:filter",{[m]:{_eq:f}})}function r(){t("update:filter",null)}}});function N$(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-list-item-icon"),r=c("v-text-overflow"),m=c("v-list-item-content"),f=c("v-list-item"),v=c("v-divider"),_=c("v-list");return p(),C(_,{nav:""},{default:d(()=>[o(f,{clickable:"",active:!e.filterField,onClick:e.clearNavFilter},{default:d(()=>[o(s,null,{default:d(()=>[o(a,{name:"access_time"})]),_:1}),o(m,null,{default:d(()=>[o(r,{text:e.t("all_activity")},null,8,["text"])]),_:1})]),_:1},8,["active","onClick"]),o(f,{clickable:"",active:e.filterField==="user"&&e.filterValue===e.currentUserID,onClick:t[0]||(t[0]=y=>e.setNavFilter("user",e.currentUserID))},{default:d(()=>[o(s,null,{default:d(()=>[o(a,{name:"face"})]),_:1}),o(m,null,{default:d(()=>[o(r,{text:e.t("my_activity")},null,8,["text"])]),_:1})]),_:1},8,["active"]),o(v),o(f,{clickable:"",active:e.filterField==="action"&&e.filterValue==="create",onClick:t[1]||(t[1]=y=>e.setNavFilter("action","create"))},{default:d(()=>[o(s,null,{default:d(()=>[o(a,{name:"add"})]),_:1}),o(m,null,{default:d(()=>[o(r,{text:e.t("create")},null,8,["text"])]),_:1})]),_:1},8,["active"]),o(f,{clickable:"",active:e.filterField==="action"&&e.filterValue==="update",onClick:t[2]||(t[2]=y=>e.setNavFilter("action","update"))},{default:d(()=>[o(s,null,{default:d(()=>[o(a,{name:"check"})]),_:1}),o(m,null,{default:d(()=>[o(r,{text:e.t("update")},null,8,["text"])]),_:1})]),_:1},8,["active"]),o(f,{clickable:"",active:e.filterField==="action"&&e.filterValue==="delete",onClick:t[3]||(t[3]=y=>e.setNavFilter("action","delete"))},{default:d(()=>[o(s,null,{default:d(()=>[o(a,{name:"clear"})]),_:1}),o(m,null,{default:d(()=>[o(r,{text:e.t("delete_label")},null,8,["text"])]),_:1})]),_:1},8,["active"]),o(f,{clickable:"",active:e.filterField==="action"&&e.filterValue==="comment",onClick:t[4]||(t[4]=y=>e.setNavFilter("action","comment"))},{default:d(()=>[o(s,null,{default:d(()=>[o(a,{name:"chat_bubble_outline"})]),_:1}),o(m,null,{default:d(()=>[o(r,{text:e.t("comment")},null,8,["text"])]),_:1})]),_:1},8,["active"]),o(f,{clickable:"",active:e.filterField==="action"&&e.filterValue==="login",onClick:t[5]||(t[5]=y=>e.setNavFilter("action","login"))},{default:d(()=>[o(s,null,{default:d(()=>[o(a,{name:"login"})]),_:1}),o(m,null,{default:d(()=>[o(r,{text:e.t("login")},null,8,["text"])]),_:1})]),_:1},8,["active"])]),_:1})}var B$=q(U$,[["render",N$]]);function wn(e,t=E(null),n=!1){const l=On(),i=Je(),u=E(!1),a=V(()=>t.value?!!l.getBookmark(t.value):!1),s=E({});N();const r=E(!0),m=V(()=>s.value.user===i.currentUser.id),f=async M=>{if(n)return;u.value=!0;const B=await l.savePreset(M||s.value);return s.value=Ve(pe({},s.value),{id:B.id,user:B.user}),r.value=!0,u.value=!1,B},v=U.exports.debounce(async()=>{f()},450);function _(){if(a.value){const M=l.getBookmark(Number(t.value));r.value=U.exports.isEqual(s.value,M)}else v()}function y(M,B){s.value=U.exports.assign({},s.value,M),B?f():_()}_e([e,t],()=>{N()});const g=V({get(){var M;return((M=s.value.layout_options)==null?void 0:M[h.value])||null},set(M){const{layout_options:B}=s.value;y({layout_options:U.exports.assign({},B,{[h.value]:M})})}}),$=V({get(){var M;return((M=s.value.layout_query)==null?void 0:M[h.value])||null},set(M){const{layout_query:B}=s.value;y({layout_query:U.exports.assign({},B,{[h.value]:M})})}}),h=V({get:()=>s.value.layout||"tabular",set:M=>y({layout:M})}),k=V({get:()=>{var M;return(M=s.value.filter)!=null?M:null},set:M=>y({filter:M})}),A=V({get:()=>s.value.refresh_interval||null,set:M=>y({refresh_interval:M})}),F=V({get:()=>s.value.search||null,set:M=>y({search:M})}),P=V({get:()=>{var M;return((M=s.value)==null?void 0:M.bookmark)||null},set:M=>y({bookmark:M},!0)});return{bookmarkExists:a,layout:h,layoutOptions:g,layoutQuery:$,filter:k,search:F,refreshInterval:A,savePreset:f,saveCurrentAsBookmark:L,bookmarkTitle:P,resetPreset:T,bookmarkSaved:r,bookmarkIsMine:m,busy:u,clearLocalSave:O,localPreset:s};function O(){const M=l.getBookmark(Number(t.value));M&&(s.value=pe({},M)),r.value=!0}async function T(){y({layout_query:null,layout_options:null,layout:"tabular",filter:null,search:null,refresh_interval:null},!0)}function N(){const M={layout:"tabular"};t.value===null?U.exports.assign(M,l.getPresetForCollection(e.value)):a.value&&U.exports.assign(M,l.getBookmark(Number(t.value))),s.value=M}async function L(M){const B=pe(pe({},s.value),M);return B.id&&delete B.id,B.user=i.currentUser.id,await f(B)}}const xl="wrapper",Va=["selection","layoutOptions","layoutQuery"];function q$(e){return Va.includes(e)}function z$(e){return z({name:`${e.id}-${xl}`,props:{collection:{type:String,required:!0},selection:{type:Array,default:()=>[]},layoutOptions:{type:Object,default:()=>({})},layoutQuery:{type:Object,default:()=>({})},filter:{type:Object,default:null},filterUser:{type:Object,default:null},filterSystem:{type:Object,default:null},search:{type:String,default:null},showSelect:{type:String,default:"multiple"},selectMode:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},resetPreset:{type:Function,default:null},clearFilters:{type:Function,default:null}},emits:Va.map(t=>`update:${t}`),setup(t,{emit:n}){const l=Zt(pe(pe({},e.setup(t,{emit:n})),Re(t)));for(const i in l)l[`onUpdate:${i}`]=u=>{q$(i)?n(`update:${i}`,u):Object.keys(t).includes(i)||(l[i]=u)};return{state:l}},render(t){return t.$slots.default!==void 0?t.$slots.default({layoutState:t.state}):null}})}function un(e){const{layouts:t}=$n(),n=V(()=>t.value.map(i=>z$(i)));return{layoutWrapper:V(()=>{const i=n.value.find(u=>u.name===`${e.value}-${xl}`);return i===void 0?n.value.find(u=>u.name===`tabular-${xl}`):i})}}const K$=z({props:{modelValue:{type:String,default:"tabular"}},emits:["update:modelValue"],setup(e,{emit:t}){const{t:n}=Y(),{layouts:l}=$n(),i=V(()=>{var a;return(a=Jl(e.modelValue))!=null?a:Jl("tabular")}),u=Le(e,"modelValue",t);return{t:n,currentLayout:i,layouts:l,layout:u}}}),H$={class:"layout-options"},W$={class:"field"},G$={class:"type-label"};function J$(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-select"),r=c("sidebar-detail");return p(),C(r,{icon:"layers",title:e.t("layout_options")},{default:d(()=>[S("div",H$,[S("div",W$,[S("div",G$,b(e.t("layout")),1),o(s,{modelValue:e.layout,"onUpdate:modelValue":t[0]||(t[0]=m=>e.layout=m),items:e.layouts,"item-text":"name","item-value":"id","item-icon":"icon"},Ze({_:2},[e.currentLayout.icon?{name:"prepend",fn:d(()=>[o(a,{name:e.currentLayout.icon},null,8,["name"])])}:void 0]),1032,["modelValue","items"])]),ye(e.$slots,"default",{},void 0,!0)])]),_:3},8,["title"])}var qn=q(K$,[["render",J$],["__scopeId","data-v-4f5e1a28"]]);const Q$=z({props:{modelValue:{type:String,default:null},collection:{type:String,required:!0},filter:{type:Object,default:null}},emits:["update:modelValue","update:filter"],setup(e,{emit:t}){const{t:n}=Y(),l=E(null),i=E(e.modelValue!==null),u=E(!1),a=E(!1);_e(i,v=>{v===!0&&l.value!==null&&l.value.focus()});const s=V(()=>{if(!e.filter)return 0;let v=[];return _(e.filter),v.length;function _(y){for(const[g,$]of Object.entries(y))g==="_and"||g==="_or"?$.forEach(_):g.startsWith("_")?v.push(g):U.exports.isObject($)&&_($)}});return{t:n,active:i,disable:m,input:l,emitValue:f,activeFilterCount:s,filterActive:u,onClickOutside:r,filterBorder:a};function r(v){return!(v.path||v.composedPath()).some(y=>{var g;return(g=y==null?void 0:y.classList)==null?void 0:g.contains("v-menu-content")})}function m(){i.value=!1,u.value=!1}function f(){var _;if(!l.value)return;const v=(_=l.value)==null?void 0:_.value;t("update:modelValue",v)}}}),X$=["value","placeholder"],Z$={class:"filter"};function Y$(e,t,n,l,i,u){const a=c("v-icon"),s=c("interface-system-filter"),r=c("transition-expand"),m=c("v-badge"),f=Se("tooltip"),v=Se("click-outside");return p(),C(m,{bottom:"",right:"",class:"search-badge",value:e.activeFilterCount,disabled:!e.activeFilterCount||e.filterActive},{default:d(()=>[x(S("div",{class:se(["search-input",{active:e.active,"filter-active":e.filterActive,"has-content":!!e.modelValue,"filter-border":e.filterBorder}]),onClick:t[7]||(t[7]=_=>e.active=!0)},[x(o(a,{name:"search",class:"icon-search",clickable:!e.active},null,8,["clickable"]),[[f,e.active?null:e.t("search"),void 0,{bottom:!0}]]),S("input",{ref:"input",value:e.modelValue,placeholder:e.t("search_items"),onInput:t[0]||(t[0]=(..._)=>e.emitValue&&e.emitValue(..._)),onPaste:t[1]||(t[1]=(..._)=>e.emitValue&&e.emitValue(..._))},null,40,X$),e.modelValue?(p(),C(a,{key:0,clickable:"",class:"icon-empty",name:"close",onClick:t[2]||(t[2]=Fe(_=>e.$emit("update:modelValue",null),["stop"]))})):R("",!0),x(o(a,{clickable:"",class:"icon-filter",name:"filter_list",onClick:t[3]||(t[3]=_=>e.filterActive=!e.filterActive)},null,512),[[f,e.t("filter"),void 0,{bottom:!0}]]),o(r,{onBeforeEnter:t[5]||(t[5]=_=>e.filterBorder=!0),onAfterLeave:t[6]||(t[6]=_=>e.filterBorder=!1)},{default:d(()=>[x(S("div",Z$,[o(s,{class:"filter-input",inline:"",value:e.filter,"collection-name":e.collection,onInput:t[4]||(t[4]=_=>e.$emit("update:filter",_))},null,8,["value","collection-name"])],512),[[Et,e.filterActive]])]),_:1})],2),[[v,{handler:e.disable,middleware:e.onClickOutside}]])]),_:1},8,["value","disabled"])}var kn=q(Q$,[["render",Y$],["__scopeId","data-v-bdf227f4"]]);const x$=z({name:"ActivityCollection",components:{ActivityNavigation:B$,LayoutSidebarDetail:qn,SearchInput:kn},props:{primaryKey:{type:String,default:null}},setup(){const{t:e}=Y(),{layout:t,layoutOptions:n,layoutQuery:l,filter:i,search:u}=wn(E("directus_activity")),{breadcrumb:a}=m(),{layoutWrapper:s}=un(t),r=E(null);return{t:e,breadcrumb:a,layout:t,layoutWrapper:s,layoutOptions:n,layoutQuery:l,search:u,filter:i,roleFilter:r,mergeFilters:fl};function m(){return{breadcrumb:V(()=>[{name:e("collection",2),to:"/content"}])}}}}),ew={class:"page-description"};function tw(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-button"),r=c("search-input"),m=c("activity-navigation"),f=c("v-info"),v=c("router-view"),_=c("sidebar-detail"),y=c("layout-sidebar-detail"),g=c("private-view"),$=Se("md");return p(),C(Ue(e.layoutWrapper),{"layout-options":e.layoutOptions,"onUpdate:layout-options":t[4]||(t[4]=h=>e.layoutOptions=h),"layout-query":e.layoutQuery,"onUpdate:layout-query":t[5]||(t[5]=h=>e.layoutQuery=h),filter:e.mergeFilters(e.filter,e.roleFilter),"filter-user":e.filter,"filter-system":e.roleFilter,search:e.search,"show-select":"none",collection:"directus_activity"},{default:d(({layoutState:h})=>[o(g,{title:e.t("activity_feed")},{"title-outer:prepend":d(()=>[o(s,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:d(()=>[o(a,{name:"access_time"})]),_:1})]),"actions:prepend":d(()=>[(p(),C(Ue(`layout-actions-${e.layout}`),He(Xe(h)),null,16))]),actions:d(()=>[o(r,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=k=>e.search=k),filter:e.filter,"onUpdate:filter":t[1]||(t[1]=k=>e.filter=k),collection:"directus_activity"},null,8,["modelValue","filter"])]),navigation:d(()=>[o(m,{filter:e.roleFilter,"onUpdate:filter":t[2]||(t[2]=k=>e.roleFilter=k)},null,8,["filter"])]),sidebar:d(()=>[o(_,{icon:"info_outline",title:e.t("information"),close:""},{default:d(()=>[x(S("div",ew,null,512),[[$,e.t("page_help_activity_collection")]])]),_:1},8,["title"]),o(y,{modelValue:e.layout,"onUpdate:modelValue":t[3]||(t[3]=k=>e.layout=k)},{default:d(()=>[(p(),C(Ue(`layout-options-${e.layout}`),He(Xe(h)),null,16))]),_:2},1032,["modelValue"]),(p(),C(Ue(`layout-sidebar-${e.layout}`),He(Xe(h)),null,16))]),default:d(()=>[(p(),C(Ue(`layout-${e.layout}`),dt(h,{class:"layout"}),{"no-results":d(()=>[o(f,{title:e.t("no_results"),icon:"search",center:""},{default:d(()=>[D(b(e.t("no_results_copy")),1)]),_:1},8,["title"])]),"no-items":d(()=>[o(f,{title:e.t("item_count",0),icon:"access_time",center:""},{default:d(()=>[D(b(e.t("no_items_copy")),1)]),_:1},8,["title"])]),_:2},1040)),o(v,{name:"detail","primary-key":e.primaryKey},null,8,["primary-key"])]),_:2},1032,["title"])]),_:1},8,["layout-options","layout-query","filter","filter-user","filter-system","search"])}var nw=q(x$,[["render",tw],["__scopeId","data-v-70dcd17a"]]);const Fa=Symbol();function cn(){const e=E(!1);let t;const n=new Promise(i=>{t=i});return it(()=>{e.value=!0}),Pt(()=>(e.value=!1,n)),Yt(Fa,l),e;function l(){t()}}function lw(){return bt(Fa,void 0)}const ow=z({name:"ActivityDetail",props:{primaryKey:{type:String,required:!0}},setup(e){const{t,te:n}=Y(),l=Ye(),i=cn(),u=E(),a=E(!1),s=E(null),r=V(()=>{if(!(!u.value||u.value.collection.startsWith("directus_")))return`/content/${u.value.collection}/${encodeURIComponent(u.value.item)}`});return _e(()=>e.primaryKey,m,{immediate:!0}),{t,isOpen:i,item:u,loading:a,error:s,close:f,openItemLink:r,userName:ht};async function m(){a.value=!0;try{const v=await re.get(`/activity/${e.primaryKey}`,{params:{fields:["user.id","user.email","user.first_name","user.last_name","action","timestamp","ip","user_agent","collection","item"]}});u.value=v.data.data,u.value&&(n(`field_options.directus_activity.${u.value.action}`)&&(u.value.action=t(`field_options.directus_activity.${u.value.action}`)),u.value.timestamp=new Date(u.value.timestamp).toLocaleString(qe.global.locale.value))}catch(v){s.value=v}finally{a.value=!1}}function f(){l.push("/activity")}}}),aw={key:1,class:"content"},iw={key:2,class:"content"},sw={class:"type-label"},rw={class:"type-label"},dw={class:"type-label"},uw={class:"type-label"},cw={class:"type-label"},pw={class:"type-label"},mw={class:"type-label"};function fw(e,t,n,l,i,u){const a=c("v-progress-circular"),s=c("v-notice"),r=c("user-popover"),m=c("v-icon"),f=c("v-button"),v=c("v-drawer"),_=Se("tooltip");return p(),C(v,{"model-value":e.isOpen,title:e.t("activity_item"),"onUpdate:modelValue":e.close,onCancel:e.close},{actions:d(()=>[e.openItemLink?x((p(),C(f,{key:0,to:e.openItemLink,icon:"",rounded:""},{default:d(()=>[o(m,{name:"launch"})]),_:1},8,["to"])),[[_,e.t("open"),void 0,{bottom:!0}]]):R("",!0),x(o(f,{to:"/activity",icon:"",rounded:""},{default:d(()=>[o(m,{name:"check"})]),_:1},512),[[_,e.t("done"),void 0,{bottom:!0}]])]),default:d(()=>[e.loading?(p(),C(a,{key:0,indeterminate:""})):e.error?(p(),I("div",aw,[o(s,{type:"danger"},{default:d(()=>[D(b(e.error),1)]),_:1})])):(p(),I("div",iw,[S("p",sw,b(e.t("user"))+":",1),e.item.user?(p(),C(r,{key:0,user:e.item.user.id},{default:d(()=>[D(b(e.userName(e.item.user)),1)]),_:1},8,["user"])):R("",!0),S("p",rw,b(e.t("action"))+":",1),S("p",null,b(e.item.action),1),S("p",dw,b(e.t("date"))+":",1),S("p",null,b(e.item.timestamp),1),S("p",uw,b(e.t("ip_address"))+":",1),S("p",null,b(e.item.ip),1),S("p",cw,b(e.t("user_agent"))+":",1),S("p",null,b(e.item.user_agent),1),S("p",pw,b(e.t("collection"))+":",1),S("p",null,b(e.item.collection),1),S("p",mw,b(e.t("item"))+":",1),S("p",null,b(e.item.item),1)]))]),_:1},8,["model-value","title","onUpdate:modelValue","onCancel"])}var vw=q(ow,[["render",fw],["__scopeId","data-v-4615f290"]]),_w=dn({id:"activity",hidden:!0,name:"$t:activity",icon:"notifications",routes:[{name:"activity-collection",path:"",component:nw,props:!0,children:[{name:"activity-item",path:":primaryKey",components:{detail:vw}}]}]}),yw=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:_w});function eo(e,t){const n=new URLSearchParams(e.split("?")[1]||"");for(const[l,i]of Object.entries(t))n.set(l,i);return e.split("?")[0]+"?"+n}const pn=()=>ea(Ur);pn.displayName="router-passthrough";let to,Sn;function Aa(e){const t=Ke();return Sn||(Sn=E(t.collections.filter(n=>{var l,i;return((l=n.meta)==null?void 0:l.collapse)==="open"||((i=n.meta)==null?void 0:i.collapse)==="locked"}).map(({collection:n})=>n))),to===void 0&&(to=E(!1)),_e(e,n=>{var u;if(n===null)return;let l=t.getCollection(n);const i=[];for(;(u=l==null?void 0:l.meta)==null?void 0:u.group;)Sn.value.includes(l.meta.group)===!1&&i.push(l.meta.group),l=t.getCollection(l.meta.group);Sn.value=[...Sn.value,...i]},{immediate:!0}),{showHidden:to,activeGroups:Sn}}const gw=z({props:{icon:{type:String,default:"label"},color:{type:String,default:"var(--foreground-normal)"},name:{type:String,required:!0},search:{type:String,default:null}}});function hw(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-list-item-icon"),r=c("v-text-overflow"),m=c("v-list-item-content");return p(),I(ie,null,[o(s,null,{default:d(()=>{var f;return[o(a,{name:(f=e.icon)!=null?f:"label",color:e.color},null,8,["name","color"])]}),_:1}),o(m,null,{default:d(()=>[o(r,{text:e.name,highlight:e.search},null,8,["text","highlight"])]),_:1})],64)}var bw=q(gw,[["render",hw]]);let no;function Ce(e){var l,i,u,a,s,r,m,f,v,_;no||(no=nl());const t=((s=(a=(u=(i=(l=e.response)==null?void 0:l.data)==null?void 0:i.errors)==null?void 0:u[0])==null?void 0:a.extensions)==null?void 0:s.code)||((r=e==null?void 0:e.extensions)==null?void 0:r.code)||"UNKNOWN",n=((_=(v=(f=(m=e.response)==null?void 0:m.data)==null?void 0:f.errors)==null?void 0:v[0])==null?void 0:_.message)||e.message||void 0;console.warn(e),no.add({title:qe.global.t(`errors.${t}`),text:n,type:"error",dialog:!0,error:e})}const $w=z({props:{bookmark:{type:Object,required:!0}},setup(e){const{t}=Y(),n=Ye(),l=xt(),i=Je(),u=On(),a=V(()=>e.bookmark.user===i.currentUser.id),{renameActive:s,renameValue:r,renameSave:m,renameSaving:f}=$(),{deleteActive:v,deleteValue:_,deleteSave:y,deleteSaving:g}=h();return{t,isMine:a,renameActive:s,renameValue:r,renameSave:m,renameSaving:f,deleteActive:v,deleteValue:_,deleteSave:y,deleteSaving:g};function $(){const k=E(!1),A=E(e.bookmark.bookmark),F=E(!1);return{renameActive:k,renameValue:A,renameSave:P,renameSaving:F};async function P(){F.value=!0;try{await u.savePreset(Ve(pe({},e.bookmark),{bookmark:A.value})),k.value=!1}catch(O){Ce(O)}finally{F.value=!1}}}function h(){const k=E(!1),A=E(e.bookmark.bookmark),F=E(!1);return{deleteActive:k,deleteValue:A,deleteSave:P,deleteSaving:F};async function P(){var O;F.value=!0;try{let T=null;+((O=l.query)==null?void 0:O.bookmark)===e.bookmark.id&&(T=`/content/${e.bookmark.collection}`),await u.delete(e.bookmark.id),k.value=!1,T&&n.replace(T)}catch(T){Ce(T)}finally{F.value=!1}}}}});function ww(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-list-item-icon"),r=c("v-text-overflow"),m=c("v-list-item-content"),f=c("v-list-item"),v=c("v-list"),_=c("v-menu"),y=c("v-card-title"),g=c("v-input"),$=c("v-card-text"),h=c("v-button"),k=c("v-card-actions"),A=c("v-card"),F=c("v-dialog"),P=Se("context-menu");return x((p(),C(f,{to:`/content/${e.bookmark.collection}?bookmark=${e.bookmark.id}`,query:"",class:"bookmark",clickable:""},{default:d(()=>[o(s,null,{default:d(()=>[o(a,{name:"bookmark_outline"})]),_:1}),o(m,null,{default:d(()=>[o(r,{text:e.bookmark.bookmark},null,8,["text"])]),_:1}),o(_,{ref:"contextMenu","show-arrow":"",placement:"bottom-start"},{default:d(()=>[o(v,null,{default:d(()=>[o(f,{clickable:"",disabled:e.isMine===!1,onClick:t[0]||(t[0]=O=>e.renameActive=!0)},{default:d(()=>[o(s,null,{default:d(()=>[o(a,{name:"edit",outline:""})]),_:1}),o(m,null,{default:d(()=>[o(r,{text:e.t("rename_bookmark")},null,8,["text"])]),_:1})]),_:1},8,["disabled"]),o(f,{clickable:"",class:"danger",disabled:e.isMine===!1,onClick:t[1]||(t[1]=O=>e.deleteActive=!0)},{default:d(()=>[o(s,null,{default:d(()=>[o(a,{name:"delete",outline:""})]),_:1}),o(m,null,{default:d(()=>[o(r,{text:e.t("delete_bookmark")},null,8,["text"])]),_:1})]),_:1},8,["disabled"])]),_:1})]),_:1},512),o(F,{modelValue:e.renameActive,"onUpdate:modelValue":t[4]||(t[4]=O=>e.renameActive=O),persistent:"",onEsc:t[5]||(t[5]=O=>e.renameActive=!1)},{default:d(()=>[o(A,null,{default:d(()=>[o(y,null,{default:d(()=>[D(b(e.t("rename_bookmark")),1)]),_:1}),o($,null,{default:d(()=>[o(g,{modelValue:e.renameValue,"onUpdate:modelValue":t[2]||(t[2]=O=>e.renameValue=O),autofocus:"",onKeyup:gn(e.renameSave,["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),o(k,null,{default:d(()=>[o(h,{secondary:"",onClick:t[3]||(t[3]=O=>e.renameActive=!1)},{default:d(()=>[D(b(e.t("cancel")),1)]),_:1}),o(h,{disabled:e.renameValue===null,loading:e.renameSaving,onClick:e.renameSave},{default:d(()=>[D(b(e.t("save")),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(F,{modelValue:e.deleteActive,"onUpdate:modelValue":t[7]||(t[7]=O=>e.deleteActive=O),persistent:"",onEsc:t[8]||(t[8]=O=>e.deleteActive=!1)},{default:d(()=>[o(A,null,{default:d(()=>[o(y,null,{default:d(()=>[D(b(e.t("delete_bookmark_copy",{bookmark:e.bookmark.bookmark})),1)]),_:1}),o(k,null,{default:d(()=>[o(h,{secondary:"",onClick:t[6]||(t[6]=O=>e.deleteActive=!1)},{default:d(()=>[D(b(e.t("cancel")),1)]),_:1}),o(h,{loading:e.deleteSaving,kind:"danger",onClick:e.deleteSave},{default:d(()=>[D(b(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["to"])),[[P,"contextMenu"]])}var kw=q($w,[["render",ww],["__scopeId","data-v-417005a4"]]);const Sw=z({name:"NavigationItem",components:{NavigationItemContent:bw,NavigationBookmark:kw},props:{collection:{type:Object,required:!0},showHidden:{type:Boolean,default:!1},search:{type:String,default:null}},setup(e){const{t}=Y(),{isAdmin:n}=Je(),l=Ke(),i=On(),u=V(()=>_(e.collection)),a=V(()=>y(e.collection)),s=V(()=>{var g,$;return((g=e.collection.meta)==null?void 0:g.archive_field)&&(($=e.collection.meta)==null?void 0:$.archive_app_filter)}),r=V(()=>u.value.length>0||a.value.length>0),m=V(()=>e.collection.schema?`/content/${e.collection.collection}`:""),f=V(()=>{if(!e.search||e.search.length<3)return!0;const g=e.search.toLowerCase();return h(e.collection)||$(u.value,a.value);function $(A,F){return A.some(P=>{const O=_(P),T=y(P);return h(P)||$(O,T)})||F.some(P=>k(P))}function h(A){return A.collection.includes(g)||A.name.toLowerCase().includes(g)}function k(A){var F;return(F=A.bookmark)==null?void 0:F.toLowerCase().includes(g)}}),v=V(()=>s.value||n);return{childCollections:u,childBookmarks:a,isGroup:r,to:m,matchesSearch:f,isAdmin:n,t,hasArchive:s,hasContextMenu:v};function _(g){let $=l.collections.filter(h=>{var k;return((k=h.meta)==null?void 0:k.group)===g.collection});return e.showHidden===!1&&($=$.filter(h=>{var k;return((k=h.meta)==null?void 0:k.hidden)!==!0})),U.exports.orderBy($,["meta.sort","collection"])}function y(g){return i.bookmarks.filter($=>$.collection===g.collection)}}});function Cw(e,t,n,l,i,u){var A,F;const a=c("navigation-item-content"),s=c("navigation-item",!0),r=c("navigation-bookmark"),m=c("v-list-group"),f=c("v-list-item"),v=c("v-icon"),_=c("v-list-item-icon"),y=c("v-text-overflow"),g=c("v-list-item-content"),$=c("v-list"),h=c("v-menu"),k=Se("context-menu");return p(),I(ie,null,[e.isGroup&&e.matchesSearch?x((p(),C(m,{key:0,to:e.to,scope:"content-navigation",value:e.collection.collection,query:"","arrow-placement":((A=e.collection.meta)==null?void 0:A.collapse)==="locked"?!1:"after"},{activator:d(()=>{var P,O;return[o(a,{search:e.search,name:e.collection.name,icon:(P=e.collection.meta)==null?void 0:P.icon,color:(O=e.collection.meta)==null?void 0:O.color},null,8,["search","name","icon","color"])]}),default:d(()=>[(p(!0),I(ie,null,he(e.childCollections,P=>(p(),C(s,{key:P.collection,collection:P,search:e.search},null,8,["collection","search"]))),128)),(p(!0),I(ie,null,he(e.childBookmarks,P=>(p(),C(r,{key:P.id,bookmark:P},null,8,["bookmark"]))),128))]),_:1},8,["to","value","arrow-placement"])),[[k,"contextMenu"]]):e.matchesSearch?x((p(),C(f,{key:1,to:e.to,value:e.collection.collection,class:se({hidden:(F=e.collection.meta)==null?void 0:F.hidden}),query:""},{default:d(()=>{var P,O;return[o(a,{search:e.search,name:e.collection.name,icon:(P=e.collection.meta)==null?void 0:P.icon,color:(O=e.collection.meta)==null?void 0:O.color},null,8,["search","name","icon","color"])]}),_:1},8,["to","value","class"])),[[k,e.hasContextMenu?"contextMenu":null]]):R("",!0),e.hasContextMenu?(p(),C(h,{key:2,ref:"contextMenu","show-arrow":"",placement:"bottom-start"},{default:d(()=>[o($,null,{default:d(()=>[e.hasArchive?(p(),C(f,{key:0,clickable:"",to:`/content/${e.collection.collection}?archive`,exact:"",query:""},{default:d(()=>[o(_,null,{default:d(()=>[o(v,{name:"archive",outline:""})]),_:1}),o(g,null,{default:d(()=>[o(y,{text:e.t("show_archived_items")},null,8,["text"])]),_:1})]),_:1},8,["to"])):R("",!0),e.isAdmin?(p(),C(f,{key:1,clickable:"",to:`/settings/data-model/${e.collection.collection}`},{default:d(()=>[o(_,null,{default:d(()=>[o(v,{name:"list_alt"})]),_:1}),o(g,null,{default:d(()=>[o(y,{text:e.t("edit_collection")},null,8,["text"])]),_:1})]),_:1},8,["to"])):R("",!0)]),_:1})]),_:1},512)):R("",!0)],64)}var Vw=q(Sw,[["render",Cw],["__scopeId","data-v-05859c07"]]);const Fw=z({components:{NavigationItem:Vw},props:{currentCollection:{type:String,default:null}},setup(e){const{t}=Y(),{currentCollection:n}=Re(e),{activeGroups:l,showHidden:i}=Aa(n),u=E(""),a=Ke(),s=V(()=>{const v=i.value?a.allCollections:a.visibleCollections;return U.exports.orderBy(v.filter(_=>{var y;return U.exports.isNil((y=_==null?void 0:_.meta)==null?void 0:y.group)}),["meta.sort","collection"])}),r=V(()=>a.visibleCollections.length>5),m=V(()=>a.visibleCollections.length>20),f=V(()=>a.allCollections.length>a.visibleCollections.length);return{t,activeGroups:l,showHidden:i,rootItems:s,dense:r,search:u,showSearch:m,hasHiddenCollections:f}}}),Aw={class:"content-navigation-wrapper"},Iw={key:0,class:"search-input"};function Ew(e,t,n,l,i,u){const a=c("v-input"),s=c("navigation-item"),r=c("v-icon"),m=c("v-list-item-icon"),f=c("v-text-overflow"),v=c("v-list-item-content"),_=c("v-list-item"),y=c("v-menu"),g=c("v-list"),$=Se("context-menu");return p(),I("div",Aw,[e.showSearch?(p(),I("div",Iw,[o(a,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=h=>e.search=h),type:"search",placeholder:e.t("search_collection")},null,8,["modelValue","placeholder"])])):R("",!0),x(o(g,{modelValue:e.activeGroups,"onUpdate:modelValue":t[2]||(t[2]=h=>e.activeGroups=h),scope:"content-navigation",class:"content-navigation",tabindex:"-1",nav:"",mandatory:!1,dense:e.dense},{default:d(()=>[(p(!0),I(ie,null,he(e.rootItems,h=>(p(),C(s,{key:h.collection,"show-hidden":e.showHidden,collection:h,search:e.search},null,8,["show-hidden","collection","search"]))),128)),e.hasHiddenCollections?(p(),C(y,{key:0,ref:"contextMenu","show-arrow":"",placement:"bottom-start"},{default:d(()=>[o(_,{clickable:"",onClick:t[1]||(t[1]=h=>e.showHidden=!e.showHidden)},{default:d(()=>[o(m,null,{default:d(()=>[o(r,{name:e.showHidden?"visibility_off":"visibility"},null,8,["name"])]),_:1}),o(v,null,{default:d(()=>[o(f,{text:e.showHidden?e.t("hide_hidden_collections"):e.t("show_hidden_collections")},null,8,["text"])]),_:1})]),_:1})]),_:1},512)):R("",!0)]),_:1},8,["modelValue","dense"]),[[$,"contextMenu"]])])}var yl=q(Fw,[["render",Ew],["__scopeId","data-v-970f0324"]]);const Dw=z({components:{ContentNavigation:yl},setup(){const{t:e}=Y();return{t:e}}}),Tw={class:"not-found"};function Pw(e,t,n,l,i,u){const a=c("content-navigation"),s=c("v-info"),r=c("private-view");return p(),C(r,{title:e.t("page_not_found")},{navigation:d(()=>[o(a)]),default:d(()=>[S("div",Tw,[o(s,{title:e.t("page_not_found"),icon:"not_interested"},{default:d(()=>[D(b(e.t("page_not_found_body")),1)]),_:1},8,["title"])])]),_:1},8,["title"])}var lo=q(Dw,[["render",Pw],["__scopeId","data-v-cc545b6a"]]);const Ow=z({props:{modelValue:{type:Number,default:null}},emits:["update:modelValue","refresh"],setup(e,{emit:t}){const{t:n}=Y(),l=V({get(){return e.modelValue},set(s){t("update:modelValue",s)}}),i=E(null);_e(l,s=>{i.value!==null&&clearInterval(i.value),s!==null&&s>0&&(i.value=setInterval(()=>{t("refresh")},s*1e3))},{immediate:!0});const u=V(()=>[null,10,30,60,300].map(r=>r===null?{text:n("no_refresh"),value:null}:r>=60&&r%60==0?{text:n("refresh_interval_minutes",{minutes:r/60},r/60),value:r}:{text:n("refresh_interval_seconds",{seconds:r},r),value:r})),a=V(()=>l.value!==null);return{t:n,active:a,interval:l,items:u}}}),Lw={class:"fields"},jw={class:"field full"},Rw={class:"type-label"};function Mw(e,t,n,l,i,u){const a=c("v-select"),s=c("sidebar-detail");return p(),C(s,{icon:e.active?"sync":"sync_disabled",title:e.t("auto_refresh"),badge:e.active},{default:d(()=>[S("div",Lw,[S("div",jw,[S("p",Rw,b(e.t("refresh_interval")),1),o(a,{modelValue:e.interval,"onUpdate:modelValue":t[0]||(t[0]=r=>e.interval=r),items:e.items},null,8,["modelValue","items"])])])]),_:1},8,["icon","title","badge"])}var Uw=q(Ow,[["render",Mw],["__scopeId","data-v-3c22b9bc"]]);const Nw=z({props:{modelValue:{type:Boolean,default:!1},saving:{type:Boolean,default:!1}},emits:["save","update:modelValue"],setup(e,{emit:t}){const{t:n}=Y(),l=E(null);return{t:n,bookmarkName:l,cancel:i};function i(){l.value=null,t("update:modelValue",!1)}}});function Bw(e,t,n,l,i,u){const a=c("v-card-title"),s=c("v-input"),r=c("v-card-text"),m=c("v-button"),f=c("v-card-actions"),v=c("v-card"),_=c("v-dialog");return p(),C(_,{"model-value":e.modelValue,persistent:"","onUpdate:modelValue":t[3]||(t[3]=y=>e.$emit("update:modelValue",y)),onEsc:e.cancel},{activator:d(y=>[ye(e.$slots,"activator",He(Xe(y)))]),default:d(()=>[o(v,null,{default:d(()=>[o(a,null,{default:d(()=>[D(b(e.t("create_bookmark")),1)]),_:1}),o(r,null,{default:d(()=>[o(s,{modelValue:e.bookmarkName,"onUpdate:modelValue":t[0]||(t[0]=y=>e.bookmarkName=y),autofocus:"",placeholder:e.t("bookmark_name"),onKeyup:t[1]||(t[1]=gn(y=>e.$emit("save",e.bookmarkName),["enter"]))},null,8,["modelValue","placeholder"])]),_:1}),o(f,null,{default:d(()=>[o(m,{secondary:"",onClick:e.cancel},{default:d(()=>[D(b(e.t("cancel")),1)]),_:1},8,["onClick"]),o(m,{disabled:e.bookmarkName===null||e.bookmarkName.length===0,loading:e.saving,onClick:t[2]||(t[2]=y=>e.$emit("save",e.bookmarkName))},{default:d(()=>[D(b(e.t("save")),1)]),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:3},8,["model-value","onEsc"])}var qw=q(Nw,[["render",Bw]]);const zw=z({props:{modelValue:{type:Boolean,default:!1},saving:{type:Boolean,default:!1},name:{type:String,required:!0}},emits:["save","update:modelValue"],setup(e,{emit:t}){const{t:n}=Y(),l=E(e.name);return _e(()=>e.name,u=>l.value=u),{t:n,bookmarkName:l,cancel:i};function i(){t("update:modelValue",!1)}}});function Kw(e,t,n,l,i,u){const a=c("v-card-title"),s=c("v-input"),r=c("v-card-text"),m=c("v-button"),f=c("v-card-actions"),v=c("v-card"),_=c("v-dialog");return p(),C(_,{"model-value":e.modelValue,persistent:"","onUpdate:modelValue":t[3]||(t[3]=y=>e.$emit("update:modelValue",y)),onEsc:e.cancel},{activator:d(y=>[ye(e.$slots,"activator",He(Xe(y)))]),default:d(()=>[o(v,null,{default:d(()=>[o(a,null,{default:d(()=>[D(b(e.t("edit_bookmark")),1)]),_:1}),o(r,null,{default:d(()=>[o(s,{modelValue:e.bookmarkName,"onUpdate:modelValue":t[0]||(t[0]=y=>e.bookmarkName=y),autofocus:"",placeholder:e.t("bookmark_name"),onKeyup:t[1]||(t[1]=gn(y=>e.$emit("save",e.bookmarkName),["enter"]))},null,8,["modelValue","placeholder"])]),_:1}),o(f,null,{default:d(()=>[o(m,{secondary:"",onClick:e.cancel},{default:d(()=>[D(b(e.t("cancel")),1)]),_:1},8,["onClick"]),o(m,{disabled:e.bookmarkName===null||e.bookmarkName.length===0,loading:e.saving,onClick:t[2]||(t[2]=y=>e.$emit("save",e.bookmarkName))},{default:d(()=>[D(b(e.t("save")),1)]),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:3},8,["model-value","onEsc"])}var Hw=q(zw,[["render",Kw]]);const gl=["FAILED_VALIDATION","RECORD_NOT_UNIQUE"],Ww=`

\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u283B\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28F6\u28E6\u28E4\u28C0\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2880\u2800\u283B\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28F7\u28E6\u28C0\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2819\u28FF\u28FF\u28FF\u28F7\u28FE\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u287F\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28F7\u28C4\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28E4\u28FF\u28C4\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2809\u281B\u281B\u283F\u283F\u283F\u283F\u283F\u281B\u281B\u2809\u2800\u28B0\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28F7\u28C4\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28B0\u28FF\u28FF\u28FF\u28FF\u28F6\u28C4\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28C4\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28F6\u28F6\u28E6\u28E4\u28C4\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28FE\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u2801\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2808\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28F7\u28F6\u28F6\u28F6\u28FE\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u287F\u283F\u283F\u281B\u2809\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u280B\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28B8\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2880\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u284C\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2880\u28E4\u28F6\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u2801\u281B\u281B\u283F\u28BF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28F6\u28F6\u28E4\u28E4\u28C0\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2880\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u281F\u2801\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2809\u281B\u28FF\u28FF\u28FF\u28FF\u28FF\u2846\u28BF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28F6\u28C4\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u287F\u283F\u281B\u281B\u280B\u2809\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2809\u281B\u283F\u28FF\u28C4\u2808\u283B\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28E6\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28FE\u28FF\u28FF\u28FF\u28FF\u280B\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2809\u2809\u2809\u2809\u2809\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2809\u28BF\u28FF\u28FF\u28FF\u28F7\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u28E4\u28FF\u28FF\u28FF\u28FF\u281F\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2809\u2809\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u28F4\u28FF\u28FF\u28FF\u28FF\u281F\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2809\u2809\u2801\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800

`,Gw=["directus_activity","directus_collections","directus_fields","directus_migrations","directus_relations","directus_revisions","directus_sessions","directus_settings"],mn=[{type:"module",id:"content",enabled:!0},{type:"module",id:"users",enabled:!0},{type:"module",id:"files",enabled:!0},{type:"module",id:"insights",enabled:!0},{type:"module",id:"docs",enabled:!0},{type:"module",id:"settings",enabled:!0,locked:!0}],Jw=[{text:"$t:string",value:"string"},{text:"$t:text",value:"text"},{divider:!0},{text:"$t:boolean",value:"boolean"},{divider:!0},{text:"$t:integer",value:"integer"},{text:"$t:bigInteger",value:"bigInteger"},{text:"$t:float",value:"float"},{text:"$t:decimal",value:"decimal"},{divider:!0},{text:"$t:geometry",value:"geometry"},{divider:!0},{text:"$t:timestamp",value:"timestamp"},{text:"$t:datetime",value:"dateTime"},{text:"$t:date",value:"date"},{text:"$t:time",value:"time"},{divider:!0},{text:"$t:json",value:"json"},{text:"$t:csv",value:"csv"},{text:"$t:uuid",value:"uuid"},{text:"$t:hash",value:"hash"}],oo="default",Ia=["oauth2","openid"];const Qw=z({props:{active:{type:Boolean,default:!1},collection:{type:String,required:!0},edits:{type:Object,default:void 0},primaryKeys:{type:Array,required:!0}},emits:["update:active","refresh"],setup(e,{emit:t}){const{t:n}=Y(),{internalEdits:l}=f(),{internalActive:i}=v(),{save:u,cancel:a,saving:s,validationErrors:r}=_(),{collection:m}=Re(e);return{t:n,internalActive:i,internalEdits:l,save:u,saving:s,cancel:a,validationErrors:r};function f(){const y=E({});return{internalEdits:V({get(){return e.edits!==void 0?pe(pe({},e.edits),y.value):y.value},set($){y.value=$}})}}function v(){const y=E(!1);return{internalActive:V({get(){return e.active===void 0?y.value:e.active},set($){y.value=$,t("update:active",$)}})}}function _(){const y=E(!1),g=E([]),$=V(()=>m.value.startsWith("directus_")?`/${m.value.substring(9)}`:`/items/${m.value}`);return{save:h,cancel:k,saving:y,validationErrors:g};async function h(){y.value=!0;try{await re.patch($.value,{keys:e.primaryKeys,data:l.value}),t("refresh"),i.value=!1,l.value={}}catch(A){g.value=A.response.data.errors.filter(P=>{var O;return gl.includes((O=P==null?void 0:P.extensions)==null?void 0:O.code)}).map(P=>P.extensions);const F=A.response.data.errors.filter(P=>{var O;return gl.includes((O=P==null?void 0:P.extensions)==null?void 0:O.code)===!1});F.length>0&&F.forEach(Ce)}finally{y.value=!1}}function k(){i.value=!1,l.value={}}}}}),Xw={class:"drawer-batch-content"};function Zw(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-button"),r=c("v-form"),m=c("v-drawer"),f=Se("tooltip");return p(),C(m,{modelValue:e.internalActive,"onUpdate:modelValue":t[1]||(t[1]=v=>e.internalActive=v),title:e.t("editing_in_batch",{count:e.primaryKeys.length}),persistent:"",onCancel:e.cancel},{actions:d(()=>[x(o(s,{icon:"",rounded:"",loading:e.saving,onClick:e.save},{default:d(()=>[o(a,{name:"check"})]),_:1},8,["loading","onClick"]),[[f,e.t("save"),void 0,{bottom:!0}]])]),default:d(()=>[S("div",Xw,[o(r,{modelValue:e.internalEdits,"onUpdate:modelValue":t[0]||(t[0]=v=>e.internalEdits=v),collection:e.collection,"batch-mode":"","primary-key":"+","validation-errors":e.validationErrors},null,8,["modelValue","collection","validation-errors"])])]),_:1},8,["modelValue","title","onCancel"])}var ao=q(Qw,[["render",Zw],["__scopeId","data-v-5d0693b1"]]);const Yw=z({name:"ContentCollection",components:{ContentNavigation:yl,ContentNotFound:lo,LayoutSidebarDetail:qn,SearchInput:kn,BookmarkAdd:qw,BookmarkEdit:Hw,DrawerBatch:ao,RefreshSidebarDetail:Uw},props:{collection:{type:String,required:!0},bookmark:{type:String,default:null},archive:{type:Boolean,default:!1}},setup(e){const{t}=Y(),n=Ye(),{layouts:l}=$n(),i=Je(),u=Tt(),a=E(),{collection:s}=Re(e),r=V(()=>e.bookmark?+e.bookmark:null),{selection:m}=Ne(),{info:f}=at(s),{addNewLink:v,currentCollectionLink:_}=Te(),{breadcrumb:y}=De(),{layout:g,layoutOptions:$,layoutQuery:h,filter:k,search:A,savePreset:F,bookmarkExists:P,saveCurrentAsBookmark:O,bookmarkTitle:T,resetPreset:N,bookmarkSaved:L,bookmarkIsMine:M,refreshInterval:B,busy:K,clearLocalSave:W}=wn(s,r),{layoutWrapper:le}=un(g),{confirmDelete:G,deleting:Q,batchDelete:fe,confirmArchive:ue,archive:ne,archiving:ee,error:de,batchEditActive:ce}=lt(),{bookmarkDialogActive:H,creatingBookmark:Z,createBookmark:X,editingBookmark:te,editBookmark:ve}=Oe(),J=V(()=>l.value.find(Ie=>Ie.id===g.value));_e(s,()=>{g.value===null&&(g.value="tabular")},{immediate:!0});const{batchEditAllowed:oe,batchArchiveAllowed:ae,batchDeleteAllowed:me,createAllowed:ge}=xe(),$e=V(()=>{var be,je,et;if(!((be=f.value)==null?void 0:be.meta)||!((et=(je=f.value)==null?void 0:je.meta)==null?void 0:et.archive_app_filter))return null;const Ie=f.value.meta.archive_field;if(!Ie)return null;let we=f.value.meta.archive_value;return we==="true"&&(we=!0),we==="false"&&(we=!1),e.archive?{[Ie]:{_eq:we}}:{[Ie]:{_neq:we}}});return{t,addNewLink:v,batchDelete:fe,batchEditActive:ce,confirmDelete:G,currentCollection:f,deleting:Q,filter:k,layoutRef:a,layoutWrapper:le,selection:m,layoutOptions:$,layoutQuery:h,layout:g,search:A,savePreset:F,bookmarkExists:P,currentCollectionLink:_,bookmarkDialogActive:H,creatingBookmark:Z,createBookmark:X,bookmarkTitle:T,editingBookmark:te,editBookmark:ve,breadcrumb:y,clearFilters:Be,confirmArchive:ue,archiveItems:ne,archiving:ee,batchEditAllowed:oe,batchArchiveAllowed:ae,batchDeleteAllowed:me,deleteError:de,createAllowed:ge,resetPreset:N,bookmarkSaved:L,bookmarkIsMine:M,bookmarkSaving:K,clearLocalSave:W,drawerBatchRefresh:Ae,refresh:ke,refreshInterval:B,currentLayout:J,archiveFilter:$e,mergeFilters:fl};async function ke(){var Ie,we,be;await((be=(we=(Ie=a.value)==null?void 0:Ie.state)==null?void 0:we.refresh)==null?void 0:be.call(we))}async function Ae(){m.value=[],await ke()}function De(){return{breadcrumb:V(()=>{var we;return[{name:(we=f.value)==null?void 0:we.name,to:`/content/${e.collection}`}]})}}function Ne(){const Ie=E([]);return _e(()=>e.collection,()=>Ie.value=[]),{selection:Ie}}function lt(){const Ie=E(!1),we=E(!1),be=E(!1),je=E(!1),et=E(!1),tt=E(null);return{batchEditActive:be,confirmDelete:Ie,deleting:we,batchDelete:ot,confirmArchive:je,archiving:et,archiveItems:pt,error:tt};async function ot(){we.value=!0;const mt=m.value;try{await re.delete(`/items/${e.collection}`,{data:mt}),m.value=[],await ke(),Ie.value=!1}catch(an){tt.value=an}finally{we.value=!1}}async function pt(){var an,Yo;if(!((Yo=(an=f.value)==null?void 0:an.meta)==null?void 0:Yo.archive_field))return;et.value=!0;let mt=f.value.meta.archive_value;mt==="true"&&(mt=!0),mt==="false"&&(mt=!1);try{await re.patch(`/items/${e.collection}`,{keys:m.value,data:{[f.value.meta.archive_field]:mt}}),m.value=[],await ke(),je.value=!1}catch(Sr){tt.value=Sr}finally{et.value=!1}}}function Te(){const Ie=V(()=>`/content/${e.collection}/+`),we=V(()=>`/content/${e.collection}`);return{addNewLink:Ie,currentCollectionLink:we}}function Oe(){const Ie=E(!1),we=E(!1),be=E(!1);return{bookmarkDialogActive:Ie,creatingBookmark:we,createBookmark:je,editingBookmark:be,editBookmark:et};async function je(tt){we.value=!0;try{const ot=await O({bookmark:tt});n.push(`/content/${ot.collection}?bookmark=${ot.id}`),Ie.value=!1}catch(ot){Ce(ot)}finally{we.value=!1}}async function et(tt){T.value=tt,Ie.value=!1}}function Be(){k.value=null,A.value=null}function xe(){const Ie=V(()=>{var ot;return((ot=i==null?void 0:i.currentUser)==null?void 0:ot.role.admin_access)===!0?!0:!!u.permissions.find(pt=>pt.action==="update"&&pt.collection===s.value)}),we=V(()=>{var ot,pt,mt;if(!((pt=(ot=f.value)==null?void 0:ot.meta)==null?void 0:pt.archive_field))return!1;if(((mt=i==null?void 0:i.currentUser)==null?void 0:mt.role.admin_access)===!0)return!0;const tt=u.permissions.find(an=>an.action==="update"&&an.collection===s.value);return!tt||!tt.fields?!1:tt.fields.includes("*")?!0:tt.fields.includes(f.value.meta.archive_field)}),be=V(()=>{var ot;return((ot=i==null?void 0:i.currentUser)==null?void 0:ot.role.admin_access)===!0?!0:!!u.permissions.find(pt=>pt.action==="delete"&&pt.collection===s.value)}),je=V(()=>{var ot;return((ot=i==null?void 0:i.currentUser)==null?void 0:ot.role.admin_access)===!0?!0:!!u.permissions.find(pt=>pt.action==="create"&&pt.collection===s.value)});return{batchEditAllowed:Ie,batchArchiveAllowed:we,batchDeleteAllowed:be,createAllowed:je}}}}),xw={class:"bookmark-controls"},ek={class:"page-description"};function tk(e,t,n,l,i,u){const a=c("content-not-found"),s=c("v-icon"),r=c("v-button"),m=c("v-breadcrumb"),f=c("bookmark-add"),v=c("search-input"),_=c("v-card-title"),y=c("v-card-actions"),g=c("v-card"),$=c("v-dialog"),h=c("content-navigation"),k=c("v-info"),A=c("drawer-batch"),F=c("sidebar-detail"),P=c("layout-sidebar-detail"),O=c("refresh-sidebar-detail"),T=c("export-sidebar-detail"),N=c("v-error"),L=c("v-card-text"),M=c("private-view"),B=Se("tooltip"),K=Se("md");return p(),C(Ue(e.layoutWrapper),{ref:"layoutRef",selection:e.selection,"onUpdate:selection":t[16]||(t[16]=W=>e.selection=W),"layout-options":e.layoutOptions,"onUpdate:layout-options":t[17]||(t[17]=W=>e.layoutOptions=W),"layout-query":e.layoutQuery,"onUpdate:layout-query":t[18]||(t[18]=W=>e.layoutQuery=W),"filter-user":e.filter,"filter-system":e.archiveFilter,filter:e.mergeFilters(e.filter,e.archiveFilter),search:e.search,collection:e.collection,"reset-preset":e.resetPreset,"clear-filters":e.clearFilters},{default:d(({layoutState:W})=>{var le;return[!e.currentCollection||e.collection.startsWith("directus_")?(p(),C(a,{key:0})):(p(),C(M,{key:1,title:e.bookmark?e.bookmarkTitle:e.currentCollection.name,"small-header":(le=e.currentLayout)==null?void 0:le.smallHeader},{"title-outer:prepend":d(()=>[o(r,{class:se(["header-icon",{archive:e.archive}]),rounded:"",icon:"",secondary:"",disabled:""},{default:d(()=>[o(s,{name:e.archive?"archive":e.currentCollection.icon,color:e.currentCollection.color},null,8,["name","color"])]),_:1},8,["class"])]),headline:d(()=>[e.bookmark?(p(),C(m,{key:0,items:e.breadcrumb},null,8,["items"])):(p(),C(m,{key:1,items:[{name:e.t("content"),to:"/content"}]},null,8,["items"]))]),"title-outer:append":d(()=>[S("div",xw,[e.bookmark?e.bookmarkSaved?(p(),C(s,{key:1,class:"saved",name:"bookmark"})):e.bookmarkIsMine?x((p(),C(s,{key:2,class:"save",clickable:"",name:"bookmark_save",onClick:t[1]||(t[1]=G=>e.savePreset())},null,512)),[[B,e.t("update_bookmark"),void 0,{bottom:!0}]]):(p(),C(f,{key:3,modelValue:e.bookmarkDialogActive,"onUpdate:modelValue":t[2]||(t[2]=G=>e.bookmarkDialogActive=G),class:"add",saving:e.creatingBookmark,onSave:e.createBookmark},{activator:d(({on:G})=>[o(s,{class:"toggle",name:"bookmark_outline",clickable:"",onClick:G},null,8,["onClick"])]),_:1},8,["modelValue","saving","onSave"])):(p(),C(f,{key:0,modelValue:e.bookmarkDialogActive,"onUpdate:modelValue":t[0]||(t[0]=G=>e.bookmarkDialogActive=G),class:"add",saving:e.creatingBookmark,onSave:e.createBookmark},{activator:d(({on:G})=>[x(o(s,{class:"toggle",clickable:"",name:"bookmark_outline",onClick:G},null,8,["onClick"]),[[B,e.t("create_bookmark"),void 0,{right:!0}]])]),_:1},8,["modelValue","saving","onSave"])),e.bookmark&&!e.bookmarkSaving&&e.bookmarkSaved===!1?x((p(),C(s,{key:4,name:"settings_backup_restore",clickable:"",class:"clear",onClick:e.clearLocalSave},null,8,["onClick"])),[[B,e.t("reset_bookmark"),void 0,{bottom:!0}]]):R("",!0)])]),"actions:prepend":d(()=>[(p(),C(Ue(`layout-actions-${e.layout||"tabular"}`),He(Xe(W)),null,16))]),actions:d(()=>[o(v,{modelValue:e.search,"onUpdate:modelValue":t[3]||(t[3]=G=>e.search=G),filter:e.filter,"onUpdate:filter":t[4]||(t[4]=G=>e.filter=G),collection:e.collection},null,8,["modelValue","filter","collection"]),e.selection.length>0?(p(),C($,{key:0,modelValue:e.confirmDelete,"onUpdate:modelValue":t[6]||(t[6]=G=>e.confirmDelete=G),onEsc:t[7]||(t[7]=G=>e.confirmDelete=!1)},{activator:d(({on:G})=>[x(o(r,{disabled:e.batchDeleteAllowed!==!0,rounded:"",icon:"",class:"action-delete",onClick:G},{default:d(()=>[o(s,{name:"delete",outline:""})]),_:2},1032,["disabled","onClick"]),[[B,e.batchDeleteAllowed?e.t("delete_label"):e.t("not_allowed"),void 0,{bottom:!0}]])]),default:d(()=>[o(g,null,{default:d(()=>[o(_,null,{default:d(()=>[D(b(e.t("batch_delete_confirm",e.selection.length)),1)]),_:1}),o(y,null,{default:d(()=>[o(r,{secondary:"",onClick:t[5]||(t[5]=G=>e.confirmDelete=!1)},{default:d(()=>[D(b(e.t("cancel")),1)]),_:1}),o(r,{kind:"danger",loading:e.deleting,onClick:e.batchDelete},{default:d(()=>[D(b(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):R("",!0),e.selection.length>0&&e.currentCollection.meta&&e.currentCollection.meta.archive_field?(p(),C($,{key:1,modelValue:e.confirmArchive,"onUpdate:modelValue":t[9]||(t[9]=G=>e.confirmArchive=G),onEsc:t[10]||(t[10]=G=>e.confirmArchive=!1)},{activator:d(({on:G})=>[x(o(r,{disabled:e.batchArchiveAllowed!==!0,rounded:"",icon:"",class:"action-archive",onClick:G},{default:d(()=>[o(s,{name:"archive",outline:""})]),_:2},1032,["disabled","onClick"]),[[B,e.batchArchiveAllowed?e.t("archive"):e.t("not_allowed"),void 0,{bottom:!0}]])]),default:d(()=>[o(g,null,{default:d(()=>[o(_,null,{default:d(()=>[D(b(e.t("archive_confirm_count",e.selection.length)),1)]),_:1}),o(y,null,{default:d(()=>[o(r,{secondary:"",onClick:t[8]||(t[8]=G=>e.confirmArchive=!1)},{default:d(()=>[D(b(e.t("cancel")),1)]),_:1}),o(r,{kind:"warning",loading:e.archiving,onClick:e.archiveItems},{default:d(()=>[D(b(e.t("archive")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):R("",!0),e.selection.length>1?x((p(),C(r,{key:2,rounded:"",icon:"",class:"action-batch",disabled:e.batchEditAllowed===!1,onClick:t[11]||(t[11]=G=>e.batchEditActive=!0)},{default:d(()=>[o(s,{name:"edit",outline:""})]),_:1},8,["disabled"])),[[B,e.batchEditAllowed?e.t("edit"):e.t("not_allowed"),void 0,{bottom:!0}]]):R("",!0),x(o(r,{rounded:"",icon:"",to:e.addNewLink,disabled:e.createAllowed===!1},{default:d(()=>[o(s,{name:"add"})]),_:1},8,["to","disabled"]),[[B,e.createAllowed?e.t("create_item"):e.t("not_allowed"),void 0,{bottom:!0}]])]),navigation:d(()=>[o(h,{"current-collection":e.collection},null,8,["current-collection"])]),sidebar:d(()=>[o(F,{icon:"info_outline",title:e.t("information"),close:""},{default:d(()=>[x(S("div",ek,null,512),[[K,e.t("page_help_collections_collection",{collection:e.currentCollection.name})]])]),_:1},8,["title"]),o(P,{modelValue:e.layout,"onUpdate:modelValue":t[13]||(t[13]=G=>e.layout=G)},{default:d(()=>[(p(),C(Ue(`layout-options-${e.layout||"tabular"}`),He(Xe(W)),null,16))]),_:2},1032,["modelValue"]),(p(),C(Ue(`layout-sidebar-${e.layout||"tabular"}`),He(Xe(W)),null,16)),o(O,{modelValue:e.refreshInterval,"onUpdate:modelValue":t[14]||(t[14]=G=>e.refreshInterval=G),onRefresh:e.refresh},null,8,["modelValue","onRefresh"]),o(T,{collection:e.collection,filter:e.mergeFilters(e.filter,e.archiveFilter),search:e.search},null,8,["collection","filter","search"])]),default:d(()=>[e.bookmark&&e.bookmarkExists===!1?(p(),C(k,{key:0,type:"warning",title:e.t("bookmark_doesnt_exist"),icon:"bookmark",center:""},{append:d(()=>[o(r,{to:e.currentCollectionLink},{default:d(()=>[D(b(e.t("bookmark_doesnt_exist_cta")),1)]),_:1},8,["to"])]),default:d(()=>[D(b(e.t("bookmark_doesnt_exist_copy"))+" ",1)]),_:1},8,["title"])):(p(),C(Ue(`layout-${e.layout||"tabular"}`),dt({key:1,class:"layout"},W),{"no-results":d(()=>[o(k,{title:e.t("no_results"),icon:"search",center:""},{append:d(()=>[o(r,{onClick:e.clearFilters},{default:d(()=>[D(b(e.t("clear_filters")),1)]),_:1},8,["onClick"])]),default:d(()=>[D(b(e.t("no_results_copy"))+" ",1)]),_:1},8,["title"])]),"no-items":d(()=>[o(k,{title:e.t("item_count",0),icon:e.currentCollection.icon,center:""},Ze({default:d(()=>[D(b(e.t("no_items_copy"))+" ",1)]),_:2},[e.createAllowed?{name:"append",fn:d(()=>[o(r,{to:`/content/${e.collection}/+`},{default:d(()=>[D(b(e.t("create_item")),1)]),_:1},8,["to"])])}:void 0]),1032,["title","icon"])]),_:2},1040)),o(A,{active:e.batchEditActive,"onUpdate:active":t[12]||(t[12]=G=>e.batchEditActive=G),"primary-keys":e.selection,collection:e.collection,onRefresh:e.drawerBatchRefresh},null,8,["active","primary-keys","collection","onRefresh"]),o($,{"model-value":e.deleteError!==null},{default:d(()=>[o(g,null,{default:d(()=>[o(_,null,{default:d(()=>[D(b(e.t("something_went_wrong")),1)]),_:1}),o(L,null,{default:d(()=>[o(N,{error:e.deleteError},null,8,["error"])]),_:1}),o(y,null,{default:d(()=>[o(r,{onClick:t[15]||(t[15]=G=>e.deleteError=null)},{default:d(()=>[D(b(e.t("done")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])]),_:2},1032,["title","small-header"]))]}),_:1},8,["selection","layout-options","layout-query","filter-user","filter-system","filter","search","collection","reset-preset","clear-filters"])}var nk=q(Yw,[["render",tk],["__scopeId","data-v-03d9c66b"]]);function lk(e){switch(e){case"af":return j(()=>import("./assets/index.6c533c6d.js").then(function(t){return t.i}),["assets/index.6c533c6d.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"ar-DZ":return j(()=>import("./assets/index.1bcaf582.js").then(function(t){return t.i}),["assets/index.1bcaf582.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"ar-MA":return j(()=>import("./assets/index.0b0598be.js").then(function(t){return t.i}),["assets/index.0b0598be.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"ar-SA":return j(()=>import("./assets/index.89cfb791.js").then(function(t){return t.i}),["assets/index.89cfb791.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"az":return j(()=>import("./assets/index.14ea57c2.js").then(function(t){return t.i}),["assets/index.14ea57c2.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"be":return j(()=>import("./assets/index.2d7a6f67.js").then(function(t){return t.i}),["assets/index.2d7a6f67.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"bg":return j(()=>import("./assets/index.325e7a3c.js").then(function(t){return t.i}),["assets/index.325e7a3c.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"bn":return j(()=>import("./assets/index.3d14218f.js").then(function(t){return t.i}),["assets/index.3d14218f.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"ca":return j(()=>import("./assets/index.8ad80a38.js").then(function(t){return t.i}),["assets/index.8ad80a38.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"cs":return j(()=>import("./assets/index.ba7397a1.js").then(function(t){return t.i}),["assets/index.ba7397a1.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"cy":return j(()=>import("./assets/index.9837c1bd.js").then(function(t){return t.i}),["assets/index.9837c1bd.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"da":return j(()=>import("./assets/index.bb66db31.js").then(function(t){return t.i}),["assets/index.bb66db31.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"de":return j(()=>import("./assets/index.714b601c.js").then(function(t){return t.i}),["assets/index.714b601c.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.eedadecd.js","assets/index.ffc6c203.js"]);case"de-AT":return j(()=>import("./assets/index.d77b5d9f.js").then(function(t){return t.i}),["assets/index.d77b5d9f.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.eedadecd.js","assets/index.ffc6c203.js"]);case"el":return j(()=>import("./assets/index.cfb596ed.js").then(function(t){return t.i}),["assets/index.cfb596ed.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"en-AU":return j(()=>import("./assets/index.9f212655.js").then(function(t){return t.i}),["assets/index.9f212655.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.55d799e2.js","assets/index.ffc6c203.js","assets/index.7b2f54b1.js"]);case"en-CA":return j(()=>import("./assets/index.507285cc.js").then(function(t){return t.i}),["assets/index.507285cc.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.7b2f54b1.js","assets/index.ffc6c203.js"]);case"en-GB":return j(()=>import("./assets/index.f22a8db3.js").then(function(t){return t.i}),["assets/index.f22a8db3.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.55d799e2.js","assets/index.7b2f54b1.js","assets/index.ffc6c203.js"]);case"en-IN":return j(()=>import("./assets/index.f74ca4fc.js").then(function(t){return t.i}),["assets/index.f74ca4fc.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.55d799e2.js","assets/index.7b2f54b1.js","assets/index.ffc6c203.js"]);case"en-NZ":return j(()=>import("./assets/index.f1a9e33d.js").then(function(t){return t.i}),["assets/index.f1a9e33d.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.55d799e2.js","assets/index.7b2f54b1.js","assets/index.ffc6c203.js"]);case"en-US":return j(()=>import("./assets/index.db380ac2.js").then(function(t){return t.i}),["assets/index.db380ac2.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.55d799e2.js","assets/index.ffc6c203.js","assets/index.7b2f54b1.js"]);case"en-ZA":return j(()=>import("./assets/index.884b29a6.js").then(function(t){return t.i}),["assets/index.884b29a6.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.55d799e2.js","assets/index.7b2f54b1.js","assets/index.ffc6c203.js"]);case"eo":return j(()=>import("./assets/index.ad693640.js").then(function(t){return t.i}),["assets/index.ad693640.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"es":return j(()=>import("./assets/index.5d1744ed.js").then(function(t){return t.i}),["assets/index.5d1744ed.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"et":return j(()=>import("./assets/index.92227ca0.js").then(function(t){return t.i}),["assets/index.92227ca0.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"eu":return j(()=>import("./assets/index.4a4f04e1.js").then(function(t){return t.i}),["assets/index.4a4f04e1.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"fa-IR":return j(()=>import("./assets/index.410fd91b.js").then(function(t){return t.i}),["assets/index.410fd91b.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"fi":return j(()=>import("./assets/index.19d5a7e2.js").then(function(t){return t.i}),["assets/index.19d5a7e2.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"fr":return j(()=>import("./assets/index.73f69fe3.js").then(function(t){return t.i}),["assets/index.73f69fe3.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.1b3cf886.js","assets/index.ffc6c203.js"]);case"fr-CA":return j(()=>import("./assets/index.6cfbb836.js").then(function(t){return t.i}),["assets/index.6cfbb836.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.1b3cf886.js","assets/index.ffc6c203.js"]);case"fr-CH":return j(()=>import("./assets/index.06b50e4a.js").then(function(t){return t.i}),["assets/index.06b50e4a.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"gd":return j(()=>import("./assets/index.f3b5d997.js").then(function(t){return t.i}),["assets/index.f3b5d997.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"gl":return j(()=>import("./assets/index.28e6e72c.js").then(function(t){return t.i}),["assets/index.28e6e72c.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"gu":return j(()=>import("./assets/index.5d16a624.js").then(function(t){return t.i}),["assets/index.5d16a624.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"he":return j(()=>import("./assets/index.d7ab3544.js").then(function(t){return t.i}),["assets/index.d7ab3544.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"hi":return j(()=>import("./assets/index.85c84fd9.js").then(function(t){return t.i}),["assets/index.85c84fd9.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"hr":return j(()=>import("./assets/index.d9fd5db4.js").then(function(t){return t.i}),["assets/index.d9fd5db4.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"ht":return j(()=>import("./assets/index.d8ddd0bb.js").then(function(t){return t.i}),["assets/index.d8ddd0bb.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"hu":return j(()=>import("./assets/index.b3c07ce5.js").then(function(t){return t.i}),["assets/index.b3c07ce5.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"hy":return j(()=>import("./assets/index.ada5e53d.js").then(function(t){return t.i}),["assets/index.ada5e53d.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"id":return j(()=>import("./assets/index.28f4844f.js").then(function(t){return t.i}),["assets/index.28f4844f.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"is":return j(()=>import("./assets/index.31c94cc6.js").then(function(t){return t.i}),["assets/index.31c94cc6.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"it":return j(()=>import("./assets/index.f7def627.js").then(function(t){return t.i}),["assets/index.f7def627.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"ja":return j(()=>import("./assets/index.a2896c04.js").then(function(t){return t.i}),["assets/index.a2896c04.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"ka":return j(()=>import("./assets/index.b9bdb805.js").then(function(t){return t.i}),["assets/index.b9bdb805.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"kk":return j(()=>import("./assets/index.19159890.js").then(function(t){return t.i}),["assets/index.19159890.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"kn":return j(()=>import("./assets/index.0bf30632.js").then(function(t){return t.i}),["assets/index.0bf30632.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"ko":return j(()=>import("./assets/index.ba2bbd9e.js").then(function(t){return t.i}),["assets/index.ba2bbd9e.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"lb":return j(()=>import("./assets/index.b0fd7814.js").then(function(t){return t.i}),["assets/index.b0fd7814.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"lt":return j(()=>import("./assets/index.6e2f3a25.js").then(function(t){return t.i}),["assets/index.6e2f3a25.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"lv":return j(()=>import("./assets/index.11dfe3be.js").then(function(t){return t.i}),["assets/index.11dfe3be.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"mk":return j(()=>import("./assets/index.fd47890b.js").then(function(t){return t.i}),["assets/index.fd47890b.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"mn":return j(()=>import("./assets/index.ae96cd33.js").then(function(t){return t.i}),["assets/index.ae96cd33.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"ms":return j(()=>import("./assets/index.cfc3f94d.js").then(function(t){return t.i}),["assets/index.cfc3f94d.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"mt":return j(()=>import("./assets/index.716c5883.js").then(function(t){return t.i}),["assets/index.716c5883.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"nb":return j(()=>import("./assets/index.c0fd96ea.js").then(function(t){return t.i}),["assets/index.c0fd96ea.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"nl":return j(()=>import("./assets/index.04fc2617.js").then(function(t){return t.i}),["assets/index.04fc2617.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"nl-BE":return j(()=>import("./assets/index.45b895f8.js").then(function(t){return t.i}),["assets/index.45b895f8.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"nn":return j(()=>import("./assets/index.a1dd992b.js").then(function(t){return t.i}),["assets/index.a1dd992b.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"pl":return j(()=>import("./assets/index.afd20890.js").then(function(t){return t.i}),["assets/index.afd20890.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"pt":return j(()=>import("./assets/index.1edf267b.js").then(function(t){return t.i}),["assets/index.1edf267b.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"pt-BR":return j(()=>import("./assets/index.d84e4324.js").then(function(t){return t.i}),["assets/index.d84e4324.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"ro":return j(()=>import("./assets/index.3eddc443.js").then(function(t){return t.i}),["assets/index.3eddc443.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"ru":return j(()=>import("./assets/index.1bee6e48.js").then(function(t){return t.i}),["assets/index.1bee6e48.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"sk":return j(()=>import("./assets/index.d9cabca6.js").then(function(t){return t.i}),["assets/index.d9cabca6.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"sl":return j(()=>import("./assets/index.8c19a1bb.js").then(function(t){return t.i}),["assets/index.8c19a1bb.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"sq":return j(()=>import("./assets/index.43e86bf9.js").then(function(t){return t.i}),["assets/index.43e86bf9.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"sr":return j(()=>import("./assets/index.f1baa76b.js").then(function(t){return t.i}),["assets/index.f1baa76b.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"sr-Latn":return j(()=>import("./assets/index.c6465294.js").then(function(t){return t.i}),["assets/index.c6465294.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"sv":return j(()=>import("./assets/index.34ae6ec4.js").then(function(t){return t.i}),["assets/index.34ae6ec4.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"ta":return j(()=>import("./assets/index.b9badc97.js").then(function(t){return t.i}),["assets/index.b9badc97.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"te":return j(()=>import("./assets/index.6fd9d026.js").then(function(t){return t.i}),["assets/index.6fd9d026.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"th":return j(()=>import("./assets/index.8463713a.js").then(function(t){return t.i}),["assets/index.8463713a.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"tr":return j(()=>import("./assets/index.26457745.js").then(function(t){return t.i}),["assets/index.26457745.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"ug":return j(()=>import("./assets/index.0f8db352.js").then(function(t){return t.i}),["assets/index.0f8db352.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"uk":return j(()=>import("./assets/index.d889b910.js").then(function(t){return t.i}),["assets/index.d889b910.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"uz":return j(()=>import("./assets/index.a0b94a8c.js").then(function(t){return t.i}),["assets/index.a0b94a8c.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"vi":return j(()=>import("./assets/index.67fa08a4.js").then(function(t){return t.i}),["assets/index.67fa08a4.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);case"zh-CN":return j(()=>import("./assets/index.66b53de0.js").then(function(t){return t.i}),["assets/index.66b53de0.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"zh-TW":return j(()=>import("./assets/index.04d772d8.js").then(function(t){return t.i}),["assets/index.04d772d8.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/index.ffc6c203.js"]);default:return Promise.resolve()}}async function Ea(){const e=qe.global.locale.value,t=[e,e.split("-")[0],"en-US"];let n;for(const l of t)try{n=(await lk(l)).default;break}catch{continue}return n}const Rt=async(e,t,n)=>sn(e,t,Ve(pe({},n),{locale:await Ea()}));const ok=z({props:{revision:{type:Object,required:!0},last:{type:Boolean,default:!1}},emits:["click"],setup(e){const{t}=Y(),n=V(()=>Object.keys(e.revision.delta).length),l=V(()=>{switch(e.revision.activity.action.toLowerCase()){case"create":return t("revision_delta_created");case"update":return t("revision_delta_updated",n.value);case"delete":return t("revision_delta_deleted");case"revert":return t("revision_delta_reverted");default:return t("revision_delta_other")}}),i=V(()=>sn(new Date(e.revision.activity.timestamp),String(t("date-fns_time")))),u=V(()=>{var a,s;return((s=(a=e.revision)==null?void 0:a.activity)==null?void 0:s.user)&&typeof e.revision.activity.user=="object"?ht(e.revision.activity.user):t("private_user")});return{t,headerMessage:l,time:i,user:u}}}),ak={class:"header"},ik={class:"content"},sk={class:"time"},rk=D(" \u2013 "),dk={key:1};function uk(e,t,n,l,i,u){const a=c("user-popover");return p(),I("div",{class:se(["revision-item",{last:e.last}]),onClick:t[0]||(t[0]=s=>e.$emit("click"))},[S("div",ak,[S("span",{class:se(["dot",e.revision.activity.action])},null,2),D(" "+b(e.headerMessage),1)]),S("div",ik,[S("span",sk,b(e.time),1),rk,e.revision.activity.user?(p(),C(a,{key:0,class:"user",user:e.revision.activity.user.id},{default:d(()=>[S("span",null,b(e.user),1)]),_:1},8,["user"])):(p(),I("span",dk,b(e.t("private_user")),1))])],2)}var ck=q(ok,[["render",uk],["__scopeId","data-v-552a0966"]]);const pk=z({components:{RevisionItem:ck},props:{group:{type:Object,required:!0}},emits:["click"],setup(){return{expand:E(!0)}}}),mk={class:"scroll-container"};function fk(e,t,n,l,i,u){const a=c("revision-item"),s=c("v-detail");return p(),C(s,{modelValue:e.expand,"onUpdate:modelValue":t[0]||(t[0]=r=>e.expand=r),label:e.group.dateFormatted,class:"revisions-date-group"},{default:d(()=>[x(S("div",mk,[(p(!0),I(ie,null,he(e.group.revisions,(r,m)=>(p(),C(a,{key:r.id,revision:r,last:m===e.group.revisions.length-1,onClick:f=>e.$emit("click",r.id)},null,8,["revision","last","onClick"]))),128))],512),[[Et,e.expand]])]),_:1},8,["modelValue","label"])}var vk=q(pk,[["render",fk],["__scopeId","data-v-dcd1ff74"]]);const _k=z({props:{revisions:{type:Array,required:!0},current:{type:Number,required:!0}},emits:["update:current"],setup(e,{emit:t}){const{t:n}=Y(),l=Le(e,"current",t),i=E(null);_e(()=>e.revisions,async()=>{const s=[];for(const r of e.revisions){const m=await a(r);let f=n("private_user");if(typeof r.activity.user=="object"){const y=r.activity.user;f=ht(y)}const v=String(n("revision_delta_by",{date:m,user:f})),_=r.id;s.push({text:v,value:_})}i.value=s},{immediate:!0});const u=V(()=>{var s;return(s=i.value)==null?void 0:s.find(r=>r.value===l.value)});return{internalCurrent:l,options:i,selectedOption:u};async function a(s){const r=await Rt(new Date(s.activity.timestamp),String(n("date-fns_date_short"))),m=await Rt(new Date(s.activity.timestamp),String(n("date-fns_time")));return`${r} (${m})`}}}),yk=["onClick"];function gk(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-list-item-content"),r=c("v-list-item"),m=c("v-list"),f=c("v-menu");return p(),C(f,{"show-arrow":""},{activator:d(({toggle:v})=>[S("span",{class:"picker",onClick:v},[D(b(e.selectedOption&&e.selectedOption.text)+" ",1),o(a,{name:"expand_more",small:""})],8,yk)]),default:d(()=>[o(m,{class:"menu"},{default:d(()=>[(p(!0),I(ie,null,he(e.options,v=>(p(),C(r,{key:v.value,clickable:"",active:e.internalCurrent===v.value,onClick:_=>e.internalCurrent=v.value},{default:d(()=>[o(a,{name:"commit_node"}),o(s,null,{default:d(()=>[D(b(v.text),1)]),_:2},1024)]),_:2},1032,["active","onClick"]))),128))]),_:1})]),_:1})}var hk=q(_k,[["render",gk],["__scopeId","data-v-2f4d8b82"]]);const bk=z({props:{revision:{type:Object,required:!0}},setup(){const{t:e}=Y();return{t:e}}}),$k=e=>(We("data-v-2d744eb6"),e=e(),Ge(),e),wk=$k(()=>S("br",null,null,-1));function kk(e,t,n,l,i,u){const a=c("v-notice"),s=c("v-form");return p(),I("div",null,[o(a,{type:"info"},{default:d(()=>[D(b(e.revision.activity.action==="create"?e.t("revision_post_create"):e.t("revision_post_update"))+" ",1),wk,D(" "+b(e.t("no_relational_data")),1)]),_:1}),o(s,{disabled:"",collection:e.revision.collection,"primary-key":e.revision.item,"initial-values":e.revision.data},null,8,["collection","primary-key","initial-values"])])}var Sk=q(bk,[["render",kk],["__scopeId","data-v-2d744eb6"]]);const Ck=z({props:{changes:{type:Array,required:!0},added:{type:Boolean,default:!1},deleted:{type:Boolean,default:!1}},setup(e){const{t}=Y(),n=V(()=>e.changes.filter(i=>e.added===!0?i.removed!==!0:i.added!==!0)),l=V(()=>e.changes.length===2);return{t,changesFiltered:n,wholeThing:l}}}),Vk={class:"delta"},Fk={key:1,class:"no-value"};function Ak(e,t,n,l,i,u){const a=c("v-icon");return p(),I("div",{class:se(["change-line",{added:e.added,deleted:e.deleted,"no-highlight":e.wholeThing}])},[o(a,{name:e.added?"add":"remove"},null,8,["name"]),S("div",Vk,[(p(!0),I(ie,null,he(e.changesFiltered,(s,r)=>(p(),I("span",{key:r,class:se({changed:s.added||s.removed})},[s.value?(p(),I(ie,{key:0},[D(b(s.value),1)],64)):(p(),I("span",Fk,b(e.t("no_value")),1))],2))),128))])],2)}var Ik=q(Ck,[["render",Ak],["__scopeId","data-v-481ea258"]]);const Ek=z({components:{RevisionsDrawerUpdatesChange:Ik},props:{revision:{type:Object,required:!0},revisions:{type:Array,required:!0}},setup(e){const{t}=Y(),n=Pe(),l=V(()=>{const u=e.revisions.findIndex(a=>a.id===e.revision.id);return e.revisions[u+1]}),i=V(()=>l.value?Object.keys(e.revision.delta).map(a=>{var v;const s=(v=n.getField(e.revision.collection,a))==null?void 0:v.name;if(!s)return null;const r=e.revision.delta[a],m=l.value.data[a];if(U.exports.isEqual(r,m))return null;let f;return typeof m=="string"&&typeof r=="string"&&r.length>25?f=Nr(m,r):Array.isArray(m)&&Array.isArray(r)?f=Br(m,r):m&&r&&typeof r=="object"&&typeof r=="object"?f=qr(m,r):f=[{removed:!0,value:m},{added:!0,value:r}],{name:s,changes:f}}).filter(a=>a):null);return{t,changes:i,previousRevision:l}}}),Dk=e=>(We("data-v-09850b86"),e=e(),Ge(),e),Tk={class:"updates"},Pk=Dk(()=>S("br",null,null,-1)),Ok={class:"type-label"};function Lk(e,t,n,l,i,u){const a=c("v-notice"),s=c("revisions-drawer-updates-change");return p(),I("div",Tk,[o(a,{type:"info"},{default:d(()=>[D(b(e.t("changes_made"))+" ",1),Pk,D(" "+b(e.t("no_relational_data")),1)]),_:1}),(p(!0),I(ie,null,he(e.changes,r=>(p(),I("div",{key:r.name,class:"change"},[S("div",Ok,b(r.name),1),o(s,{deleted:"",changes:r.changes},null,8,["changes"]),o(s,{added:"",changes:r.changes},null,8,["changes"])]))),128))])}var jk=q(Ek,[["render",Lk],["__scopeId","data-v-09850b86"]]);const Rk=z({components:{RevisionsDrawerPicker:hk,RevisionsDrawerPreview:Sk,RevisionsDrawerUpdates:jk},props:{revisions:{type:Array,required:!0},current:{type:[Number,String],default:null},active:{type:Boolean,default:!1}},emits:["revert","update:active","update:current"],setup(e,{emit:t}){const{t:n}=Y(),l=Le(e,"active",t),i=Le(e,"current",t),u=E(["updates_made"]),a=V(()=>{var _;return((_=s.value)==null?void 0:_.activity.action)==="create"?n("item_creation"):n("item_revision")}),s=V(()=>e.revisions.find(_=>_.id===e.current)),r=V(()=>{const _=e.revisions.findIndex(y=>y.id===e.current);return e.revisions[_+1]}),m=V(()=>{var _;return((_=s.value)==null?void 0:_.activity.action)==="create"?[{text:n("creation_preview"),value:"revision_preview"}]:[{text:n("updates_made"),value:"updates_made"},{text:n("revision_preview"),value:"revision_preview"}]}),f=V(()=>{var _;return((_=s.value)==null?void 0:_.activity.action)!=="create"});return zr(()=>u.value=[m.value[0].value]),{t:n,internalActive:l,internalCurrent:i,title:a,currentRevision:s,currentTab:u,tabs:m,hasPastRevision:f,revert:v};function v(){var y,g;if(!s.value)return;const _={};for(const[$,h]of Object.entries(s.value.delta)){const k=(g=(y=r.value)==null?void 0:y.data[$])!=null?g:null;U.exports.isEqual(h,k)||(_[$]=k)}t("revert",_),l.value=!1}}}),Mk={class:"content"};function Uk(e,t,n,l,i,u){const a=c("revisions-drawer-picker"),s=c("v-tab"),r=c("v-tabs"),m=c("revisions-drawer-updates"),f=c("revisions-drawer-preview"),v=c("v-icon"),_=c("v-button"),y=c("v-drawer"),g=Se("tooltip");return p(),I("div",null,[o(y,{modelValue:e.internalActive,"onUpdate:modelValue":t[3]||(t[3]=$=>e.internalActive=$),title:e.title,icon:"change_history","sidebar-label":e.t(e.currentTab[0]),onCancel:t[4]||(t[4]=$=>e.internalActive=!1)},{subtitle:d(()=>[o(a,{current:e.internalCurrent,"onUpdate:current":t[0]||(t[0]=$=>e.internalCurrent=$),revisions:e.revisions},null,8,["current","revisions"])]),sidebar:d(()=>[o(r,{modelValue:e.currentTab,"onUpdate:modelValue":t[1]||(t[1]=$=>e.currentTab=$),vertical:""},{default:d(()=>[(p(!0),I(ie,null,he(e.tabs,$=>(p(),C(s,{key:$.value,value:$.value},{default:d(()=>[D(b($.text),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),actions:d(()=>[e.hasPastRevision?x((p(),C(_,{key:0,class:"revert",icon:"",rounded:"",onClick:e.revert},{default:d(()=>[o(v,{name:"restore"})]),_:1},8,["onClick"])),[[g,e.t("revert"),void 0,{bottom:!0}]]):R("",!0),x(o(_,{icon:"",rounded:"",onClick:t[2]||(t[2]=$=>e.internalActive=!1)},{default:d(()=>[o(v,{name:"check"})]),_:1},512),[[g,e.t("done"),void 0,{bottom:!0}]])]),default:d(()=>[S("div",Mk,[e.currentTab[0]==="updates_made"?(p(),C(m,{key:0,revision:e.currentRevision,revisions:e.revisions},null,8,["revision","revisions"])):R("",!0),e.currentTab[0]==="revision_preview"?(p(),C(f,{key:1,revision:e.currentRevision},null,8,["revision"])):R("",!0)])]),_:1},8,["modelValue","title","sidebar-label"])])}var Nk=q(Rk,[["render",Uk],["__scopeId","data-v-ca277ace"]]);function io(e,t=0,n=["K","M","B","T"]){const l=e<0;e=Math.abs(e);let i=String(e);if(e>=1e3){const u=Math.pow(10,t);for(let a=n.length-1;a>=0;a--){const s=Math.pow(10,(a+1)*3);if(s<=e){e=Math.round(e*u/s)/u,e===1e3&&a<n.length-1&&(e=1,a++),i=e.toFixed(t)+n[a];break}}}return l&&(i=`-${i}`),i}const Bk=z({components:{RevisionsDrawer:Nk,RevisionsDateGroup:vk},props:{collection:{type:String,required:!0},primaryKey:{type:[String,Number],required:!0}},emits:["revert"],setup(e){const{t}=Y(),{revisions:n,revisionsByDate:l,loading:i,refresh:u,revisionsCount:a,pagesCount:s,created:r}=y(e.collection,e.primaryKey),m=E(!1),f=E(null),v=E(1);return _e(()=>v.value,g=>{u(g)}),{t,revisions:n,revisionsByDate:l,loading:i,refresh:u,modalActive:m,modalCurrentRevision:f,openModal:_,revisionsCount:a,created:r,page:v,pagesCount:s,abbreviateNumber:io};function _(g){f.value=g,m.value=!0}function y(g,$){const h=E(null),k=E(null),A=E(!1),F=E(0),P=E(),O=E(0);return T(),{created:P,revisions:h,revisionsByDate:k,loading:A,refresh:N,revisionsCount:F,pagesCount:O};async function T(L=0){var B;A.value=!0;const M=100;try{const K=await re.get("/revisions",{params:{filter:{collection:{_eq:g},item:{_eq:$}},sort:"-id",limit:M,page:L,fields:["id","data","delta","collection","item","activity.action","activity.timestamp","activity.user.id","activity.user.email","activity.user.first_name","activity.user.last_name","activity.ip","activity.user_agent"],meta:["filter_count"]}}),W=await re.get("/revisions",{params:{filter:{collection:{_eq:g},item:{_eq:$},activity:{action:{_eq:"create"}}},sort:"-id",limit:1,fields:["id","data","delta","collection","item","activity.action","activity.timestamp","activity.user.id","activity.user.email","activity.user.first_name","activity.user.last_name","activity.ip","activity.user_agent"],meta:["filter_count"]}});P.value=(B=W.data.data)==null?void 0:B[0];const le=U.exports.groupBy(K.data.data.filter(Q=>!!Q.activity),Q=>new Date(new Date(Q.activity.timestamp).toDateString())),G=[];for(const[Q,fe]of Object.entries(le)){const ue=new Date(Q),ne=ta(ue),ee=na(ue),de=la(ue);let ce;ne?ce=t("today"):ee?ce=t("yesterday"):de?ce=await Rt(ue,String(t("date-fns_date_short_no_year"))):ce=await Rt(ue,String(t("date-fns_date_short"))),G.push({date:ue,dateFormatted:String(ce),revisions:U.exports.orderBy(fe,["activity.timestamp"],["desc"])})}k.value=U.exports.orderBy(G,["date"],["desc"]),h.value=U.exports.orderBy(K.data.data,["activity.timestamp"],["desc"]),F.value=K.data.meta.filter_count,O.value=Math.ceil(F.value/M)}catch(K){Ce(K)}finally{A.value=!1}}async function N(L=0){await T(L)}}}}),qk={class:"external"};function zk(e,t,n,l,i,u){const a=c("v-progress-linear"),s=c("RevisionsDateGroup"),r=c("v-divider"),m=c("v-pagination"),f=c("revisions-drawer"),v=c("sidebar-detail");return p(),C(v,{title:e.t("revisions"),icon:"change_history",badge:!e.loading&&e.revisions?e.abbreviateNumber(e.revisionsCount):null},{default:d(()=>[e.loading?(p(),C(a,{key:0,indeterminate:""})):(p(),I(ie,{key:1},[(p(!0),I(ie,null,he(e.revisionsByDate,_=>(p(),C(s,{key:_.date.toString(),group:_,onClick:e.openModal},null,8,["group","onClick"]))),128)),e.page==e.pagesCount&&!e.created?(p(),I(ie,{key:0},[e.revisionsByDate.length>0?(p(),C(r,{key:0})):R("",!0),S("div",qk,b(e.t("revision_delta_created_externally")),1)],64)):R("",!0),e.pagesCount>1?(p(),C(m,{key:1,modelValue:e.page,"onUpdate:modelValue":t[0]||(t[0]=_=>e.page=_),length:e.pagesCount,"total-visible":2},null,8,["modelValue","length"])):R("",!0)],64)),e.revisions?(p(),C(f,{key:2,current:e.modalCurrentRevision,"onUpdate:current":t[1]||(t[1]=_=>e.modalCurrentRevision=_),active:e.modalActive,"onUpdate:active":t[2]||(t[2]=_=>e.modalActive=_),revisions:e.revisions,onRevert:t[3]||(t[3]=_=>e.$emit("revert",_))},null,8,["current","active","revisions"])):R("",!0)]),_:1},8,["title","badge"])}var zn=q(Bk,[["render",zk],["__scopeId","data-v-427239ad"]]);const hl=new Set([]),Wt={};document.body.addEventListener("keydown",e=>{e.repeat||!e.key||(hl.add(Kk(e)),Hk(e))});document.body.addEventListener("keyup",e=>{e.repeat||!e.key||hl.clear()});function nt(e,t,n=E(document.body)){const l=(i,u)=>{if(!n.value)return;const a=n.value instanceof HTMLElement?n.value:n.value.$el;return document.activeElement===a||a.contains(document.activeElement)||document.activeElement===document.body?(i.preventDefault(),t(i,u)):!1};it(()=>{[e].flat().forEach(i=>{i in Wt?Wt[i].unshift(l):Wt[i]=[l]})}),St(()=>{[e].flat().forEach(i=>{i in Wt&&(Wt[i]=Wt[i].filter(u=>u!==l),Wt[i].length===0&&delete Wt[i])})})}function Kk(e){const t={Control:"meta",Command:"meta"},n=/^[a-zA-Z0-9]*?$/g;let l=e.key.match(n)===null?e.code.replace(/(Key|Digit)/g,""):e.key;return l=l in t?t[l]:l,l=l.toLowerCase(),l}function Hk(e){Object.entries(Wt).forEach(([t,n])=>{const l=t.split("+");for(t of hl)if(l.includes(t)===!1)return;for(t of l)if(hl.has(t)===!1)return;for(let i=0;i<n.length;i++){let u=!1;if(n[i](e,()=>{u=!0}),typeof u=="boolean"&&u)break}})}let so;function It(e){so||(so=nl()),so.add(e)}function Qe(){const t=window.location.pathname.split("/"),n=t.indexOf("admin");return t.slice(0,n).join("/")+"/"}function Da(){const t=window.location.href.split("/"),n=t.indexOf("admin");return t.slice(0,n).join("/")+"/"}const Wk=z({props:{modelValue:{type:String,default:null},captureGroup:{type:String,required:!0},multiline:{type:Boolean,default:!1},triggerCharacter:{type:String,required:!0},items:{type:Object,required:!0}},emits:["update:modelValue","trigger","deactivate","up","down","enter"],setup(e,{emit:t}){const n=E();let l=!1,i=[],u=0,a=0;return _e(()=>e.modelValue,_=>{!n.value||_!==n.value.innerText&&v(_,!0)}),it(()=>{e.modelValue&&e.modelValue!==n.value.innerText&&v(e.modelValue),n.value&&(n.value.addEventListener("click",m),n.value.addEventListener("keydown",s),n.value.addEventListener("keyup",r))}),St(()=>{n.value&&(n.value.removeEventListener("click",m),n.value.removeEventListener("keydown",s),n.value.removeEventListener("keyup",r))}),{processText:f,input:n};function s(_){var g;const y=((g=window.getSelection())==null?void 0:g.rangeCount)?$t(n.value).pos:0;if(_.code==="Enter")_.preventDefault(),l?t("enter"):(v(n.value.innerText.substring(0,y)+(y===n.value.innerText.length&&n.value.innerText.charAt(y-1)!==`
`?`

`:`
`)+n.value.innerText.substring(y),!0),$t(n.value,y+1));else if(_.code==="ArrowUp"&&!_.shiftKey)l&&(_.preventDefault(),t("up"));else if(_.code==="ArrowDown"&&!_.shiftKey)l&&(_.preventDefault(),t("down"));else if(_.code==="ArrowLeft"&&!_.shiftKey){const $=i.indexOf(y-1);$!==-1&&$%2==1&&(_.preventDefault(),$t(n.value,i[$-1]-1))}else if(_.code==="ArrowRight"&&!_.shiftKey){const $=i.indexOf(y+1);$!==-1&&$%2==0&&(_.preventDefault(),$t(n.value,i[$+1]+1))}else if(_.code==="Backspace"){const $=i.indexOf(y-1);if($!==-1&&$%2==1){_.preventDefault();const h=i[$-1];v((n.value.innerText.substring(0,h)+n.value.innerText.substring(y)).replaceAll(String.fromCharCode(160)," "),!0),$t(n.value,h),t("update:modelValue",n.value.innerText)}}else if(_.code==="Delete"){const $=i.indexOf(y+1);$!==-1&&$%2==0&&(_.preventDefault(),v((n.value.innerText.substring(0,y)+n.value.innerText.substring(i[$+1])).replaceAll(String.fromCharCode(160)," "),!0),$t(n.value,y),t("update:modelValue",n.value.innerText))}}function r(_){var g;const y=((g=window.getSelection())==null?void 0:g.rangeCount)?$t(n.value).pos:0;if((_.code==="ArrowUp"||_.code==="ArrowDown")&&!_.shiftKey){const $=i.indexOf(y);$!==-1&&$%2==1?$t(n.value,i[$]+1):$!==-1&&$%2==0&&$t(n.value,i[$]-1)}}function m(_){var $;const y=(($=window.getSelection())==null?void 0:$.rangeCount)?$t(n.value).pos:0,g=i.indexOf(y);g!==-1&&(g%2==0?$t(n.value,y-1):$t(n.value,y+1),_.preventDefault())}function f(_){var F,P;const y=_.target,g=((F=window.getSelection())==null?void 0:F.rangeCount)?$t(y).pos:0,$=(P=y.innerText)!=null?P:"";let h=$.indexOf(" ",g);h===-1&&(h=$.indexOf(`
`,g)),h===-1&&(h=$.length);const k=/\S+$/.exec($.slice(0,h));let A=k?k[0]:null;A&&(A=A.replace(/[\s'";:,./?\\-]$/,"")),(A==null?void 0:A.startsWith(e.triggerCharacter))?(t("trigger",{searchQuery:A.substring(e.triggerCharacter.length),caretPosition:g}),l=!0):l&&(t("deactivate"),l=!1),v(),t("update:modelValue",y.innerText)}function v(_,y=!1){var A;if(!n.value)return;n.value.innerText===`
`&&(n.value.innerText=""),_!==void 0&&(n.value.innerText=_,l=!1);let g=n.value.innerText;const $=y?a:((A=window.getSelection())==null?void 0:A.rangeCount)?$t(n.value).pos:0;let h=0;const k=g.match(new RegExp(`${e.captureGroup}(?!</mark>)`,"gi"));if(i=[],k)for(const F of k!=null?k:[]){let P="",O="",T="",N="",L=g.indexOf(F,h);const M=g.charCodeAt(L-1),B=g.charCodeAt(L+F.length);M===32?(P=" ",T="&nbsp;"):M!==160&&(T="&nbsp;"),B===32?(O=" ",N="&nbsp;"):B!==160&&(N="&nbsp;");let K=P+F+O,W=`${T}<mark class="preview" data-preview="${e.items[F.substring(e.triggerCharacter.length)]}" contenteditable="false">${F}</mark>${N}`;g=g.replace(new RegExp(`(${K})(?!</mark>)`),W),h=L+W.length-K.length}if(n.value.innerHTML!==g.replaceAll(String.fromCharCode(160),"&nbsp;")){n.value.innerHTML=g;const F=n.value.innerText.length-u,P=$+F;P>n.value.innerText.length||P<0?$t(n.value,n.value.innerText.length):$t(n.value,P)}h=0;for(const F of k!=null?k:[]){let P=n.value.innerText.indexOf(F,h);i.push(P,P+F.length),h=P+F.length}u=n.value.innerText.length,a=$}}});function Gk(e,t,n,l,i,u){return p(),I("div",{ref:"input",class:se(["v-template-input",{multiline:e.multiline}]),contenteditable:"true",tabindex:"1",onInput:t[0]||(t[0]=(...a)=>e.processText&&e.processText(...a))},null,34)}var Ta=q(Wk,[["render",Gk],["__scopeId","data-v-f1ad147a"]]);const Jk=z({components:{vTemplateInput:Ta},props:{refresh:{type:Function,required:!0},collection:{type:String,required:!0},primaryKey:{type:[Number,String],required:!0},existingComment:{type:Object,default:null},previews:{type:Object,default:null}},emits:["cancel"],setup(e){var F,P;const{t}=Y(),n=E();nt("meta+enter",$,n);const l=E((P=(F=e.existingComment)==null?void 0:F.comment)!=null?P:null);_e(()=>e.existingComment,()=>{var O;((O=e.existingComment)==null?void 0:O.comment)&&(l.value=e.existingComment.comment)},{immediate:!0});const i=E(!1),u=E(!1),a=E([]),s=E({});_e(()=>e.previews,()=>{e.previews&&(s.value=pe(pe({},s.value),e.previews))},{immediate:!0});let r=0,m=E(0),f=null;const v=U.exports.throttle(async O=>{f!==null&&f.cancel(),f=Ml.CancelToken.source();const T=/\s@[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}/gi;let N={_or:[{first_name:{_starts_with:O}},{last_name:{_starts_with:O}},{email:{_starts_with:O}}]};O.match(T)&&(N={id:{_in:O}});try{const L=await re.get("/users",{params:{filter:O===""||!O?void 0:N,fields:["first_name","last_name","email","id","avatar"]},cancelToken:f.token}),M=U.exports.cloneDeep(s.value);L.data.data.forEach(B=>{M[B.id]=ht(B)}),s.value=M,a.value=L.data.data}catch(L){return L}},200);return{t,newCommentContent:l,postComment:$,saving:i,textarea:n,showMentionDropDown:u,searchResult:a,avatarSource:g,userName:ht,triggerSearch:y,insertUser:_,userPreviews:s,selectedKeyboardIndex:m,pressedUp:h,pressedDown:k,pressedEnter:A};function _(O){var K;const T=(K=l.value)==null?void 0:K.replaceAll(String.fromCharCode(160)," ");if(!T)return;let N=r-1,L=r;if(T.charAt(N)!==" "&&T.charAt(N)!==`
`)for(;N>=0&&T.charAt(N)!==" "&&T.charAt(N)!==`
`;)N--;for(;L<T.length&&T.charAt(L)!==" "&&T.charAt(L)!==`
`;)L++;const M=T.substring(0,N+(T.charAt(N)===`
`?1:0)),B=T.substring(L);l.value=M+" @"+O.id+B}function y({searchQuery:O,caretPosition:T}){r=T,u.value=!0,v(O),m.value=0}function g(O){return O===null?"":st(Qe()+`assets/${O}?key=system-small-cover`)}async function $(){if(!(l.value===null||l.value.length===0)){i.value=!0;try{e.existingComment?await re.patch(`/activity/comment/${e.existingComment.id}`,{comment:l.value}):await re.post("/activity/comment",{collection:e.collection,item:e.primaryKey,comment:l.value}),e.refresh(),l.value="",It({title:t("post_comment_success"),type:"success"})}catch(O){Ce(O)}finally{i.value=!1}}}function h(){m.value>0&&m.value--}function k(){m.value<a.value.length-1&&m.value++}function A(){_(a.value[m.value]),u.value=!1}}}),Qk={class:"input-container"},Xk=["src"],Zk={class:"buttons"};function Yk(e,t,n,l,i,u){const a=c("v-template-input"),s=c("v-icon"),r=c("v-avatar"),m=c("v-list-item-icon"),f=c("v-list-item-content"),v=c("v-list-item"),_=c("v-list"),y=c("v-menu"),g=c("v-button");return p(),I("div",Qk,[o(y,{modelValue:e.showMentionDropDown,"onUpdate:modelValue":t[2]||(t[2]=$=>e.showMentionDropDown=$),attached:""},{activator:d(()=>[o(a,{modelValue:e.newCommentContent,"onUpdate:modelValue":t[0]||(t[0]=$=>e.newCommentContent=$),"capture-group":"(@[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12})",multiline:"","trigger-character":"@",items:e.userPreviews,onTrigger:e.triggerSearch,onDeactivate:t[1]||(t[1]=$=>e.showMentionDropDown=!1),onUp:e.pressedUp,onDown:e.pressedDown,onEnter:e.pressedEnter},null,8,["modelValue","items","onTrigger","onUp","onDown","onEnter"])]),default:d(()=>[o(_,null,{default:d(()=>[(p(!0),I(ie,null,he(e.searchResult,($,h)=>(p(),C(v,{id:"suggestions",key:$.id,clickable:"",active:h===e.selectedKeyboardIndex,onClick:k=>e.insertUser($)},{default:d(()=>[o(m,null,{default:d(()=>[o(r,{"x-small":""},{default:d(()=>[$.avatar?(p(),I("img",{key:0,src:e.avatarSource($.avatar)},null,8,Xk)):(p(),C(s,{key:1,name:"person_outline"}))]),_:2},1024)]),_:2},1024),o(f,null,{default:d(()=>[D(b(e.userName($)),1)]),_:2},1024)]),_:2},1032,["active","onClick"]))),128))]),_:1})]),_:1},8,["modelValue"]),S("div",Zk,[e.existingComment?(p(),C(g,{key:0,class:"cancel","x-small":"",secondary:"",onClick:t[3]||(t[3]=$=>e.$emit("cancel"))},{default:d(()=>[D(b(e.t("cancel")),1)]),_:1})):R("",!0),o(g,{disabled:!e.newCommentContent||e.newCommentContent.length===0,loading:e.saving,class:"post-comment","x-small":"",onClick:e.postComment},{default:d(()=>[D(b(e.t("submit")),1)]),_:1},8,["disabled","loading","onClick"])])])}var Pa=q(Jk,[["render",Yk],["__scopeId","data-v-0d3f6e50"]]);const xk=z({props:{activity:{type:Object,required:!0},refresh:{type:Function,required:!0}},emits:["edit"],setup(e){const{t}=Y(),n=V(()=>e.activity.timestamp?sn(new Date(e.activity.timestamp),String(t("date-fns_time_no_seconds"))):null),l=V(()=>{var r;return((r=e.activity.user)==null?void 0:r.avatar)?st(Qe()+`assets/${e.activity.user.avatar.id}?key=system-small-cover`):null}),{confirmDelete:i,deleting:u,remove:a}=s();return{t,formattedTime:n,avatarSource:l,confirmDelete:i,deleting:u,remove:a,userName:ht};function s(){const r=E(!1),m=E(!1);return{confirmDelete:r,deleting:m,remove:f};async function f(){m.value=!0;try{await re.delete(`/activity/comment/${e.activity.id}`),await e.refresh(),r.value=!1}catch(v){Ce(v)}finally{m.value=!1}}}}}),e8={class:"comment-header"},t8=["src","alt"],n8={class:"name"},l8={class:"header-right"},o8={class:"time"};function a8(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-avatar"),r=c("user-popover"),m=c("v-list-item-icon"),f=c("v-list-item-content"),v=c("v-list-item"),_=c("v-list"),y=c("v-menu"),g=c("v-card-title"),$=c("v-card-text"),h=c("v-button"),k=c("v-card-actions"),A=c("v-card"),F=c("v-dialog");return p(),I("div",e8,[o(s,{"x-small":""},{default:d(()=>[e.avatarSource?(p(),I("img",{key:0,src:e.avatarSource,alt:e.userName(e.activity.user)},null,8,t8)):(p(),C(a,{key:1,name:"person_outline"}))]),_:1}),S("div",n8,[e.activity.user&&e.activity.user.id?(p(),C(r,{key:0,user:e.activity.user.id},{default:d(()=>[S("span",null,[e.activity.user&&e.activity.user?(p(),I(ie,{key:0},[D(b(e.userName(e.activity.user)),1)],64)):(p(),I(ie,{key:1},[D(b(e.t("private_user")),1)],64))])]),_:1},8,["user"])):R("",!0)]),S("div",l8,[o(y,{"show-arrow":"",placement:"bottom-end"},{activator:d(({toggle:P,active:O})=>[o(a,{class:se(["more",{active:O}]),name:"more_horiz",clickable:"",onClick:P},null,8,["class","onClick"]),S("div",o8,b(e.formattedTime),1)]),default:d(()=>[o(_,null,{default:d(()=>[o(v,{clickable:"",onClick:t[0]||(t[0]=P=>e.$emit("edit"))},{default:d(()=>[o(m,null,{default:d(()=>[o(a,{name:"edit",outline:""})]),_:1}),o(f,null,{default:d(()=>[D(b(e.t("edit")),1)]),_:1})]),_:1}),o(v,{clickable:"",onClick:t[1]||(t[1]=P=>e.confirmDelete=!0)},{default:d(()=>[o(m,null,{default:d(()=>[o(a,{name:"delete",outline:""})]),_:1}),o(f,null,{default:d(()=>[D(b(e.t("delete_label")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),o(F,{modelValue:e.confirmDelete,"onUpdate:modelValue":t[3]||(t[3]=P=>e.confirmDelete=P),onEsc:t[4]||(t[4]=P=>e.confirmDelete=!1)},{default:d(()=>[o(A,null,{default:d(()=>[o(g,null,{default:d(()=>[D(b(e.t("delete_comment")),1)]),_:1}),o($,null,{default:d(()=>[D(b(e.t("delete_are_you_sure")),1)]),_:1}),o(k,null,{default:d(()=>[o(h,{secondary:"",onClick:t[2]||(t[2]=P=>e.confirmDelete=!1)},{default:d(()=>[D(b(e.t("cancel")),1)]),_:1}),o(h,{kind:"danger",loading:e.deleting,onClick:e.remove},{default:d(()=>[D(b(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}var i8=q(xk,[["render",a8],["__scopeId","data-v-cb2ab15c"]]);const s8=z({components:{CommentItemHeader:i8,CommentInput:Pa},props:{activity:{type:Object,required:!0},refresh:{type:Function,required:!0},userPreviews:{type:Object,require:!0,default:()=>({})},primaryKey:{type:[Number,String],required:!0},collection:{type:String,required:!0}},setup(e){const{t}=Y(),n=E(),{edits:l,editing:i,savingEdits:u,saveEdits:a,cancelEditing:s}=r();return nt("meta+enter",a,n),{t,edits:l,editing:i,savingEdits:u,saveEdits:a,cancelEditing:s,textarea:n};function r(){const m=E(e.activity.comment),f=E(!1),v=E(!1);return _e(()=>e.activity,()=>m.value=e.activity.comment),{edits:m,editing:f,savingEdits:v,saveEdits:_,cancelEditing:y};async function _(){v.value=!0;try{await re.patch(`/activity/comment/${e.activity.id}`,{comment:m.value}),e.refresh()}catch(g){Ce(g)}finally{v.value=!1,f.value=!1}}function y(){m.value=e.activity.comment,f.value=!1}}}}),r8={class:"comment-item"},d8={key:1,class:"content selectable"};function u8(e,t,n,l,i,u){const a=c("comment-item-header"),s=c("comment-input"),r=Se("md");return p(),I("div",r8,[o(a,{refresh:e.refresh,activity:e.activity,onEdit:t[0]||(t[0]=m=>e.editing=!0)},null,8,["refresh","activity"]),e.editing?(p(),C(s,{key:0,"existing-comment":e.activity,"primary-key":e.primaryKey,collection:e.collection,refresh:e.refresh,previews:e.userPreviews,onCancel:e.cancelEditing},null,8,["existing-comment","primary-key","collection","refresh","previews","onCancel"])):x((p(),I("div",d8,null,512)),[[r,e.activity.display]])])}var c8=q(s8,[["render",u8],["__scopeId","data-v-2c18c6a3"]]);const p8=z({components:{CommentInput:Pa,CommentItem:c8},props:{collection:{type:String,required:!0},primaryKey:{type:[String,Number],required:!0}},setup(e){const{t}=Y(),{activity:n,loading:l,error:i,refresh:u,count:a,userPreviews:s}=r(e.collection,e.primaryKey);return{t,activity:n,loading:l,error:i,refresh:u,count:a,userPreviews:s};function r(f,v){const _=/(\s@[a-zA-Z0-9]{8}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{12})/gm,y=E(null),g=E(0),$=E(null),h=E(!1),k=E({});return A(),{activity:y,error:$,loading:h,refresh:F,count:g,userPreviews:k};async function A(){$.value=null,h.value=!0;try{const P=await re.get("/activity",{params:{"filter[collection][_eq]":f,"filter[item][_eq]":v,"filter[action][_eq]":"comment",sort:"-id",fields:["id","action","timestamp","user.id","user.email","user.first_name","user.last_name","user.avatar.id","revisions.id","comment"]}});g.value=P.data.data.length,k.value=await m(P.data.data,_);const O=P.data.data.map(L=>{const M=L.comment.match(_);let B=L.comment;for(const K of M!=null?M:[])B=B.replace(K,` <mark>${k.value[K.substring(2)]}</mark>`);return Ve(pe({},L),{display:B.replaceAll(`
`,"<br>")})}),T=U.exports.groupBy(O,L=>new Date(new Date(L.timestamp).toDateString())),N=[];for(const[L,M]of Object.entries(T)){const B=new Date(L),K=ta(B),W=na(B),le=la(B);let G;K?G=t("today"):W?G=t("yesterday"):le?G=await Rt(B,String(t("date-fns_date_short_no_year"))):G=await Rt(B,String(t("date-fns_date_short"))),N.push({date:B,dateFormatted:String(G),activity:M})}y.value=U.exports.orderBy(N,["date"],["desc"])}catch(P){P.value=P}finally{h.value=!1}}async function F(){await A()}}async function m(f,v){let _=[];f.forEach(g=>{_.push(g.comment.match(v))});const y=[...new Set(U.exports.flatten(_))].filter(g=>{if(g)return g});if(y.length>0){const g=await re.get("/users",{params:{filter:{id:{_in:y.map(h=>h.substring(2))}},fields:["first_name","last_name","email","id"]}}),$={};return g.data.data.map(h=>{$[h.id]=ht(h)}),$}return{}}}}),m8={key:1,class:"empty"},f8={class:"content"};function v8(e,t,n,l,i,u){const a=c("comment-input"),s=c("v-progress-linear"),r=c("v-divider"),m=c("comment-item"),f=c("sidebar-detail");return p(),C(f,{title:e.t("comments"),icon:"chat_bubble_outline",badge:e.count||null},{default:d(()=>[o(a,{refresh:e.refresh,collection:e.collection,"primary-key":e.primaryKey},null,8,["refresh","collection","primary-key"]),e.loading?(p(),C(s,{key:0,indeterminate:""})):!e.activity||e.activity.length===0?(p(),I("div",m8,[S("div",f8,b(e.t("no_comments")),1)])):(p(!0),I(ie,{key:2},he(e.activity,v=>(p(),I(ie,{key:v.date.toString()},[o(r,null,{default:d(()=>[D(b(v.dateFormatted),1)]),_:2},1024),(p(!0),I(ie,null,he(v.activity,_=>(p(),C(m,{key:_.id,refresh:e.refresh,activity:_,"user-previews":e.userPreviews,"primary-key":e.primaryKey,collection:e.collection},null,8,["refresh","activity","user-previews","primary-key","collection"]))),128))],64))),128))]),_:1},8,["title","badge"])}var ro=q(p8,[["render",v8],["__scopeId","data-v-a05ad8d4"]]);class _8 extends Error{constructor(t,n,l,i){super(t);this.status=n,this.code=l,this.extensions=i||{}}}class y8 extends _8{constructor(t){var n,l,i,u,a,s,r,m,f,v,_,y,g,$;const h={field:t.path[0]},k=t.type;if(k.endsWith("only"))if(((n=t.context)===null||n===void 0?void 0:n.valids.length)>1)h.type="in",h.valid=(l=t.context)===null||l===void 0?void 0:l.valids;else{const A=(i=t.context)===null||i===void 0?void 0:i.valids[0];A===null?h.type="null":A===""?h.type="empty":(h.type="eq",h.valid=(u=t.context)===null||u===void 0?void 0:u.valids[0])}if(k.endsWith("invalid"))if(((a=t.context)===null||a===void 0?void 0:a.invalids.length)>1)h.type="nin",h.invalid=(s=t.context)===null||s===void 0?void 0:s.invalids;else{const A=(r=t.context)===null||r===void 0?void 0:r.invalids[0];A===null?h.type="nnull":A===""?h.type="nempty":(h.type="neq",h.invalid=A)}k.endsWith("greater")&&(h.type="gt",h.valid=(m=t.context)===null||m===void 0?void 0:m.limit),k.endsWith("min")&&(h.type="gte",h.valid=(f=t.context)===null||f===void 0?void 0:f.limit),k.endsWith("less")&&(h.type="lt",h.valid=(v=t.context)===null||v===void 0?void 0:v.limit),k.endsWith("max")&&(h.type="lte",h.valid=(_=t.context)===null||_===void 0?void 0:_.limit),k.endsWith("contains")&&(h.type="contains",h.substring=(y=t.context)===null||y===void 0?void 0:y.substring),k.endsWith("ncontains")&&(h.type="ncontains",h.substring=(g=t.context)===null||g===void 0?void 0:g.substring),k.endsWith("required")&&(h.type="required"),k.endsWith(".pattern.base")&&(h.type="regex",h.invalid=($=t.context)===null||$===void 0?void 0:$.value);super(t.message,400,"FAILED_VALIDATION",h)}}function Gt(e){return e.startsWith("directus_")?`/${e.substring(9)}`:`/items/${e}`}function bl(e){var l;const t=Je();if(!t.currentUser)return e!=null?e:{};const n={role:t.currentUser.role.id,user:t.currentUser.id};return(l=Xl(e,n))!=null?l:{}}function Oa(e,t){var n;if(t.meta&&Array.isArray((n=t.meta)==null?void 0:n.conditions)){const i=[...t.meta.conditions].reverse().find(u=>{if(!u.rule||Object.keys(u.rule).length!==1)return;const a=bl(u.rule);return _l(a,e,{requireAll:!0}).length===0});return i?Ve(pe({},t),{meta:U.exports.merge({},t.meta||{},{readonly:i.readonly,options:i.options,hidden:i.hidden,required:i.required})}):t}else return t}function Cn(e,t){const{info:n,primaryKeyField:l,fields:i}=at(e),u=E(null),a=E(null),s=E([]),r=E(!1),m=E(!1),f=E(!1),v=E(!1),_=E({}),y=V(()=>t.value==="+"),g=V(()=>typeof t.value=="string"&&t.value.includes(",")),$=V(()=>{var B,K;return!!((K=(B=n.value)==null?void 0:B.meta)==null?void 0:K.singleton)}),h=V(()=>{var B,K,W,le;return((K=(B=n.value)==null?void 0:B.meta)==null?void 0:K.archive_field)?n.value.meta.archive_value==="true"?((W=u.value)==null?void 0:W[n.value.meta.archive_field])===!0:((le=u.value)==null?void 0:le[n.value.meta.archive_field])===n.value.meta.archive_value:null}),k=V(()=>$.value?Gt(e.value):`${Gt(e.value)}/${encodeURIComponent(t.value)}`);return _e([e,t],N,{immediate:!0}),{edits:_,item:u,error:a,loading:r,saving:m,refresh:N,save:F,isNew:y,remove:T,deleting:f,archive:O,isArchived:h,archiving:v,saveAsCopy:P,isBatch:g,getItem:A,validationErrors:s};async function A(){r.value=!0,a.value=null;try{const B=await re.get(k.value);L(B)}catch(B){a.value=B}finally{r.value=!1}}async function F(){var K,W;m.value=!0,s.value=[];const B=M(_.value);if(B.length>0)throw s.value=B,m.value=!1,B;try{let le;return y.value===!0?(le=await re.post(Gt(e.value),_.value),It({title:qe.global.t("item_create_success",g.value?2:1),type:"success"})):(le=await re.patch(k.value,_.value),It({title:qe.global.t("item_update_success",g.value?2:1),type:"success"})),L(le),_.value={},le.data.data}catch(le){if((W=(K=le==null?void 0:le.response)==null?void 0:K.data)==null?void 0:W.errors){s.value=le.response.data.errors.filter(Q=>{var fe;return gl.includes((fe=Q==null?void 0:Q.extensions)==null?void 0:fe.code)}).map(Q=>Q.extensions);const G=le.response.data.errors.filter(Q=>{var fe;return gl.includes((fe=Q==null?void 0:Q.extensions)==null?void 0:fe.code)===!1});G.length>0&&G.forEach(Ce)}else Ce(le);throw le}finally{m.value=!1}}async function P(){var G,Q,fe,ue;m.value=!0,s.value=[];const B=((Q=(G=n.value)==null?void 0:G.meta)==null?void 0:Q.item_duplication_fields)||["*"],K=await re.get(k.value,{params:{fields:B}}),W=pe(pe({},K.data.data||{}),_.value);l.value&&l.value.field in W&&delete W[l.value.field];const le=M(W);if(le.length>0)throw s.value=le,m.value=!1,le;try{const ne=await re.post(Gt(e.value),W);return It({title:qe.global.t("item_create_success",1),type:"success"}),_.value={},l.value?ne.data.data[l.value.field]:null}catch(ne){if((ue=(fe=ne==null?void 0:ne.response)==null?void 0:fe.data)==null?void 0:ue.errors)s.value=ne.response.data.errors.filter(ee=>{var de;return((de=ee==null?void 0:ee.extensions)==null?void 0:de.code)==="FAILED_VALIDATION"}).map(ee=>ee.extensions);else throw Ce(ne),ne}finally{m.value=!1}}async function O(){var le,G;if(!((G=(le=n.value)==null?void 0:le.meta)==null?void 0:G.archive_field))return;v.value=!0;const B=n.value.meta.archive_field;let K=n.value.meta.archive_value;K==="true"&&(K=!0),K==="false"&&(K=!1);let W=n.value.meta.unarchive_value;W==="true"&&(W=!0),W==="false"&&(W=!1);try{let Q=u.value&&u.value[B]===K?W:K;Q==="true"&&(Q=!0),Q==="false"&&(Q=!1),u.value=Ve(pe({},u.value),{[B]:Q}),await re.patch(k.value,{[B]:Q}),It({title:qe.global.t("item_delete_success",g.value?2:1),type:"success"})}catch(Q){throw Ce(Q),Q}finally{v.value=!1}}async function T(){f.value=!0;try{await re.delete(k.value),u.value=null,It({title:qe.global.t("item_delete_success",g.value?2:1),type:"success"})}catch(B){throw Ce(B),B}finally{f.value=!1}}function N(){a.value=null,r.value=!1,m.value=!1,f.value=!1,y.value===!0?u.value=null:A()}function L(B){var K;if(e.value==="directus_collections"&&((K=B.data.data.collection)==null?void 0:K.startsWith("directus_"))&&(B.data.data=Vt(B.data.data)),g.value===!1)u.value=B.data.data;else{const W=pe({},B.data.data[0]);B.data.data.forEach(le=>{for(const[G,Q]of Object.entries(le))W[G]!==Q&&delete W[G]}),u.value=W}}function M(B){var G;const K={_and:[]},le=i.value.map(Q=>Oa(B,Q)).filter(Q=>{var fe;return((fe=Q.meta)==null?void 0:fe.required)===!0});for(const Q of le)y.value===!0&&U.exports.isNil((G=Q.schema)==null?void 0:G.default_value)&&K._and.push({[Q.field]:{_submitted:!0}}),K._and.push({[Q.field]:{_nnull:!0}});return U.exports.flatten(_l(K,B).map(Q=>Q.details.map(fe=>new y8(fe).extensions)))}}function uo(e){return e.charAt(0).toUpperCase()+e.slice(1)}function La(e){return navigator.platform.toLowerCase().startsWith("mac")||navigator.platform.startsWith("iP")?e.map(n=>n==="meta"?"\u2318":n==="option"?"\u2325":n==="shift"?"\u21E7":n==="alt"?"\u2325":uo(n)).join(""):e.map(n=>n==="meta"?"Ctrl":uo(n)).join("+")}const g8=z({props:{disabledOptions:{type:Array,default:()=>[]}},emits:["save-and-stay","save-and-add-new","save-as-copy","discard-and-stay"],setup(){const{t:e}=Y();return{t:e,translateShortcut:La}}});function h8(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-list-item-icon"),r=c("v-list-item-content"),m=c("v-list-item-hint"),f=c("v-list-item"),v=c("v-list"),_=c("v-menu");return p(),C(_,{"show-arrow":""},{activator:d(({toggle:y})=>[o(a,{name:"more_vert",clickable:"",onClick:y},null,8,["onClick"])]),default:d(()=>[o(v,null,{default:d(()=>[e.disabledOptions.includes("save-and-stay")?R("",!0):(p(),C(f,{key:0,clickable:"",onClick:t[0]||(t[0]=y=>e.$emit("save-and-stay"))},{default:d(()=>[o(s,null,{default:d(()=>[o(a,{name:"check"})]),_:1}),o(r,null,{default:d(()=>[D(b(e.t("save_and_stay")),1)]),_:1}),o(m,null,{default:d(()=>[D(b(e.translateShortcut(["meta","s"])),1)]),_:1})]),_:1})),e.disabledOptions.includes("save-and-add-new")?R("",!0):(p(),C(f,{key:1,clickable:"",onClick:t[1]||(t[1]=y=>e.$emit("save-and-add-new"))},{default:d(()=>[o(s,null,{default:d(()=>[o(a,{name:"add"})]),_:1}),o(r,null,{default:d(()=>[D(b(e.t("save_and_create_new")),1)]),_:1}),o(m,null,{default:d(()=>[D(b(e.translateShortcut(["meta","shift","s"])),1)]),_:1})]),_:1})),e.disabledOptions.includes("save-as-copy")?R("",!0):(p(),C(f,{key:2,clickable:"",onClick:t[2]||(t[2]=y=>e.$emit("save-as-copy"))},{default:d(()=>[o(s,null,{default:d(()=>[o(a,{name:"done_all"})]),_:1}),o(r,null,{default:d(()=>[D(b(e.t("save_as_copy")),1)]),_:1})]),_:1})),e.disabledOptions.includes("discard-and-stay")?R("",!0):(p(),C(f,{key:3,clickable:"",onClick:t[3]||(t[3]=y=>e.$emit("discard-and-stay"))},{default:d(()=>[o(s,null,{default:d(()=>[o(a,{name:"undo"})]),_:1}),o(r,null,{default:d(()=>[D(b(e.t("discard_all_changes")),1)]),_:1})]),_:1}))]),_:1})]),_:1})}var $l=q(g8,[["render",h8],["__scopeId","data-v-d6332d10"]]);const rt=oa.extend({type:"string",base:oa.string(),messages:{"string.contains":"{{#label}} must contain [{{#substring}}]","string.ncontains":"{{#label}} can't contain [{{#substring}}]"},rules:{contains:{args:[{name:"substring",ref:!0,assert:e=>typeof e=="string",message:"must be a string"}],method(e){return this.$_addRule({name:"contains",args:{substring:e}})},validate(e,t,{substring:n}){return e.includes(n)===!1?t.error("string.contains",{substring:n}):e}},ncontains:{args:[{name:"substring",ref:!0,assert:e=>typeof e=="string",message:"must be a string"}],method(e){return this.$_addRule({name:"ncontains",args:{substring:e}})},validate(e,t,{substring:n}){return e.includes(n)===!0?t.error("string.ncontains",{substring:n}):e}}}}),b8={allowUnknown:!0,requireAll:!1};function $8(e,t){e=e||{},t=U.exports.merge({},b8,t);const n={};for(const[l,i]of Object.entries(e))if(l.startsWith("_")===!1){const a=Object.keys(i)[0];if(a==="_eq"&&(n[l]=rt.any().equal(Object.values(i)[0])),a==="_neq"&&(n[l]=rt.any().not(Object.values(i)[0])),a==="_contains"&&(n[l]=rt.string().contains(Object.values(i)[0])),a==="_ncontains"&&(n[l]=rt.string().ncontains(Object.values(i)[0])),a==="_starts_with"&&(n[l]=rt.string().pattern(new RegExp(`^${U.exports.escapeRegExp(Object.values(i)[0])}.*`),{name:"starts_with"})),a==="_nstarts_with"&&(n[l]=rt.string().pattern(new RegExp(`^${U.exports.escapeRegExp(Object.values(i)[0])}.*`),{name:"starts_with",invert:!0})),a==="_ends_with"&&(n[l]=rt.string().pattern(new RegExp(`.*${U.exports.escapeRegExp(Object.values(i)[0])}$`),{name:"ends_with"})),a==="_nends_with"&&(n[l]=rt.string().pattern(new RegExp(`.*${U.exports.escapeRegExp(Object.values(i)[0])}$`),{name:"ends_with",invert:!0})),a==="_in"&&(n[l]=rt.any().equal(...Object.values(i)[0])),a==="_nin"&&(n[l]=rt.any().not(...Object.values(i)[0])),a==="_gt"&&(n[l]=rt.number().greater(Number(Object.values(i)[0]))),a==="_gte"&&(n[l]=rt.number().min(Number(Object.values(i)[0]))),a==="_lt"&&(n[l]=rt.number().less(Number(Object.values(i)[0]))),a==="_lte"&&(n[l]=rt.number().max(Number(Object.values(i)[0]))),a==="_null"&&(n[l]=rt.any().valid(null)),a==="_nnull"&&(n[l]=rt.any().invalid(null)),a==="_empty"&&(n[l]=rt.any().valid("")),a==="_nempty"&&(n[l]=rt.any().invalid("")),a==="_between"){const s=Object.values(i)[0];n[l]=rt.number().greater(s[0]).less(s[1])}if(a==="_nbetween"){const s=Object.values(i)[0];n[l]=rt.number().less(s[0]).greater(s[1])}t.requireAll&&(n[l]=n[l].required())}return t.allowUnknown?rt.object(n).unknown():rt.object(n)}function wl(e,t,n,l=!1){const i=Tt();if(Je().isAdmin===!0)return!0;const s=i.permissions.find(f=>f.action===t&&f.collection===e);if(!s||!s.fields)return!1;if(l&&s.fields.includes("*")===!1&&n){const f=s.fields;if(Object.keys(n).every(_=>f.includes(_))===!1)return!1}const r=$8(s.permissions,{allowUnknown:!0}),{error:m}=r.validate(n);return!m}function Kn(e,t,n){const l=Je(),i=Tt(),{info:u,fields:a}=at(e),s=V(()=>wl(e.value,"delete",t.value)),r=V(()=>n.value?!0:wl(e.value,"update",t.value)),m=V(()=>wl(e.value,"update",t.value)),f=V(()=>{var y,g;return((g=(y=u.value)==null?void 0:y.meta)==null?void 0:g.archive_field)?wl(e.value,"update",{[u.value.meta.archive_field]:u.value.meta.archive_value},!0):!1}),v=V(()=>{var $,h,k;let y=U.exports.cloneDeep(a.value);if(((h=($=l.currentUser)==null?void 0:$.role)==null?void 0:h.admin_access)===!0)return y;const g=i.getPermissionsForUser(e.value,n.value?"create":"update");return g&&(((k=g.fields)==null?void 0:k.includes("*"))===!1&&(y=y.map(A=>{var F;return((F=g.fields)==null?void 0:F.includes(A.field))===!1&&(A.meta=Ve(pe({},A.meta||{}),{readonly:!0})),A})),g.presets&&(y=y.map(A=>(A.field in g.presets&&(A.schema=Ve(pe({},A.schema||{}),{default_value:g.presets[A.field]})),A)))),y}),_=V(()=>{var y,g;return((g=(y=l.currentUser)==null?void 0:y.role)==null?void 0:g.admin_access)===!0?!0:!!i.permissions.find($=>$.collection==="directus_revisions"&&$.action==="read")});return{deleteAllowed:s,saveAllowed:r,archiveAllowed:f,updateAllowed:m,fields:v,revisionsAllowed:_}}function en(e){aa(()=>{window.addEventListener("beforeunload",t)}),Ul(()=>{window.removeEventListener("beforeunload",t)});function t(n){if(e.value)return n.preventDefault(),n.returnValue="",""}}function w8(e){if(e==null)return;const t=typeof e=="string"?E(e):e;return _e(t,(n,l)=>{typeof n=="string"&&l!==n&&(document.title=n)},{immediate:!0}),t}function k8(e,t){const n=Hr(t,e);return typeof n=="object"?JSON.stringify(n):n}function ja(e,t){const n=Mn(t),l=Mn(e),i=V(()=>yt(l)),u=V(()=>{if(!n||!l||!i.value)return!1;try{return Kr(l,k8,n,{propsExist:!0})}catch{return!1}});return{fieldsInTemplate:i,displayValue:u}}function S8(e,t){const n=yt(e);if(!t||!e||!n)return null;try{return Un(e,t,{propsExist:!0})}catch{return null}}function Ra(e,t){const n=E(),l=E(!1),i=E(null),u=V(()=>{var s,r;return((r=(s=e.value)==null?void 0:s.meta)==null?void 0:r.display_template)?yt(e.value.meta.display_template):null});return _e([e,t],a,{immediate:!0}),{templateData:n,loading:l,error:i};async function a(){if(!t.value||t.value==="+"||u.value===null||!e.value)return;l.value=!0;const s=e.value.collection.startsWith("directus_")?`/${e.value.collection.substring(9)}/${t.value}`:`/items/${e.value.collection}/${encodeURIComponent(t.value)}`;try{const r=await re.get(s,{params:{fields:u.value}});n.value=r.data.data}catch(r){i.value=r}finally{l.value=!1}}}const C8=z({name:"ContentsItem",components:{ContentNavigation:yl,ContentNotFound:lo,RevisionsDrawerDetail:zn,CommentsSidebarDetail:ro,SaveOptions:$l},props:{collection:{type:String,required:!0},primaryKey:{type:String,default:null},singleton:{type:Boolean,default:!1}},setup(e){const{t,te:n}=Y(),l=Ye(),i=E(),{collection:u,primaryKey:a}=Re(e),{breadcrumb:s}=$e(),r=E(null),{info:m,defaults:f,primaryKeyField:v,isSingleton:_,accountabilityScope:y}=at(u),{isNew:g,edits:$,item:h,saving:k,loading:A,error:F,save:P,remove:O,deleting:T,archive:N,archiving:L,isArchived:M,saveAsCopy:B,refresh:K,validationErrors:W}=Cn(u,a),{templateData:le,loading:G}=Ra(m,a),Q=V(()=>Object.keys($.value).length>0),fe=V(()=>{var Ie,we,be,je,et,tt;return J.value===!1?!1:Q.value===!0?!0:!((we=(Ie=v.value)==null?void 0:Ie.schema)==null?void 0:we.has_auto_increment)&&!((et=(je=(be=v.value)==null?void 0:be.meta)==null?void 0:je.special)==null?void 0:et.includes("uuid"))?!!((tt=$.value)==null?void 0:tt[v.value.field]):g.value===!0&&Object.keys(f.value).length>0||Q.value});en(fe);const ue=E(!1),ne=E(!1),ee=E(!1),de=E(null),ce=V(()=>{var Ie,we;return n(`collection_names_singular.${e.collection}`)?g.value?t("creating_unit",{unit:t(`collection_names_singular.${e.collection}`)}):t("editing_unit",{unit:t(`collection_names_singular.${e.collection}`)}):g.value?t("creating_in",{collection:(Ie=m.value)==null?void 0:Ie.name}):t("editing_in",{collection:(we=m.value)==null?void 0:we.name})}),H=V(()=>{var we;let Ie=(((we=m.value)==null?void 0:we.name)||"")+" | ";if(m.value&&m.value.meta){if(m.value.meta.singleton===!0)return Ie+m.value.name;if(g.value===!1&&m.value.meta.display_template){const{displayValue:be}=ja(m.value.meta.display_template,le);if(be.value!==void 0)return Ie+be.value}}return Ie+ce.value});w8(H);const Z=V(()=>ve.value===!1?t("not_allowed"):M.value===!0?t("unarchive"):t("archive"));nt("meta+s",Ae,i),nt("meta+shift+s",De,i);const X=Ie=>{if(Q.value)return ee.value=!0,de.value=Ie.fullPath,!1};Lt(X),Pt(X);const{deleteAllowed:te,archiveAllowed:ve,saveAllowed:J,updateAllowed:oe,fields:ae,revisionsAllowed:me}=Kn(u,h,g),ge=V(()=>{var Ie,we;return g.value?"+":_.value?(we=h.value)==null?void 0:we[(Ie=v.value)==null?void 0:Ie.field]:e.primaryKey});return{t,router:l,item:h,loading:A,error:F,isNew:g,edits:$,isSavable:fe,hasEdits:Q,saving:k,collectionInfo:m,saveAndQuit:ke,deleteAndQuit:lt,confirmDelete:ue,confirmArchive:ne,deleting:T,archiving:L,saveAndStay:Ae,saveAndAddNew:De,saveAsCopyAndNavigate:Ne,discardAndStay:Be,templateData:le,templateDataLoading:G,archiveTooltip:Z,breadcrumb:s,title:ce,revisionsDrawerDetail:r,refresh:K,confirmLeave:ee,leaveTo:de,discardAndLeave:Oe,deleteAllowed:te,saveAllowed:J,archiveAllowed:ve,isArchived:M,updateAllowed:oe,toggleArchive:Te,validationErrors:W,form:i,fields:ae,isSingleton:_,internalPrimaryKey:ge,revisionsAllowed:me,revert:xe,accountabilityScope:y};function $e(){return{breadcrumb:V(()=>{var we;return[{name:(we=m.value)==null?void 0:we.name,to:`/content/${e.collection}`}]})}}async function ke(){if(fe.value!==!1)try{await P(),e.singleton===!1&&l.push(`/content/${e.collection}`)}catch{}}async function Ae(){var Ie,we;if(fe.value!==!1)try{const be=await P();if((we=(Ie=r.value)==null?void 0:Ie.refresh)==null||we.call(Ie),e.primaryKey==="+"){const je=be[v.value.field];l.replace(`/content/${e.collection}/${encodeURIComponent(je)}`)}}catch{}}async function De(){if(fe.value!==!1)try{await P(),g.value===!0?K():l.push(`/content/${e.collection}/+`)}catch{}}async function Ne(){try{const Ie=await B();Ie&&l.push(`/content/${e.collection}/${encodeURIComponent(Ie)}`)}catch{}}async function lt(){try{await O(),$.value={},l.replace(`/content/${e.collection}`)}catch{}}async function Te(){try{await N(),M.value===!0?l.push(`/content/${e.collection}`):ne.value=!1}catch{}}function Oe(){!de.value||($.value={},ee.value=!1,l.push(de.value))}function Be(){$.value={},ee.value=!1}function xe(Ie){$.value=pe(pe({},$.value),Ie)}}}),V8={class:"type-title"},F8={class:"page-description"};function A8(e,t,n,l,i,u){var B,K;const a=c("content-not-found"),s=c("v-skeleton-loader"),r=c("render-template"),m=c("v-icon"),f=c("v-button"),v=c("v-breadcrumb"),_=c("v-card-title"),y=c("v-card-actions"),g=c("v-card"),$=c("v-dialog"),h=c("save-options"),k=c("content-navigation"),A=c("v-form"),F=c("v-card-text"),P=c("sidebar-detail"),O=c("revisions-drawer-detail"),T=c("comments-sidebar-detail"),N=c("private-view"),L=Se("tooltip"),M=Se("md");return e.error||!e.collectionInfo||((K=(B=e.collectionInfo)==null?void 0:B.meta)==null?void 0:K.singleton)===!0&&e.primaryKey!==null?(p(),C(a,{key:0})):(p(),C(N,{key:1,title:e.title},Ze({"title-outer:prepend":d(()=>[e.collectionInfo.meta&&e.collectionInfo.meta.singleton===!0?(p(),C(f,{key:0,class:"header-icon",rounded:"",icon:"",secondary:"",disabled:""},{default:d(()=>[o(m,{name:e.collectionInfo.icon},null,8,["name"])]),_:1})):x((p(),C(f,{key:1,class:"header-icon",rounded:"",icon:"",secondary:"",exact:"",onClick:t[0]||(t[0]=W=>e.router.back())},{default:d(()=>[o(m,{name:"arrow_back"})]),_:1},512)),[[L,e.t("back"),void 0,{bottom:!0}]])]),headline:d(()=>[e.collectionInfo.meta&&e.collectionInfo.meta.singleton===!0?(p(),C(v,{key:0,items:[{name:e.t("content"),to:"/content"}]},null,8,["items"])):(p(),C(v,{key:1,items:e.breadcrumb},null,8,["items"]))]),actions:d(()=>[e.isNew?R("",!0):(p(),C($,{key:0,modelValue:e.confirmDelete,"onUpdate:modelValue":t[2]||(t[2]=W=>e.confirmDelete=W),disabled:e.deleteAllowed===!1,onEsc:t[3]||(t[3]=W=>e.confirmDelete=!1)},{activator:d(({on:W})=>[e.collectionInfo.meta&&e.collectionInfo.meta.singleton===!1?x((p(),C(f,{key:0,rounded:"",icon:"",class:"action-delete",disabled:e.item===null||e.deleteAllowed!==!0,onClick:W},{default:d(()=>[o(m,{name:"delete",outline:""})]),_:2},1032,["disabled","onClick"])),[[L,e.deleteAllowed?e.t("delete_label"):e.t("not_allowed"),void 0,{bottom:!0}]]):R("",!0)]),default:d(()=>[o(g,null,{default:d(()=>[o(_,null,{default:d(()=>[D(b(e.t("delete_are_you_sure")),1)]),_:1}),o(y,null,{default:d(()=>[o(f,{secondary:"",onClick:t[1]||(t[1]=W=>e.confirmDelete=!1)},{default:d(()=>[D(b(e.t("cancel")),1)]),_:1}),o(f,{kind:"danger",loading:e.deleting,onClick:e.deleteAndQuit},{default:d(()=>[D(b(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue","disabled"])),e.collectionInfo.meta&&e.collectionInfo.meta.archive_field&&!e.isNew?(p(),C($,{key:1,modelValue:e.confirmArchive,"onUpdate:modelValue":t[5]||(t[5]=W=>e.confirmArchive=W),disabled:e.archiveAllowed===!1,onEsc:t[6]||(t[6]=W=>e.confirmArchive=!1)},{activator:d(({on:W})=>[e.collectionInfo.meta&&e.collectionInfo.meta.singleton===!1?x((p(),C(f,{key:0,rounded:"",icon:"",class:"action-archive",disabled:e.item===null||e.archiveAllowed!==!0,onClick:W},{default:d(()=>[o(m,{name:e.isArchived?"unarchive":"archive",outline:""},null,8,["name"])]),_:2},1032,["disabled","onClick"])),[[L,e.archiveTooltip,void 0,{bottom:!0}]]):R("",!0)]),default:d(()=>[o(g,null,{default:d(()=>[o(_,null,{default:d(()=>[D(b(e.isArchived?e.t("unarchive_confirm"):e.t("archive_confirm")),1)]),_:1}),o(y,null,{default:d(()=>[o(f,{secondary:"",onClick:t[4]||(t[4]=W=>e.confirmArchive=!1)},{default:d(()=>[D(b(e.t("cancel")),1)]),_:1}),o(f,{kind:"warning",loading:e.archiving,onClick:e.toggleArchive},{default:d(()=>[D(b(e.isArchived?e.t("unarchive"):e.t("archive")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue","disabled"])):R("",!0),x(o(f,{rounded:"",icon:"",loading:e.saving,disabled:e.isSavable===!1||e.saveAllowed===!1,onClick:e.saveAndQuit},{"append-outer":d(()=>[e.collectionInfo.meta&&e.collectionInfo.meta.singleton!==!0&&e.isSavable===!0?(p(),C(h,{key:0,onSaveAndStay:e.saveAndStay,onSaveAndAddNew:e.saveAndAddNew,onSaveAsCopy:e.saveAsCopyAndNavigate,onDiscardAndStay:e.discardAndStay},null,8,["onSaveAndStay","onSaveAndAddNew","onSaveAsCopy","onDiscardAndStay"])):R("",!0)]),default:d(()=>[o(m,{name:"check"})]),_:1},8,["loading","disabled","onClick"]),[[L,e.saveAllowed?e.t("save"):e.t("not_allowed"),void 0,{bottom:!0}]])]),navigation:d(()=>[o(k,{"current-collection":e.collection},null,8,["current-collection"])]),sidebar:d(()=>[o(P,{icon:"info_outline",title:e.t("information"),close:""},{default:d(()=>[x(S("div",F8,null,512),[[M,e.t("page_help_collections_item")]])]),_:1},8,["title"]),e.isNew===!1&&e.internalPrimaryKey&&e.revisionsAllowed&&e.accountabilityScope==="all"?(p(),C(O,{key:0,ref:"revisionsDrawerDetail",collection:e.collection,"primary-key":e.internalPrimaryKey,scope:e.accountabilityScope,onRevert:e.revert},null,8,["collection","primary-key","scope","onRevert"])):R("",!0),e.isNew===!1&&e.internalPrimaryKey?(p(),C(T,{key:1,collection:e.collection,"primary-key":e.internalPrimaryKey},null,8,["collection","primary-key"])):R("",!0)]),default:d(()=>[o(A,{ref:"form",key:e.collection,modelValue:e.edits,"onUpdate:modelValue":t[7]||(t[7]=W=>e.edits=W),autofocus:e.isNew,disabled:e.isNew?!1:e.updateAllowed===!1,loading:e.loading,"initial-values":e.item,fields:e.fields,"primary-key":e.internalPrimaryKey,"validation-errors":e.validationErrors},null,8,["modelValue","autofocus","disabled","loading","initial-values","fields","primary-key","validation-errors"]),o($,{modelValue:e.confirmLeave,"onUpdate:modelValue":t[9]||(t[9]=W=>e.confirmLeave=W),onEsc:t[10]||(t[10]=W=>e.confirmLeave=!1)},{default:d(()=>[o(g,null,{default:d(()=>[o(_,null,{default:d(()=>[D(b(e.t("unsaved_changes")),1)]),_:1}),o(F,null,{default:d(()=>[D(b(e.t("unsaved_changes_copy")),1)]),_:1}),o(y,null,{default:d(()=>[o(f,{secondary:"",onClick:e.discardAndLeave},{default:d(()=>[D(b(e.t("discard_changes")),1)]),_:1},8,["onClick"]),o(f,{onClick:t[8]||(t[8]=W=>e.confirmLeave=!1)},{default:d(()=>[D(b(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:2},[e.collectionInfo.meta&&e.collectionInfo.meta.singleton===!0?{name:"title",fn:d(()=>[S("h1",V8,b(e.collectionInfo.name),1)])}:e.isNew===!1&&e.collectionInfo.meta&&e.collectionInfo.meta.display_template?{name:"title",fn:d(()=>[e.loading||e.templateDataLoading?(p(),C(s,{key:0,class:"title-loader",type:"text"})):(p(),I("h1",{key:1,class:"type-title"},[o(r,{collection:e.collectionInfo.collection,item:e.templateData,template:e.collectionInfo.meta.display_template},null,8,["collection","item","template"])]))])}:void 0]),1032,["title"]))}var Ma=q(C8,[["render",A8],["__scopeId","data-v-0fa4e0b2"]]);const I8=z({components:{CollectionRoute:nk,ItemRoute:Ma},props:{collection:{type:String,required:!0},bookmark:{type:String,default:null},archive:{type:Boolean,default:!1}},setup(e){const t=Ke();return{isSingleton:V(()=>{var i;const l=t.getCollection(e.collection);return!!((i=l==null?void 0:l.meta)==null?void 0:i.singleton)})}}});function E8(e,t,n,l,i,u){return p(),C(Ue(e.isSingleton?"item-route":"collection-route"),{collection:e.collection,bookmark:e.bookmark,singleton:e.isSingleton?!0:void 0,archive:e.archive},null,8,["collection","bookmark","singleton","archive"])}var D8=q(I8,[["render",E8]]);const T8=z({name:"ContentOverview",components:{ContentNavigation:yl},props:{},setup(){const{t:e}=Y(),t=Je(),n=V(()=>{var l;return((l=t.currentUser)==null?void 0:l.role.admin_access)===!0});return{t:e,isAdmin:n}}}),P8={class:"page-description"};function O8(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-button"),r=c("content-navigation"),m=c("v-info"),f=c("sidebar-detail"),v=c("private-view"),_=Se("md");return p(),C(v,{class:"content-overview",title:e.t("content")},{"title-outer:prepend":d(()=>[o(s,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:d(()=>[o(a,{name:"box"})]),_:1})]),navigation:d(()=>[o(r)]),sidebar:d(()=>[o(f,{icon:"info_outline",title:e.t("information"),close:""},{default:d(()=>[x(S("div",P8,null,512),[[_,e.t("page_help_collections_overview")]])]),_:1},8,["title"])]),default:d(()=>[o(m,{icon:"box",title:e.t("no_collections"),center:""},Ze({default:d(()=>[e.isAdmin?(p(),I(ie,{key:0},[D(b(e.t("no_collections_copy_admin")),1)],64)):(p(),I(ie,{key:1},[D(b(e.t("no_collections_copy")),1)],64))]),_:2},[e.isAdmin?{name:"append",fn:d(()=>[o(s,{to:"/settings/data-model/+"},{default:d(()=>[D(b(e.t("create_collection")),1)]),_:1})])}:void 0]),1032,["title"])]),_:1},8,["title"])}var L8=q(T8,[["render",O8],["__scopeId","data-v-0dd849a0"]]);const co=(e,t)=>{var n;if(!!((n=e.params)==null?void 0:n.collection)){if(e.params.collection==="directus_users")return e.params.primaryKey?`/users/${e.params.primaryKey}`:"/users";if(e.params.collection==="directus_files")return e.params.primaryKey?`/files/${e.params.primaryKey}`:"/files";if(e.params.collection==="directus_activity")return e.params.primaryKey?`/activity/${e.params.primaryKey}`:"/activity";if(e.params.collection==="directus_webhooks")return e.params.primaryKey?`/settings/webhooks/${e.params.primaryKey}`:"/settings/webhooks";if("bookmark"in t.query&&typeof t.query.bookmark=="string"&&!("bookmark"in e.query)&&e.params.collection===t.params.collection)return eo(e.fullPath,{bookmark:t.query.bookmark})}};var j8=dn({id:"content",name:"$t:content",icon:"box",routes:[{name:"no-collections",path:"",component:L8,beforeEnter(){const e=Ke(),{activeGroups:t}=Aa(E(null));if(e.visibleCollections.length===0)return;const n=U.exports.orderBy(e.visibleCollections.filter(u=>{var a;return U.exports.isNil((a=u==null?void 0:u.meta)==null?void 0:a.group)}),["meta.sort","collection"]);let l=i(n);if(l=i(n,{skipClosed:!1}),!l)return;return`/content/${l.collection}`;function i(u,{skipClosed:a}={skipClosed:!0}){for(const s of u){if(s.schema)return s;if(a&&t.value.includes(s.collection)===!1)continue;const r=U.exports.orderBy(e.visibleCollections.filter(f=>{var v;return s.collection===((v=f.meta)==null?void 0:v.group)}),["meta.sort","collection"]),m=i(r);if(m)return m}}}},{path:":collection",component:pn,children:[{name:"content-collection",path:"",component:D8,props:e=>({collection:e.params.collection,bookmark:e.query.bookmark,archive:"archive"in e.query}),beforeEnter:co},{name:"content-item",path:":primaryKey",component:Ma,props:!0,beforeEnter:co}]},{name:"content-item-not-found",path:":_(.+)+",component:lo,beforeEnter:co}]}),R8=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:j8}),M8=[{name:"app",path:"app",children:[{name:"content-collections",path:"app/content-collections",import:()=>j(()=>import("./assets/content-collections.0007a435.js"),["assets/content-collections.0007a435.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"content-items",path:"app/content-items",import:()=>j(()=>import("./assets/content-items.83911a78.js"),["assets/content-items.83911a78.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"content",path:"app/content",import:()=>j(()=>import("./assets/content.e8956f53.js"),["assets/content.e8956f53.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"documentation",path:"app/documentation",import:()=>j(()=>import("./assets/documentation.9b975228.js"),["assets/documentation.9b975228.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"file-library",path:"app/file-library",import:()=>j(()=>import("./assets/file-library.72aadc40.js"),["assets/file-library.72aadc40.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"insights",path:"app/insights",import:()=>j(()=>import("./assets/insights.ce0b5824.js"),["assets/insights.ce0b5824.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"overview",path:"app/overview",import:()=>j(()=>import("./assets/overview.c5429f63.js"),["assets/overview.c5429f63.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"settings",path:"app/settings",import:()=>j(()=>import("./assets/settings.863df08a.js"),["assets/settings.863df08a.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"user-directory",path:"app/user-directory",import:()=>j(()=>import("./assets/user-directory.cf85143d.js"),["assets/user-directory.cf85143d.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])}]},{name:"configuration",path:"configuration",children:[{name:"activity-log",path:"configuration/activity-log",import:()=>j(()=>import("./assets/activity-log.f793a2d0.js"),["assets/activity-log.f793a2d0.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"config-options",path:"configuration/config-options",import:()=>j(()=>import("./assets/config-options.22fa054d.js"),["assets/config-options.22fa054d.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"data-model",path:"configuration/data-model",import:()=>j(()=>import("./assets/data-model.f1efc866.js"),["assets/data-model.f1efc866.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"faq",path:"configuration/faq",import:()=>j(()=>import("./assets/faq.0406b366.js"),["assets/faq.0406b366.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"filter-rules",path:"configuration/filter-rules",import:()=>j(()=>import("./assets/filter-rules.69ad62df.js"),["assets/filter-rules.69ad62df.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"localization",path:"configuration/localization",import:()=>j(()=>import("./assets/localization.41fdf309.js"),["assets/localization.41fdf309.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"overview",path:"configuration/overview",import:()=>j(()=>import("./assets/overview.4fc1f5e2.js"),["assets/overview.4fc1f5e2.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"presets-bookmarks",path:"configuration/presets-bookmarks",import:()=>j(()=>import("./assets/presets-bookmarks.784c2313.js"),["assets/presets-bookmarks.784c2313.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"project-settings",path:"configuration/project-settings",import:()=>j(()=>import("./assets/project-settings.266a01df.js"),["assets/project-settings.266a01df.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"relationships",path:"configuration/relationships",import:()=>j(()=>import("./assets/relationships.25bfe3d0.js"),["assets/relationships.25bfe3d0.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"security",path:"configuration/security",import:()=>j(()=>import("./assets/security.20c51064.js"),["assets/security.20c51064.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"upgrades-migrations",path:"configuration/upgrades-migrations",import:()=>j(()=>import("./assets/upgrades-migrations.a5e30787.js"),["assets/upgrades-migrations.a5e30787.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"users-roles-permissions",path:"configuration/users-roles-permissions",import:()=>j(()=>import("./assets/users-roles-permissions.fa90206e.js"),["assets/users-roles-permissions.fa90206e.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"webhooks",path:"configuration/webhooks",import:()=>j(()=>import("./assets/webhooks.65cb968e.js"),["assets/webhooks.65cb968e.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])}]},{name:"contributing",path:"contributing",children:[{name:"codebase-overview",path:"contributing/codebase-overview",import:()=>j(()=>import("./assets/codebase-overview.0247f134.js"),["assets/codebase-overview.0247f134.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"github-ci",path:"contributing/github-ci",import:()=>j(()=>import("./assets/github-ci.8cd0ce44.js"),["assets/github-ci.8cd0ce44.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"introduction",path:"contributing/introduction",import:()=>j(()=>import("./assets/introduction.0a812b0d.js"),["assets/introduction.0a812b0d.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"running-locally",path:"contributing/running-locally",import:()=>j(()=>import("./assets/running-locally.c805ce9b.js"),["assets/running-locally.c805ce9b.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"translations",path:"contributing/translations",import:()=>j(()=>import("./assets/translations.b92fc00e.js"),["assets/translations.b92fc00e.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])}]},{name:"extensions",path:"extensions",children:[{name:"creating-extensions",path:"extensions/creating-extensions",import:()=>j(()=>import("./assets/creating-extensions.079592a2.js"),["assets/creating-extensions.079592a2.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"displays",path:"extensions/displays",import:()=>j(()=>import("./assets/displays.dd95779e.js"),["assets/displays.dd95779e.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"email-templates",path:"extensions/email-templates",import:()=>j(()=>import("./assets/email-templates.3cbede56.js"),["assets/email-templates.3cbede56.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"endpoints",path:"extensions/endpoints",import:()=>j(()=>import("./assets/endpoints.c6fd7eac.js"),["assets/endpoints.c6fd7eac.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"hooks",path:"extensions/hooks",import:()=>j(()=>import("./assets/hooks.66d79882.js"),["assets/hooks.66d79882.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"interfaces",path:"extensions/interfaces",import:()=>j(()=>import("./assets/interfaces.b982af7c.js"),["assets/interfaces.b982af7c.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"introduction",path:"extensions/introduction",import:()=>j(()=>import("./assets/introduction.70685af6.js"),["assets/introduction.70685af6.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"layouts",path:"extensions/layouts",import:()=>j(()=>import("./assets/layouts.36aadbbc.js"),["assets/layouts.36aadbbc.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"migrations",path:"extensions/migrations",import:()=>j(()=>import("./assets/migrations.9b508b9c.js"),["assets/migrations.9b508b9c.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"modules",path:"extensions/modules",import:()=>j(()=>import("./assets/modules.0ff102d6.js"),["assets/modules.0ff102d6.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"panels",path:"extensions/panels",import:()=>j(()=>import("./assets/panels.43ad39c3.js"),["assets/panels.43ad39c3.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"themes",path:"extensions/themes",import:()=>j(()=>import("./assets/themes.d39a117f.js"),["assets/themes.d39a117f.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])}]},{name:"getting-started",path:"getting-started",children:[{name:"backing-directus",path:"getting-started/backing-directus",import:()=>j(()=>import("./assets/backing-directus.3e4e7897.js"),["assets/backing-directus.3e4e7897.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"glossary",path:"getting-started/glossary",import:()=>j(()=>import("./assets/glossary.b333571a.js"),["assets/glossary.b333571a.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"installation",path:"getting-started/installation",children:[{name:"aws",path:"getting-started/installation/aws",import:()=>j(()=>import("./assets/aws.3aea53bf.js"),["assets/aws.3aea53bf.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"cli",path:"getting-started/installation/cli",import:()=>j(()=>import("./assets/cli.091ee1ec.js"),["assets/cli.091ee1ec.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"cloudron",path:"getting-started/installation/cloudron",import:()=>j(()=>import("./assets/cloudron.d3ae3190.js"),["assets/cloudron.d3ae3190.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"digitalocean-app-platform",path:"getting-started/installation/digitalocean-app-platform",import:()=>j(()=>import("./assets/digitalocean-app-platform.99a8d52c.js"),["assets/digitalocean-app-platform.99a8d52c.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"docker",path:"getting-started/installation/docker",import:()=>j(()=>import("./assets/docker.7c236266.js"),["assets/docker.7c236266.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"iis",path:"getting-started/installation/iis",import:()=>j(()=>import("./assets/iis.99c0377a.js"),["assets/iis.99c0377a.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"manual",path:"getting-started/installation/manual",import:()=>j(()=>import("./assets/manual.ce1e8d5a.js"),["assets/manual.ce1e8d5a.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"plesk",path:"getting-started/installation/plesk",import:()=>j(()=>import("./assets/plesk.755ff0c7.js"),["assets/plesk.755ff0c7.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"ubuntu",path:"getting-started/installation/ubuntu",import:()=>j(()=>import("./assets/ubuntu.8db605f7.js"),["assets/ubuntu.8db605f7.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])}]},{name:"installation",path:"getting-started/installation",import:()=>j(()=>import("./assets/installation.1ba08fd8.js"),["assets/installation.1ba08fd8.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"introduction",path:"getting-started/introduction",import:()=>j(()=>import("./assets/introduction.e77efc29.js"),["assets/introduction.e77efc29.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"quickstart",path:"getting-started/quickstart",import:()=>j(()=>import("./assets/quickstart.0d54da2a.js"),["assets/quickstart.0d54da2a.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"support",path:"getting-started/support",import:()=>j(()=>import("./assets/support.5d9d3959.js"),["assets/support.5d9d3959.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])}]},{name:"guides",path:"guides",children:[{name:"sso",path:"guides/sso",import:()=>j(()=>import("./assets/sso.89512ecb.js"),["assets/sso.89512ecb.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])}]},{name:"reference",path:"reference",children:[{name:"authentication",path:"reference/authentication",import:()=>j(()=>import("./assets/authentication.a0d979d6.js"),["assets/authentication.a0d979d6.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"cli",path:"reference/cli",import:()=>j(()=>import("./assets/cli.536a33cc.js"),["assets/cli.536a33cc.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"files",path:"reference/files",import:()=>j(()=>import("./assets/files.39d00752.js"),["assets/files.39d00752.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"introduction",path:"reference/introduction",import:()=>j(()=>import("./assets/introduction.277da93e.js"),["assets/introduction.277da93e.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"items",path:"reference/items",import:()=>j(()=>import("./assets/items.356b5264.js"),["assets/items.356b5264.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"query",path:"reference/query",import:()=>j(()=>import("./assets/query.298a6a70.js"),["assets/query.298a6a70.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"sdk",path:"reference/sdk",import:()=>j(()=>import("./assets/sdk.fcd84a63.js"),["assets/sdk.fcd84a63.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"system",path:"reference/system",children:[{name:"activity",path:"reference/system/activity",import:()=>j(()=>import("./assets/activity.a338a1c0.js"),["assets/activity.a338a1c0.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"collections",path:"reference/system/collections",import:()=>j(()=>import("./assets/collections.e46a0b43.js"),["assets/collections.e46a0b43.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"extensions",path:"reference/system/extensions",import:()=>j(()=>import("./assets/extensions.1e480845.js"),["assets/extensions.1e480845.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"fields",path:"reference/system/fields",import:()=>j(()=>import("./assets/fields.ac0779db.js"),["assets/fields.ac0779db.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"folders",path:"reference/system/folders",import:()=>j(()=>import("./assets/folders.71f88e35.js"),["assets/folders.71f88e35.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"notifications",path:"reference/system/notifications",import:()=>j(()=>import("./assets/notifications.f9da4e67.js"),["assets/notifications.f9da4e67.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"permissions",path:"reference/system/permissions",import:()=>j(()=>import("./assets/permissions.6cca02f4.js"),["assets/permissions.6cca02f4.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"presets",path:"reference/system/presets",import:()=>j(()=>import("./assets/presets.47b83a65.js"),["assets/presets.47b83a65.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"relations",path:"reference/system/relations",import:()=>j(()=>import("./assets/relations.e7fe5c7e.js"),["assets/relations.e7fe5c7e.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"revisions",path:"reference/system/revisions",import:()=>j(()=>import("./assets/revisions.f4ec1316.js"),["assets/revisions.f4ec1316.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"roles",path:"reference/system/roles",import:()=>j(()=>import("./assets/roles.9ff2c743.js"),["assets/roles.9ff2c743.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"server",path:"reference/system/server",import:()=>j(()=>import("./assets/server.08f78dc3.js"),["assets/server.08f78dc3.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"settings",path:"reference/system/settings",import:()=>j(()=>import("./assets/settings.fe8c60b0.js"),["assets/settings.fe8c60b0.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"users",path:"reference/system/users",import:()=>j(()=>import("./assets/users.962643d8.js"),["assets/users.962643d8.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"utilities",path:"reference/system/utilities",import:()=>j(()=>import("./assets/utilities.16811976.js"),["assets/utilities.16811976.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])},{name:"webhooks",path:"reference/system/webhooks",import:()=>j(()=>import("./assets/webhooks.117d8b13.js"),["assets/webhooks.117d8b13.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])}]}]}];const U8=z({name:"NavigationListItem",props:{section:{type:Object,default:null},dense:{type:Boolean,default:!1}}});function N8(e,t,n,l,i,u){const a=c("v-divider"),s=c("v-icon"),r=c("v-list-item-icon"),m=c("v-text-overflow"),f=c("v-list-item-content"),v=c("navigation-list-item"),_=c("v-list-group"),y=c("v-list-item");return e.section.divider?(p(),C(a,{key:0})):e.section.children?(p(),C(_,{key:1,scope:"docs-navigation",dense:e.dense,multiple:!1,value:e.section.to},{activator:d(()=>[e.section.icon!==void 0?(p(),C(r,{key:0},{default:d(()=>[o(s,{name:e.section.icon},null,8,["name"])]),_:1})):R("",!0),o(f,null,{default:d(()=>[o(m,{text:e.section.name},null,8,["text"])]),_:1})]),default:d(()=>[(p(!0),I(ie,null,he(e.section.children,(g,$)=>(p(),C(v,{key:$,section:g,dense:""},null,8,["section"]))),128))]),_:1},8,["dense","value"])):(p(),C(y,{key:2,scope:"docs-navigation",to:`/docs${e.section.to}`,dense:e.dense,value:e.section.to},{default:d(()=>[e.section.icon!==void 0?(p(),C(r,{key:0},{default:d(()=>[o(s,{name:e.section.icon},null,8,["name"])]),_:1})):R("",!0),o(f,null,{default:d(()=>[o(m,{text:e.section.name},null,8,["text"])]),_:1})]),_:1},8,["to","dense","value"]))}var B8=q(U8,[["render",N8]]),q8=[{name:"App Overview",to:"/app/overview",icon:"school"},{name:"Content Collections",to:"/app/content-collections",icon:"list_alt"},{name:"Content Items",to:"/app/content-items",icon:"edit_note"},{name:"User Directory",to:"/app/user-directory",icon:"people_alt"},{name:"File Library",to:"/app/file-library",icon:"folder"},{name:"Insights",to:"/app/insights",icon:"insights"},{name:"Documentation",to:"/app/documentation",icon:"help_outline"},{name:"Settings",to:"/app/settings",icon:"settings"},{name:"Backing Directus",to:"/getting-started/backing-directus",icon:"card_giftcard"},{name:"Glossary",to:"/getting-started/glossary",icon:"menu_book"}];function z8(e){const t=e.substr(1).split("/");if(t.length===0)return[];const n=["/"+t[0]];for(let l=1;l<t.length;l++)n.push(n[l-1]+"/"+t[l]);return n[0]==="/reference"&&n[1]==="/reference/api"&&n.shift(),n}const K8=z({components:{NavigationItem:B8},props:{path:{type:String,default:"/docs"}},setup(e){const t=E(null);return _e(()=>e.path,n=>{n!==null&&(t.value=[...t.value||[],...z8(n.replace("/docs",""))])},{immediate:!0}),{navSections:q8,selection:t}}});function H8(e,t,n,l,i,u){const a=c("navigation-item"),s=c("v-list");return p(),C(s,{modelValue:e.selection,"onUpdate:modelValue":t[0]||(t[0]=r=>e.selection=r),nav:"",mandatory:!1,scope:"docs-navigation"},{default:d(()=>[(p(!0),I(ie,null,he(e.navSections,r=>(p(),C(a,{key:r.name,section:r},null,8,["section"]))),128))]),_:1},8,["modelValue"])}var Ua=q(K8,[["render",H8]]);const W8=z({name:"NotFound",components:{DocsNavigation:Ua},setup(){const{t:e}=Y(),t=xt();return{t:e,route:t}}}),G8={class:"not-found"};function J8(e,t,n,l,i,u){const a=c("docs-navigation"),s=c("v-info"),r=c("private-view");return p(),C(r,{title:e.t("page_not_found")},{navigation:d(()=>[o(a,{path:e.route.path},null,8,["path"])]),default:d(()=>[S("div",G8,[o(s,{title:e.t("page_not_found"),icon:"not_interested"},{default:d(()=>[D(b(e.t("page_not_found_body")),1)]),_:1},8,["title"])])]),_:1},8,["title"])}var Q8=q(W8,[["render",J8],["__scopeId","data-v-736afbfa"]]);const X8=z({name:"StaticDocs",components:{DocsNavigation:Ua},setup(){const{t:e}=Y(),t=xt(),n=E("Test"),l=E(!1);return{t:e,route:t,title:n,modularExtension:l}}}),Z8={class:"type-title"},Y8=D("Modular Extension"),x8={class:"docs-content selectable"},eS={class:"page-description"};function tS(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-button"),r=c("v-chip"),m=c("docs-navigation"),f=c("router-view"),v=c("sidebar-detail"),_=c("private-view"),y=Se("md");return p(),C(_,{title:e.title},{"title-outer:prepend":d(()=>[o(s,{rounded:"",disabled:"",icon:""},{default:d(()=>[o(a,{name:"info"})]),_:1})]),title:d(()=>[S("h1",Z8,b(e.title),1),e.modularExtension?(p(),C(r,{key:0,disabled:"",small:""},{default:d(()=>[Y8]),_:1})):R("",!0)]),navigation:d(()=>[o(m,{path:e.route.path},null,8,["path"])]),sidebar:d(()=>[o(v,{icon:"info_outline",title:e.t("information"),close:""},{default:d(()=>[x(S("div",eS,null,512),[[y,e.t("page_help_docs_global")]])]),_:1},8,["title"])]),default:d(()=>[S("div",x8,[o(f,{"onUpdate:title":t[0]||(t[0]=g=>e.title=g),"onUpdate:modularExtension":t[1]||(t[1]=g=>e.modularExtension=g)})])]),_:1},8,["title"])}var nS=q(X8,[["render",tS],["__scopeId","data-v-3383fb1a"]]),lS=dn({id:"docs",name:"$t:documentation",icon:"help_outline",routes:[{path:"",component:nS,children:[{path:"",redirect:"/docs/app/overview"},...Na(M8)]},{path:":_(.+)+",component:Q8}]});function Na(e){const t=[];for(const n of e)"children"in n?(t.push({path:n.path,redirect:`/docs/${n.children[0].path}`}),t.push(...Na(n.children))):t.push({name:`docs-${n.path.replace("/","-")}`,path:n.path,component:n.import});return t}var oS=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:lS});const aS=z({props:{folder:{type:String,default:null}},setup(e){const{t}=Y(),n=Ye(),l=cn();return{t,isOpen:l,close:i};function i(){n.push(e.folder?{path:`/files/folders/${e.folder}`}:{path:"/files"})}}});function iS(e,t,n,l,i,u){const a=c("v-card-title"),s=c("v-upload"),r=c("v-card-text"),m=c("v-button"),f=c("v-card-actions"),v=c("v-card"),_=c("v-dialog");return p(),C(_,{"model-value":e.isOpen,"onUpdate:modelValue":e.close,onEsc:e.close},{default:d(()=>[o(v,null,{default:d(()=>[o(a,null,{default:d(()=>[D(b(e.t("add_file")),1)]),_:1}),o(r,null,{default:d(()=>[o(s,{preset:{folder:e.folder},multiple:"","from-url":"",onInput:e.close},null,8,["preset","onInput"])]),_:1}),o(f,null,{default:d(()=>[o(m,{secondary:"",onClick:e.close},{default:d(()=>[D(b(e.t("done")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["model-value","onUpdate:modelValue","onEsc"])}var Ba=q(aS,[["render",iS]]);let fn=null,Vn=null,Hn=null,po=null,Wn=null;function Gn(){return fn===null&&(fn=E(!1)),Vn===null&&(Vn=E(null)),Hn===null&&(Hn=E(null)),Wn===null&&(Wn=E(null)),po===null&&(po=E(["root"])),Vn.value===null&&fn.value===!1&&e(),{loading:fn,folders:Vn,nestedFolders:Hn,error:Wn,fetchFolders:e,openFolders:po};async function e(){if(fn!==null&&Vn!==null&&Hn!==null&&Wn!==null){fn.value=!0;try{const t=await re.get("/folders",{params:{limit:-1,sort:"name"}});Vn.value=t.data.data,Hn.value=sS(t.data.data)}catch(t){Wn.value=t}finally{fn.value=!1}}}}function sS(e){return e.map(t=>qa(t,e)).filter(t=>t.parent===null)}function qa(e,t){const n=pe({},e),l=t.filter(i=>i.parent===e.id&&i.id!==e.id).map(i=>qa(i,t));return l.length>0&&(n.children=l),n}const rS=z({name:"FolderPickerListItem",props:{folder:{type:Object,required:!0},currentFolder:{type:String,default:null},clickHandler:{type:Function,default:()=>{}},disabled:{type:Boolean,default:!1},disabledFolders:{type:Array,default:()=>[]}}}),dS={class:"folder-picker-list-item"};function uS(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-list-item-icon"),r=c("v-list-item-content"),m=c("v-list-item"),f=c("folder-picker-list-item",!0),v=c("v-list-group");return p(),I("div",dS,[e.folder.children.length===0?(p(),C(m,{key:0,clickable:"",active:e.currentFolder===e.folder.id,disabled:e.disabled,onClick:t[0]||(t[0]=_=>e.clickHandler(e.folder.id))},{default:d(()=>[o(s,null,{default:d(()=>[o(a,{name:e.currentFolder===e.folder.id?"folder_open":"folder"},null,8,["name"])]),_:1}),o(r,null,{default:d(()=>[D(b(e.folder.name),1)]),_:1})]),_:1},8,["active","disabled"])):(p(),C(v,{key:1,clickable:"",active:e.currentFolder===e.folder.id,disabled:e.disabled,onClick:t[1]||(t[1]=_=>e.clickHandler(e.folder.id))},{activator:d(()=>[o(s,null,{default:d(()=>[o(a,{name:e.currentFolder===e.folder.id?"folder_open":"folder"},null,8,["name"])]),_:1}),o(r,null,{default:d(()=>[D(b(e.folder.name),1)]),_:1})]),default:d(()=>[(p(!0),I(ie,null,he(e.folder.children,_=>(p(),C(f,{key:_.id,folder:_,"current-folder":e.currentFolder,"click-handler":e.clickHandler,disabled:e.disabledFolders.includes(_.id),"disabled-folders":e.disabledFolders},null,8,["folder","current-folder","click-handler","disabled","disabled-folders"]))),128))]),_:1},8,["active","disabled"]))])}var cS=q(rS,[["render",uS]]);const pS=z({components:{FolderPickerListItem:cS},props:{disabledFolders:{type:Array,default:()=>[]},modelValue:{type:String,default:null}},emits:["update:modelValue"],setup(e){const{t}=Y(),n=E(!1),l=E([]),i=V(()=>{return l.value.filter(y=>y.parent===null).map(y=>Ve(pe({},y),{children:_(y)}));function _(y){return l.value.filter(g=>g.parent===y.id).map(g=>Ve(pe({},g),{children:_(g)}))}}),u=[],a=l.value.find(_=>_.id===e.modelValue);a&&a.parent&&v(a.parent);const s=["root"];for(const _ of u)s.includes(_)===!1&&s.push(_);const r=V(()=>l.value.find(_=>_.id===e.modelValue)||{}),m=E(s);return f(),{t,loading:n,folders:l,tree:i,selectedFolder:r,openFolders:m};async function f(){if(!(l.value.length>0)){n.value=!0;try{const _=await re.get("/folders",{params:{limit:-1,sort:"name"}});l.value=_.data.data}catch(_){Ce(_)}finally{n.value=!1}}}function v(_){if(!l.value)return;u.push(_);const y=l.value.find(g=>g.id===_);y&&y.parent&&v(y.parent)}}}),mS={key:1,class:"folder-picker"};function fS(e,t,n,l,i,u){const a=c("v-skeleton-loader"),s=c("v-icon"),r=c("v-list-item-icon"),m=c("v-list-item-content"),f=c("folder-picker-list-item"),v=c("v-list-group"),_=c("v-item-group"),y=c("v-list");return e.loading?(p(),C(a,{key:0})):(p(),I("div",mS,[o(y,null,{default:d(()=>[o(_,{modelValue:e.openFolders,"onUpdate:modelValue":t[1]||(t[1]=g=>e.openFolders=g),scope:"folder-picker",multiple:""},{default:d(()=>[o(v,{"disable-groupable-parent":"",clickable:"",active:e.modelValue===null,scope:"folder-picker",value:"root",onClick:t[0]||(t[0]=g=>e.$emit("update:modelValue",null))},{activator:d(()=>[o(r,null,{default:d(()=>[o(s,{name:"folder_special",outline:""})]),_:1}),o(m,null,{default:d(()=>[D(b(e.t("file_library")),1)]),_:1})]),default:d(()=>[(p(!0),I(ie,null,he(e.tree,g=>(p(),C(f,{key:g.id,folder:g,"current-folder":e.modelValue,"click-handler":$=>e.$emit("update:modelValue",$),disabled:e.disabledFolders.includes(g.id),"disabled-folders":e.disabledFolders},null,8,["folder","current-folder","click-handler","disabled","disabled-folders"]))),128))]),_:1},8,["active"])]),_:1},8,["modelValue"])]),_:1})]))}var mo=q(pS,[["render",fS],["__scopeId","data-v-2293d565"]]);const vS=z({name:"NavigationFolder",components:{FolderPicker:mo},props:{folder:{type:Object,required:!0},currentFolder:{type:String,default:null},clickHandler:{type:Function,default:()=>{}}},setup(e){const{t}=Y(),n=Ye(),{renameActive:l,renameValue:i,renameSave:u,renameSaving:a}=$(),{moveActive:s,moveValue:r,moveSave:m,moveSaving:f}=h(),{deleteActive:v,deleteSave:_,deleteSaving:y}=k(),{fetchFolders:g}=Gn();return{t,renameActive:l,renameValue:i,renameSave:u,renameSaving:a,moveActive:s,moveValue:r,moveSave:m,moveSaving:f,deleteActive:v,deleteSave:_,deleteSaving:y};function $(){const A=E(!1),F=E(e.folder.name),P=E(!1);return{renameActive:A,renameValue:F,renameSave:O,renameSaving:P};async function O(){P.value=!0;try{await re.patch(`/folders/${e.folder.id}`,{name:F.value})}catch(T){Ce(T)}finally{P.value=!1,await g(),A.value=!1}}}function h(){const A=E(!1),F=E(e.folder.parent),P=E(!1);return{moveActive:A,moveValue:F,moveSave:O,moveSaving:P};async function O(){P.value=!0;try{await re.patch(`/folders/${e.folder.id}`,{parent:F.value})}catch(T){Ce(T)}finally{P.value=!1,await g(),A.value=!1}}}function k(){const A=E(!1),F=E(!1);return{deleteActive:A,deleteSave:P,deleteSaving:F};async function P(){F.value=!0;try{const O=await re.get("/folders",{params:{filter:{parent:{_eq:e.folder.id}}}}),T=await re.get("/files",{params:{filter:{folder:{_eq:e.folder.id}}}}),N=e.folder.parent||null,L=O.data.data.map(B=>B.id),M=T.data.data.map(B=>B.id);L.length>0&&await re.patch("/folders",{keys:L,data:{parent:N}}),M.length>0&&await re.patch("/files",{keys:M,data:{folder:N}}),await re.delete(`/folders/${e.folder.id}`),N?n.replace(`/files/folders/${N}`):n.replace("/files"),A.value=!1}catch(O){Ce(O)}finally{await g(),F.value=!1}}}}});function _S(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-list-item-icon"),r=c("v-text-overflow"),m=c("v-list-item-content"),f=c("v-list-item"),v=c("navigation-folder",!0),_=c("v-list-group"),y=c("v-list"),g=c("v-menu"),$=c("v-card-title"),h=c("v-input"),k=c("v-card-text"),A=c("v-button"),F=c("v-card-actions"),P=c("v-card"),O=c("v-dialog"),T=c("folder-picker"),N=c("v-notice"),L=Se("context-menu");return p(),I("div",null,[e.folder.children===void 0?x((p(),C(f,{key:0,to:`/files/folders/${e.folder.id}`,active:e.currentFolder===e.folder.id},{default:d(()=>[o(s,null,{default:d(()=>[o(a,{name:"folder"})]),_:1}),o(m,null,{default:d(()=>[o(r,{text:e.folder.name},null,8,["text"])]),_:1})]),_:1},8,["to","active"])),[[L,"contextMenu"]]):x((p(),C(_,{key:1,to:`/files/folders/${e.folder.id}`,active:e.currentFolder===e.folder.id,value:e.folder.id,scope:"files-navigation","disable-groupable-parent":""},{activator:d(()=>[o(s,null,{default:d(()=>[o(a,{name:"folder"})]),_:1}),o(m,null,{default:d(()=>[o(r,{text:e.folder.name},null,8,["text"])]),_:1})]),default:d(()=>[(p(!0),I(ie,null,he(e.folder.children,M=>(p(),C(v,{key:M.id,folder:M,"current-folder":e.currentFolder,"click-handler":e.clickHandler},null,8,["folder","current-folder","click-handler"]))),128))]),_:1},8,["to","active","value"])),[[L,"contextMenu"]]),o(g,{ref:"contextMenu","show-arrow":"",placement:"bottom-start"},{default:d(()=>[o(y,null,{default:d(()=>[o(f,{clickable:"",onClick:t[0]||(t[0]=M=>e.renameActive=!0)},{default:d(()=>[o(s,null,{default:d(()=>[o(a,{name:"edit",outline:""})]),_:1}),o(m,null,{default:d(()=>[o(r,{text:e.t("rename_folder")},null,8,["text"])]),_:1})]),_:1}),o(f,{clickable:"",onClick:t[1]||(t[1]=M=>e.moveActive=!0)},{default:d(()=>[o(s,null,{default:d(()=>[o(a,{name:"folder_move"})]),_:1}),o(m,null,{default:d(()=>[o(r,{text:e.t("move_to_folder")},null,8,["text"])]),_:1})]),_:1}),o(f,{clickable:"",onClick:t[2]||(t[2]=M=>e.deleteActive=!0)},{default:d(()=>[o(s,null,{default:d(()=>[o(a,{name:"delete",outline:""})]),_:1}),o(m,null,{default:d(()=>[o(r,{text:e.t("delete_folder")},null,8,["text"])]),_:1})]),_:1})]),_:1})]),_:1},512),o(O,{modelValue:e.renameActive,"onUpdate:modelValue":t[5]||(t[5]=M=>e.renameActive=M),persistent:"",onEsc:t[6]||(t[6]=M=>e.renameActive=!1)},{default:d(()=>[o(P,null,{default:d(()=>[o($,null,{default:d(()=>[D(b(e.t("rename_folder")),1)]),_:1}),o(k,null,{default:d(()=>[o(h,{modelValue:e.renameValue,"onUpdate:modelValue":t[3]||(t[3]=M=>e.renameValue=M),autofocus:"",onKeyup:gn(e.renameSave,["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),o(F,null,{default:d(()=>[o(A,{secondary:"",onClick:t[4]||(t[4]=M=>e.renameActive=!1)},{default:d(()=>[D(b(e.t("cancel")),1)]),_:1}),o(A,{disabled:e.renameValue===null,loading:e.renameSaving,onClick:e.renameSave},{default:d(()=>[D(b(e.t("save")),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(O,{modelValue:e.moveActive,"onUpdate:modelValue":t[9]||(t[9]=M=>e.moveActive=M),persistent:"",onEsc:t[10]||(t[10]=M=>e.moveActive=!1)},{default:d(()=>[o(P,null,{default:d(()=>[o($,null,{default:d(()=>[D(b(e.t("move_to_folder")),1)]),_:1}),o(k,null,{default:d(()=>[o(T,{modelValue:e.moveValue,"onUpdate:modelValue":t[7]||(t[7]=M=>e.moveValue=M),"disabled-folders":[e.folder.id]},null,8,["modelValue","disabled-folders"])]),_:1}),o(F,null,{default:d(()=>[o(A,{secondary:"",onClick:t[8]||(t[8]=M=>e.moveActive=!1)},{default:d(()=>[D(b(e.t("cancel")),1)]),_:1}),o(A,{loading:e.moveSaving,onClick:e.moveSave},{default:d(()=>[D(b(e.t("save")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(O,{modelValue:e.deleteActive,"onUpdate:modelValue":t[12]||(t[12]=M=>e.deleteActive=M),persistent:"",onEsc:t[13]||(t[13]=M=>e.deleteActive=!1)},{default:d(()=>[o(P,null,{default:d(()=>[o($,null,{default:d(()=>[D(b(e.t("delete_folder")),1)]),_:1}),o(k,null,{default:d(()=>[o(N,null,{default:d(()=>[D(b(e.t("nested_files_folders_will_be_moved")),1)]),_:1})]),_:1}),o(F,null,{default:d(()=>[o(A,{secondary:"",onClick:t[11]||(t[11]=M=>e.deleteActive=!1)},{default:d(()=>[D(b(e.t("cancel")),1)]),_:1}),o(A,{kind:"danger",loading:e.deleteSaving,onClick:e.deleteSave},{default:d(()=>[D(b(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}var yS=q(vS,[["render",_S]]);function gS(e,t){const n={};for(let l=0;l<e.length;l++){const i=e[l]+typeof e[l];n[i]=1}for(let l=0;l<t.length;l++){const i=t[l]+typeof t[l];if(!n[i])return!1;n[i]=2}for(const l in n)if(n[l]===1)return!1;return!0}const hS=z({components:{NavigationFolder:yS},props:{currentFolder:{type:String,default:null}},setup(e){const{t}=Y(),{nestedFolders:n,folders:l,error:i,loading:u,openFolders:a}=Gn();return s(),_e(()=>e.currentFolder,s),{t,folders:l,nestedFolders:n,error:i,loading:u,openFolders:a};function s(){if(!l.value)return[];if(!(a==null?void 0:a.value))return[];const r=[],m=l.value.find(_=>_.id===e.currentFolder);m&&m.parent&&v(m.parent);const f=[...a.value];for(const _ of r)f.includes(_)===!1&&f.push(_);f.length!==1&&gS(f,a.value)===!1&&(a.value=f);function v(_){if(!l.value)return;r.push(_);const y=l.value.find(g=>g.id===_);y&&y.parent&&v(y.parent)}}}}),bS={class:"folders"};function $S(e,t,n,l,i,u){const a=c("v-skeleton-loader"),s=c("v-list-item"),r=c("v-icon"),m=c("v-list-item-icon"),f=c("v-text-overflow"),v=c("v-list-item-content"),_=c("navigation-folder"),y=c("v-list-group"),g=c("v-item-group"),$=c("v-divider"),h=c("v-list");return p(),C(h,{nav:""},{default:d(()=>[e.loading&&(e.nestedFolders===null||e.nestedFolders.length===0)?(p(),I(ie,{key:0},he(4,k=>o(s,{key:k},{default:d(()=>[o(a,{type:"list-item-icon"})]),_:2},1024)),64)):R("",!0),S("div",bS,[o(g,{modelValue:e.openFolders,"onUpdate:modelValue":t[0]||(t[0]=k=>e.openFolders=k),scope:"files-navigation",multiple:""},{default:d(()=>[o(y,{to:"/files",active:e.currentFolder===null,value:"root",scope:"files-navigation",exact:"","disable-groupable-parent":""},{activator:d(()=>[o(m,null,{default:d(()=>[o(r,{name:"folder_special",outline:""})]),_:1}),o(v,null,{default:d(()=>[o(f,{text:e.t("file_library")},null,8,["text"])]),_:1})]),default:d(()=>[(p(!0),I(ie,null,he(e.nestedFolders,k=>(p(),C(_,{key:k.id,folder:k,"current-folder":e.currentFolder},null,8,["folder","current-folder"]))),128))]),_:1},8,["active"])]),_:1},8,["modelValue"])]),o($),o(s,{to:"/files/all"},{default:d(()=>[o(m,null,{default:d(()=>[o(r,{name:"file_copy",outline:""})]),_:1}),o(v,null,{default:d(()=>[o(f,{text:e.t("all_files")},null,8,["text"])]),_:1})]),_:1}),o(s,{to:"/files/mine"},{default:d(()=>[o(m,null,{default:d(()=>[o(r,{name:"folder_shared"})]),_:1}),o(v,null,{default:d(()=>[o(f,{text:e.t("my_files")},null,8,["text"])]),_:1})]),_:1}),o(s,{to:"/files/recent"},{default:d(()=>[o(m,null,{default:d(()=>[o(r,{name:"history"})]),_:1}),o(v,null,{default:d(()=>[o(f,{text:e.t("recent_files")},null,8,["text"])]),_:1})]),_:1})]),_:1})}var fo=q(hS,[["render",$S],["__scopeId","data-v-1c8d05c4"]]);const wS=z({props:{parent:{type:String,default:null},disabled:{type:Boolean,default:!1}},setup(e){const{t}=Y(),n=Ye(),l=E(!1),i=E(!1),u=E(null),{fetchFolders:a}=Gn();return{t,addFolder:s,dialogActive:l,newFolderName:u,saving:i};async function s(){i.value=!0;try{const r=await re.post("/folders",{name:u.value,parent:e.parent==="root"?null:e.parent});await a(),l.value=!1,u.value=null,n.push({path:`/files/folders/${r.data.data.id}`})}catch(r){Ce(r)}finally{i.value=!1}}}});function kS(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-button"),r=c("v-card-title"),m=c("v-input"),f=c("v-card-text"),v=c("v-card-actions"),_=c("v-card"),y=c("v-dialog"),g=Se("tooltip");return p(),C(y,{modelValue:e.dialogActive,"onUpdate:modelValue":t[2]||(t[2]=$=>e.dialogActive=$),onEsc:t[3]||(t[3]=$=>e.dialogActive=!1)},{activator:d(({on:$})=>[x(o(s,{rounded:"",icon:"",class:"add-new",disabled:e.disabled,onClick:$},{default:d(()=>[o(a,{name:"create_new_folder",outline:""})]),_:2},1032,["disabled","onClick"]),[[g,e.disabled?e.t("not_allowed"):e.t("create_folder"),void 0,{bottom:!0}]])]),default:d(()=>[o(_,null,{default:d(()=>[o(r,null,{default:d(()=>[D(b(e.t("create_folder")),1)]),_:1}),o(f,null,{default:d(()=>[o(m,{modelValue:e.newFolderName,"onUpdate:modelValue":t[0]||(t[0]=$=>e.newFolderName=$),autofocus:"",placeholder:e.t("folder_name"),onKeyup:gn(e.addFolder,["enter"])},null,8,["modelValue","placeholder","onKeyup"])]),_:1}),o(v,null,{default:d(()=>[o(s,{secondary:"",onClick:t[1]||(t[1]=$=>e.dialogActive=!1)},{default:d(()=>[D(b(e.t("cancel")),1)]),_:1}),o(s,{disabled:e.newFolderName===null,loading:e.saving,onClick:e.addFolder},{default:d(()=>[D(b(e.t("save")),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}var SS=q(wS,[["render",kS],["__scopeId","data-v-51ae7fc6"]]);const Jn=ia();var vn;(function(e){e.upload="upload"})(vn||(vn={}));function Fn(e,t,n,l){it(()=>{(Nl(e)?e.value:e).addEventListener(t,n,l)}),Ul(()=>{(Nl(e)?e.value:e).removeEventListener(t,n,l)})}async function za(e,t){const n=(t==null?void 0:t.onProgressChange)||(()=>{}),l=new FormData;if(t==null?void 0:t.preset)for(const[u,a]of Object.entries(t.preset))l.append(u,a);l.append("file",e);try{let u=null;return(t==null?void 0:t.fileId)?u=await re.patch(`/files/${t.fileId}`,l,{onUploadProgress:i}):u=await re.post("/files",l,{onUploadProgress:i}),(t==null?void 0:t.notifications)&&It({title:qe.global.t("upload_file_success"),type:"success"}),Jn.emit(vn.upload),u.data.data}catch(u){Ce(u)}function i(u){const a=Math.floor(u.loaded*100/u.total);n(a)}}async function Ka(e,t){const n=(t==null?void 0:t.onProgressChange)||(()=>{}),l=e.map(()=>0);try{const i=await Promise.all(e.map((u,a)=>za(u,Ve(pe({},t),{onProgressChange:s=>{l[a]=s,n(l)}}))));return(t==null?void 0:t.notifications)&&It({title:qe.global.t("upload_files_success",{count:e.length}),type:"success"}),i}catch(i){Ce(i)}}const CS=z({name:"FilesCollection",components:{FilesNavigation:fo,LayoutSidebarDetail:qn,AddFolder:SS,SearchInput:kn,FolderPicker:mo,DrawerBatch:ao},props:{folder:{type:String,default:null},special:{type:String,default:null}},setup(e){const{t}=Y(),n=Ye(),l=nl(),i=Tt(),{folders:u}=Gn(),a=E(),s=E([]),r=Je(),{layout:m,layoutOptions:f,layoutQuery:v,filter:_,search:y,resetPreset:g}=wn(E("directus_files")),{confirmDelete:$,deleting:h,batchDelete:k,error:A,batchEditActive:F}=H(),{breadcrumb:P,title:O}=Z(),T=V(()=>{const ae={_and:[{type:{_nnull:!0}}]};return e.special===null&&(e.folder!==null?ae._and.push({folder:{_eq:e.folder}}):ae._and.push({folder:{_null:!0}})),e.special==="mine"&&r.currentUser&&ae._and.push({uploaded_by:{_eq:r.currentUser.id}}),e.special==="recent"&&ae._and.push({uploaded_on:{_gt:sa(new Date,5).toISOString()}}),ae}),{layoutWrapper:N}=un(m),{moveToDialogActive:L,moveToFolder:M,moving:B,selectedFolder:K}=X();it(()=>Jn.on(vn.upload,te)),St(()=>Jn.off(vn.upload,te)),Pt(()=>{s.value=[]}),Lt(()=>{s.value=[]});const{onDragEnter:W,onDragLeave:le,onDrop:G,onDragOver:Q,showDropEffect:fe,dragging:ue}=oe();Fn(window,"dragenter",W),Fn(window,"dragover",Q),Fn(window,"dragleave",le),Fn(window,"drop",G);const{batchEditAllowed:ne,batchDeleteAllowed:ee,createAllowed:de,createFolderAllowed:ce}=J();return{t,breadcrumb:P,title:O,layoutRef:a,layoutWrapper:N,selection:s,layoutOptions:f,layoutQuery:v,layout:m,folderTypeFilter:T,search:y,moveToDialogActive:L,moveToFolder:M,moving:B,selectedFolder:K,refresh:te,clearFilters:ve,onDragEnter:W,onDragLeave:le,showDropEffect:fe,onDrop:G,dragging:ue,batchEditAllowed:ne,batchDeleteAllowed:ee,createAllowed:de,createFolderAllowed:ce,resetPreset:g,confirmDelete:$,deleting:h,batchDelete:k,deleteError:A,batchEditActive:F,filter:_,mergeFilters:fl};function H(){const ae=E(!1),me=E(!1),ge=E(!1),$e=E();return{batchEditActive:ge,confirmDelete:ae,deleting:me,batchDelete:ke,error:$e};async function ke(){me.value=!0;const Ae=s.value;try{await re.delete("/files",{data:Ae}),await te(),s.value=[]}catch(De){Ce(De),$e.value=De}finally{ae.value=!1,me.value=!1}}}function Z(){const ae=V(()=>{var ge;if(e.special==="all")return t("all_files");if(e.special==="mine")return t("my_files");if(e.special==="recent")return t("recent_files");if(e.folder){const $e=(ge=u.value)==null?void 0:ge.find(ke=>ke.id===e.folder);if($e)return $e.name}return t("file_library")});return{breadcrumb:V(()=>ae.value!==t("file_library")?[{name:t("file_library"),to:"/files"}]:null),title:ae}}function X(){const ae=E(!1),me=E(!1),ge=E();return{moveToDialogActive:ae,moving:me,moveToFolder:$e,selectedFolder:ge};async function $e(){me.value=!0;try{await re.patch("/files",{keys:s.value,data:{folder:ge.value}}),s.value=[],ge.value&&n.push(`/files/folders/${ge.value}`),await dl(),await te()}catch(ke){Ce(ke)}finally{ae.value=!1,me.value=!1}}}async function te(){var ae,me,ge;await((ge=(me=(ae=a.value)==null?void 0:ae.state)==null?void 0:me.refresh)==null?void 0:ge.call(me))}function ve(){_.value=null,y.value=null}function J(){const ae=V(()=>{var De;return((De=r==null?void 0:r.currentUser)==null?void 0:De.role.admin_access)===!0?!0:!!i.permissions.find(Ne=>Ne.action==="update"&&Ne.collection==="directus_files")}),me=V(()=>{var De;return((De=r==null?void 0:r.currentUser)==null?void 0:De.role.admin_access)===!0?!0:!!i.permissions.find(Ne=>Ne.action==="delete"&&Ne.collection==="directus_files")}),ge=V(()=>{var De;return((De=r==null?void 0:r.currentUser)==null?void 0:De.role.admin_access)===!0?!0:!!i.permissions.find(Ne=>Ne.action==="create"&&Ne.collection==="directus_files")}),$e=V(()=>{var De;return((De=r==null?void 0:r.currentUser)==null?void 0:De.role.admin_access)===!0?!0:!!i.permissions.find(Ne=>Ne.action==="create"&&Ne.collection==="directus_folders")});return{batchEditAllowed:ae,batchDeleteAllowed:me,createAllowed:ge,createFolderAllowed:$e}}function oe(){const ae=E(!1);let me,ge;const $e=E(0),ke=V(()=>$e.value>0);return{onDragEnter:Ne,onDragLeave:Te,onDrop:Oe,onDragOver:lt,showDropEffect:ae,dragging:ke};function Ae(){ae.value=!0,me=l.add({title:t("drop_to_upload"),icon:"cloud_upload",type:"info",persist:!0,closeable:!1})}function De(){ae.value=!1,me&&l.remove(me)}function Ne(Be){var Ie,we,be;if(!Be.dataTransfer||((Ie=Be.dataTransfer)==null?void 0:Ie.types.indexOf("Files"))===-1)return;Be.preventDefault(),$e.value++;const xe=Be.target&&((be=(we=Be.target).getAttribute)==null?void 0:be.call(we,"data-dropzone"))==="";$e.value===1&&ae.value===!1&&xe===!1&&Ae(),xe&&(De(),$e.value=0)}function lt(Be){var xe;!Be.dataTransfer||((xe=Be.dataTransfer)==null?void 0:xe.types.indexOf("Files"))!==-1&&Be.preventDefault()}function Te(Be){var xe,Ie,we;!Be.dataTransfer||((xe=Be.dataTransfer)==null?void 0:xe.types.indexOf("Files"))!==-1&&(Be.preventDefault(),$e.value--,$e.value===0&&De(),Be.target&&((we=(Ie=Be.target).getAttribute)==null?void 0:we.call(Ie,"data-dropzone"))===""&&(Ae(),$e.value=1))}async function Oe(Be){var Ie;if(!Be.dataTransfer||((Ie=Be.dataTransfer)==null?void 0:Ie.types.indexOf("Files"))===-1)return;Be.preventDefault(),ae.value=!1,$e.value=0,me&&l.remove(me);const xe=[...Be.dataTransfer.files];ge=l.add({title:t("upload_files_indeterminate",{done:0,total:xe.length},xe.length),type:"info",persist:!0,closeable:!1,loading:!0}),await Ka(xe,{preset:{folder:e.folder},onProgressChange:we=>{const be=we.reduce((tt,ot)=>tt+=ot)/we.length,je=xe.length,et=we.filter(tt=>tt===100).length;l.update(ge,{title:t("upload_files_indeterminate",{done:et,total:je},xe.length),loading:!1,progress:be})}}),l.remove(ge),Jn.emit(vn.upload)}}}}),kl=e=>(We("data-v-f242a114"),e=e(),Ge(),e),VS={class:"page-description"},FS=kl(()=>S("div",{class:"drop-border top"},null,-1)),AS=kl(()=>S("div",{class:"drop-border right"},null,-1)),IS=kl(()=>S("div",{class:"drop-border bottom"},null,-1)),ES=kl(()=>S("div",{class:"drop-border left"},null,-1));function DS(e,t,n,l,i,u){const a=c("v-breadcrumb"),s=c("v-icon"),r=c("v-button"),m=c("search-input"),f=c("add-folder"),v=c("v-card-title"),_=c("folder-picker"),y=c("v-card-text"),g=c("v-card-actions"),$=c("v-card"),h=c("v-dialog"),k=c("files-navigation"),A=c("v-info"),F=c("router-view"),P=c("drawer-batch"),O=c("sidebar-detail"),T=c("layout-sidebar-detail"),N=c("export-sidebar-detail"),L=c("private-view"),M=Se("tooltip"),B=Se("md");return p(),C(Ue(e.layoutWrapper),{ref:"layoutRef",selection:e.selection,"onUpdate:selection":t[12]||(t[12]=K=>e.selection=K),"layout-options":e.layoutOptions,"onUpdate:layout-options":t[13]||(t[13]=K=>e.layoutOptions=K),"layout-query":e.layoutQuery,"onUpdate:layout-query":t[14]||(t[14]=K=>e.layoutQuery=K),filter:e.mergeFilters(e.filter,e.folderTypeFilter),"filter-user":e.filter,"filter-system":e.folderTypeFilter,search:e.search,collection:"directus_files","reset-preset":e.resetPreset},{default:d(({layoutState:K})=>[o(L,{title:e.title,class:se({dragging:e.dragging})},Ze({"title-outer:prepend":d(()=>[o(r,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:d(()=>[o(s,{name:"folder",outline:""})]),_:1})]),"actions:prepend":d(()=>[(p(),C(Ue(`layout-actions-${e.layout}`),He(Xe(K)),null,16))]),actions:d(()=>[o(m,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=W=>e.search=W),filter:e.filter,"onUpdate:filter":t[1]||(t[1]=W=>e.filter=W),collection:"directus_files"},null,8,["modelValue","filter"]),o(f,{parent:e.folder,disabled:e.createFolderAllowed!==!0},null,8,["parent","disabled"]),e.selection.length>0?(p(),C(h,{key:0,modelValue:e.moveToDialogActive,"onUpdate:modelValue":t[4]||(t[4]=W=>e.moveToDialogActive=W),onEsc:t[5]||(t[5]=W=>e.moveToDialogActive=!1)},{activator:d(({on:W})=>[x(o(r,{rounded:"",icon:"",class:"folder",onClick:W},{default:d(()=>[o(s,{name:"folder_move"})]),_:2},1032,["onClick"]),[[M,e.t("move_to_folder"),void 0,{bottom:!0}]])]),default:d(()=>[o($,null,{default:d(()=>[o(v,null,{default:d(()=>[D(b(e.t("move_to_folder")),1)]),_:1}),o(y,null,{default:d(()=>[o(_,{modelValue:e.selectedFolder,"onUpdate:modelValue":t[2]||(t[2]=W=>e.selectedFolder=W)},null,8,["modelValue"])]),_:1}),o(g,null,{default:d(()=>[o(r,{secondary:"",onClick:t[3]||(t[3]=W=>e.moveToDialogActive=!1)},{default:d(()=>[D(b(e.t("cancel")),1)]),_:1}),o(r,{loading:e.moving,onClick:e.moveToFolder},{default:d(()=>[D(b(e.t("move")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):R("",!0),e.selection.length>0?(p(),C(h,{key:1,modelValue:e.confirmDelete,"onUpdate:modelValue":t[7]||(t[7]=W=>e.confirmDelete=W),onEsc:t[8]||(t[8]=W=>e.confirmDelete=!1)},{activator:d(({on:W})=>[x(o(r,{disabled:e.batchDeleteAllowed!==!0,rounded:"",icon:"",class:"action-delete",onClick:W},{default:d(()=>[o(s,{name:"delete",outline:""})]),_:2},1032,["disabled","onClick"]),[[M,e.batchDeleteAllowed?e.t("delete_label"):e.t("not_allowed"),void 0,{bottom:!0}]])]),default:d(()=>[o($,null,{default:d(()=>[o(v,null,{default:d(()=>[D(b(e.t("batch_delete_confirm",e.selection.length)),1)]),_:1}),o(g,null,{default:d(()=>[o(r,{secondary:"",onClick:t[6]||(t[6]=W=>e.confirmDelete=!1)},{default:d(()=>[D(b(e.t("cancel")),1)]),_:1}),o(r,{kind:"danger",loading:e.deleting,onClick:e.batchDelete},{default:d(()=>[D(b(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):R("",!0),e.selection.length>1?x((p(),C(r,{key:2,rounded:"",icon:"",class:"action-batch",disabled:e.batchEditAllowed===!1,onClick:t[9]||(t[9]=W=>e.batchEditActive=!0)},{default:d(()=>[o(s,{name:"edit",outline:""})]),_:1},8,["disabled"])),[[M,e.batchEditAllowed?e.t("edit"):e.t("not_allowed"),void 0,{bottom:!0}]]):R("",!0),x(o(r,{rounded:"",icon:"",class:"add-new",to:e.folder?{path:`/files/folders/${e.folder}/+`}:{path:"/files/+"},disabled:e.createAllowed===!1},{default:d(()=>[o(s,{name:"add"})]),_:1},8,["to","disabled"]),[[M,e.createAllowed?e.t("create_item"):e.t("not_allowed"),void 0,{bottom:!0}]])]),navigation:d(()=>[o(k,{"current-folder":e.folder},null,8,["current-folder"])]),sidebar:d(()=>[o(O,{icon:"info_outline",title:e.t("information"),close:""},{default:d(()=>[x(S("div",VS,null,512),[[B,e.t("page_help_files_collection")]])]),_:1},8,["title"]),o(T,{modelValue:e.layout,"onUpdate:modelValue":t[11]||(t[11]=W=>e.layout=W)},{default:d(()=>[(p(),C(Ue(`layout-options-${e.layout}`),He(Xe(K)),null,16))]),_:2},1032,["modelValue"]),(p(),C(Ue(`layout-sidebar-${e.layout}`),He(Xe(K)),null,16)),o(N,{collection:"directus_files",filter:e.mergeFilters(e.filter,e.folderTypeFilter),search:e.search},null,8,["filter","search"])]),default:d(()=>[(p(),C(Ue(`layout-${e.layout}`),dt({class:"layout"},K),{"no-results":d(()=>[!e.filter&&!e.search?(p(),C(A,{key:0,title:e.t("file_count",0),icon:"folder",center:""},{append:d(()=>[o(r,{to:e.folder?{path:`/files/folders/${e.folder}/+`}:{path:"/files/+"}},{default:d(()=>[D(b(e.t("add_file")),1)]),_:1},8,["to"])]),default:d(()=>[D(b(e.t("no_files_copy"))+" ",1)]),_:1},8,["title"])):(p(),C(A,{key:1,title:e.t("no_results"),icon:"search",center:""},{append:d(()=>[o(r,{onClick:e.clearFilters},{default:d(()=>[D(b(e.t("clear_filters")),1)]),_:1},8,["onClick"])]),default:d(()=>[D(b(e.t("no_results_copy"))+" ",1)]),_:1},8,["title"]))]),"no-items":d(()=>[o(A,{title:e.t("file_count",0),icon:"folder",center:""},{append:d(()=>[o(r,{to:e.folder?{path:`/files/folders/${e.folder}/+`}:{path:"/files/+"}},{default:d(()=>[D(b(e.t("add_file")),1)]),_:1},8,["to"])]),default:d(()=>[D(b(e.t("no_files_copy"))+" ",1)]),_:1},8,["title"])]),_:2},1040)),o(F,{name:"addNew",folder:e.folder,onUpload:e.refresh},null,8,["folder","onUpload"]),o(P,{active:e.batchEditActive,"onUpdate:active":t[10]||(t[10]=W=>e.batchEditActive=W),"primary-keys":e.selection,collection:"directus_files",onRefresh:e.refresh},null,8,["active","primary-keys","onRefresh"]),e.showDropEffect?(p(),I(ie,{key:0},[FS,AS,IS,ES],64)):R("",!0)]),_:2},[e.breadcrumb?{name:"headline",fn:d(()=>[o(a,{items:e.breadcrumb},null,8,["items"])])}:void 0]),1032,["title","class"])]),_:1},8,["selection","layout-options","layout-query","filter","filter-user","filter-system","search","reset-preset"])}var Qn=q(CS,[["render",DS],["__scopeId","data-v-f242a114"]]);const TS=z({props:{mime:{type:String,required:!0},width:{type:Number,default:null},height:{type:Number,default:null},src:{type:String,required:!0},title:{type:String,required:!0},inModal:{type:Boolean,default:!1}},emits:["click"],setup(e){const t=E(!1),n=V(()=>e.mime===null?null:e.mime.startsWith("image")?"image":e.mime.startsWith("video")?"video":e.mime.startsWith("audio")?"audio":null),l=V(()=>e.mime.includes("svg"));return{type:n,isSVG:l,imgError:t}}}),PS={key:0,class:"file-preview"},OS=["src","width","height","alt"],LS=["src"],jS=["src"];function RS(e,t,n,l,i,u){const a=c("v-icon");return e.type&&!e.imgError?(p(),I("div",PS,[e.type==="image"?(p(),I("div",{key:0,class:se(["image",{svg:e.isSVG,"max-size":e.inModal===!1}]),onClick:t[1]||(t[1]=s=>e.$emit("click"))},[S("img",{src:e.src,width:e.width,height:e.height,alt:e.title,onError:t[0]||(t[0]=s=>e.imgError=!0)},null,40,OS),e.inModal===!1?(p(),C(a,{key:0,name:"upload"})):R("",!0)],2)):e.type==="video"?(p(),I("video",{key:1,controls:"",src:e.src},null,8,LS)):e.type==="audio"?(p(),I("audio",{key:2,controls:"",src:e.src},null,8,jS)):R("",!0)])):R("",!0)}var vo=q(TS,[["render",RS],["__scopeId","data-v-7957d1ad"]]);const MS=z({props:{id:{type:String,required:!0},modelValue:{type:Boolean,default:void 0}},emits:["update:modelValue","refresh"],setup(e,{emit:t}){const{t:n,n:l}=Y(),i=E(!1),u=V({get(){return e.modelValue===void 0?i.value:e.modelValue},set(B){i.value=B,t("update:modelValue",B)}}),{loading:a,error:s,imageData:r,imageElement:m,save:f,saving:v,fetchImage:_,onImageLoad:y}=L(),{cropperInstance:g,initCropper:$,flip:h,rotate:k,aspectRatio:A,aspectRatioIcon:F,newDimensions:P,dragMode:O,cropping:T}=M();_e(u,B=>{B===!0?_():(g.value&&g.value.destroy(),a.value=!1,s.value=null,r.value=null)});const N=V(()=>st(`${Qe()}assets/${e.id}?${_t()}`));return{t:n,n:l,internalActive:u,loading:a,error:s,imageData:r,imageElement:m,save:f,onImageLoad:y,flip:h,rotate:k,aspectRatio:A,aspectRatioIcon:F,saving:v,imageURL:N,newDimensions:P,dragMode:O,cropping:T};function L(){const B=E(!1),K=E(null),W=E(null),le=E(!1),G=E(null);return{loading:B,error:K,imageData:W,saving:le,fetchImage:Q,imageElement:G,save:fe,onImageLoad:ue};async function Q(){try{B.value=!0;const ne=await re.get(`/files/${e.id}`,{params:{fields:["type","filesize","filename_download","width","height"]}});W.value=ne.data.data}catch(ne){K.value=ne}finally{B.value=!1}}function fe(){var ne,ee;le.value=!0,(ee=g.value)==null||ee.getCroppedCanvas({imageSmoothingQuality:"high"}).toBlob(async de=>{var H;if(de===null){le.value=!1;return}const ce=new FormData;ce.append("file",de,(H=W.value)==null?void 0:H.filename_download);try{await re.patch(`/files/${e.id}`,ce),t("refresh"),u.value=!1}catch(Z){Ce(Z)}finally{le.value=!1}},(ne=W.value)==null?void 0:ne.type)}async function ue(){await dl(),$()}}function M(){const B=E(null),K=E(NaN),W=Zt({width:null,height:null});_e(r,()=>{!r.value||(K.value=r.value.width/r.value.height,W.width=r.value.width,W.height=r.value.height)});const le=V({get(){return K.value},set(H){var Z;K.value=H,(Z=B.value)==null||Z.setAspectRatio(H)}}),G=V(()=>{if(!r.value)return"crop_original";switch(le.value){case 16/9:return"crop_16_9";case 3/2:return"crop_3_2";case 5/4:return"crop_5_4";case 7/5:return"crop_7_5";case 1/1:return"crop_square";case r.value.width/r.value.height:return"crop_original";default:return"crop_free"}}),Q=E("move"),fe=V({get(){return Q.value},set(H){var Z;(Z=B.value)==null||Z.setDragMode(H),Q.value=H}}),ue=E(!1),ne=V({get(){return ue.value},set(H){var Z;H===!1&&((Z=B.value)==null||Z.clear()),ue.value=H}});return{cropperInstance:B,initCropper:ee,flip:de,rotate:ce,aspectRatio:le,aspectRatioIcon:G,newDimensions:W,dragMode:fe,cropping:ne};function ee(){m.value!==null&&(B.value&&B.value.destroy(),B.value=new Wr(m.value,{autoCrop:!1,toggleDragModeOnDblclick:!1,dragMode:"move",crop:Gr(H=>{if(!r.value)return;ne.value===!1&&(H.detail.width||H.detail.height)&&(ne.value=!0);const Z=H.detail.width||r.value.width,X=H.detail.height||r.value.height;H.detail.rotate===0||H.detail.rotate===-180?(W.width=Math.round(Z),W.height=Math.round(X)):(W.height=Math.round(Z),W.width=Math.round(X))},50)}))}function de(H){var Z,X,te,ve,J,oe;H==="vertical"&&(((Z=B.value)==null?void 0:Z.getData().scaleX)===-1?(X=B.value)==null||X.scaleX(1):(te=B.value)==null||te.scaleX(-1)),H==="horizontal"&&(((ve=B.value)==null?void 0:ve.getData().scaleY)===-1?(J=B.value)==null||J.scaleY(1):(oe=B.value)==null||oe.scaleY(-1))}function ce(){var H;(H=B.value)==null||H.rotate(-90)}}}}),US=e=>(We("data-v-106d65e4"),e=e(),Ge(),e),NS={class:"warning"},BS={key:0,class:"loader"},qS=D("error"),zS={class:"editor-container"},KS={class:"editor"},HS=["src"],WS={class:"toolbar"},GS=D("16:9"),JS=D("3:2"),QS=D("5:4"),XS=D("7:5"),ZS=US(()=>S("div",{class:"spacer"},null,-1)),YS={key:0,class:"dimensions"};function xS(e,t,n,l,i,u){const a=c("v-progress-circular"),s=c("v-notice"),r=c("v-icon"),m=c("v-list-item-icon"),f=c("v-list-item-content"),v=c("v-list-item"),_=c("v-list"),y=c("v-menu"),g=c("v-button"),$=c("v-drawer"),h=Se("tooltip");return p(),C($,{modelValue:e.internalActive,"onUpdate:modelValue":t[12]||(t[12]=k=>e.internalActive=k),class:"modal",title:e.t("editing_image"),persistent:"",onCancel:t[13]||(t[13]=k=>e.internalActive=!1)},{activator:d(k=>[ye(e.$slots,"activator",He(Xe(k)),void 0,!0)]),subtitle:d(()=>[S("span",NS,b(e.t("changes_are_permanent")),1)]),actions:d(()=>[x(o(g,{loading:e.saving,icon:"",rounded:"",onClick:e.save},{default:d(()=>[o(r,{name:"check"})]),_:1},8,["loading","onClick"]),[[h,e.t("save"),void 0,{bottom:!0}]])]),default:d(()=>[e.loading?(p(),I("div",BS,[o(a,{indeterminate:""})])):e.error?(p(),C(s,{key:1,type:"error"},{default:d(()=>[qS]),_:1})):R("",!0),x(S("div",zS,[S("div",KS,[S("img",{ref:"imageElement",src:e.imageURL,role:"presentation",alt:"",onLoad:t[0]||(t[0]=(...k)=>e.onImageLoad&&e.onImageLoad(...k))},null,40,HS)]),S("div",WS,[x(S("div",{class:"drag-mode toolbar-button",onClick:t[1]||(t[1]=k=>e.dragMode=e.dragMode==="crop"?"move":"crop")},[o(r,{name:"pan_tool",class:se({active:e.dragMode==="move"})},null,8,["class"]),o(r,{name:"crop",class:se({active:e.dragMode==="crop"})},null,8,["class"])],512),[[h,e.t("drag_mode"),void 0,{top:!0,inverted:!0}]]),x(o(r,{name:"rotate_90_degrees_ccw",clickable:"",onClick:e.rotate},null,8,["onClick"]),[[h,e.t("rotate"),void 0,{top:!0,inverted:!0}]]),x(o(r,{name:"flip_horizontal",clickable:"",onClick:t[2]||(t[2]=k=>e.flip("horizontal"))},null,512),[[h,e.t("flip_horizontal"),void 0,{top:!0,inverted:!0}]]),x(o(r,{name:"flip_vertical",clickable:"",onClick:t[3]||(t[3]=k=>e.flip("vertical"))},null,512),[[h,e.t("flip_vertical"),void 0,{top:!0,inverted:!0}]]),o(y,{placement:"top","show-arrow":""},{activator:d(({toggle:k})=>[x(o(r,{name:e.aspectRatioIcon,clickable:"",onClick:k},null,8,["name","onClick"]),[[h,e.t("aspect_ratio"),void 0,{top:!0,inverted:!0}]])]),default:d(()=>[o(_,null,{default:d(()=>[o(v,{clickable:"",active:e.aspectRatio===16/9,onClick:t[4]||(t[4]=k=>e.aspectRatio=16/9)},{default:d(()=>[o(m,null,{default:d(()=>[o(r,{name:"crop_16_9"})]),_:1}),o(f,null,{default:d(()=>[GS]),_:1})]),_:1},8,["active"]),o(v,{clickable:"",active:e.aspectRatio===3/2,onClick:t[5]||(t[5]=k=>e.aspectRatio=3/2)},{default:d(()=>[o(m,null,{default:d(()=>[o(r,{name:"crop_3_2"})]),_:1}),o(f,null,{default:d(()=>[JS]),_:1})]),_:1},8,["active"]),o(v,{clickable:"",active:e.aspectRatio===5/4,onClick:t[6]||(t[6]=k=>e.aspectRatio=5/4)},{default:d(()=>[o(m,null,{default:d(()=>[o(r,{name:"crop_5_4"})]),_:1}),o(f,null,{default:d(()=>[QS]),_:1})]),_:1},8,["active"]),o(v,{clickable:"",active:e.aspectRatio===7/5,onClick:t[7]||(t[7]=k=>e.aspectRatio=7/5)},{default:d(()=>[o(m,null,{default:d(()=>[o(r,{name:"crop_7_5"})]),_:1}),o(f,null,{default:d(()=>[XS]),_:1})]),_:1},8,["active"]),o(v,{clickable:"",active:e.aspectRatio===1/1,onClick:t[8]||(t[8]=k=>e.aspectRatio=1/1)},{default:d(()=>[o(m,null,{default:d(()=>[o(r,{name:"crop_square"})]),_:1}),o(f,null,{default:d(()=>[D(b(e.t("square")),1)]),_:1})]),_:1},8,["active"]),o(v,{clickable:"",active:e.aspectRatio===NaN,onClick:t[9]||(t[9]=k=>e.aspectRatio=NaN)},{default:d(()=>[o(m,null,{default:d(()=>[o(r,{name:"crop_free"})]),_:1}),o(f,null,{default:d(()=>[D(b(e.t("free")),1)]),_:1})]),_:1},8,["active"]),e.imageData?(p(),C(v,{key:0,clickable:"",active:e.aspectRatio===e.imageData.width/e.imageData.height,onClick:t[10]||(t[10]=k=>e.aspectRatio=e.imageData.width/e.imageData.height)},{default:d(()=>[o(m,null,{default:d(()=>[o(r,{name:"crop_original"})]),_:1}),o(f,null,{default:d(()=>[D(b(e.t("original")),1)]),_:1})]),_:1},8,["active"])):R("",!0)]),_:1})]),_:1}),ZS,e.imageData?(p(),I("div",YS,[D(b(e.n(e.imageData.width))+"x"+b(e.n(e.imageData.height))+" ",1),e.imageData.width!==e.newDimensions.width||e.imageData.height!==e.newDimensions.height?(p(),I(ie,{key:0},[D(" -> "+b(e.n(e.newDimensions.width))+"x"+b(e.n(e.newDimensions.height)),1)],64)):R("",!0)])):R("",!0),x(S("button",{class:"toolbar-button cancel",onClick:t[11]||(t[11]=k=>e.cropping=!1)},b(e.t("cancel_crop")),513),[[Et,e.cropping]])])],512),[[Et,e.imageData&&!e.loading&&!e.error]])]),_:3},8,["modelValue","title"])}var eC=q(MS,[["render",xS],["__scopeId","data-v-106d65e4"]]),tC={"audio/aac":"aac","application/x-abiword":"abw","application/x-freearc":"arc","video/x-msvideo":"avi","application/vnd.amazon.ebook":"azw","application/octet-stream":"file","image/bmp":"bmp","application/x-bzip":"bz","application/x-bzip2":"bz2","application/x-csh":"csh","text/css":"css","text/csv":"csv","application/msword":"doc","application/sql":"sql","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"docx","application/vnd.ms-fontobject":"eot","application/epub+zip":"epub","application/gzip":"gz","image/gif":"gif","text/html":"html","image/vnd.microsoft.icon":"ico","text/calendar":"ics","application/java-archive":"jar","image/jpeg":"jpg","text/javascript":"js","application/json":"json","application/ld+json":"jsonld","audio/midi audio/x-midi":"midi","audio/mpeg":"mp3","video/mpeg":"mpeg","application/vnd.apple.installer+xml":"mpkg","application/vnd.oasis.opendocument.presentation":"odp","application/vnd.oasis.opendocument.spreadsheet":"ods","application/vnd.oasis.opendocument.text":"odt","audio/ogg":"oga","video/ogg":"ogv","application/ogg":"ogx","audio/opus":"opus","font/otf":"otf","image/png":"png","application/pdf":"pdf","application/x-httpd-php":"php","application/vnd.ms-powerpoint":"ppt","application/vnd.openxmlformats-officedocument.presentationml.presentation":"pptx","application/vnd.rar":"rar","application/rtf":"rtf","application/x-sh":"sh","image/svg+xml":"svg","application/x-shockwave-flash":"swf","application/x-tar":"tar","image/tiff":"tiff","video/mp2t":"ts","font/ttf":"ttf","text/plain":"txt","application/vnd.visio":"vsd","audio/wav":"wav","audio/webm":"weba","video/webm":"webm","image/webp":"webp","font/woff":"woff","font/woff2":"woff2","application/xhtml+xml":"xhtml","application/vnd.ms-excel":"xls","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"xlsx","application/xml":"xml","application/vnd.mozilla.xul+xml":"xul","application/zip":"zip","video/3gpp":"3gp","video/3gpp2":"3g2","audio/3gpp":"3gp","audio/3gpp2":"3g2","application/x-7z-compressed":"7z"},nC={"application/vnd.hzn-3d-crossword":"3D Crossword Plugin","video/3gpp":"3GP","video/3gpp2":"3GP2","application/vnd.mseq":"3GPP MSEQ File","application/vnd.3m.post-it-notes":"3M Post It Notes","application/vnd.3gpp.pic-bw-large":"3rd Generation Partnership Project - Pic Large","application/vnd.3gpp.pic-bw-small":"3rd Generation Partnership Project - Pic Small","application/vnd.3gpp.pic-bw-var":"3rd Generation Partnership Project - Pic Var","application/vnd.3gpp2.tcap":"3rd Generation Partnership Project - Transaction Capabilities Application Part","application/x-7z-compressed":"7-Zip","application/x-abiword":"AbiWord","application/x-ace-compressed":"Ace Archive","application/vnd.americandynamics.acc":"Active Content Compression","application/vnd.acucobol":"ACU Cobol","application/vnd.acucorp":"ACU Cobol","audio/adpcm":"Adaptive differential pulse-code modulation","application/x-authorware-bin":"Adobe (Macropedia) Authorware - Binary File","application/x-authorware-map":"Adobe (Macropedia) Authorware - Map","application/x-authorware-seg":"Adobe (Macropedia) Authorware - Segment File","application/vnd.adobe.air-application-installer-package+zip":"Adobe AIR Application","application/x-shockwave-flash":"Adobe Flash","application/vnd.adobe.fxp":"Adobe Flex Project","application/pdf":"PDF","application/sql":"SQL","application/vnd.cups-ppd":"Adobe PostScript Printer Description File Format","application/x-director":"Adobe Shockwave Player","application/vnd.adobe.xdp+xml":"Adobe XML Data Package","application/vnd.adobe.xfdf":"Adobe XML Forms Data Format","audio/x-aac":"Advanced Audio Coding (AAC)","application/vnd.ahead.space":"Ahead AIR Application","application/vnd.airzip.filesecure.azf":"AirZip FileSECURE","application/vnd.airzip.filesecure.azs":"AirZip FileSECURE","application/vnd.amazon.ebook":"Amazon Kindle eBook format","application/vnd.amiga.ami":"AmigaDE","application/andrew-inset":"Andrew Toolkit","application/vnd.android.package-archive":"Android Package Archive","application/vnd.anser-web-certificate-issue-initiation":"ANSER-WEB Terminal Client - Certificate Issue","application/vnd.anser-web-funds-transfer-initiation":"ANSER-WEB Terminal Client - Web Funds Transfer","application/vnd.antix.game-component":"Antix Game Player","application/x-apple-diskimage":"Apple Disk Image","application/vnd.apple.installer+xml":"Apple Installer Package","application/applixware":"Applixware","application/vnd.hhe.lesson-player":"Archipelago Lesson Player","application/vnd.aristanetworks.swi":"Arista Networks Software Image","text/x-asm":"Assembler Source File","application/atomcat+xml":"Atom Publishing Protocol","application/atomsvc+xml":"Atom Publishing Protocol Service Document","application/atom+xml":"Atom Syndication Format","application/pkix-attr-cert":"Attribute Certificate","audio/x-aiff":"AIFF","video/x-msvideo":"AVI","application/vnd.audiograph":"Audiograph","image/vnd.dxf":"AutoCAD DXF","model/vnd.dwf":"Autodesk Design Web Format (DWF)","text/plain-bas":"BAS Partitur Format","application/x-bcpio":"Binary CPIO Archive","application/octet-stream":"Binary Data","image/bmp":"Bitmap Image","application/x-bittorrent":"BitTorrent","application/vnd.rim.cod":"Blackberry COD File","application/vnd.blueice.multipass":"Blueice Research Multipass","application/vnd.bmi":"BMI Drawing Data Interchange","application/x-sh":"Bourne Shell Script","image/prs.btif":"BTIF","application/vnd.businessobjects":"BusinessObjects","application/x-bzip":"Bzip Archive","application/x-bzip2":"Bzip2 Archive","application/x-csh":"C Shell Script","text/x-c":"C Source File","application/vnd.chemdraw+xml":"CambridgeSoft Chem Draw","text/css":"Cascading Style Sheets (CSS)","chemical/x-cdx":"ChemDraw eXchange file","chemical/x-cml":"Chemical Markup Language","chemical/x-csml":"Chemical Style Markup Language","application/vnd.contact.cmsg":"CIM Database","application/vnd.claymore":"Claymore Data Files","application/vnd.clonk.c4group":"Clonk Game","image/vnd.dvb.subtitle":"Close Captioning - Subtitle","application/cdmi-capability":"Cloud Data Management Interface (CDMI) - Capability","application/cdmi-container":"Cloud Data Management Interface (CDMI) - Contaimer","application/cdmi-domain":"Cloud Data Management Interface (CDMI) - Domain","application/cdmi-object":"Cloud Data Management Interface (CDMI) - Object","application/cdmi-queue":"Cloud Data Management Interface (CDMI) - Queue","application/vnd.cluetrust.cartomobile-config":"ClueTrust CartoMobile - Config","application/vnd.cluetrust.cartomobile-config-pkg":"ClueTrust CartoMobile - Config Package","image/x-cmu-raster":"CMU Image","model/vnd.collada+xml":"COLLADA","text/csv":"CSV","application/mac-compactpro":"Compact Pro","application/vnd.wap.wmlc":"Compiled Wireless Markup Language (WMLC)","image/cgm":"Computer Graphics Metafile","x-conference/x-cooltalk":"CoolTalk","image/x-cmx":"Corel Metafile Exchange (CMX)","application/vnd.xara":"CorelXARA","application/vnd.cosmocaller":"CosmoCaller","application/x-cpio":"CPIO Archive","application/vnd.crick.clicker":"CrickSoftware - Clicker","application/vnd.crick.clicker.keyboard":"CrickSoftware - Clicker - Keyboard","application/vnd.crick.clicker.palette":"CrickSoftware - Clicker - Palette","application/vnd.crick.clicker.template":"CrickSoftware - Clicker - Template","application/vnd.crick.clicker.wordbank":"CrickSoftware - Clicker - Wordbank","application/vnd.criticaltools.wbs+xml":"Critical Tools - PERT Chart EXPERT","application/vnd.rig.cryptonote":"CryptoNote","chemical/x-cif":"Crystallographic Interchange Format","chemical/x-cmdf":"CrystalMaker Data Format","application/cu-seeme":"CU-SeeMe","application/prs.cww":"CU-Writer","text/vnd.curl":"Curl - Applet","text/vnd.curl.dcurl":"Curl - Detached Applet","text/vnd.curl.mcurl":"Curl - Manifest File","text/vnd.curl.scurl":"Curl - Source Code","application/vnd.curl.car":"CURL Applet","application/vnd.curl.pcurl":"CURL Applet","application/vnd.yellowriver-custom-menu":"CustomMenu","application/dssc+der":"Data Structure for the Security Suitability of Cryptographic Algorithms","application/dssc+xml":"Data Structure for the Security Suitability of Cryptographic Algorithms","application/x-debian-package":"Debian Package","audio/vnd.dece.audio":"DECE Audio","image/vnd.dece.graphic":"DECE Graphic","video/vnd.dece.hd":"DECE High Definition Video","video/vnd.dece.mobile":"DECE Mobile Video","video/vnd.uvvu.mp4":"DECE MP4","video/vnd.dece.pd":"DECE PD Video","video/vnd.dece.sd":"DECE SD Video","video/vnd.dece.video":"DECE Video","application/x-dvi":"DVI","application/vnd.fdsn.seed":"Digital Siesmograph Networks - SEED Datafiles","application/x-dtbook+xml":"Digital Talking Book","application/x-dtbresource+xml":"Digital Talking Book - Resource File","application/vnd.dvb.ait":"Digital Video Broadcasting","application/vnd.dvb.service":"Digital Video Broadcasting","audio/vnd.digital-winds":"Digital Winds Music","image/vnd.djvu":"DjVu","application/xml-dtd":"Document Type Definition","application/vnd.dolby.mlp":"Dolby Meridian Lossless Packing","application/x-doom":"Doom Video Game","application/vnd.dpgraph":"DPGraph","audio/vnd.dra":"DRA Audio","application/vnd.dreamfactory":"DreamFactory","audio/vnd.dts":"DTS Audio","audio/vnd.dts.hd":"DTS High Definition Audio","image/vnd.dwg":"DWG Drawing","application/vnd.dynageo":"DynaGeo","application/ecmascript":"ECMAScript","application/vnd.ecowin.chart":"EcoWin Chart","image/vnd.fujixerox.edmics-mmr":"EDMICS 2000","image/vnd.fujixerox.edmics-rlc":"EDMICS 2000","application/exi":"Efficient XML Interchange","application/vnd.proteus.magazine":"EFI Proteus","application/epub+zip":"Electronic Publication","message/rfc822":"Email Message","application/vnd.enliven":"Enliven Viewer","application/vnd.is-xpr":"Express by Infoseek","image/vnd.xiff":"eXtended Image File Format (XIFF)","application/vnd.xfdl":"Extensible Forms Description Language","application/emma+xml":"Extensible MultiModal Annotation","application/vnd.ezpix-album":"EZPix Secure Photo Album","application/vnd.ezpix-package":"EZPix Secure Photo Album","image/vnd.fst":"FAST Search & Transfer ASA","video/vnd.fvt":"FAST Search & Transfer ASA","image/vnd.fastbidsheet":"FastBid Sheet","application/vnd.denovo.fcselayout-link":"FCS Express Layout Link","video/x-f4v":"Flash Video","video/x-flv":"Flash Video","image/vnd.fpx":"FlashPix","image/vnd.net-fpx":"FlashPix","text/vnd.fmi.flexstor":"FLEXSTOR","video/x-fli":"FLI/FLC Animation Format","application/vnd.fluxtime.clip":"FluxTime Clip","application/vnd.fdf":"Forms Data Format","text/x-fortran":"Fortran Source File","application/vnd.mif":"FrameMaker Interchange Format","application/vnd.framemaker":"FrameMaker Normal Format","image/x-freehand":"FreeHand MX","application/vnd.fsc.weblaunch":"Friendly Software Corporation","application/vnd.frogans.fnc":"Frogans Player","application/vnd.frogans.ltf":"Frogans Player","application/vnd.fujixerox.ddd":"Fujitsu - Xerox 2D CAD Data","application/vnd.fujixerox.docuworks":"Fujitsu - Xerox DocuWorks","application/vnd.fujixerox.docuworks.binder":"Fujitsu - Xerox DocuWorks Binder","application/vnd.fujitsu.oasys":"Fujitsu Oasys","application/vnd.fujitsu.oasys2":"Fujitsu Oasys","application/vnd.fujitsu.oasys3":"Fujitsu Oasys","application/vnd.fujitsu.oasysgp":"Fujitsu Oasys","application/vnd.fujitsu.oasysprs":"Fujitsu Oasys","application/x-futuresplash":"FutureSplash Animator","application/vnd.fuzzysheet":"FuzzySheet","image/g3fax":"G3 Fax Image","application/vnd.gmx":"GameMaker ActiveX","model/vnd.gtw":"Gen-Trix Studio","application/vnd.genomatix.tuxedo":"Genomatix Tuxedo Framework","application/vnd.geogebra.file":"GeoGebra","application/vnd.geogebra.tool":"GeoGebra","model/vnd.gdl":"Geometric Description Language (GDL)","application/vnd.geometry-explorer":"GeoMetry Explorer","application/vnd.geonext":"GEONExT and JSXGraph","application/vnd.geoplan":"GeoplanW","application/vnd.geospace":"GeospacW","application/x-font-ghostscript":"Ghostscript Font","application/x-font-bdf":"Glyph Bitmap Distribution Format","application/x-gtar":"GNU Tar Files","application/x-texinfo":"GNU Texinfo Document","application/x-gnumeric":"Gnumeric","application/vnd.google-earth.kml+xml":"Google Earth - KML","application/vnd.google-earth.kmz":"Google Earth - Zipped KML","application/vnd.grafeq":"GrafEq","image/gif":"GIF","text/vnd.graphviz":"Graphviz","application/vnd.groove-account":"Groove - Account","application/vnd.groove-help":"Groove - Help","application/vnd.groove-identity-message":"Groove - Identity Message","application/vnd.groove-injector":"Groove - Injector","application/vnd.groove-tool-message":"Groove - Tool Message","application/vnd.groove-tool-template":"Groove - Tool Template","application/vnd.groove-vcard":"Groove - Vcard","video/h261":"H.261","video/h263":"H.263","video/h264":"H.264","application/vnd.hp-hpid":"Hewlett Packard Instant Delivery","application/vnd.hp-hps":"Hewlett-Packard's WebPrintSmart","application/x-hdf":"Hierarchical Data Format","audio/vnd.rip":"Hit'n'Mix","application/vnd.hbci":"Homebanking Computer Interface (HBCI)","application/vnd.hp-jlyt":"HP Indigo Digital Press - Job Layout Languate","application/vnd.hp-pcl":"HP Printer Command Language","application/vnd.hp-hpgl":"HP-GL/2 and HP RTL","application/vnd.yamaha.hv-script":"HV Script","application/vnd.yamaha.hv-dic":"HV Voice Dictionary","application/vnd.yamaha.hv-voice":"HV Voice Parameter","application/vnd.hydrostatix.sof-data":"Hydrostatix Master Suite","application/hyperstudio":"Hyperstudio","application/vnd.hal+xml":"Hypertext Application Language","text/html":"HTML","application/vnd.ibm.rights-management":"IBM DB2 Rights Manager","application/vnd.ibm.secure-container":"IBM Electronic Media Management System - Secure Container","text/calendar":"iCalendar","application/vnd.iccprofile":"ICC profile","image/x-icon":"Icon Image","application/vnd.igloader":"igLoader","image/ief":"Image Exchange Format","application/vnd.immervision-ivp":"ImmerVision PURE Players","application/vnd.immervision-ivu":"ImmerVision PURE Players","application/reginfo+xml":"IMS Networks","text/vnd.in3d.3dml":"In3D - 3DML","text/vnd.in3d.spot":"In3D - 3DML","model/iges":"Initial Graphics Exchange Specification (IGES)","application/vnd.intergeo":"Interactive Geometry Software","application/vnd.cinderella":"Interactive Geometry Software Cinderella","application/vnd.intercon.formnet":"Intercon FormNet","application/vnd.isac.fcs":"International Society for Advancement of Cytometry","application/ipfix":"Internet Protocol Flow Information Export","application/pkix-cert":"Internet Public Key Infrastructure - Certificate","application/pkixcmp":"Internet Public Key Infrastructure - Certificate Management Protocole","application/pkix-crl":"Internet Public Key Infrastructure - Certificate Revocation Lists","application/pkix-pkipath":"Internet Public Key Infrastructure - Certification Path","application/vnd.insors.igm":"IOCOM Visimeet","application/vnd.ipunplugged.rcprofile":"IP Unplugged Roaming Client","application/vnd.irepository.package+xml":"iRepository / Lucidoc Editor","text/vnd.sun.j2me.app-descriptor":"J2ME App Descriptor","application/java-archive":"Java Archive","application/java-vm":"Java Bytecode File","application/x-java-jnlp-file":"Java Network Launching Protocol","application/java-serialized-object":"Java Serialized Object","text/x-java-source,java":"Java Source File","application/javascript":"JavaScript","application/json":"JSON","application/vnd.joost.joda-archive":"Joda Archive","video/jpm":"JPG","image/jpeg":"JPG","image/x-citrix-jpeg":"JPG","image/pjpeg":"JPG","video/jpeg":"JPGVideo","application/vnd.kahootz":"Kahootz","application/vnd.chipnuts.karaoke-mmd":"Karaoke on Chipnuts Chipsets","application/vnd.kde.karbon":"KDE KOffice Office Suite - Karbon","application/vnd.kde.kchart":"KDE KOffice Office Suite - KChart","application/vnd.kde.kformula":"KDE KOffice Office Suite - Kformula","application/vnd.kde.kivio":"KDE KOffice Office Suite - Kivio","application/vnd.kde.kontour":"KDE KOffice Office Suite - Kontour","application/vnd.kde.kpresenter":"KDE KOffice Office Suite - Kpresenter","application/vnd.kde.kspread":"KDE KOffice Office Suite - Kspread","application/vnd.kde.kword":"KDE KOffice Office Suite - Kword","application/vnd.kenameaapp":"Kenamea App","application/vnd.kidspiration":"Kidspiration","application/vnd.kinar":"Kinar Applications","application/vnd.kodak-descriptor":"Kodak Storyshare","application/vnd.las.las+xml":"Laser App Enterprise","application/x-latex":"LaTeX","application/vnd.llamagraphics.life-balance.desktop":"Life Balance - Desktop Edition","application/vnd.llamagraphics.life-balance.exchange+xml":"Life Balance - Exchange Format","application/vnd.jam":"Lightspeed Audio Lab","application/vnd.lotus-1-2-3":"Lotus 1-2-3","application/vnd.lotus-approach":"Lotus Approach","application/vnd.lotus-freelance":"Lotus Freelance","application/vnd.lotus-notes":"Lotus Notes","application/vnd.lotus-organizer":"Lotus Organizer","application/vnd.lotus-screencam":"Lotus Screencam","application/vnd.lotus-wordpro":"Lotus Wordpro","audio/vnd.lucent.voice":"Lucent Voice","audio/x-mpegurl":"M3U (Multimedia Playlist)","video/x-m4v":"M4v","application/mac-binhex40":"Macintosh BinHex 4.0","application/vnd.macports.portpkg":"MacPorts Port System","application/vnd.osgeo.mapguide.package":"MapGuide DBXML","application/marc":"MARC Formats","application/marcxml+xml":"MARC21 XML Schema","application/mxf":"Material Exchange Format","application/vnd.wolfram.player":"Mathematica Notebook Player","application/mathematica":"Mathematica Notebooks","application/mathml+xml":"Mathematical Markup Language","application/mbox":"Mbox database files","application/vnd.medcalcdata":"MedCalc","application/mediaservercontrol+xml":"Media Server Control Markup Language","application/vnd.mediastation.cdkey":"MediaRemote","application/vnd.mfer":"Medical Waveform Encoding Format","application/vnd.mfmp":"Melody Format for Mobile Platform","model/mesh":"Mesh Data Type","application/mads+xml":"Metadata Authority  Description Schema","application/mets+xml":"Metadata Encoding and Transmission Standard","application/mods+xml":"Metadata Object Description Schema","application/metalink4+xml":"Metalink","application/vnd.mcd":"Micro CADAM Helix D&D","application/vnd.micrografx.flo":"Micrografx","application/vnd.micrografx.igx":"Micrografx iGrafx Professional","application/vnd.eszigno3+xml":"MICROSEC e-Szign\xA2","application/x-msaccess":"Access","video/x-ms-asf":"MS ASF","application/x-msdownload":"MS App","application/vnd.ms-artgalry":"MS Artgalry","application/vnd.ms-cab-compressed":"MS Cabinet File","application/vnd.ms-ims":"MS Class Server","application/x-ms-application":"MS ClickOnce","application/x-msclip":"MS Clipboard Clip","image/vnd.ms-modi":"MS Document Imaging Format","application/vnd.ms-fontobject":"MS Embedded OpenType","application/vnd.ms-excel":"Excel","application/vnd.ms-excel.addin.macroenabled.12":"MS Excel - Add-In File","application/vnd.ms-excel.sheet.binary.macroenabled.12":"MS Excel - Binary Workbook","application/vnd.ms-excel.template.macroenabled.12":"MS Excel - Macro-Enabled Template File","application/vnd.ms-excel.sheet.macroenabled.12":"MS Excel - Macro-Enabled Workbook","application/vnd.ms-htmlhelp":"MS Html Help File","application/x-mscardfile":"MS Information Card","application/vnd.ms-lrm":"MS Learning Resource Module","application/x-msmediaview":"MS MediaView","application/x-msmoney":"MS Money","application/vnd.openxmlformats-officedocument.presentationml.presentation":"MS Office - OOXML - Presentation","application/vnd.openxmlformats-officedocument.presentationml.slide":"MS Office - OOXML - Presentation (Slide)","application/vnd.openxmlformats-officedocument.presentationml.slideshow":"MS Office - OOXML - Presentation (Slideshow)","application/vnd.openxmlformats-officedocument.presentationml.template":"MS Office - OOXML - Presentation Template","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"MS Office - OOXML - Spreadsheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template":"MS Office - OOXML - Spreadsheet Template","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"MS Office - OOXML - Word Document","application/vnd.openxmlformats-officedocument.wordprocessingml.template":"MS Office - OOXML - Word Document Template","application/x-msbinder":"MS Office Binder","application/vnd.ms-officetheme":"MS Office System Release Theme","application/onenote":"OneNote","audio/vnd.ms-playready.media.pya":"MS PlayReady Ecosystem","video/vnd.ms-playready.media.pyv":"MS PlayReady Ecosystem Video","application/vnd.ms-powerpoint":"PowerPoint","application/vnd.ms-powerpoint.addin.macroenabled.12":"PowerPoint - Add-in file","application/vnd.ms-powerpoint.slide.macroenabled.12":"PowerPoint - Macro-Enabled Open XML Slide","application/vnd.ms-powerpoint.presentation.macroenabled.12":"PowerPoint - Macro-Enabled Presentation File","application/vnd.ms-powerpoint.slideshow.macroenabled.12":"PowerPoint - Macro-Enabled Slide Show File","application/vnd.ms-powerpoint.template.macroenabled.12":"PowerPoint - Macro-Enabled Template File","application/vnd.ms-project":"MS Project","application/x-mspublisher":"MS Publisher","application/x-msschedule":"MS Schedule+","application/x-silverlight-app":"MS Silverlight","application/vnd.ms-pki.stl":"MS Trust UI Provider - Certificate Trust Link","application/vnd.ms-pki.seccat":"MS Trust UI Provider - Security Catalog","application/vnd.visio":"Visio","application/vnd.visio2013":"Visio 2013","video/x-ms-wm":"MS Windows Media","audio/x-ms-wma":"WMA","audio/x-ms-wax":"MS Windows Media Audio Redirector","video/x-ms-wmx":"MS Windows Media Audio/Video Playlist","application/x-ms-wmd":"MS Windows Media Player Download Package","application/vnd.ms-wpl":"MS Windows Media Player Playlist","application/x-ms-wmz":"MS Windows Media Player Skin Package","video/x-ms-wmv":"WMV","video/x-ms-wvx":"MS Windows Media Video Playlist","application/x-msmetafile":"MS Windows Metafile","application/x-msterminal":"MS Windows Terminal Services","application/msword":"Word","application/vnd.ms-word.document.macroenabled.12":"MS Word - Macro-Enabled Document","application/vnd.ms-word.template.macroenabled.12":"MS Word - Macro-Enabled Template","application/x-mswrite":"MS Wordpad","application/vnd.ms-works":"MS Works","application/x-ms-xbap":"MS XAML Browser Application","application/vnd.ms-xpsdocument":"MS XML Paper Specification","audio/midi":"MIDI","application/vnd.ibm.minipay":"MiniPay","application/vnd.ibm.modcap":"MO:DCA-P","application/vnd.jcp.javame.midlet-rms":"Mobile Information Device Profile","application/vnd.tmobile-livetv":"MobileTV","application/x-mobipocket-ebook":"Mobipocket","application/vnd.mobius.mbk":"Mobius Management Systems - Basket file","application/vnd.mobius.dis":"Mobius Management Systems - Distribution Database","application/vnd.mobius.plc":"Mobius Management Systems - Policy Definition Language File","application/vnd.mobius.mqy":"Mobius Management Systems - Query File","application/vnd.mobius.msl":"Mobius Management Systems - Script Language","application/vnd.mobius.txf":"Mobius Management Systems - Topic Index File","application/vnd.mobius.daf":"Mobius Management Systems - UniversalArchive","text/vnd.fly":"mod_fly / fly.cgi","application/vnd.mophun.certificate":"Mophun Certificate","application/vnd.mophun.application":"Mophun VM","video/mj2":"Motion JPEG 2000","audio/mpeg":"MPEG Audio","video/vnd.mpegurl":"MPEG Url","video/mpeg":"MPEG","application/mp21":"MPEG-21","audio/mp4":"MP4 Audio","video/mp4":"MP4 Video","application/mp4":"MP4","application/vnd.apple.mpegurl":"Multimedia Playlist Unicode","application/vnd.musician":"MUsical Score Interpreted Code Invented for the ASCII designation of Notation","application/vnd.muvee.style":"Muvee Automatic Video Editing","application/xv+xml":"MXML","application/vnd.nokia.n-gage.data":"N-Gage Game Data","application/vnd.nokia.n-gage.symbian.install":"N-Gage Game Installer","application/x-dtbncx+xml":"Navigation Control file for XML (for ePub)","application/x-netcdf":"Network Common Data Form (NetCDF)","application/vnd.neurolanguage.nlu":"neuroLanguage","application/vnd.dna":"New Moon Liftoff/DNA","application/vnd.noblenet-directory":"NobleNet Directory","application/vnd.noblenet-sealer":"NobleNet Sealer","application/vnd.noblenet-web":"NobleNet Web","application/vnd.nokia.radio-preset":"Nokia Radio Application - Preset","application/vnd.nokia.radio-presets":"Nokia Radio Application - Preset","text/n3":"Notation3","application/vnd.novadigm.edm":"Novadigm's RADIA and EDM products","application/vnd.novadigm.edx":"Novadigm's RADIA and EDM products","application/vnd.novadigm.ext":"Novadigm's RADIA and EDM products","application/vnd.flographit":"NpGraphIt","audio/vnd.nuera.ecelp4800":"Nuera ECELP 4800","audio/vnd.nuera.ecelp7470":"Nuera ECELP 7470","audio/vnd.nuera.ecelp9600":"Nuera ECELP 9600","application/oda":"Office Document Architecture","application/ogg":"Ogg","audio/ogg":"Ogg Audio","video/ogg":"Ogg Video","application/vnd.oma.dd2+xml":"OMA Download Agents","application/vnd.oasis.opendocument.text-web":"Open Document Text Web","application/oebps-package+xml":"Open eBook Publication Structure","application/vnd.intu.qbo":"Open Financial Exchange","application/vnd.openofficeorg.extension":"Open Office Extension","application/vnd.yamaha.openscoreformat":"Open Score Format","audio/webm":"WebM Audio","video/webm":"WebM Video","application/vnd.oasis.opendocument.chart":"OpenDocument Chart","application/vnd.oasis.opendocument.chart-template":"OpenDocument Chart Template","application/vnd.oasis.opendocument.database":"OpenDocument Database","application/vnd.oasis.opendocument.formula":"OpenDocument Formula","application/vnd.oasis.opendocument.formula-template":"OpenDocument Formula Template","application/vnd.oasis.opendocument.graphics":"OpenDocument Graphics","application/vnd.oasis.opendocument.graphics-template":"OpenDocument Graphics Template","application/vnd.oasis.opendocument.image":"OpenDocument Image","application/vnd.oasis.opendocument.image-template":"OpenDocument Image Template","application/vnd.oasis.opendocument.presentation":"OpenDocument Presentation","application/vnd.oasis.opendocument.presentation-template":"OpenDocument Presentation Template","application/vnd.oasis.opendocument.spreadsheet":"OpenDocument Spreadsheet","application/vnd.oasis.opendocument.spreadsheet-template":"OpenDocument Spreadsheet Template","application/vnd.oasis.opendocument.text":"OpenDocument Text","application/vnd.oasis.opendocument.text-master":"OpenDocument Text Master","application/vnd.oasis.opendocument.text-template":"OpenDocument Text Template","image/ktx":"OpenGL Textures (KTX)","application/vnd.sun.xml.calc":"OpenOffice - Calc (Spreadsheet)","application/vnd.sun.xml.calc.template":"OpenOffice - Calc Template (Spreadsheet)","application/vnd.sun.xml.draw":"OpenOffice - Draw (Graphics)","application/vnd.sun.xml.draw.template":"OpenOffice - Draw Template (Graphics)","application/vnd.sun.xml.impress":"OpenOffice - Impress (Presentation)","application/vnd.sun.xml.impress.template":"OpenOffice - Impress Template (Presentation)","application/vnd.sun.xml.math":"OpenOffice - Math (Formula)","application/vnd.sun.xml.writer":"OpenOffice - Writer (Text - HTML)","application/vnd.sun.xml.writer.global":"OpenOffice - Writer (Text - HTML)","application/vnd.sun.xml.writer.template":"OpenOffice - Writer Template (Text - HTML)","application/x-font-otf":"OpenType Font File","application/vnd.yamaha.openscoreformat.osfpvg+xml":"OSFPVG","application/vnd.osgi.dp":"OSGi Deployment Package","application/vnd.palm":"PalmOS Data","text/x-pascal":"Pascal Source File","application/vnd.pawaafile":"PawaaFILE","application/vnd.hp-pclxl":"PCL 6 Enhanced (Formely PCL XL)","application/vnd.picsel":"Pcsel eFIF File","image/x-pcx":"PCX Image","image/vnd.adobe.photoshop":"Photoshop Document","application/pics-rules":"PICSRules","image/x-pict":"PICT Image","application/x-chat":"pIRCh","application/pkcs10":"PKCS #10 - Certification Request Standard","application/x-pkcs12":"PKCS #12 - Personal Information Exchange Syntax Standard","application/pkcs7-mime":"PKCS #7 - Cryptographic Message Syntax Standard","application/pkcs7-signature":"PKCS #7 - Cryptographic Message Syntax Standard","application/x-pkcs7-certreqresp":"PKCS #7 - Cryptographic Message Syntax Standard (Certificate Request Response)","application/x-pkcs7-certificates":"PKCS #7 - Cryptographic Message Syntax Standard (Certificates)","application/pkcs8":"PKCS #8 - Private-Key Information Syntax Standard","application/vnd.pocketlearn":"PocketLearn Viewers","image/x-portable-anymap":"Portable Anymap Image","image/x-portable-bitmap":"Portable Bitmap Format","application/x-font-pcf":"Portable Compiled Format","application/font-tdpfr":"Portable Font Resource","application/x-chess-pgn":"Portable Game Notation (Chess Games)","image/x-portable-graymap":"Portable Graymap Format","image/png":"PNG","image/x-citrix-png":"PNG","image/x-png":"PNG","image/x-portable-pixmap":"Portable Pixmap Format","application/pskc+xml":"Portable Symmetric Key Container","application/vnd.ctc-posml":"PosML","application/postscript":"PostScript","application/x-font-type1":"PostScript Fonts","application/vnd.powerbuilder6":"PowerBuilder","application/pgp-encrypted":"Pretty Good Privacy","application/pgp-signature":"Pretty Good Privacy - Signature","application/vnd.previewsystems.box":"Preview Systems ZipLock/VBox","application/vnd.pvi.ptid1":"Princeton Video Image","application/pls+xml":"Pronunciation Lexicon Specification","application/vnd.pg.format":"Proprietary P&G Standard Reporting System","application/vnd.pg.osasli":"Proprietary P&G Standard Reporting System","text/prs.lines.tag":"PRS Lines Tag","application/x-font-linux-psf":"PSF Fonts","application/vnd.publishare-delta-tree":"PubliShare Objects","application/vnd.pmi.widget":"Qualcomm's Plaza Mobile Internet","application/vnd.quark.quarkxpress":"QuarkXpress","application/vnd.epson.esf":"QUASS Stream Player","application/vnd.epson.msf":"QUASS Stream Player","application/vnd.epson.ssf":"QUASS Stream Player","application/vnd.epson.quickanime":"QuickAnime Player","application/vnd.intu.qfx":"Quicken","video/quicktime":"Quicktime Video","application/x-rar-compressed":"RAR Archive","audio/x-pn-realaudio":"Real Audio Sound","audio/x-pn-realaudio-plugin":"Real Audio Sound","application/rsd+xml":"Really Simple Discovery","application/vnd.rn-realmedia":"RealMedia","application/vnd.realvnc.bed":"RealVNC","application/vnd.recordare.musicxml":"Recordare Applications","application/vnd.recordare.musicxml+xml":"Recordare Applications","application/relax-ng-compact-syntax":"Relax NG Compact Syntax","application/vnd.data-vision.rdz":"RemoteDocs R-Viewer","application/rdf+xml":"Resource Description Framework","application/vnd.cloanto.rp9":"RetroPlatform Player","application/vnd.jisp":"RhymBox","application/rtf":"Rich Text","text/richtext":"Rich Text","application/vnd.route66.link66+xml":"ROUTE 66 Location Based Services","application/rss+xml":"RSS","application/shf+xml":"S Hexdump Format","application/vnd.sailingtracker.track":"SailingTracker","image/svg+xml":"SVG","application/vnd.sus-calendar":"ScheduleUs","application/sru+xml":"Search/Retrieve via URL Response Format","application/set-payment-initiation":"Secure Electronic Transaction - Payment","application/set-registration-initiation":"Secure Electronic Transaction - Registration","application/vnd.sema":"Secured eMail","application/vnd.semd":"Secured eMail","application/vnd.semf":"Secured eMail","application/vnd.seemail":"SeeMail","application/x-font-snf":"Server Normal Format","application/scvp-vp-request":"Server-Based Certificate Validation Protocol - Validation Policies - Request","application/scvp-vp-response":"Server-Based Certificate Validation Protocol - Validation Policies - Response","application/scvp-cv-request":"Server-Based Certificate Validation Protocol - Validation Request","application/scvp-cv-response":"Server-Based Certificate Validation Protocol - Validation Response","application/sdp":"Session Description Protocol","text/x-setext":"Setext","video/x-sgi-movie":"SGI Movie","application/vnd.shana.informed.formdata":"Shana Informed Filler","application/vnd.shana.informed.formtemplate":"Shana Informed Filler","application/vnd.shana.informed.interchange":"Shana Informed Filler","application/vnd.shana.informed.package":"Shana Informed Filler","application/thraud+xml":"Sharing Transaction Fraud Data","application/x-shar":"Shell Archive","image/x-rgb":"Silicon Graphics RGB Bitmap","application/vnd.epson.salt":"SimpleAnimeLite Player","application/vnd.accpac.simply.aso":"Simply Accounting","application/vnd.accpac.simply.imp":"Simply Accounting - Data Import","application/vnd.simtech-mindmapper":"SimTech MindMapper","application/vnd.commonspace":"Sixth Floor Media - CommonSpace","application/vnd.yamaha.smaf-audio":"SMAF Audio","application/vnd.smaf":"SMAF File","application/vnd.yamaha.smaf-phrase":"SMAF Phrase","application/vnd.smart.teacher":"SMART Technologies Apps","application/vnd.svd":"SourceView Document","application/sparql-query":"SPARQL - Query","application/sparql-results+xml":"SPARQL - Results","application/srgs":"Speech Recognition Grammar Specification","application/srgs+xml":"Speech Recognition Grammar Specification - XML","application/ssml+xml":"Speech Synthesis Markup Language","application/vnd.koan":"SSEYO Koan Play File","text/sgml":"SGML","application/vnd.stardivision.calc":"StarOffice - Calc","application/vnd.stardivision.draw":"StarOffice - Draw","application/vnd.stardivision.impress":"StarOffice - Impress","application/vnd.stardivision.math":"StarOffice - Math","application/vnd.stardivision.writer":"StarOffice - Writer","application/vnd.stardivision.writer-global":"StarOffice - Writer  (Global)","application/vnd.stepmania.stepchart":"StepMania","application/x-stuffit":"Stuffit Archive","application/x-stuffitx":"Stuffit Archive","application/vnd.solent.sdkm+xml":"SudokuMagic","application/vnd.olpc-sugar":"Sugar Linux Application Bundle","audio/basic":"Sun Audio - Au file format","application/vnd.wqd":"SundaHus WQ","application/vnd.symbian.install":"Symbian Install Package","application/smil+xml":"Synchronized Multimedia Integration Language","application/vnd.syncml+xml":"SyncML","application/vnd.syncml.dm+wbxml":"SyncML - Device Management","application/vnd.syncml.dm+xml":"SyncML - Device Management","application/x-sv4cpio":"System V Release 4 CPIO Archive","application/x-sv4crc":"System V Release 4 CPIO Checksum Data","application/sbml+xml":"Systems Biology Markup Language","text/tab-separated-values":"Tab Seperated Values","image/tiff":"TIFF","application/vnd.tao.intent-module-archive":"Tao Intent","application/x-tar":"Tar File","application/x-tcl":"Tcl Script","application/x-tex":"TeX","application/x-tex-tfm":"TeX Font Metric","application/tei+xml":"Text Encoding and Interchange","text/plain":"Text","application/vnd.spotfire.dxp":"TIBCO Spotfire","application/vnd.spotfire.sfs":"TIBCO Spotfire","application/timestamped-data":"Time Stamped Data Envelope","application/vnd.trid.tpt":"TRI Systems Config","application/vnd.triscape.mxs":"Triscape Map Explorer","text/troff":"troff","application/vnd.trueapp":"True BASIC","application/x-font-ttf":"TrueType Font","text/turtle":"Turtle (Terse RDF Triple Language)","application/vnd.umajin":"UMAJIN","application/vnd.uoml+xml":"Unique Object Markup Language","application/vnd.unity":"Unity 3d","application/vnd.ufdl":"Universal Forms Description Language","text/uri-list":"URI Resolution Services","application/vnd.uiq.theme":"User Interface Quartz - Theme (Symbian)","application/x-ustar":"Ustar (Uniform Standard Tape Archive)","text/x-uuencode":"UUEncode","text/x-vcalendar":"vCalendar","text/x-vcard":"vCard","application/x-cdlink":"Video CD","application/vnd.vsf":"Viewport+","model/vrml":"Virtual Reality Modeling Language","application/vnd.vcx":"VirtualCatalog","model/vnd.mts":"Virtue MTS","model/vnd.vtu":"Virtue VTU","application/vnd.visionary":"Visionary","video/vnd.vivo":"Vivo","application/ccxml+xml,":"Voice Browser Call Control","application/voicexml+xml":"VoiceXML","application/x-wais-source":"WAIS Source","application/vnd.wap.wbxml":"WAP Binary XML (WBXML)","image/vnd.wap.wbmp":"WBMP","audio/x-wav":"WAV","application/davmount+xml":"Web Distributed Authoring and Versioning","application/x-font-woff":"WOFF","application/wspolicy+xml":"Web Services Policy","image/webp":"WebP","application/vnd.webturbo":"WebTurbo","application/widget":"Widget Packaging and XML Configuration","application/winhlp":"WinHelp","text/vnd.wap.wml":"WML","text/vnd.wap.wmlscript":"WMLScript","application/vnd.wap.wmlscriptc":"WMLScript","application/vnd.wordperfect":"Wordperfect","application/vnd.wt.stf":"Worldtalk","application/wsdl+xml":"WSDL","image/x-xbitmap":"X BitMap","image/x-xpixmap":"X PixMap","image/x-xwindowdump":"X Window Dump","application/x-x509-ca-cert":"X.509 Certificate","application/x-xfig":"Xfig","application/xhtml+xml":"XHTML","application/xml":"XML","application/xcap-diff+xml":"XML Configuration Access Protocol - XCAP Diff","application/xenc+xml":"XML Encryption Syntax and Processing","application/patch-ops-error+xml":"XML Patch Framework","application/resource-lists+xml":"XML Resource Lists","application/rls-services+xml":"XML Resource Lists","application/resource-lists-diff+xml":"XML Resource Lists Diff","application/xslt+xml":"XML Transformations","application/xop+xml":"XML-Binary Optimized Packaging","application/x-xpinstall":"XPInstall - Mozilla","application/xspf+xml":"XSPF - XML Shareable Playlist Format","application/vnd.mozilla.xul+xml":"XUL - XML User Interface Language","chemical/x-xyz":"XYZ File Format","text/yaml":"YAML","application/yang":"YANG Data Modeling Language","application/yin+xml":"YIN (YANG - XML)","application/vnd.zul":"Z.U.L. Geometry","application/zip":"Zip Archive","application/vnd.handheld-entertainment+xml":"ZVUE Media Manager","application/vnd.zzazz.deck+xml":"Zzazz Deck"};function Xn(e,t=!1){return t?tC[e]||null:nC[e]||null}function Sl(e=0,t=!0){const n=t?1e3:1024;if(Boolean(e)===!1)return"--";if(Math.abs(e)<n)return`${e} B`;const l=t?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"];let i=-1,u=e;do u/=n,i+=1;while(Math.abs(u)>=n&&i<l.length-1);return`${u.toFixed(1)} ${l[i]}`}const lC=z({props:{file:{type:Object,default:()=>({})},isNew:{type:Boolean,default:!1}},setup(e){const{t,n}=Y(),l=V(()=>e.isNew||!e.file||!e.file.filesize?null:Sl(e.file.filesize)),{creationDate:i,modificationDate:u}=v(),{userCreated:a,userModified:s}=_(),{folder:r,folderLink:m}=y(),f=V(()=>st(`${Qe()}assets/${e.file.id}`));return{t,n,readableMimeType:Xn,size:l,creationDate:i,modificationDate:u,userCreated:a,userModified:s,folder:r,folderLink:m,getRootPath:Qe,fileLink:f};function v(){const g=E(null),$=E(null);return _e(()=>e.file,async()=>{if(!e.file)return null;g.value=await Rt(new Date(e.file.uploaded_on),String(t("date-fns_date_short"))),e.file.modified_on&&($.value=await Rt(new Date(e.file.modified_on),String(t("date-fns_date_short"))))},{immediate:!0}),{creationDate:g,modificationDate:$}}function _(){const g=E(!1),$=E(null),h=E(null);return _e(()=>e.file,k,{immediate:!0}),{userCreated:$,userModified:h};async function k(){if(!e.file||!e.file.uploaded_by)return null;g.value=!0;try{const F=(await re.get(`/users/${e.file.uploaded_by}`,{params:{fields:["id","email","first_name","last_name","role"]}})).data.data;if($.value={id:e.file.uploaded_by,name:ht(F),link:`/users/${F.id}`},e.file.modified_by){const O=(await re.get(`/users/${e.file.modified_by}`,{params:{fields:["id","email","first_name","last_name","role"]}})).data.data;h.value={id:e.file.modified_by,name:ht(O),link:`/users/${O.id}`}}}finally{g.value=!1}}}function y(){const g=E(!1),$=E(null),h=V(()=>$.value===null?"/files":`/files/folders/${$.value.id}`);return _e(()=>e.file,k,{immediate:!0}),{folder:$,folderLink:h};async function k(){if(!e.file)return null;if(!!e.file.folder){g.value=!0;try{const A=await re.get(`/folders/${e.file.folder}`,{params:{fields:["id","name"]}}),{name:F}=A.data.data;$.value={id:e.file.folder,name:F}}finally{g.value=!1}}}}}}),oC={key:0},aC={key:0},iC={key:1},sC={key:2},rC={key:3},dC={key:4},uC={key:5},cC={key:6},pC={key:7,class:"checksum"},mC={key:8},fC={key:9},vC={key:10},_C=["href"],yC={key:0},gC={key:1},hC={key:2},bC={key:3},$C={key:4},wC={class:"page-description"};function kC(e,t,n,l,i,u){const a=c("router-link"),s=c("user-popover"),r=c("v-divider"),m=c("sidebar-detail"),f=Se("md");return p(),C(m,{icon:"info_outline",title:e.t("file_details"),close:""},{default:d(()=>{var v,_,y,g,$,h,k,A,F,P,O,T,N,L,M,B,K,W;return[e.file?(p(),I("dl",oC,[e.file.type?(p(),I("div",aC,[S("dt",null,b(e.t("type")),1),S("dd",null,b(e.readableMimeType(e.file.type)||e.file.type),1)])):R("",!0),e.file.width&&e.file.height?(p(),I("div",iC,[S("dt",null,b(e.t("dimensions")),1),S("dd",null,b(e.n(e.file.width))+" \xD7 "+b(e.n(e.file.height)),1)])):R("",!0),e.file.duration?(p(),I("div",sC,[S("dt",null,b(e.t("duration")),1),S("dd",null,b(e.n(e.file.duration)),1)])):R("",!0),e.file.filesize?(p(),I("div",rC,[S("dt",null,b(e.t("size")),1),S("dd",null,b(e.size),1)])):R("",!0),e.file.charset?(p(),I("div",dC,[S("dt",null,b(e.t("charset")),1),S("dd",null,b(e.charset),1)])):R("",!0),e.file.embed?(p(),I("div",uC,[S("dt",null,b(e.t("embed")),1),S("dd",null,b(e.embed),1)])):R("",!0),e.creationDate?(p(),I("div",cC,[S("dt",null,b(e.t("created")),1),S("dd",null,b(e.creationDate),1)])):R("",!0),e.file.checksum?(p(),I("div",pC,[S("dt",null,b(e.t("checksum")),1),S("dd",null,b(e.file.checksum),1)])):R("",!0),e.userCreated?(p(),I("div",mC,[S("dt",null,b(e.t("owner")),1),S("dd",null,[o(s,{user:e.userCreated.id},{default:d(()=>[o(a,{to:e.userCreated.link},{default:d(()=>[D(b(e.userCreated.name),1)]),_:1},8,["to"])]),_:1},8,["user"])])])):R("",!0),e.modificationDate?(p(),I("div",fC,[S("dt",null,b(e.t("modified")),1),S("dd",null,b(e.modificationDate),1)])):R("",!0),e.userModified?(p(),I("div",vC,[S("dt",null,b(e.t("edited_by")),1),S("dd",null,[o(s,{user:e.userModified.id},{default:d(()=>[o(a,{to:e.userModified.link},{default:d(()=>[D(b(e.userModified.name),1)]),_:1},8,["to"])]),_:1},8,["user"])])])):R("",!0),S("div",null,[S("dt",null,b(e.t("file")),1),S("dd",null,[S("a",{href:e.fileLink,target:"_blank"},b(e.t("open_in_new_window")),9,_C)])]),S("div",null,[S("dt",null,b(e.t("folder")),1),S("dd",null,[o(a,{to:e.folderLink},{default:d(()=>[D(b(e.t("open_folder",{folder:e.folder?e.folder.name:e.t("file_library")})),1)]),_:1},8,["to"])])]),((_=(v=e.file.metadata)==null?void 0:v.ifd0)==null?void 0:_.Make)||((g=(y=e.file.metadata)==null?void 0:y.ifd0)==null?void 0:g.Model)||((h=($=e.file.metadata)==null?void 0:$.exif)==null?void 0:h.FNumber)||((A=(k=e.file.metadata)==null?void 0:k.exif)==null?void 0:A.ExposureTime)||((P=(F=e.file.metadata)==null?void 0:F.exif)==null?void 0:P.FocalLength)||((T=(O=e.file.metadata)==null?void 0:O.exif)==null?void 0:T.ISO)?(p(),I(ie,{key:11},[o(r),((N=e.file.metadata.ifd0)==null?void 0:N.Make)&&((L=e.file.metadata.ifd0)==null?void 0:L.Model)?(p(),I("div",yC,[S("dt",null,b(e.t("camera")),1),S("dd",null,b(e.file.metadata.ifd0.Make)+" "+b(e.file.metadata.ifd0.Model),1)])):R("",!0),((M=e.file.metadata.exif)==null?void 0:M.FNumber)?(p(),I("div",gC,[S("dt",null,b(e.t("exposure")),1),S("dd",null,"\u0192/"+b(e.file.metadata.exif.FNumber),1)])):R("",!0),((B=e.file.metadata.exif)==null?void 0:B.ExposureTime)?(p(),I("div",hC,[S("dt",null,b(e.t("shutter")),1),S("dd",null,"1/"+b(Math.round(1/+e.file.metadata.exif.ExposureTime))+" "+b(e.t("second")),1)])):R("",!0),((K=e.file.metadata.exif)==null?void 0:K.FocalLength)?(p(),I("div",bC,[S("dt",null,b(e.t("focal_length")),1),S("dd",null,b(e.file.metadata.exif.FocalLength)+"mm",1)])):R("",!0),((W=e.file.metadata.exif)==null?void 0:W.ISO)?(p(),I("div",$C,[S("dt",null,b(e.t("iso")),1),S("dd",null,b(e.file.metadata.exif.ISO),1)])):R("",!0)],64)):R("",!0)])):R("",!0),o(r),x(S("div",wC,null,512),[[f,e.t("page_help_files_item")]])]}),_:1},8,["title"])}var SC=q(lC,[["render",kC],["__scopeId","data-v-4018d0a4"]]);const CC=z({components:{FilesNavigation:fo},setup(){const{t:e}=Y();return{t:e}}}),VC={class:"not-found"};function FC(e,t,n,l,i,u){const a=c("files-navigation"),s=c("v-info"),r=c("private-view");return p(),C(r,{title:e.t("page_not_found")},{navigation:d(()=>[o(a)]),default:d(()=>[S("div",VC,[o(s,{title:e.t("page_not_found"),icon:"not_interested"},{default:d(()=>[D(b(e.t("page_not_found_body")),1)]),_:1},8,["title"])])]),_:1},8,["title"])}var AC=q(CC,[["render",FC],["__scopeId","data-v-6900fd47"]]);const IC=z({props:{modelValue:{type:Boolean,default:!1},file:{type:Object,default:()=>({})},preset:{type:Object,default:()=>({})}},emits:["update:modelValue","replaced"],setup(e,{emit:t}){const{t:n}=Y();return{t:n,uploaded:l};function l(){t("update:modelValue",!1),t("replaced")}}});function EC(e,t,n,l,i,u){const a=c("v-card-title"),s=c("v-upload"),r=c("v-card-text"),m=c("v-button"),f=c("v-card-actions"),v=c("v-card"),_=c("v-dialog");return p(),C(_,{"model-value":e.modelValue,"onUpdate:modelValue":t[1]||(t[1]=y=>e.$emit("update:modelValue",!1)),onEsc:t[2]||(t[2]=y=>e.$emit("update:modelValue",!1))},{default:d(()=>[e.file?(p(),C(v,{key:0},{default:d(()=>[o(a,null,{default:d(()=>[D(b(e.t("replace_file")),1)]),_:1}),o(r,null,{default:d(()=>[o(s,{preset:e.preset,"file-id":e.file.id,"from-url":"",onInput:e.uploaded},null,8,["preset","file-id","onInput"])]),_:1}),o(f,null,{default:d(()=>[o(m,{secondary:"",onClick:t[0]||(t[0]=y=>e.$emit("update:modelValue",!1))},{default:d(()=>[D(b(e.t("done")),1)]),_:1})]),_:1})]),_:1})):R("",!0)]),_:1},8,["model-value"])}var DC=q(IC,[["render",EC],["__scopeId","data-v-767b664e"]]);const TC=z({name:"FilesItem",components:{FilesNavigation:fo,RevisionsDrawerDetail:zn,CommentsSidebarDetail:ro,FilePreview:vo,ImageEditor:eC,FileInfoSidebarDetail:SC,FolderPicker:mo,FilesNotFound:AC,ReplaceFile:DC,SaveOptions:$l},props:{primaryKey:{type:String,required:!0}},setup(e){const{t}=Y(),n=Ye(),l=E(),{primaryKey:i}=Re(e),{breadcrumb:u}=X(),a=E(!1),s=E(null),{isNew:r,edits:m,item:f,saving:v,loading:_,error:y,save:g,remove:$,deleting:h,saveAsCopy:k,isBatch:A,refresh:F,validationErrors:P}=Cn(E("directus_files"),i),O=V(()=>Object.keys(m.value).length>0);en(O);const T=E(!1),N=E(!1),L=V(()=>f.value&&f.value.modified_on?st(Qe()+`assets/${e.primaryKey}?cache-buster=${f.value.modified_on}&key=system-large-contain`):st(Qe()+`assets/${e.primaryKey}?key=system-large-contain`)),M=["type","width","height","filesize","checksum","uploaded_by","uploaded_on","modified_by","modified_on","duration","folder","charset","embed"],B=V(()=>{var ke;return f.value&&((ke=f.value)==null?void 0:ke.folder)?`/files/folders/${f.value.folder}`:"/files"}),K=E(!1),W=E(null),{moveToDialogActive:le,moveToFolder:G,moving:Q,selectedFolder:fe}=$e();nt("meta+s",ve,l);const ue=ke=>{if(O.value)return K.value=!0,W.value=ke.fullPath,!1};Lt(ue),Pt(ue);const{deleteAllowed:ne,saveAllowed:ee,updateAllowed:de,fields:ce,revisionsAllowed:H}=Kn(E("directus_files"),f,r),Z=V(()=>ce.value.filter(ke=>M.includes(ke.field)===!1));return{t,router:n,item:f,loading:_,error:y,isNew:r,breadcrumb:u,edits:m,hasEdits:O,saving:v,saveAndQuit:te,deleteAndQuit:oe,confirmDelete:T,deleting:h,saveAndStay:ve,saveAsCopyAndNavigate:J,discardAndStay:me,isBatch:A,editActive:N,revisionsDrawerDetail:s,confirmLeave:K,leaveTo:W,discardAndLeave:ae,downloadFile:ge,moveToDialogActive:le,moveToFolder:G,moving:Q,selectedFolder:fe,fileSrc:L,form:l,to:B,replaceFileDialogActive:a,refresh:F,deleteAllowed:ne,saveAllowed:ee,updateAllowed:de,fields:ce,fieldsFiltered:Z,revisionsAllowed:H,validationErrors:P};function X(){return{breadcrumb:V(()=>{var Ae;return((Ae=f==null?void 0:f.value)==null?void 0:Ae.folder)?[{name:t("file_library"),to:{path:`/files/folders/${f.value.folder}`}}]:[{name:t("file_library"),to:"/files"}]})}}async function te(){try{await g(),n.push(B.value)}catch{}}async function ve(){var ke,Ae;try{await g(),(Ae=(ke=s.value)==null?void 0:ke.refresh)==null||Ae.call(ke)}catch{}}async function J(){const ke=await k();ke&&n.push(`/files/${ke}`)}async function oe(){try{await $(),n.replace(B.value)}catch{T.value=!1}}function ae(){!W.value||(m.value={},K.value=!1,n.push(W.value))}function me(){m.value={},K.value=!1}function ge(){const ke=st(Qe()+`assets/${e.primaryKey}?download`);window.open(ke,"_blank")}function $e(){const ke=E(!1),Ae=E(!1),De=E();return _e(f,()=>{var lt;De.value=((lt=f.value)==null?void 0:lt.folder)||null}),{moveToDialogActive:ke,moving:Ae,moveToFolder:Ne,selectedFolder:De};async function Ne(){var lt;Ae.value=!0;try{const Te=await re.patch(`/files/${e.primaryKey}`,{folder:De.value},{params:{fields:"folder.name"}});await F();const Oe=((lt=Te.data.data.folder)==null?void 0:lt.name)||t("file_library");It({title:t("file_moved",{folder:Oe}),type:"success",icon:"folder_move"})}catch(Te){Ce(Te)}finally{ke.value=!1,Ae.value=!1}}}}}),PC={class:"file-item"};function OC(e,t,n,l,i,u){const a=c("files-not-found"),s=c("v-icon"),r=c("v-button"),m=c("v-breadcrumb"),f=c("v-card-title"),v=c("v-card-actions"),_=c("v-card"),y=c("v-dialog"),g=c("folder-picker"),$=c("v-card-text"),h=c("save-options"),k=c("files-navigation"),A=c("file-preview"),F=c("image-editor"),P=c("v-form"),O=c("file-info-sidebar-detail"),T=c("revisions-drawer-detail"),N=c("comments-sidebar-detail"),L=c("replace-file"),M=c("private-view"),B=Se("tooltip");return!e.loading&&!e.item?(p(),C(a,{key:0})):(p(),C(M,{key:1,title:e.loading||!e.item?e.t("loading"):e.item.title},{"title-outer:prepend":d(()=>[o(r,{class:"header-icon",rounded:"",icon:"",secondary:"",exact:"",onClick:t[0]||(t[0]=K=>e.router.back())},{default:d(()=>[o(s,{name:"arrow_back"})]),_:1})]),headline:d(()=>[o(m,{items:e.breadcrumb},null,8,["items"])]),actions:d(()=>[o(y,{modelValue:e.confirmDelete,"onUpdate:modelValue":t[2]||(t[2]=K=>e.confirmDelete=K),onEsc:t[3]||(t[3]=K=>e.confirmDelete=!1)},{activator:d(({on:K})=>[x(o(r,{rounded:"",icon:"",class:"action-delete",disabled:e.item===null||e.deleteAllowed===!1,onClick:K},{default:d(()=>[o(s,{name:"delete",outline:""})]),_:2},1032,["disabled","onClick"]),[[B,e.deleteAllowed?e.t("delete_label"):e.t("not_allowed"),void 0,{bottom:!0}]])]),default:d(()=>[o(_,null,{default:d(()=>[o(f,null,{default:d(()=>[D(b(e.t("delete_are_you_sure")),1)]),_:1}),o(v,null,{default:d(()=>[o(r,{secondary:"",onClick:t[1]||(t[1]=K=>e.confirmDelete=!1)},{default:d(()=>[D(b(e.t("cancel")),1)]),_:1}),o(r,{kind:"danger",loading:e.deleting,onClick:e.deleteAndQuit},{default:d(()=>[D(b(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e.isNew===!1?(p(),C(y,{key:0,modelValue:e.moveToDialogActive,"onUpdate:modelValue":t[6]||(t[6]=K=>e.moveToDialogActive=K),onEsc:t[7]||(t[7]=K=>e.moveToDialogActive=!1)},{activator:d(({on:K})=>[x(o(r,{rounded:"",icon:"",disabled:e.item===null,class:"folder",onClick:K},{default:d(()=>[o(s,{name:"folder_move"})]),_:2},1032,["disabled","onClick"]),[[B,e.t("move_to_folder"),void 0,{bottom:!0}]])]),default:d(()=>[o(_,null,{default:d(()=>[o(f,null,{default:d(()=>[D(b(e.t("move_to_folder")),1)]),_:1}),o($,null,{default:d(()=>[o(g,{modelValue:e.selectedFolder,"onUpdate:modelValue":t[4]||(t[4]=K=>e.selectedFolder=K)},null,8,["modelValue"])]),_:1}),o(v,null,{default:d(()=>[o(r,{secondary:"",onClick:t[5]||(t[5]=K=>e.moveToDialogActive=!1)},{default:d(()=>[D(b(e.t("cancel")),1)]),_:1}),o(r,{loading:e.moving,onClick:e.moveToFolder},{default:d(()=>[D(b(e.t("move")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):R("",!0),x(o(r,{rounded:"",icon:"",class:"download",onClick:e.downloadFile},{default:d(()=>[o(s,{name:"save_alt"})]),_:1},8,["onClick"]),[[B,e.t("download"),void 0,{bottom:!0}]]),e.item&&e.item.type.includes("image")?x((p(),C(r,{key:1,rounded:"",icon:"",class:"edit",onClick:t[8]||(t[8]=K=>e.editActive=!0)},{default:d(()=>[o(s,{name:"tune"})]),_:1},512)),[[B,e.t("edit"),void 0,{bottom:!0}]]):R("",!0),x(o(r,{rounded:"",icon:"",loading:e.saving,disabled:e.hasEdits===!1||e.saveAllowed===!1,onClick:e.saveAndQuit},{"append-outer":d(()=>[e.hasEdits===!0&&e.saveAllowed===!0?(p(),C(h,{key:0,"disabled-options":["save-and-add-new"],onSaveAndStay:e.saveAndStay,onSaveAsCopy:e.saveAsCopyAndNavigate,onDiscardAndStay:e.discardAndStay},null,8,["onSaveAndStay","onSaveAsCopy","onDiscardAndStay"])):R("",!0)]),default:d(()=>[o(s,{name:"check"})]),_:1},8,["loading","disabled","onClick"]),[[B,e.saveAllowed?e.t("save"):e.t("not_allowed"),void 0,{bottom:!0}]])]),navigation:d(()=>[o(k,{"current-folder":e.item&&e.item.folder},null,8,["current-folder"])]),sidebar:d(()=>[o(O,{file:e.item},null,8,["file"]),e.isBatch===!1&&e.isNew===!1&&e.revisionsAllowed?(p(),C(T,{key:0,ref:"revisionsDrawerDetail",collection:"directus_files","primary-key":e.primaryKey},null,8,["primary-key"])):R("",!0),e.isBatch===!1&&e.isNew===!1?(p(),C(N,{key:1,collection:"directus_files","primary-key":e.primaryKey},null,8,["primary-key"])):R("",!0)]),default:d(()=>[S("div",PC,[e.isBatch===!1&&e.item?(p(),C(A,{key:0,src:e.fileSrc,mime:e.item.type,width:e.item.width,height:e.item.height,title:e.item.title,onClick:t[9]||(t[9]=K=>e.replaceFileDialogActive=!0)},null,8,["src","mime","width","height","title"])):R("",!0),e.item&&e.item.type.startsWith("image")?(p(),C(F,{key:1,id:e.item.id,modelValue:e.editActive,"onUpdate:modelValue":t[10]||(t[10]=K=>e.editActive=K),onRefresh:e.refresh},null,8,["id","modelValue","onRefresh"])):R("",!0),o(P,{ref:"form",modelValue:e.edits,"onUpdate:modelValue":t[11]||(t[11]=K=>e.edits=K),fields:e.fieldsFiltered,loading:e.loading,"initial-values":e.item,"batch-mode":e.isBatch,"primary-key":e.primaryKey,disabled:e.updateAllowed===!1,"validation-errors":e.validationErrors},null,8,["modelValue","fields","loading","initial-values","batch-mode","primary-key","disabled","validation-errors"])]),o(y,{modelValue:e.confirmLeave,"onUpdate:modelValue":t[13]||(t[13]=K=>e.confirmLeave=K),onEsc:e.discardAndLeave},{default:d(()=>[o(_,null,{default:d(()=>[o(f,null,{default:d(()=>[D(b(e.t("unsaved_changes")),1)]),_:1}),o($,null,{default:d(()=>[D(b(e.t("unsaved_changes_copy")),1)]),_:1}),o(v,null,{default:d(()=>[o(r,{secondary:"",onClick:e.discardAndLeave},{default:d(()=>[D(b(e.t("discard_changes")),1)]),_:1},8,["onClick"]),o(r,{onClick:t[12]||(t[12]=K=>e.confirmLeave=!1)},{default:d(()=>[D(b(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","onEsc"]),o(L,{modelValue:e.replaceFileDialogActive,"onUpdate:modelValue":t[14]||(t[14]=K=>e.replaceFileDialogActive=K),file:e.item,onReplaced:e.refresh},null,8,["modelValue","file","onReplaced"])]),_:1},8,["title"]))}var LC=q(TC,[["render",OC],["__scopeId","data-v-f54440a8"]]),jC=dn({id:"files",name:"$t:file_library",icon:"folder",routes:[{name:"files-collection",path:"",component:Qn,children:[{path:"+",name:"add-file",components:{addNew:Ba}}]},{name:"files-item",path:":primaryKey",component:LC,props:!0},{path:"folders",redirect:"/files"},{name:"folders-collection",path:"folders/:folder",component:Qn,props:!0,children:[{path:"+",name:"add-file-folder",components:{addNew:Ba}}]},{path:"all",component:Qn,props:{special:"all"}},{path:"mine",component:Qn,props:{special:"mine"}},{path:"recent",component:Qn,props:{special:"recent"}}],preRegisterCheck(e,t){return e.role.admin_access?!0:!!t.find(i=>i.collection==="directus_files"&&i.action==="read")}}),RC=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:jC});function Ha(e){const t=e.split(".")[1].replace("-","+").replace("_","/"),n=Jr.exports.decode(t);return JSON.parse(n)}const MC=z({setup(){const{t:e}=Y(),t=xt(),n=V(()=>t.query.token),l=E(null),i=E(!1),u=E(null),a=E(!1),s=V(()=>u.value?Ht(u.value):null),r=V(()=>"/login"),m=V(()=>Ha(n.value).email);return{t:e,creating:i,error:u,done:a,password:l,onSubmit:f,signInLink:r,errorFormatted:s,email:m};async function f(){i.value=!0,u.value=null;try{await re.post("/users/invite/accept",{password:l.value,token:n.value}),a.value=!0}catch(v){u.value=v}finally{i.value=!1}}}}),UC={class:"type-title"};function NC(e,t,n,l,i,u){const a=c("v-input"),s=c("v-notice"),r=c("v-button"),m=c("v-icon"),f=c("public-view");return p(),C(f,null,{notice:d(()=>[o(m,{name:"lock_outlined",left:""}),D(" "+b(e.t("not_authenticated")),1)]),default:d(()=>[S("h1",UC,b(e.t("create_account")),1),S("form",{onSubmit:t[1]||(t[1]=Fe((...v)=>e.onSubmit&&e.onSubmit(...v),["prevent"]))},[o(a,{"model-value":e.email,disabled:""},null,8,["model-value"]),o(a,{modelValue:e.password,"onUpdate:modelValue":t[0]||(t[0]=v=>e.password=v),placeholder:e.t("password"),autofocus:"",autocomplete:"password",type:"password",disabled:e.done},null,8,["modelValue","placeholder","disabled"]),e.done?(p(),C(s,{key:0,type:"success"},{default:d(()=>[D(b(e.t("account_created_successfully")),1)]),_:1})):R("",!0),e.error?(p(),C(s,{key:1,type:"danger"},{default:d(()=>[D(b(e.errorFormatted),1)]),_:1})):R("",!0),e.done?(p(),C(r,{key:3,large:"",to:e.signInLink},{default:d(()=>[D(b(e.t("sign_in")),1)]),_:1},8,["to"])):(p(),C(r,{key:2,type:"submit",loading:e.creating,large:""},{default:d(()=>[D(b(e.t("create")),1)]),_:1},8,["loading"]))],32)]),_:1})}var BC=q(MC,[["render",NC],["__scopeId","data-v-8ab16d02"]]);const qC=z({props:{provider:{type:String,required:!0}},setup(e){const{t}=Y(),n=Ye(),{provider:l}=Re(e),i=E(!1),u=E(null),a=E(null),s=E(null),r=E(null),m=E(!1),f=Je();_e(u,()=>{m.value===!0&&(m.value=!1)}),_e(l,()=>{u.value=null,a.value=null,s.value=null,r.value=null,m.value=!1});const v=V(()=>s.value==="INVALID_PAYLOAD"?Ht("INVALID_CREDENTIALS"):s.value?Ht(s.value):null);return{t,errorFormatted:v,error:s,email:u,password:a,onSubmit:_,loggingIn:i,translateAPIError:Ht,otp:r,requiresTFA:m};async function _(){var y,g,$,h,k,A,F,P,O,T,N;if(!(u.value===null||a.value===null))try{i.value=!0;const L={email:u.value,password:a.value};r.value&&(L.otp=r.value),await Es(L,l.value);const M=n.currentRoute.value.query.redirect,B=(y=f.currentUser)==null?void 0:y.last_page;n.push(M||B||"/content")}catch(L){((A=(k=(h=($=(g=L.response)==null?void 0:g.data)==null?void 0:$.errors)==null?void 0:h[0])==null?void 0:k.extensions)==null?void 0:A.code)==="INVALID_OTP"&&m.value===!1?m.value=!0:s.value=((N=(T=(O=(P=(F=L.response)==null?void 0:F.data)==null?void 0:P.errors)==null?void 0:O[0])==null?void 0:T.extensions)==null?void 0:N.code)||L}finally{i.value=!1}}}}),zC={class:"buttons"};function KC(e,t,n,l,i,u){const a=c("v-input"),s=c("transition-expand"),r=c("v-notice"),m=c("v-button"),f=c("router-link");return p(),I("form",{onSubmit:t[3]||(t[3]=Fe((...v)=>e.onSubmit&&e.onSubmit(...v),["prevent"]))},[o(a,{modelValue:e.email,"onUpdate:modelValue":t[0]||(t[0]=v=>e.email=v),autofocus:"",autocomplete:"username",type:"email",placeholder:e.t("email")},null,8,["modelValue","placeholder"]),o(a,{modelValue:e.password,"onUpdate:modelValue":t[1]||(t[1]=v=>e.password=v),type:"password",autocomplete:"current-password",placeholder:e.t("password")},null,8,["modelValue","placeholder"]),o(s,null,{default:d(()=>[e.requiresTFA?(p(),C(a,{key:0,modelValue:e.otp,"onUpdate:modelValue":t[2]||(t[2]=v=>e.otp=v),type:"text",placeholder:e.t("otp"),autofocus:""},null,8,["modelValue","placeholder"])):R("",!0)]),_:1}),e.error?(p(),C(r,{key:0,type:"warning"},{default:d(()=>[D(b(e.errorFormatted),1)]),_:1})):R("",!0),S("div",zC,[o(m,{type:"submit",loading:e.loggingIn,large:""},{default:d(()=>[D(b(e.t("sign_in")),1)]),_:1},8,["loading"]),o(f,{to:"/reset-password",class:"forgot-password"},{default:d(()=>[D(b(e.t("forgot_password")),1)]),_:1})])],32)}var HC=q(qC,[["render",KC],["__scopeId","data-v-7a5f7b91"]]);const WC=z({props:{provider:{type:String,required:!0}},setup(e){const{t}=Y(),n=Ye(),{provider:l}=Re(e),i=E(!1),u=E(null),a=E(null),s=E(null),r=E(null),m=E(!1),f=Je();_e(u,()=>{m.value===!0&&(m.value=!1)}),_e(l,()=>{u.value=null,a.value=null,s.value=null,r.value=null,m.value=!1});const v=V(()=>s.value==="INVALID_PAYLOAD"?Ht("INVALID_CREDENTIALS"):s.value?Ht(s.value):null);return{t,errorFormatted:v,error:s,identifier:u,password:a,onSubmit:_,loggingIn:i,translateAPIError:Ht,otp:r,requiresTFA:m};async function _(){var y,g,$,h,k,A,F,P,O,T,N;if(!(u.value===null||a.value===null))try{i.value=!0;const L={identifier:u.value,password:a.value};r.value&&(L.otp=r.value),await Es(L,l.value);const M=(y=f.currentUser)==null?void 0:y.last_page;n.push(M||"/content")}catch(L){((A=(k=(h=($=(g=L.response)==null?void 0:g.data)==null?void 0:$.errors)==null?void 0:h[0])==null?void 0:k.extensions)==null?void 0:A.code)==="INVALID_OTP"&&m.value===!1?m.value=!0:s.value=((N=(T=(O=(P=(F=L.response)==null?void 0:F.data)==null?void 0:P.errors)==null?void 0:O[0])==null?void 0:T.extensions)==null?void 0:N.code)||L}finally{i.value=!1}}}});function GC(e,t,n,l,i,u){const a=c("v-input"),s=c("transition-expand"),r=c("v-notice"),m=c("v-button");return p(),I("form",{onSubmit:t[3]||(t[3]=Fe((...f)=>e.onSubmit&&e.onSubmit(...f),["prevent"]))},[o(a,{modelValue:e.identifier,"onUpdate:modelValue":t[0]||(t[0]=f=>e.identifier=f),autofocus:"",autocomplete:"username",placeholder:e.t("identifier")},null,8,["modelValue","placeholder"]),o(a,{modelValue:e.password,"onUpdate:modelValue":t[1]||(t[1]=f=>e.password=f),type:"password",autocomplete:"current-password",placeholder:e.t("password")},null,8,["modelValue","placeholder"]),o(s,null,{default:d(()=>[e.requiresTFA?(p(),C(a,{key:0,modelValue:e.otp,"onUpdate:modelValue":t[2]||(t[2]=f=>e.otp=f),type:"text",placeholder:e.t("otp"),autofocus:""},null,8,["modelValue","placeholder"])):R("",!0)]),_:1}),e.error?(p(),C(r,{key:0,type:"warning"},{default:d(()=>[D(b(e.errorFormatted),1)]),_:1})):R("",!0),o(m,{type:"submit",loading:e.loggingIn,large:""},{default:d(()=>[D(b(e.t("sign_in")),1)]),_:1},8,["loading"])],32)}var JC=q(WC,[["render",GC],["__scopeId","data-v-676e1d14"]]);const QC=z({setup(){const{t:e}=Y(),t=Ye(),n=E(!1),l=E(null),i=E(null);return u(),it(()=>{"continue"in t.currentRoute.value.query&&a()}),{t:e,name:l,lastPage:i,loading:n,hydrateAndLogin:a};async function u(){n.value=!0;try{const s=await re.get("/users/me",{params:{fields:["email","first_name","last_name","last_page"]}});l.value=ht(s.data.data),i.value=s.data.data.last_page}catch(s){Ce(s)}finally{n.value=!1}}async function a(){await Lo(),t.push(i.value||"/content")}}}),XC={class:"continue-as"},ZC={class:"actions"};function YC(e,t,n,l,i,u){const a=c("v-progress-circular"),s=c("i18n-t"),r=c("router-link"),m=c("v-button");return p(),I("div",XC,[e.loading?(p(),C(a,{key:0,indeterminate:""})):(p(),I(ie,{key:1},[o(s,{keypath:"continue_as",scope:"global",tag:"p"},{name:d(()=>[S("b",null,b(e.name),1)]),_:1}),S("div",ZC,[o(r,{to:"/logout",class:"sign-out"},{default:d(()=>[D(b(e.t("sign_out")),1)]),_:1}),o(m,{autofocus:"",large:"",onClick:e.hydrateAndLogin},{default:d(()=>[D(b(e.t("continue_label")),1)]),_:1},8,["onClick"])])],64))])}var xC=q(QC,[["render",YC],["__scopeId","data-v-8a7802e0"]]),eV=["about","above","across","after","against","along","among","around","at","because of","before","behind","below","beneath","beside","besides","between","beyond","but","by","concerning","despite","down","during","except","excepting","for","from","in","in front of","inside","in spite of","instead of","into","like","near","of","off","on","onto","out","outside","over","past","regarding","since","through","throughout","to","toward","under","underneath","until","up","upon","up to","with","within","without","with regard to","with respect to"],tV=["and","that","but","or","as","if","when","than","because","while","where","after","so","though","since","until","whether","before","although","nor","like","once","unless","now","except"],nV=["2D","3D","4WD","API","BASIC","BIOS","CCTV","CC","CCV","CD","CD-ROM","COBOL","CIA","CMS","CSS","CSV","CV","DIY","DVD","DB","DNA","E3","EIN","ESPN","FAQ","FAQs","FTP","FPS","FORTRAN","FBI","HTML","HTTP","ID","IP","ISO","JS","JSON","LASER","M2M","M2MM","M2O","MMORPG","NAFTA","NASA","NDA","O2M","PDF","PHP","POP","RAM","RNGR","ROM","RPG","RTFM","RTS","SCUBA","SITCOM","SKU","SMTP","SQL","SSN","SWAT","TBS","TTL","TV","TNA","UI","URL","USB","UWP","VIP","W3C","WYSIWYG","WWW","WWE","WWF"],lV=["2FA","3D","DateTime","GitHub","ID","IDs","iMac","IMAX","iOS","IP","iPad","iPhone","iPod","macOS","M2M","M2O","McDonalds","MySQL","O2M","PDFs","pH","PostgreSQL","YouTube","UUID","SEO","CTA","4K","HD","UHD","5K","8K"];function oV(e,t,n){const l=e.toLowerCase(),i=e.toUpperCase();for(const u of lV)if(u.toLowerCase()===l)return u;return nV.includes(i)?i:t===0||t===n.length-1?e:eV.includes(l)||tV.includes(l)?l:e}function aV(e,t){return`${e} ${t}`}function iV(e){return e.charAt(0).toUpperCase()+e.substring(1)}function sV(e){return e.replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1_$2").toLowerCase()}function Ft(e,t){return t||(t=new RegExp("/s|-|_| ","g")),sV(e).split(t).map(iV).map(oV).reduce(aV)}const rV=z({props:{providers:{type:Array,default:()=>[]}},setup(e){const{t}=Y(),{providers:n}=Re(e),l=E([]);return _e(n,()=>{l.value=n.value.filter(i=>Ia.includes(i.driver)).map(i=>{var u;return{name:Ft(i.name),link:`${Qe()}auth/login/${i.name}?redirect=${window.location.href.replace(location.search,"")}?continue`,icon:(u=i.icon)!=null?u:"account_circle"}})}),{t,ssoProviders:l}}}),dV={class:"sso-links"},uV=["href"],cV={class:"sso-icon"},pV={class:"sso-title"};function mV(e,t,n,l,i,u){const a=c("v-divider"),s=c("v-icon");return p(),I("div",dV,[e.ssoProviders.length>0?(p(),I(ie,{key:0},[o(a),(p(!0),I(ie,null,he(e.ssoProviders,r=>(p(),I("a",{key:r.name,class:"sso-link",href:r.link},[S("div",cV,[o(s,{name:r.icon},null,8,["name"])]),S("div",pV,b(e.t("log_in_with",{provider:r.name})),1)],8,uV))),128))],64)):R("",!0)])}var fV=q(rV,[["render",mV],["__scopeId","data-v-32497dd8"]]);const vV=z({components:{LoginForm:HC,LdapForm:JC,ContinueAs:xC,SsoLinks:fV},props:{logoutReason:{type:String,default:null}},setup(){const{t:e,te:t}=Y(),n=kt(),l=E([]),i=E(oo),u=E([]),a=E("local"),s=V({get(){return i.value},set(f){var v,_;i.value=f,a.value=(_=(v=l.value.find(y=>y.name===f))==null?void 0:v.driver)!=null?_:"local"}}),r=V(()=>n.authenticated);return it(()=>m()),{t:e,te:t,authenticated:r,providers:l,providerSelect:s,providerOptions:u,provider:i,driver:a};async function m(){var f;try{const v=await re.get("/auth");l.value=v.data.data,u.value=l.value.filter(_=>!Ia.includes(_.driver)).map(_=>({text:Ft(_.name),value:_.name})),v.data.disableDefault?s.value=(f=u.value[0])==null?void 0:f.value:u.value.unshift({text:e("default_provider"),value:oo})}catch(v){Ce(v)}}}}),_V={class:"header"},yV={class:"type-title"},gV={key:0,class:"provider-select"};function hV(e,t,n,l,i,u){const a=c("v-select"),s=c("continue-as"),r=c("ldap-form"),m=c("login-form"),f=c("sso-links"),v=c("v-icon"),_=c("public-view");return p(),C(_,null,Ze({default:d(()=>[S("div",_V,[S("h1",yV,b(e.t("sign_in")),1),!e.authenticated&&e.providerOptions.length>1?(p(),I("div",gV,[o(a,{modelValue:e.providerSelect,"onUpdate:modelValue":t[0]||(t[0]=y=>e.providerSelect=y),inline:"",items:e.providerOptions,label:""},null,8,["modelValue","items"])])):R("",!0)]),e.authenticated?(p(),C(s,{key:0})):e.driver==="ldap"?(p(),C(r,{key:1,provider:e.provider},null,8,["provider"])):(p(),C(m,{key:2,provider:e.provider},null,8,["provider"])),e.authenticated?R("",!0):(p(),C(f,{key:3,providers:e.providers},null,8,["providers"]))]),_:2},[e.authenticated?{name:"notice",fn:d(()=>[o(v,{name:"lock_open",left:""}),D(" "+b(e.t("authenticated")),1)])}:{name:"notice",fn:d(()=>[o(v,{name:"lock_outlined",left:""}),D(" "+b(e.logoutReason&&e.te(`logoutReason.${e.logoutReason}`)?e.t(`logoutReason.${e.logoutReason}`):e.t("not_authenticated")),1)])}]),1024)}var bV=q(vV,[["render",hV],["__scopeId","data-v-5df339ea"]]);const $V=z({setup(){it(()=>{Uo()})}}),wV={class:"logout"};function kV(e,t,n,l,i,u){const a=c("v-progress-circular");return p(),I("div",wV,[o(a,{indeterminate:""})])}var SV=q($V,[["render",kV],["__scopeId","data-v-cfb047f4"]]);const CV=z({setup(){const{t:e}=Y();return{t:e}}}),VV={class:"not-found"};function FV(e,t,n,l,i,u){const a=c("v-info"),s=c("private-view");return p(),C(s,{title:e.t("page_not_found")},{default:d(()=>[S("div",VV,[o(a,{title:e.t("page_not_found"),icon:"not_interested"},{default:d(()=>[D(b(e.t("page_not_found_body")),1)]),_:1},8,["title"])])]),_:1},8,["title"])}var AV=q(CV,[["render",FV],["__scopeId","data-v-a922425e"]]);const IV=z({setup(){const{t:e}=Y(),t=E(null),n=E(!1),l=E(null),i=E(!1),u=V(()=>l.value?Ht(l.value):null),a=V(()=>"/login");return{t:e,sending:n,error:l,done:i,email:t,onSubmit:s,signInLink:a,errorFormatted:u};async function s(){n.value=!0,l.value=null;try{await re.post("/auth/password/request",{email:t.value}),i.value=!0}catch(r){l.value=r}finally{n.value=!1}}}}),EV={class:"buttons"};function DV(e,t,n,l,i,u){const a=c("v-input"),s=c("v-notice"),r=c("v-button"),m=c("router-link");return p(),I("form",{onSubmit:t[1]||(t[1]=Fe((...f)=>e.onSubmit&&e.onSubmit(...f),["prevent"]))},[o(a,{modelValue:e.email,"onUpdate:modelValue":t[0]||(t[0]=f=>e.email=f),autofocus:"",autocomplete:"username",type:"email",placeholder:e.t("email")},null,8,["modelValue","placeholder"]),e.done?(p(),C(s,{key:0,type:"success"},{default:d(()=>[D(b(e.t("password_reset_sent")),1)]),_:1})):R("",!0),e.error?(p(),C(s,{key:1,type:"danger"},{default:d(()=>[D(b(e.errorFormatted),1)]),_:1})):R("",!0),S("div",EV,[o(r,{type:"submit",loading:e.sending,large:""},{default:d(()=>[D(b(e.t("reset")),1)]),_:1},8,["loading"]),o(m,{to:e.signInLink,class:"sign-in"},{default:d(()=>[D(b(e.t("sign_in")),1)]),_:1},8,["to"])])],32)}var TV=q(IV,[["render",DV],["__scopeId","data-v-388f645e"]]);const PV=z({props:{token:{type:String,required:!0}},setup(e){const{t}=Y(),n=E(null),l=E(!1),i=E(null),u=E(!1),a=V(()=>i.value?Ht(i.value):null),s=V(()=>"/login"),r=V(()=>Ha(e.token).email);return{t,resetting:l,error:i,done:u,password:n,onSubmit:m,signInLink:s,errorFormatted:a,email:r};async function m(){l.value=!0,i.value=null;try{await re.post("/auth/password/reset",{password:n.value,token:e.token}),u.value=!0}catch(f){i.value=f}finally{l.value=!1}}}});function OV(e,t,n,l,i,u){const a=c("v-input"),s=c("v-notice"),r=c("v-button");return p(),I("form",{onSubmit:t[1]||(t[1]=Fe((...m)=>e.onSubmit&&e.onSubmit(...m),["prevent"]))},[o(a,{"model-value":e.email,disabled:""},null,8,["model-value"]),o(a,{modelValue:e.password,"onUpdate:modelValue":t[0]||(t[0]=m=>e.password=m),placeholder:e.t("password"),autofocus:"",autocomplete:"username",type:"password",disabled:e.done},null,8,["modelValue","placeholder","disabled"]),e.done?(p(),C(s,{key:0,type:"success"},{default:d(()=>[D(b(e.t("password_reset_successful")),1)]),_:1})):R("",!0),e.error?(p(),C(s,{key:1,type:"danger"},{default:d(()=>[D(b(e.errorFormatted),1)]),_:1})):R("",!0),e.done?(p(),C(r,{key:3,large:"",to:e.signInLink},{default:d(()=>[D(b(e.t("sign_in")),1)]),_:1},8,["to"])):(p(),C(r,{key:2,type:"submit",loading:e.resetting,large:""},{default:d(()=>[D(b(e.t("reset")),1)]),_:1},8,["loading"]))],32)}var LV=q(PV,[["render",OV],["__scopeId","data-v-31ae4e7a"]]);const jV=z({components:{RequestForm:TV,ResetForm:LV},setup(){const{t:e}=Y(),t=xt(),n=V(()=>t.query.token);return{t:e,resetToken:n}}}),RV={class:"type-title"};function MV(e,t,n,l,i,u){const a=c("request-form"),s=c("reset-form"),r=c("v-icon"),m=c("public-view");return p(),C(m,null,{notice:d(()=>[o(r,{name:"lock_outlined",left:""}),D(" "+b(e.t("not_authenticated")),1)]),default:d(()=>[S("h1",RV,b(e.t("reset_password")),1),e.resetToken?(p(),C(s,{key:1,token:e.resetToken},null,8,["token"])):(p(),C(a,{key:0}))]),_:1})}var UV=q(jV,[["render",MV],["__scopeId","data-v-05544d73"]]);const NV=[{path:"/",redirect:"/login"},{name:"login",path:"/login",component:bV,props:e=>({ssoErrorCode:e.query.error?e.query.code:null,logoutReason:e.query.reason}),meta:{public:!0}},{name:"reset-password",path:"/reset-password",component:UV,meta:{public:!0}},{name:"accept-invite",path:"/accept-invite",component:BC,meta:{public:!0}},{name:"logout",path:"/logout",component:SV,meta:{public:!0}},{name:"private-404",path:"/:_(.+)+",component:AV}],Mt=Qr({history:Xr(Qe()+"admin/"),routes:NV});let Wa=!0;const BV=async e=>{var l;const t=kt(),n=Ln();if(Wa){Wa=!1;try{await _n({navigate:!1})}catch{}}if(n.info===null&&await n.hydrate(),((l=e.meta)==null?void 0:l.public)!==!0&&t.hydrated===!1)return t.hydrating=!1,t.authenticated===!0&&t.hydrating===!1?(await Lo(),e.fullPath):e.fullPath?"/login?redirect="+encodeURIComponent(e.fullPath):"/login"},qV=e=>{const t=Je();e.meta.public!==!0&&setTimeout(()=>{t.trackPage(e.fullPath)},500)};Mt.beforeEach(BV);Mt.afterEach(qV);const zV=z({name:"InsightsNavigation",emits:["create"],setup(){const{t:e}=Y(),t=Pn(),n=E(!1);return{navItems:V(()=>t.dashboards.map(i=>({icon:i.icon,name:i.name,to:`/insights/${i.id}`}))),createDialogActive:n,t:e}}});function KV(e,t,n,l,i,u){const a=c("v-button"),s=c("v-icon"),r=c("v-list-item-icon"),m=c("v-text-overflow"),f=c("v-list-item-content"),v=c("v-list-item"),_=c("v-list");return p(),C(_,{nav:""},{default:d(()=>[e.navItems.length===0?(p(),C(a,{key:0,"full-width":"",outlined:"",dashed:"",onClick:t[0]||(t[0]=y=>e.$emit("create"))},{default:d(()=>[D(b(e.t("create_dashboard")),1)]),_:1})):(p(!0),I(ie,{key:1},he(e.navItems,y=>(p(),C(v,{key:y.to,to:y.to},{default:d(()=>[o(r,null,{default:d(()=>[o(s,{name:y.icon},null,8,["name"])]),_:2},1024),o(f,null,{default:d(()=>[o(m,{text:y.name},null,8,["text"])]),_:2},1024)]),_:2},1032,["to"]))),128))]),_:1})}var _o=q(zV,[["render",KV]]);const HV=z({name:"DashboardDialog",props:{modelValue:{type:Boolean,default:!1},dashboard:{type:Object,default:null}},emits:["update:modelValue"],setup(e,{emit:t}){var r,m,f,v,_,y;const{t:n}=Y(),l=Pn(),i=Zt({name:(m=(r=e.dashboard)==null?void 0:r.name)!=null?m:null,icon:(v=(f=e.dashboard)==null?void 0:f.icon)!=null?v:"dashboard",note:(y=(_=e.dashboard)==null?void 0:_.note)!=null?y:null});_e(()=>e.modelValue,(g,$)=>{var h,k,A,F,P,O;U.exports.isEqual(g,$)===!1&&(i.name=(k=(h=e.dashboard)==null?void 0:h.name)!=null?k:null,i.icon=(F=(A=e.dashboard)==null?void 0:A.icon)!=null?F:"dashboard",i.note=(O=(P=e.dashboard)==null?void 0:P.note)!=null?O:null)});const u=E(!1);return{values:i,cancel:a,saving:u,save:s,t:n};function a(){t("update:modelValue",!1)}async function s(){u.value=!0;try{if(e.dashboard)await re.patch(`/dashboards/${e.dashboard.id}`,i,{params:{fields:["id"]}}),await l.hydrate();else{const g=await re.post("/dashboards",i,{params:{fields:["id"]}});await l.hydrate(),Mt.push(`/insights/${g.data.data.id}`)}t("update:modelValue",!1)}catch(g){Ce(g)}finally{u.value=!1}}}}),WV={class:"fields"};function GV(e,t,n,l,i,u){const a=c("v-card-title"),s=c("v-input"),r=c("interface-select-icon"),m=c("v-card-text"),f=c("v-button"),v=c("v-card-actions"),_=c("v-card"),y=c("v-dialog");return p(),C(y,{"model-value":e.modelValue,persistent:"","onUpdate:modelValue":t[3]||(t[3]=g=>e.$emit("update:modelValue",g)),onEsc:e.cancel},{activator:d(g=>[ye(e.$slots,"activator",He(Xe(g)),void 0,!0)]),default:d(()=>[o(_,null,{default:d(()=>[e.dashboard?(p(),C(a,{key:1},{default:d(()=>[D(b(e.t("edit_dashboard")),1)]),_:1})):(p(),C(a,{key:0},{default:d(()=>[D(b(e.t("create_dashboard")),1)]),_:1})),o(m,null,{default:d(()=>[S("div",WV,[o(s,{modelValue:e.values.name,"onUpdate:modelValue":t[0]||(t[0]=g=>e.values.name=g),autofocus:"",placeholder:e.t("dashboard_name")},null,8,["modelValue","placeholder"]),o(r,{value:e.values.icon,onInput:t[1]||(t[1]=g=>e.values.icon=g)},null,8,["value"]),o(s,{modelValue:e.values.note,"onUpdate:modelValue":t[2]||(t[2]=g=>e.values.note=g),class:"full",placeholder:e.t("note")},null,8,["modelValue","placeholder"])])]),_:1}),o(v,null,{default:d(()=>[o(f,{secondary:"",onClick:e.cancel},{default:d(()=>[D(b(e.t("cancel")),1)]),_:1},8,["onClick"]),o(f,{disabled:!e.values.name,loading:e.saving,onClick:e.save},{default:d(()=>[D(b(e.t("save")),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]),_:1})]),_:3},8,["model-value","onEsc"])}var JV=q(HV,[["render",GV],["__scopeId","data-v-35403a37"]]);function Cl(e){return Zr.sanitize(Yr(e))}const QV=z({name:"InsightsOverview",components:{InsightsNavigation:_o,DashboardDialog:JV},setup(){const{t:e}=Y(),t=Pn(),n=Tt(),l=E(null),i=E(!1),u=E(null),a=E(!1),s=V(()=>n.hasPermission("directus_dashboards","create")),r=[{text:"",value:"icon",width:42,sortable:!1},{text:e("name"),value:"name",width:240},{text:e("note"),value:"note",width:360}];return{dashboards:V(()=>t.dashboards),createAllowed:s,tableHeaders:r,navigateToDashboard:f,createDialogActive:a,confirmDelete:l,deletingDashboard:i,deleteDashboard:v,editDashboard:u,t:e,md:Cl};function f({item:_}){Mt.push(`/insights/${_.id}`)}async function v(){if(!!l.value){i.value=!0;try{await re.delete(`/dashboards/${l.value}`),await t.hydrate(),l.value=null}catch(_){Ce(_)}finally{i.value=!1}}}}}),XV={class:"page-description"};function ZV(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-button"),r=c("insights-navigation"),m=c("dashboard-dialog"),f=c("sidebar-detail"),v=c("v-list-item-icon"),_=c("v-list-item-content"),y=c("v-list-item"),g=c("v-list"),$=c("v-menu"),h=c("v-table"),k=c("v-info"),A=c("v-card-title"),F=c("v-card-actions"),P=c("v-card"),O=c("v-dialog"),T=c("private-view"),N=Se("tooltip"),L=Se("md");return p(),C(T,{title:e.t("insights")},{"title-outer:prepend":d(()=>[o(s,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:d(()=>[o(a,{name:"insights"})]),_:1})]),navigation:d(()=>[o(r,{onCreate:t[0]||(t[0]=M=>e.createDialogActive=!0)})]),actions:d(()=>[o(m,{modelValue:e.createDialogActive,"onUpdate:modelValue":t[1]||(t[1]=M=>e.createDialogActive=M)},{activator:d(({on:M})=>[x(o(s,{rounded:"",icon:"",disabled:e.createAllowed===!1,onClick:M},{default:d(()=>[o(a,{name:"add"})]),_:2},1032,["disabled","onClick"]),[[N,e.createAllowed?e.t("create_dashboard"):e.t("not_allowed"),void 0,{bottom:!0}]])]),_:1},8,["modelValue"])]),sidebar:d(()=>[o(f,{icon:"info_outline",title:e.t("information"),close:""},{default:d(()=>[x(S("div",XV,null,512),[[L,e.t("page_help_insights_overview")]])]),_:1},8,["title"])]),default:d(()=>[e.dashboards.length>0?(p(),C(h,{key:0,headers:e.tableHeaders,"onUpdate:headers":t[2]||(t[2]=M=>e.tableHeaders=M),items:e.dashboards,"show-resize":"","fixed-header":"","onClick:row":e.navigateToDashboard},{["item.icon"]:d(({item:M})=>[o(a,{class:"icon",name:M.icon},null,8,["name"])]),"item-append":d(({item:M})=>[o($,{placement:"left-start","show-arrow":""},{activator:d(({toggle:B})=>[o(a,{name:"more_vert",class:"ctx-toggle",onClick:B},null,8,["onClick"])]),default:d(()=>[o(g,null,{default:d(()=>[o(y,{class:"warning",clickable:"",onClick:B=>e.editDashboard=M},{default:d(()=>[o(v,null,{default:d(()=>[o(a,{name:"edit",outline:""})]),_:1}),o(_,null,{default:d(()=>[D(b(e.t("edit_dashboard")),1)]),_:1})]),_:2},1032,["onClick"]),o(y,{class:"danger",clickable:"",onClick:B=>e.confirmDelete=M.id},{default:d(()=>[o(v,null,{default:d(()=>[o(a,{name:"delete",outline:""})]),_:1}),o(_,null,{default:d(()=>[D(b(e.t("delete_dashboard")),1)]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["headers","items","onClick:row"])):(p(),C(k,{key:1,icon:"dashboard",title:e.t("no_dashboards"),center:""},{default:d(()=>[D(b(e.t("no_dashboards_copy")),1)]),_:1},8,["title"])),o(O,{"model-value":!!e.confirmDelete,onEsc:t[4]||(t[4]=M=>e.confirmDelete=null)},{default:d(()=>[o(P,null,{default:d(()=>[o(A,null,{default:d(()=>[D(b(e.t("dashboard_delete_confirm")),1)]),_:1}),o(F,null,{default:d(()=>[o(s,{secondary:"",onClick:t[3]||(t[3]=M=>e.confirmDelete=null)},{default:d(()=>[D(b(e.t("cancel")),1)]),_:1}),o(s,{danger:"",loading:e.deletingDashboard,onClick:e.deleteDashboard},{default:d(()=>[D(b(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["model-value"]),o(m,{"model-value":!!e.editDashboard,dashboard:e.editDashboard,"onUpdate:modelValue":t[5]||(t[5]=M=>e.editDashboard=null)},null,8,["model-value","dashboard"])]),_:1},8,["title"])}var YV=q(QV,[["render",ZV],["__scopeId","data-v-1571418d"]]);const xV=z({components:{InsightsNavigation:_o},setup(){const{t:e}=Y();return{t:e}}}),eF={key:0,class:"not-found"};function tF(e,t,n,l,i,u){const a=c("insights-navigation"),s=c("v-info"),r=c("private-view");return p(),C(r,{title:e.t("insights")},{navigation:d(()=>[o(a)]),default:d(()=>[e.currentDashboard?R("",!0):(p(),I("div",eF,[o(s,{title:e.t("page_not_found"),icon:"not_interested"},{default:d(()=>[D(b(e.t("page_not_found_body")),1)]),_:1},8,["title"])]))]),_:1},8,["title"])}var nF=q(xV,[["render",tF],["__scopeId","data-v-d6310128"]]);function Vl(e,t,n){const[l,i]=e,[u,a]=t,[s,r]=n,m=l-u,f=i-a,v=s-u,_=r-a;return m*_-f*v!==0?!1:Math.abs(v)>=Math.abs(_)?v>0?u<=l&&l<=s:s<=l&&l<=u:_>0?a<=i&&i<=r:r<=i&&i<=a}const lF=z({name:"Panel",props:{panel:{type:Object,required:!0},editMode:{type:Boolean,default:!1},now:{type:Date,required:!0}},emits:["update","move","duplicate","delete"],setup(e,{emit:t}){const{t:n}=Y(),{panels:l}=ml(),i=V(()=>l.value.find(g=>g.id===e.panel.type)),u=Zt({position_x:void 0,position_y:void 0,width:void 0,height:void 0}),{onPointerDown:a,onPointerUp:s,onPointerMove:r,dragging:m}=y(),f=V(()=>{var g,$,h,k;return m.value?{x:(g=u.position_x)!=null?g:e.panel.position_x,y:($=u.position_y)!=null?$:e.panel.position_y,width:(h=u.width)!=null?h:e.panel.width,height:(k=u.height)!=null?k:e.panel.height}:{x:e.panel.position_x,y:e.panel.position_y,width:e.panel.width,height:e.panel.height}}),v=V(()=>{var g,$,h,k;return m.value?{"--pos-x":(g=u.position_x)!=null?g:e.panel.position_x,"--pos-y":($=u.position_y)!=null?$:e.panel.position_y,"--width":(h=u.width)!=null?h:e.panel.width,"--height":(k=u.height)!=null?k:e.panel.height}:{"--pos-x":e.panel.position_x,"--pos-y":e.panel.position_y,"--width":e.panel.width,"--height":e.panel.height}}),_=V(()=>({"--v-icon-color":e.panel.color}));return{positioning:f,positionStyling:v,iconColor:_,onPointerDown:a,onPointerUp:s,onPointerMove:r,dragging:m,editedPosition:u,t:n,omit:U.exports.omit};function y(){const g=E(!1);let $=0,h=0,k=0,A=0,F=0,P=0,O="move";const T=U.exports.throttle(M=>{var G,Q;if(e.editMode===!1||g.value===!1)return;const B=M.pageX-$,K=M.pageY-h,W=Math.round(B/20),le=Math.round(K/20);if(O==="move")u.position_x=k+W,u.position_y=A+le,u.position_x<1&&(u.position_x=1),u.position_y<1&&(u.position_y=1);else{O.includes("top")&&(u.height=P-le,u.position_y=A+le),O.includes("right")&&(u.width=F+W),O.includes("bottom")&&(u.height=P+le),O.includes("left")&&(u.width=F-W,u.position_x=k+W);const fe=((G=i.value)==null?void 0:G.minWidth)||6,ue=((Q=i.value)==null?void 0:Q.minHeight)||6;u.position_x&&u.position_x<1&&(u.position_x=1),u.position_y&&u.position_y<1&&(u.position_y=1),u.width&&u.width<fe&&(u.width=fe),u.height&&u.height<ue&&(u.height=ue)}},20);return{dragging:g,onPointerDown:N,onPointerUp:L,onPointerMove:T};function N(M,B){e.editMode!==!1&&(O=M,g.value=!0,$=B.pageX,h=B.pageY,k=e.panel.position_x,A=e.panel.position_y,F=e.panel.width,P=e.panel.height,window.addEventListener("pointerup",L),window.addEventListener("pointermove",T))}function L(){g.value=!1,e.editMode!==!1&&(t("update",u),window.removeEventListener("pointerup",L),window.removeEventListener("pointermove",T),u.position_x=void 0,u.position_y=void 0,u.width=void 0,u.height=void 0)}}}}),oF=e=>(We("data-v-0205318a"),e=e(),Ge(),e),aF={key:0,class:"header"},iF=oF(()=>S("div",{class:"spacer"},null,-1)),sF={class:"resize-details"},rF={key:2,class:"resize-handlers"};function dF(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-text-overflow"),r=c("v-list-item-icon"),m=c("v-list-item-content"),f=c("v-list-item"),v=c("v-list"),_=c("v-menu"),y=Se("tooltip");return p(),I("div",{class:se(["panel",{editing:e.editMode,dragging:e.dragging,"br-tl":e.dragging||e.panel.borderRadius[0],"br-tr":e.dragging||e.panel.borderRadius[1],"br-br":e.dragging||e.panel.borderRadius[2],"br-bl":e.dragging||e.panel.borderRadius[3]}]),style:ze(e.positionStyling),"data-move":"",onPointerdown:t[13]||(t[13]=g=>e.onPointerDown("move",g))},[e.panel.show_header?(p(),I("div",aF,[o(a,{class:"icon",style:ze(e.iconColor),name:e.panel.icon},null,8,["style","name"]),o(s,{class:"name selectable",text:e.panel.name||""},null,8,["text"]),iF,e.panel.note?x((p(),C(a,{key:0,class:"note",name:"info"},null,512)),[[y,e.panel.note]]):R("",!0)])):R("",!0),e.editMode?(p(),I("div",{key:1,class:"edit-actions",onPointerdown:t[4]||(t[4]=Fe(()=>{},["stop"]))},[x(o(a,{class:"edit-icon",name:"edit",clickable:"",onClick:t[0]||(t[0]=Fe(g=>e.$router.push(`/insights/${e.panel.dashboard}/${e.panel.id}`),["stop"]))},null,512),[[y,e.t("edit")]]),o(_,{placement:"bottom-end","show-arrow":""},{activator:d(({toggle:g})=>[o(a,{class:"more-icon",name:"more_vert",clickable:"",onClick:g},null,8,["onClick"])]),default:d(()=>[o(v,null,{default:d(()=>[o(f,{clickable:"",disabled:e.panel.id.startsWith("_"),onClick:t[1]||(t[1]=g=>e.$emit("move"))},{default:d(()=>[o(r,null,{default:d(()=>[o(a,{class:"move-icon",name:"input"})]),_:1}),o(m,null,{default:d(()=>[D(b(e.t("copy_to")),1)]),_:1})]),_:1},8,["disabled"]),o(f,{clickable:"",onClick:t[2]||(t[2]=g=>e.$emit("duplicate"))},{default:d(()=>[o(r,null,{default:d(()=>[o(a,{name:"control_point_duplicate"})]),_:1}),o(m,null,{default:d(()=>[D(b(e.t("duplicate")),1)]),_:1})]),_:1}),o(f,{class:"delete-action",clickable:"",onClick:t[3]||(t[3]=g=>e.$emit("delete"))},{default:d(()=>[o(r,null,{default:d(()=>[o(a,{name:"delete"})]),_:1}),o(m,null,{default:d(()=>[D(b(e.t("delete_panel")),1)]),_:1})]),_:1})]),_:1})]),_:1})],32)):R("",!0),S("div",sF," ("+b(e.positioning.x-1)+":"+b(e.positioning.y-1)+") "+b(e.positioning.width)+"\xD7"+b(e.positioning.height),1),e.editMode?(p(),I("div",rF,[S("div",{class:"top",onPointerdown:t[5]||(t[5]=Fe(g=>e.onPointerDown("resize-top",g),["stop"]))},null,32),S("div",{class:"right",onPointerdown:t[6]||(t[6]=Fe(g=>e.onPointerDown("resize-right",g),["stop"]))},null,32),S("div",{class:"bottom",onPointerdown:t[7]||(t[7]=Fe(g=>e.onPointerDown("resize-bottom",g),["stop"]))},null,32),S("div",{class:"left",onPointerdown:t[8]||(t[8]=Fe(g=>e.onPointerDown("resize-left",g),["stop"]))},null,32),S("div",{class:"top-left",onPointerdown:t[9]||(t[9]=Fe(g=>e.onPointerDown("resize-top-left",g),["stop"]))},null,32),S("div",{class:"top-right",onPointerdown:t[10]||(t[10]=Fe(g=>e.onPointerDown("resize-top-right",g),["stop"]))},null,32),S("div",{class:"bottom-right",onPointerdown:t[11]||(t[11]=Fe(g=>e.onPointerDown("resize-bottom-right",g),["stop"]))},null,32),S("div",{class:"bottom-left",onPointerdown:t[12]||(t[12]=Fe(g=>e.onPointerDown("resize-bottom-left",g),["stop"]))},null,32)])):R("",!0),S("div",{class:se(["panel-content",{"has-header":e.panel.show_header}])},[(p(),C(Ue(`panel-${e.panel.type}`),dt(e.panel.options,{id:e.panel.id,"show-header":e.panel.show_header,height:e.panel.height,width:e.panel.width,dashboard:e.panel.dashboard,now:e.now}),null,16,["id","show-header","height","width","dashboard","now"]))],2)],38)}var uF=q(lF,[["render",dF],["__scopeId","data-v-0205318a"]]);function Ga(e){return e==null||e===void 0}function Nt(e){return e!=null}function Zn(e){const t=E(0),n=E(0),l=new ResizeObserver(([i])=>{t.value=i.contentRect.width,n.value=i.contentRect.height});return it(()=>{const i=Nl(e)?e.value:e;Nt(i)&&l.observe(i)}),St(()=>{l.disconnect()}),{width:t,height:n}}const cF=z({name:"InsightsWorkspace",components:{InsightsPanel:uF},props:{panels:{type:Array,required:!0},editMode:{type:Boolean,default:!1},zoomToFit:{type:Boolean,default:!1},now:{type:Date,required:!0}},emits:["update","move","delete","duplicate"],setup(e){const t=bt("main-element",E()),n=Zn(t),l=V(()=>{var r;return Number(((r=s("--content-padding"))==null?void 0:r.slice(0,-2))||0)}),i=V(()=>{const r=e.panels.reduce((f,v)=>(v.position_x>f.position_x&&(f.position_x=v.position_x,f.width=v.width),f),{position_x:0,width:0}),m=e.panels.reduce((f,v)=>(v.position_y>f.position_y&&(f.position_y=v.position_y,f.height=v.height),f),{position_y:0,height:0});return e.editMode===!0?{width:(r.position_x+r.width+25)*20,height:(m.position_y+m.height+25)*20}:{width:(r.position_x+r.width-1)*20,height:(m.position_y+m.height-1)*20}}),u=V(()=>{if(e.zoomToFit===!1)return 1;const{width:r,height:m}=n,f=(r.value-l.value*2)/i.value.width,v=(m.value-114-l.value*2)/i.value.height;return Math.min(f,v)}),a=V(()=>({width:i.value.width*u.value+l.value*2,height:i.value.height*u.value+l.value*2}));return{workspaceSize:i,workspaceBoxSize:a,mainElement:t,zoomScale:u};function s(r){if(!!t.value)return getComputedStyle(t.value).getPropertyValue(r).trim()}}});function pF(e,t,n,l,i,u){const a=c("insights-panel");return p(),I("div",{class:se(["workspace-padding-box",{editing:e.editMode}]),style:ze({width:e.workspaceBoxSize.width+"px",height:e.workspaceBoxSize.height+"px"})},[S("div",{class:"workspace",style:ze({transform:`scale(${e.zoomScale})`,width:e.workspaceSize.width+"px",height:e.workspaceSize.height+"px"})},[(p(!0),I(ie,null,he(e.panels,s=>(p(),C(a,{key:s.id,panel:s,"edit-mode":e.editMode,now:e.now,onUpdate:r=>e.$emit("update",{edits:r,id:s.id}),onMove:r=>e.$emit("move",s.id),onDelete:r=>e.$emit("delete",s.id),onDuplicate:r=>e.$emit("duplicate",s)},null,8,["panel","edit-mode","now","onUpdate","onMove","onDelete","onDuplicate"]))),128))],4)],6)}var mF=q(cF,[["render",pF],["__scopeId","data-v-ffa0afd4"]]);const fF=z({name:"InsightsDashboard",components:{InsightsNotFound:nF,InsightsNavigation:_o,InsightsWorkspace:mF},props:{primaryKey:{type:String,required:!0},panelKey:{type:String,default:null}},setup(e){var fe;const{t}=Y(),n=Pn(),l=kt(),{fullScreen:i}=Re(l),u=E(!1),a=E(!1),s=E(!1),r=E((fe=n.dashboards.find(ue=>ue.id!==e.primaryKey))==null?void 0:fe.id),m=E(),f=E(!1);nt("meta+s",()=>{N()}),_e(u,ue=>{ue?(f.value=!1,window.onbeforeunload=()=>""):window.onbeforeunload=null});const v=V(()=>n.dashboards.find(ue=>ue.id===e.primaryKey)),_=V(()=>n.dashboards.filter(ue=>ue.id!==e.primaryKey)),y=E([]),g=E([]),$=new Date,h=V(()=>{var ce;const ee=[...(((ce=v.value)==null?void 0:ce.panels)||[]).filter(H=>g.value.includes(H.id)===!1).map(H=>{const Z=y.value.find(X=>X.id===H.id);return Z?U.exports.merge({},H,Z):H}),...y.value.filter(H=>{var Z;return(Z=H.id)==null?void 0:Z.startsWith("_")})].map(H=>Ve(pe({},H),{_coordinates:[[H.position_x,H.position_y],[H.position_x+H.width,H.position_y],[H.position_x+H.width,H.position_y+H.height],[H.position_x,H.position_y+H.height]]}));return ee.map(H=>{let Z=!1,X=!1,te=!1,ve=!1;for(const J of ee){if(J.id===H.id)continue;const oe=[[J._coordinates[0],J._coordinates[1]],[J._coordinates[1],J._coordinates[2]],[J._coordinates[2],J._coordinates[3]],[J._coordinates[3],J._coordinates[0]]];Z===!1&&(Z=oe.some(([ae,me])=>Vl(H._coordinates[0],ae,me))),X===!1&&(X=oe.some(([ae,me])=>Vl(H._coordinates[1],ae,me))),te===!1&&(te=oe.some(([ae,me])=>Vl(H._coordinates[2],ae,me))),ve===!1&&(ve=oe.some(([ae,me])=>Vl(H._coordinates[3],ae,me)))}return Ve(pe({},H),{borderRadius:[!Z,!X,!te,!ve]})})}),k=E(!1),A=E(!1),F=E(null),P=ue=>{const ne=g.value.length>0||y.value.length>0;if(u.value&&ue.params.primaryKey!==e.primaryKey){if(ne)return A.value=!0,F.value=ue.fullPath,!1;u.value=!1}};return Lt(P),Pt(P),{currentDashboard:v,editMode:u,panels:h,stagePanelEdits:O,stagedPanels:y,saving:a,saveChanges:N,stageConfiguration:T,movePanelID:m,movePanel:Q,deletePanel:L,attemptCancelChanges:M,duplicatePanel:W,movePanelLoading:s,t,toggleFullScreen:le,zoomToFit:f,fullScreen:i,toggleZoomToFit:G,md:Cl,movePanelChoices:_,movePanelTo:r,confirmLeave:A,discardAndLeave:K,now:$,confirmCancel:k,cancelChanges:B};function O(ue){var ee;const ne=(ee=ue.id)!=null?ee:e.panelKey;ne==="+"?y.value=[...y.value,pe({id:`_${_t()}`,dashboard:e.primaryKey},ue.edits)]:y.value.some(de=>de.id===ne)?y.value=y.value.map(de=>de.id===ne?U.exports.merge({id:ne,dashboard:e.primaryKey},de,ue.edits):de):y.value=[...y.value,pe({id:ne,dashboard:e.primaryKey},ue.edits)]}function T(ue){O({edits:ue}),Mt.replace(`/insights/${e.primaryKey}`)}async function N(){if(!v.value)return;if(y.value.length===0&&g.value.length===0){u.value=!1;return}a.value=!0;const ne=[...v.value.panels.map(ee=>ee.id).map(ee=>y.value.find(de=>de.id===ee)||ee),...y.value.filter(ee=>{var de;return(de=ee.id)==null?void 0:de.startsWith("_")}).map(ee=>U.exports.omit(ee,"id"))];try{y.value.length>0&&await re.patch(`/dashboards/${e.primaryKey}`,{panels:ne}),g.value.length>0&&await re.delete("/panels",{data:g.value}),await n.hydrate(),y.value=[],u.value=!1}catch(ee){Ce(ee)}finally{a.value=!1}}async function L(ue){!v.value||(y.value=y.value.filter(ne=>ne.id!==ue),ue.startsWith("_")===!1&&g.value.push(ue))}function M(){y.value.length>0||g.value.length>0?k.value=!0:B()}function B(){k.value=!1,y.value=[],g.value=[],u.value=!1}function K(){!F.value||(B(),A.value=!1,Mt.push(F.value))}function W(ue){const ne=U.exports.omit(U.exports.merge({},ue),"id");ne.position_x=ne.position_x+2,ne.position_y=ne.position_y+2,O({edits:ne,id:"+"})}function le(){i.value=!i.value}function G(){f.value=!f.value}async function Q(){s.value=!0;const ue=h.value.find(ne=>ne.id===m.value);try{await re.post("/panels",Ve(pe({},U.exports.omit(ue,["id"])),{dashboard:r.value})),await n.hydrate(),m.value=null}catch(ne){Ce(ne)}finally{s.value=!1}}}}),vF={class:"page-description"};function _F(e,t,n,l,i,u){const a=c("insights-not-found"),s=c("v-icon"),r=c("v-button"),m=c("v-breadcrumb"),f=c("sidebar-detail"),v=c("insights-navigation"),_=c("insights-workspace"),y=c("router-view"),g=c("v-card-title"),$=c("v-notice"),h=c("v-select"),k=c("v-card-text"),A=c("v-card-actions"),F=c("v-card"),P=c("v-dialog"),O=c("private-view"),T=Se("tooltip"),N=Se("md");return e.currentDashboard?(p(),C(O,{key:1,title:e.currentDashboard.name},{"title-outer:prepend":d(()=>[o(r,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:d(()=>[o(s,{name:e.currentDashboard.icon},null,8,["name"])]),_:1})]),headline:d(()=>[o(m,{items:[{name:e.t("insights"),to:"/insights"}]},null,8,["items"])]),actions:d(()=>[e.editMode?(p(),I(ie,{key:0},[x(o(r,{class:"clear-changes",rounded:"",icon:"",outlined:"",onClick:e.attemptCancelChanges},{default:d(()=>[o(s,{name:"clear"})]),_:1},8,["onClick"]),[[T,e.t("clear_changes"),void 0,{bottom:!0}]]),x(o(r,{rounded:"",icon:"",outlined:"",to:`/insights/${e.currentDashboard.id}/+`},{default:d(()=>[o(s,{name:"add"})]),_:1},8,["to"]),[[T,e.t("create_panel"),void 0,{bottom:!0}]]),x(o(r,{rounded:"",icon:"",loading:e.saving,onClick:e.saveChanges},{default:d(()=>[o(s,{name:"check"})]),_:1},8,["loading","onClick"]),[[T,e.t("save"),void 0,{bottom:!0}]])],64)):(p(),I(ie,{key:1},[x(o(r,{active:e.zoomToFit,class:"zoom-to-fit",rounded:"",icon:"",outlined:"",onClick:e.toggleZoomToFit},{default:d(()=>[o(s,{name:"aspect_ratio"})]),_:1},8,["active","onClick"]),[[T,e.t("fit_to_screen"),void 0,{bottom:!0}]]),x(o(r,{active:e.fullScreen,class:"fullscreen",rounded:"",icon:"",outlined:"",onClick:e.toggleFullScreen},{default:d(()=>[o(s,{name:"fullscreen"})]),_:1},8,["active","onClick"]),[[T,e.t("full_screen"),void 0,{bottom:!0}]]),x(o(r,{rounded:"",icon:"",outlined:"",onClick:t[0]||(t[0]=L=>e.editMode=!e.editMode)},{default:d(()=>[o(s,{name:"edit"})]),_:1},512),[[T,e.t("edit_panels"),void 0,{bottom:!0}]])],64))]),sidebar:d(()=>[o(f,{icon:"info_outline",title:e.t("information"),close:""},{default:d(()=>[x(S("div",vF,null,512),[[N,e.t("page_help_insights_dashboard")]])]),_:1},8,["title"])]),navigation:d(()=>[o(v)]),default:d(()=>[o(_,{"edit-mode":e.editMode,panels:e.panels,"zoom-to-fit":e.zoomToFit,now:e.now,onUpdate:e.stagePanelEdits,onMove:t[1]||(t[1]=L=>e.movePanelID=L),onDelete:e.deletePanel,onDuplicate:e.duplicatePanel},null,8,["edit-mode","panels","zoom-to-fit","now","onUpdate","onDelete","onDuplicate"]),o(y,{name:"detail","dashboard-key":e.primaryKey,panel:e.panelKey?e.panels.find(L=>L.id===e.panelKey):null,onSave:e.stageConfiguration,onCancel:t[2]||(t[2]=L=>e.$router.replace(`/insights/${e.primaryKey}`))},null,8,["dashboard-key","panel","onSave"]),o(P,{"model-value":!!e.movePanelID,"onUpdate:modelValue":t[5]||(t[5]=L=>e.movePanelID=null),onEsc:t[6]||(t[6]=L=>e.movePanelID=null)},{default:d(()=>[o(F,null,{default:d(()=>[o(g,null,{default:d(()=>[D(b(e.t("copy_to")),1)]),_:1}),o(k,null,{default:d(()=>[e.movePanelChoices.length===0?(p(),C($,{key:0},{default:d(()=>[D(b(e.t("no_other_dashboards_copy")),1)]),_:1})):(p(),C(h,{key:1,modelValue:e.movePanelTo,"onUpdate:modelValue":t[3]||(t[3]=L=>e.movePanelTo=L),items:e.movePanelChoices,"item-text":"name","item-value":"id"},null,8,["modelValue","items"]))]),_:1}),o(A,null,{default:d(()=>[o(r,{secondary:"",onClick:t[4]||(t[4]=L=>e.movePanelID=null)},{default:d(()=>[D(b(e.t("cancel")),1)]),_:1}),o(r,{loading:e.movePanelLoading,onClick:e.movePanel},{default:d(()=>[D(b(e.t("copy")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["model-value"]),o(P,{modelValue:e.confirmLeave,"onUpdate:modelValue":t[8]||(t[8]=L=>e.confirmLeave=L),onEsc:t[9]||(t[9]=L=>e.confirmLeave=!1)},{default:d(()=>[o(F,null,{default:d(()=>[o(g,null,{default:d(()=>[D(b(e.t("unsaved_changes")),1)]),_:1}),o(k,null,{default:d(()=>[D(b(e.t("unsaved_changes_copy")),1)]),_:1}),o(A,null,{default:d(()=>[o(r,{secondary:"",onClick:e.discardAndLeave},{default:d(()=>[D(b(e.t("discard_changes")),1)]),_:1},8,["onClick"]),o(r,{onClick:t[7]||(t[7]=L=>e.confirmLeave=!1)},{default:d(()=>[D(b(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(P,{modelValue:e.confirmCancel,"onUpdate:modelValue":t[11]||(t[11]=L=>e.confirmCancel=L),onEsc:t[12]||(t[12]=L=>e.confirmCancel=!1)},{default:d(()=>[o(F,null,{default:d(()=>[o(g,null,{default:d(()=>[D(b(e.t("unsaved_changes")),1)]),_:1}),o(k,null,{default:d(()=>[D(b(e.t("discard_changes_copy")),1)]),_:1}),o(A,null,{default:d(()=>[o(r,{secondary:"",onClick:e.cancelChanges},{default:d(()=>[D(b(e.t("discard_changes")),1)]),_:1},8,["onClick"]),o(r,{onClick:t[10]||(t[10]=L=>e.confirmCancel=!1)},{default:d(()=>[D(b(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["title"])):(p(),C(a,{key:0}))}var yF=q(fF,[["render",_F],["__scopeId","data-v-7e5e72e9"]]);const gF=z({name:"PanelConfiguration",props:{panel:{type:Object,default:null}},emits:["cancel","save"],setup(e,{emit:t}){var m,f,v,_,y,g,$,h,k,A,F,P,O,T,N,L,M,B,K;const{t:n}=Y(),{panels:l}=ml(),i=cn(),u=Zt({show_header:(f=(m=e.panel)==null?void 0:m.show_header)!=null?f:!0,type:((v=e.panel)==null?void 0:v.type)||void 0,name:(_=e.panel)==null?void 0:_.name,note:(y=e.panel)==null?void 0:y.note,icon:($=(g=e.panel)==null?void 0:g.icon)!=null?$:"insert_chart",color:(k=(h=e.panel)==null?void 0:h.color)!=null?k:"#00C897",width:(F=(A=e.panel)==null?void 0:A.width)!=null?F:void 0,height:(O=(P=e.panel)==null?void 0:P.height)!=null?O:void 0,position_x:(N=(T=e.panel)==null?void 0:T.position_x)!=null?N:1,position_y:(M=(L=e.panel)==null?void 0:L.position_y)!=null?M:1,options:(K=(B=e.panel)==null?void 0:B.options)!=null?K:{}}),a=V(()=>l.value.map(W=>({text:W.name,icon:W.icon,description:W.description,value:W.id}))),s=V(()=>l.value.find(W=>W.id===u.type));return _e(s,W=>{W?(u.width=W.minWidth,u.height=W.minHeight):(u.width=void 0,u.height=void 0)}),{selectItems:a,selectedPanel:s,close,emitSave:r,edits:u,t:n,isOpen:i};function r(){t("save",u)}}}),hF={class:"content"},bF={class:"type-label panel-type-label"},$F={class:"form-grid"},wF={class:"field half-left"},kF={class:"type-label"},SF={class:"field half-right"},CF={class:"type-label"},VF={class:"field half-left"},FF={class:"type-label"},AF={class:"field half-right"},IF={class:"type-label"},EF={class:"field full"},DF={class:"type-label"};function TF(e,t,n,l,i,u){var A,F;const a=c("v-icon"),s=c("v-button"),r=c("v-fancy-select"),m=c("v-notice"),f=c("v-form"),v=c("v-divider"),_=c("v-checkbox"),y=c("v-input"),g=c("interface-select-icon"),$=c("interface-select-color"),h=c("v-drawer"),k=Se("tooltip");return p(),C(h,{"model-value":e.isOpen,title:((A=e.panel)==null?void 0:A.name)||e.t("panel"),subtitle:e.t("panel_options"),icon:((F=e.panel)==null?void 0:F.icon)||"insert_chart",persistent:"",onCancel:t[8]||(t[8]=P=>e.$emit("cancel"))},{actions:d(()=>[x(o(s,{disabled:!e.edits.type,icon:"",rounded:"",onClick:e.emitSave},{default:d(()=>[o(a,{name:"check"})]),_:1},8,["disabled","onClick"]),[[k,e.t("done"),void 0,{bottom:!0}]])]),default:d(()=>[S("div",hF,[S("p",bF,b(e.t("type")),1),o(r,{modelValue:e.edits.type,"onUpdate:modelValue":t[0]||(t[0]=P=>e.edits.type=P),class:"select",items:e.selectItems},null,8,["modelValue","items"]),e.edits.type&&e.selectedPanel?(p(),I(ie,{key:0},[!e.selectedPanel.options||e.selectedPanel.options.length===0?(p(),C(m,{key:0},{default:d(()=>[D(b(e.t("no_options_available")),1)]),_:1})):Array.isArray(e.selectedPanel.options)?(p(),C(f,{key:1,modelValue:e.edits.options,"onUpdate:modelValue":t[1]||(t[1]=P=>e.edits.options=P),fields:e.selectedPanel.options,"primary-key":"+","initial-values":e.panel&&e.panel.options},null,8,["modelValue","fields","initial-values"])):(p(),C(Ue(`panel-options-${e.selectedPanel.id}`),{key:2,modelValue:e.edits.options,"onUpdate:modelValue":t[2]||(t[2]=P=>e.edits.options=P),collection:e.collection},null,8,["modelValue","collection"]))],64)):R("",!0),o(v,{"inline-title":!1,large:""},{icon:d(()=>[o(a,{name:"info"})]),default:d(()=>[D(b(e.t("panel_header")),1)]),_:1}),S("div",$F,[S("div",wF,[S("p",kF,b(e.t("visible")),1),o(_,{modelValue:e.edits.show_header,"onUpdate:modelValue":t[3]||(t[3]=P=>e.edits.show_header=P),block:"",label:e.t("show_header")},null,8,["modelValue","label"])]),S("div",SF,[S("p",CF,b(e.t("name")),1),o(y,{modelValue:e.edits.name,"onUpdate:modelValue":t[4]||(t[4]=P=>e.edits.name=P),nullable:!1,disabled:e.edits.show_header!==!0,placeholder:e.t("panel_name_placeholder")},null,8,["modelValue","disabled","placeholder"])]),S("div",VF,[S("p",FF,b(e.t("icon")),1),o(g,{value:e.edits.icon,disabled:e.edits.show_header!==!0,onInput:t[5]||(t[5]=P=>e.edits.icon=P)},null,8,["value","disabled"])]),S("div",AF,[S("p",IF,b(e.t("color")),1),o($,{value:e.edits.color,disabled:e.edits.show_header!==!0,width:"half",onInput:t[6]||(t[6]=P=>e.edits.color=P)},null,8,["value","disabled"])]),S("div",EF,[S("p",DF,b(e.t("note")),1),o(y,{modelValue:e.edits.note,"onUpdate:modelValue":t[7]||(t[7]=P=>e.edits.note=P),disabled:e.edits.show_header!==!0,placeholder:e.t("panel_note_placeholder")},null,8,["modelValue","disabled","placeholder"])])])])]),_:1},8,["model-value","title","subtitle","icon"])}var PF=q(gF,[["render",TF],["__scopeId","data-v-42a9e66e"]]),OF=dn({id:"insights",name:"$t:insights",icon:"insights",routes:[{name:"insights-overview",path:"",component:YV},{name:"insights-dashboard",path:":primaryKey",component:yF,props:!0,children:[{name:"panel-detail",path:":panelKey",props:!0,components:{detail:PF}}]}],preRegisterCheck(e,t){return e.role.admin_access?!0:!!t.find(i=>i.collection==="directus_dashboards"&&i.action==="read")}}),LF=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:OF});function Ja(){const e=E(),t=E(!1),n=E(),l=V(()=>e.value?{directus:{version:e.value.directus.version},node:{version:e.value.node.version,uptime:ra(e.value.node.uptime*1e3)},os:{type:e.value.os.type,version:e.value.os.version,uptime:ra(e.value.os.uptime*1e3),totalmem:xr(e.value.os.totalmem)}}:null);return e.value||i(),{info:e,parsedInfo:l,loading:t,error:n};async function i(){t.value=!0,n.value=null;try{const u=await re.get("/server/info");e.value=u.data.data}catch(u){n.value=u}finally{t.value=!1}}}const jF=z({setup(){const{t:e}=Y(),{parsedInfo:t}=Ja(),n=[{icon:"public",name:e("settings_project"),to:"/settings/project"},{icon:"list_alt",name:e("settings_data_model"),to:"/settings/data-model"},{icon:"admin_panel_settings",name:e("settings_permissions"),to:"/settings/roles",outline:!0},{icon:"bookmark_border",name:e("settings_presets"),to:"/settings/presets"},{icon:"anchor",name:e("settings_webhooks"),to:"/settings/webhooks"}],l=V(()=>{var u,a,s,r,m,f,v,_;const i=new URLSearchParams({template:"bug_report.yml","directus-version":(a=(u=t.value)==null?void 0:u.directus.version)!=null?a:"","node-version":(r=(s=t.value)==null?void 0:s.node.version)!=null?r:"","operating-system":`${(f=(m=t.value)==null?void 0:m.os.type)!=null?f:""} ${(_=(v=t.value)==null?void 0:v.os.version)!=null?_:""}`});return[{icon:"bug_report",name:e("report_bug"),href:`https://github.com/directus/directus/issues/new?${i.toString()}`,outline:!0},{icon:"new_releases",name:e("request_feature"),href:"https://github.com/directus/directus/discussions/new",outline:!0}]});return{version:va,navItems:n,externalItems:l}}});function RF(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-list-item-icon"),r=c("v-text-overflow"),m=c("v-list-item-content"),f=c("v-list-item"),v=c("v-divider"),_=c("v-list");return p(),C(_,{nav:""},{default:d(()=>[(p(!0),I(ie,null,he(e.navItems,y=>(p(),C(f,{key:y.to,to:y.to},{default:d(()=>[o(s,null,{default:d(()=>[o(a,{name:y.icon},null,8,["name"])]),_:2},1024),o(m,null,{default:d(()=>[o(r,{text:y.name},null,8,["text"])]),_:2},1024)]),_:2},1032,["to"]))),128)),o(v),(p(!0),I(ie,null,he(e.externalItems,y=>(p(),C(f,{key:y.href,href:y.href},{default:d(()=>[o(s,null,{default:d(()=>[o(a,{name:y.icon},null,8,["name"])]),_:2},1024),o(m,null,{default:d(()=>[o(r,{text:y.name},null,8,["text"])]),_:2},1024)]),_:2},1032,["href"]))),128)),o(f,{href:"https://github.com/directus/directus/releases",class:"version"},{default:d(()=>[o(s,null,{default:d(()=>[o(a,{name:"directus"})]),_:1}),o(m,null,{default:d(()=>[o(r,{class:"version",text:`Directus ${e.version}`},null,8,["text"])]),_:1})]),_:1})]),_:1})}var Ut=q(jF,[["render",RF],["__scopeId","data-v-0513df29"]]);const MF=z({props:{collection:{type:Object,required:!0}},setup(e){const{t}=Y(),n=Ke(),{deleting:l,deleteActive:i,deleteCollection:u}=s();return{t,deleting:l,deleteActive:i,deleteCollection:u,update:a};async function a(r){await n.updateCollection(e.collection.collection,r)}function s(){const r=E(!1),m=E(!1);return{deleting:r,deleteActive:m,deleteCollection:f};async function f(){r.value=!0;try{await n.deleteCollection(e.collection.collection),m.value=!1}finally{r.value=!1}}}}}),UF={key:0};function NF(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-list-item-icon"),r=c("v-list-item-content"),m=c("v-list-item"),f=c("v-list"),v=c("v-menu"),_=c("v-card-title"),y=c("v-button"),g=c("v-card-actions"),$=c("v-card"),h=c("v-dialog");return e.collection.collection.startsWith("directus_")===!1?(p(),I("div",UF,[o(v,{placement:"left-start","show-arrow":""},{activator:d(({toggle:k,deactivate:A})=>[o(a,{name:"more_vert",clickable:"",class:"ctx-toggle",onClick:Fe(k,["stop","prevent"]),onFocusout:A},null,8,["onClick","onFocusout"])]),default:d(()=>[o(f,null,{default:d(()=>[o(m,{clickable:"",class:"danger",onClick:t[0]||(t[0]=k=>e.deleteActive=!0)},{default:d(()=>[o(s,null,{default:d(()=>[o(a,{name:"delete",outline:""})]),_:1}),o(r,null,{default:d(()=>[D(b(e.t("delete_collection")),1)]),_:1})]),_:1}),o(m,{clickable:"",onClick:t[1]||(t[1]=k=>{var A;return e.update({meta:{hidden:!((A=e.collection.meta)==null?void 0:A.hidden)}})})},{default:d(()=>{var k;return[((k=e.collection.meta)==null?void 0:k.hidden)===!1?(p(),I(ie,{key:0},[o(s,null,{default:d(()=>[o(a,{name:"visibility_off"})]),_:1}),o(r,null,{default:d(()=>[D(b(e.t("make_collection_hidden")),1)]),_:1})],64)):(p(),I(ie,{key:1},[o(s,null,{default:d(()=>[o(a,{name:"visibility"})]),_:1}),o(r,null,{default:d(()=>[D(b(e.t("make_collection_visible")),1)]),_:1})],64))]}),_:1})]),_:1})]),_:1}),o(h,{modelValue:e.deleteActive,"onUpdate:modelValue":t[3]||(t[3]=k=>e.deleteActive=k),onEsc:t[4]||(t[4]=k=>e.deleteActive=null)},{default:d(()=>[o($,null,{default:d(()=>[o(_,null,{default:d(()=>[D(b(e.t("delete_collection_are_you_sure")),1)]),_:1}),o(g,null,{default:d(()=>[o(y,{disabled:e.deleting,secondary:"",onClick:t[2]||(t[2]=k=>e.deleteActive=null)},{default:d(()=>[D(b(e.t("cancel")),1)]),_:1},8,["disabled"]),o(y,{loading:e.deleting,kind:"danger",onClick:e.deleteCollection},{default:d(()=>[D(b(e.t("delete_collection")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])):R("",!0)}var Qa=q(MF,[["render",NF],["__scopeId","data-v-11fe042c"]]);const BF=z({name:"CollectionItem",components:{CollectionOptions:Qa,Draggable:Ct},props:{collection:{type:Object,required:!0},collections:{type:Array,required:!0},disableDrag:{type:Boolean,default:!1}},emits:["setNestedSort","editCollection"],setup(e,{emit:t}){const n=Ke(),{t:l}=Y(),i=V(()=>e.collections.filter(v=>{var _;return((_=v.meta)==null?void 0:_.group)===e.collection.collection})),u=V(()=>{var v;switch((v=e.collection.meta)==null?void 0:v.collapse){case"open":return"folder_open";case"closed":return"folder";case"locked":return"folder_lock"}}),a=V(()=>{var v;switch((v=e.collection.meta)==null?void 0:v.collapse){case"open":return l("start_open");case"closed":return l("start_collapsed");case"locked":return l("always_open")}}),s=E(!1);return{collapseIcon:u,onGroupSortChange:f,nestedCollections:i,update:m,toggleCollapse:r,collapseTooltip:a,collapseLoading:s};async function r(){var _,y;if(s.value===!0)return;s.value=!0;let v="open";((_=e.collection.meta)==null?void 0:_.collapse)==="open"?v="closed":((y=e.collection.meta)==null?void 0:y.collapse)==="closed"&&(v="locked");try{await m({meta:{collapse:v}})}catch(g){Ce(g)}finally{s.value=!1}}async function m(v){await n.updateCollection(e.collection.collection,v)}function f(v){const _=v.map(y=>({collection:y.collection,meta:{group:e.collection.collection}}));t("setNestedSort",_)}}}),qF={class:"collection-item"},zF={class:"collection-name"};function KF(e,t,n,l,i,u){var g;const a=c("v-icon"),s=c("v-list-item-icon"),r=c("v-progress-circular"),m=c("collection-options"),f=c("v-list-item"),v=c("collection-item",!0),_=c("draggable"),y=Se("tooltip");return p(),I("div",qF,[o(f,{block:"",dense:"",clickable:"",class:se({hidden:(g=e.collection.meta)==null?void 0:g.hidden}),to:e.collection.schema?`/settings/data-model/${e.collection.collection}`:void 0,onClick:t[0]||(t[0]=$=>e.collection.schema?null:e.$emit("editCollection",e.collection))},{default:d(()=>{var $,h;return[o(s,null,{default:d(()=>[e.disableDrag?R("",!0):(p(),C(a,{key:0,class:"drag-handle",name:"drag_handle"}))]),_:1}),S("div",zF,[o(a,{color:(($=e.collection.meta)==null?void 0:$.hidden)?"var(--foreground-subdued)":e.collection.color,class:"collection-icon",name:((h=e.collection.meta)==null?void 0:h.hidden)?"visibility_off":e.collection.icon},null,8,["color","name"]),S("span",null,b(e.collection.name),1)]),e.collection.type==="alias"||e.nestedCollections.length?(p(),I(ie,{key:0},[e.collapseLoading?(p(),C(r,{key:0,small:"",indeterminate:""})):e.nestedCollections.length?x((p(),C(a,{key:1,name:e.collapseIcon,clickable:e.nestedCollections.length>0,onClick:Fe(e.toggleCollapse,["stop","prevent"])},null,8,["name","clickable","onClick"])),[[y,e.collapseTooltip]]):(p(),C(a,{key:2,name:e.collapseIcon},null,8,["name"]))],64)):R("",!0),o(m,{collection:e.collection},null,8,["collection"])]}),_:1},8,["class","to"]),o(_,{"force-fallback":!0,"model-value":e.nestedCollections,group:{name:"collections"},"swap-threshold":.3,class:"drag-container","item-key":"collection",handle:".drag-handle","onUpdate:modelValue":e.onGroupSortChange},{item:d(({element:$})=>[o(v,{collection:$,collections:e.collections,onEditCollection:t[1]||(t[1]=h=>e.$emit("editCollection",h)),onSetNestedSort:t[2]||(t[2]=h=>e.$emit("setNestedSort",h))},null,8,["collection","collections"])]),_:1},8,["model-value","swap-threshold","onUpdate:modelValue"])])}var HF=q(BF,[["render",KF],["__scopeId","data-v-3d219244"]]);const WF=z({name:"CollectionDialog",props:{modelValue:{type:Boolean,default:!1},collection:{type:Object,default:null}},emits:["update:modelValue"],setup(e,{emit:t}){var r,m,f,v,_,y,g,$,h,k,A,F;const{t:n}=Y(),l=Ke(),i=Zt({collection:(m=(r=e.collection)==null?void 0:r.collection)!=null?m:null,icon:(v=(f=e.collection)==null?void 0:f.icon)!=null?v:"folder",note:(g=(y=(_=e.collection)==null?void 0:_.meta)==null?void 0:y.note)!=null?g:null,color:(h=($=e.collection)==null?void 0:$.color)!=null?h:null,translations:(F=(A=(k=e.collection)==null?void 0:k.meta)==null?void 0:A.translations)!=null?F:null});_e(()=>e.modelValue,(P,O)=>{var T,N,L,M,B,K,W,le,G,Q,fe,ue;U.exports.isEqual(P,O)===!1&&(i.collection=(N=(T=e.collection)==null?void 0:T.collection)!=null?N:null,i.icon=(M=(L=e.collection)==null?void 0:L.icon)!=null?M:"folder",i.note=(W=(K=(B=e.collection)==null?void 0:B.meta)==null?void 0:K.note)!=null?W:null,i.color=(G=(le=e.collection)==null?void 0:le.color)!=null?G:null,i.translations=(ue=(fe=(Q=e.collection)==null?void 0:Q.meta)==null?void 0:fe.translations)!=null?ue:null)});const u=E(!1);return{values:i,cancel:a,saving:u,save:s,t:n};function a(){t("update:modelValue",!1)}async function s(){u.value=!0;try{e.collection?(await re.patch(`/collections/${e.collection.collection}`,{meta:i}),await l.hydrate()):(await re.post("/collections",{collection:i.collection,meta:i}),await l.hydrate()),t("update:modelValue",!1)}catch(P){Ce(P)}finally{u.value=!1}}}}),GF={class:"fields"};function JF(e,t,n,l,i,u){const a=c("v-card-title"),s=c("v-input"),r=c("interface-select-icon"),m=c("interface-select-color"),f=c("interface-list"),v=c("v-card-text"),_=c("v-button"),y=c("v-card-actions"),g=c("v-card"),$=c("v-dialog");return p(),C($,{"model-value":e.modelValue,persistent:"","onUpdate:modelValue":t[5]||(t[5]=h=>e.$emit("update:modelValue",h)),onEsc:e.cancel},{activator:d(h=>[ye(e.$slots,"activator",He(Xe(h)),void 0,!0)]),default:d(()=>[o(g,null,{default:d(()=>[e.collection?(p(),C(a,{key:1},{default:d(()=>[D(b(e.t("edit_folder")),1)]),_:1})):(p(),C(a,{key:0},{default:d(()=>[D(b(e.t("create_folder")),1)]),_:1})),o(v,null,{default:d(()=>[S("div",GF,[o(s,{modelValue:e.values.collection,"onUpdate:modelValue":t[0]||(t[0]=h=>e.values.collection=h),disabled:!!e.collection,class:"full collection-key","db-safe":"",autofocus:"",placeholder:e.t("folder_key")},null,8,["modelValue","disabled","placeholder"]),o(r,{width:"half",value:e.values.icon,onInput:t[1]||(t[1]=h=>e.values.icon=h)},null,8,["value"]),o(m,{width:"half",value:e.values.color,onInput:t[2]||(t[2]=h=>e.values.color=h)},null,8,["value"]),o(s,{modelValue:e.values.note,"onUpdate:modelValue":t[3]||(t[3]=h=>e.values.note=h),class:"full",placeholder:e.t("note")},null,8,["modelValue","placeholder"]),o(f,{width:"full",class:"full",value:e.values.translations,placeholder:e.t("no_translations"),template:"{{ translation }} ({{ language }})",fields:[{field:"language",name:"$t:language",type:"string",schema:{default_value:"en-US"},meta:{interface:"system-language",width:"half"}},{field:"translation",name:"$t:field_options.directus_collections.collection_name",type:"string",meta:{interface:"input",width:"half",options:{placeholder:"$t:field_options.directus_collections.translation_placeholder"}}}],onInput:t[4]||(t[4]=h=>e.values.translations=h)},null,8,["value","placeholder","fields"])])]),_:1}),o(y,null,{default:d(()=>[o(_,{secondary:"",onClick:e.cancel},{default:d(()=>[D(b(e.t("cancel")),1)]),_:1},8,["onClick"]),o(_,{disabled:!e.values.collection,loading:e.saving,onClick:e.save},{default:d(()=>[D(b(e.t("save")),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]),_:1})]),_:3},8,["model-value","onEsc"])}var QF=q(WF,[["render",JF],["__scopeId","data-v-ce1c7cd4"]]);const XF=z({components:{SettingsNavigation:Ut,CollectionItem:HF,CollectionOptions:Qa,Draggable:Ct,CollectionDialog:QF},setup(){const{t:e}=Y(),t=E(!1),n=E(),l=Ke(),i=V(()=>Vt(U.exports.sortBy(l.collections.filter(m=>m.collection.startsWith("directus_")===!1&&m.meta),["meta.sort","collection"]))),u=V(()=>i.value.filter(m=>{var f;return!((f=m.meta)==null?void 0:f.group)})),a=V(()=>Vt(U.exports.sortBy(l.collections.filter(m=>m.collection.startsWith("directus_")===!1&&!m.meta&&m.schema),["meta.sort","collection"]))),s=V(()=>Vt(U.exports.sortBy(l.collections.filter(m=>m.collection.startsWith("directus_")===!0).map(m=>Ve(pe({},m),{icon:"settings"})),"collection")));return{collectionDialogActive:t,t:e,collections:i,tableCollections:a,systemCollections:s,onSort:r,rootCollections:u,editCollection:n};async function r(m,f=!1){const v=m.map((_,y)=>{var g;return U.exports.merge(_,{meta:{sort:y+1,group:f?null:(g=_.meta)==null?void 0:g.group}})});l.collections=l.collections.map(_=>{const y=v.find(g=>g.collection===_.collection);return y?U.exports.merge({},_,y):_});try{await Promise.all(v.map(_=>re.patch(`/collections/${_.collection}`,{meta:{sort:_.meta.sort,group:_.meta.group}})))}catch(_){Ce(_)}}}}),ZF={class:"padding-box"},YF={class:"collection-name"},xF={class:"page-description"};function e3(e,t,n,l,i,u){const a=c("v-breadcrumb"),s=c("v-icon"),r=c("v-button"),m=c("collection-dialog"),f=c("settings-navigation"),v=c("v-info"),_=c("collection-item"),y=c("draggable"),g=c("v-list"),$=c("v-list-item-icon"),h=c("router-link"),k=c("collection-options"),A=c("v-list-item"),F=c("v-detail"),P=c("router-view"),O=c("sidebar-detail"),T=c("private-view"),N=Se("tooltip"),L=Se("md");return p(),C(T,{title:e.t("settings_data_model")},{headline:d(()=>[o(a,{items:[{name:e.t("settings"),to:"/settings"}]},null,8,["items"])]),"title-outer:prepend":d(()=>[o(r,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:d(()=>[o(s,{name:"list_alt"})]),_:1})]),actions:d(()=>[o(m,{modelValue:e.collectionDialogActive,"onUpdate:modelValue":t[0]||(t[0]=M=>e.collectionDialogActive=M)},{activator:d(({on:M})=>[x(o(r,{rounded:"",icon:"",class:"add-folder",onClick:M},{default:d(()=>[o(s,{name:"create_new_folder"})]),_:2},1032,["onClick"]),[[N,e.t("create_folder"),void 0,{bottom:!0}]])]),_:1},8,["modelValue"]),x(o(r,{rounded:"",icon:"",to:"/settings/data-model/+"},{default:d(()=>[o(s,{name:"add"})]),_:1},512),[[N,e.t("create_collection"),void 0,{bottom:!0}]])]),navigation:d(()=>[o(f)]),sidebar:d(()=>[o(O,{icon:"info_outline",title:e.t("information"),close:""},{default:d(()=>[x(S("div",xF,null,512),[[L,e.t("page_help_settings_datamodel_collections")]])]),_:1},8,["title"])]),default:d(()=>[S("div",ZF,[e.collections.length===0?(p(),C(v,{key:0,type:"warning",icon:"box",title:e.t("no_collections")},{append:d(()=>[o(r,{to:"/settings/data-model/+"},{default:d(()=>[D(b(e.t("create_collection")),1)]),_:1})]),default:d(()=>[D(b(e.t("no_collections_copy_admin"))+" ",1)]),_:1},8,["title"])):(p(),C(g,{key:1,class:"draggable-list"},{default:d(()=>[o(y,{"force-fallback":!0,"model-value":e.rootCollections,group:{name:"collections"},"swap-threshold":.3,class:"root-drag-container","item-key":"collection",handle:".drag-handle","onUpdate:modelValue":t[2]||(t[2]=M=>e.onSort(M,!0))},{item:d(({element:M})=>[o(_,{collection:M,collections:e.collections,onEditCollection:t[1]||(t[1]=B=>e.editCollection=B),onSetNestedSort:e.onSort},null,8,["collection","collections","onSetNestedSort"])]),_:1},8,["model-value","swap-threshold"])]),_:1})),o(g,{class:"db-only"},{default:d(()=>[(p(!0),I(ie,null,he(e.tableCollections,M=>x((p(),C(A,{key:M.collection,class:"collection-row hidden",block:"",dense:"",clickable:""},{default:d(()=>[o($,null,{default:d(()=>[o(s,{name:"add"})]),_:1}),o(h,{class:"collection-name",to:`/settings/data-model/${M.collection}`},{default:d(()=>[o(s,{class:"collection-icon",name:"dns"}),S("span",YF,b(M.name),1)]),_:2},1032,["to"]),o(k,{collection:M},null,8,["collection"])]),_:2},1536)),[[N,e.t("db_only_click_to_configure")]])),128))]),_:1}),o(F,{label:e.t("system_collections")},{default:d(()=>[(p(!0),I(ie,null,he(e.systemCollections,M=>(p(),C(_,{key:M.collection,collection:M,collections:e.systemCollections,"disable-drag":""},null,8,["collection","collections"]))),128))]),_:1},8,["label"])]),o(P,{name:"add"}),o(m,{"model-value":!!e.editCollection,collection:e.editCollection,"onUpdate:modelValue":t[3]||(t[3]=M=>e.editCollection=null)},null,8,["model-value","collection"])]),_:1},8,["title"])}var t3=q(XF,[["render",e3],["__scopeId","data-v-748405d9"]]);function Xa(e,t){t.field.schema===void 0&&U.exports.set(e,"field.schema",{})}function Za(e){var l,i,u,a;if(!((i=(l=e.field)==null?void 0:l.meta)==null?void 0:i.interface))return;const t=Dt(e.field.meta.interface);if(!t)return;const n=(a=(u=t==null?void 0:t.localTypes)==null?void 0:u[0])!=null?a:"standard";U.exports.set(e,"localType",n)}function Ya(e,t){var i,u;if(!((u=(i=e.field)==null?void 0:i.meta)==null?void 0:u.interface))return;const n=Dt(e.field.meta.interface);if(!n)return e;if(t.field.type&&n.types.includes(t.field.type))return;const l=n==null?void 0:n.types[0];U.exports.set(e,"field.type",l)}function xa(e){const t=e==null?void 0:e.localType;switch(t){case"o2m":case"m2m":case"m2a":case"m2o":case"translations":case"file":case"files":U.exports.set(e,"field.meta.special",[t]);break;case"presentation":U.exports.set(e,"field.meta.special",["alias","no-data"]);break;case"group":U.exports.set(e,"field.meta.special",["alias","no-data","group"]);break}}function ei(e){e.relations||(e.relations={}),e.relations.m2o=void 0,e.relations.o2m=void 0}var n3=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",resetSchema:Xa,setLocalTypeForInterface:Za,setTypeForInterface:Ya,setSpecialForLocalType:xa,resetRelations:ei});function l3(e,t,n){const{hasChanged:l}=n;l("localType")&&(ti(e),ni(e,t)),l("field.field")&&li(e)}function ti(e){U.exports.set(e,"field.type","uuid")}function ni(e,t){e.relations||(e.relations={}),e.relations.m2o={collection:t.collection,field:t.field.field,related_collection:"directus_files",meta:{sort_field:null},schema:{on_delete:"SET NULL"}}}function li(e){var t,n;!((t=e.field)==null?void 0:t.field)||(((n=e.relations)==null?void 0:n.m2o)||(e.relations={m2o:{}}),U.exports.set(e,"relations.m2o.field",e.field.field))}var o3=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",applyChanges:l3,setTypeToUUID:ti,prepareRelation:ni,updateRelationField:li});function a3(e,t,n){const{hasChanged:l}=n;l("localType")&&(oi(e),ai(e),ii(e,t),ci(e,t)),l("field.field")&&si(e),l("relations.m2o.related_collection")&&ri(e,t,n),l("relations.o2m.field")&&yo(e,t,n),l("relations.m2o.field")&&yo(e,t,n),(l("relations.o2m.collection")||l("relations.m2o.collection"))&&pi(e),["relations.o2m.collection","relations.o2m.field","relations.m2o.field","relations.m2o.related_collection","relations.o2m.meta.sort_field"].some(l)&&(ui(e,t,n),i3(e,t,n))}function oi(e){U.exports.set(e,"field.schema",void 0)}function ai(e){U.exports.set(e,"field.type","alias")}function ii(e,t){var n,l;e.relations||(e.relations={}),e.relations.o2m={collection:void 0,field:void 0,related_collection:t.collection,meta:{one_field:(l=(n=e.field)==null?void 0:n.field)!=null?l:t.field.field,sort_field:null,one_deselect_action:"nullify"},schema:{on_delete:"SET NULL"}},e.relations.m2o={collection:void 0,field:void 0,related_collection:void 0,meta:{one_field:null,sort_field:null,one_deselect_action:"nullify"},schema:{on_delete:"SET NULL"}}}function si(e){var t,n;!((t=e.field)==null?void 0:t.field)||(((n=e.relations)==null?void 0:n.o2m)||(e.relations={o2m:{}}),U.exports.set(e,"relations.o2m.meta.one_field",e.field.field))}function ri(e,t,{getCurrent:n}){n("relations.o2m.collection")===n("relations.o2m.related_collection")&&U.exports.set(e,"relations.o2m.schema.on_delete","NO ACTION"),n("relations.m2o.collection")===n("relations.m2o.related_collection")&&U.exports.set(e,"relations.m2o.schema.on_delete","NO ACTION")}function yo(e,t,{getCurrent:n}){U.exports.set(e,"relations.o2m.meta.junction_field",n("relations.m2o.field")),U.exports.set(e,"relations.m2o.meta.junction_field",n("relations.o2m.field"))}function di(e){return!!Ke().getCollection(e)}function go(e,t){return!!Pe().getField(e,t)}function ui(e,t,{getCurrent:n}){const l=n("relations.o2m.collection");!l||di(l)?U.exports.set(e,"collections.junction",void 0):U.exports.set(e,"collections.junction",{collection:l,meta:{hidden:!0,icon:"import_export"},schema:{name:l},fields:[{field:"id",type:"integer",schema:{has_auto_increment:!0},meta:{hidden:!0}}]})}function i3(e,t,{getCurrent:n}){var v,_,y;const l=Pe(),i=l.getPrimaryKeyFieldForCollection(t.collection),u=n("relations.o2m.collection"),a=n("relations.o2m.field"),s=n("relations.m2o.field"),r=n("relations.m2o.related_collection"),m=(v=l.getPrimaryKeyFieldForCollection(r))!=null?v:n("collections.related.fields[0]"),f=n("relations.o2m.meta.sort_field");u&&a&&go(u,a)===!1?U.exports.set(e,"fields.junctionCurrent",{collection:u,field:a,type:(_=i==null?void 0:i.type)!=null?_:"integer",schema:{},meta:{hidden:!0}}):U.exports.set(e,"fields.junctionCurrent",void 0),u&&s&&go(u,s)===!1?U.exports.set(e,"fields.junctionRelated",{collection:u,field:s,type:(y=m==null?void 0:m.type)!=null?y:"uuid",schema:{},meta:{hidden:!0}}):U.exports.set(e,"fields.junctionRelated",void 0),u&&f&&go(u,f)===!1?U.exports.set(e,"fields.sort",{collection:u,field:f,type:"integer",schema:{},meta:{hidden:!1}}):U.exports.set(e,"fields.sort",void 0)}function ci(e,t){var a,s;const n=Pe(),l=t.collection,i=(s=(a=n.getPrimaryKeyFieldForCollection(l))==null?void 0:a.field)!=null?s:"id",u=mi(l);U.exports.set(e,"relations.o2m.collection",u),U.exports.set(e,"relations.o2m.field",`${l}_${i}`),U.exports.set(e,"relations.m2o.collection",u),U.exports.set(e,"relations.m2o.related_collection","directus_files"),U.exports.set(e,"relations.m2o.field","directus_files_id")}function pi(e){var t,n,l,i,u,a;((n=(t=e==null?void 0:e.relations)==null?void 0:t.o2m)==null?void 0:n.collection)&&e.relations.o2m.collection!==((l=e.relations.m2o)==null?void 0:l.collection)&&U.exports.set(e,"relations.m2o.collection",e.relations.o2m.collection),((u=(i=e==null?void 0:e.relations)==null?void 0:i.m2o)==null?void 0:u.collection)&&e.relations.m2o.collection!==((a=e.relations.o2m)==null?void 0:a.collection)&&U.exports.set(e,"relations.o2m.collection",e.relations.m2o.collection)}function mi(e){let t=0,n=l(t);for(;di(n);)t++,n=l(t);return n;function l(i){let u=`${e}_files`;return u.startsWith("directus_")&&(u="junction_"+u),i?u+"_"+i:u}}var s3=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",applyChanges:a3,removeSchema:oi,setTypeToAlias:ai,prepareRelation:ii,updateRelationField:si,preventCircularConstraint:ri,setJunctionFields:yo,generateCollections:ui,setDefaults:ci,matchJunctionCollectionName:pi,getAutomaticJunctionCollectionName:mi});function r3(e,t,n){const{hasChanged:l}=n;l("localType")&&(fi(e),vi(e),_i(e))}function fi(e){U.exports.set(e,"field.schema",void 0)}function vi(e){U.exports.set(e,"field.type","alias")}function _i(e){U.exports.set(e,"field.meta.special",["alias","no-data","group"])}var d3=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",applyChanges:r3,removeSchema:fi,setTypeToAlias:vi,setSpecialToGroup:_i});function u3(e,t,n){const{hasChanged:l}=n;l("localType")&&(yi(e),gi(e),hi(e,t),bi(e,t,n)),l("field.field")&&(wi(e),$i(e,t,n)),l("relations.o2m.field")&&bo(e,t,n),l("relations.m2o.field")&&bo(e,t,n),(l("relations.o2m.collection")||l("relations.m2o.collection"))&&Ci(e),l("fields.corresponding")&&Vi(e),["relations.o2m.collection","relations.o2m.field","relations.m2o.field","relations.o2m.meta.sort_field","relations.m2o.meta.one_collection_field"].some(l)&&(Si(e,t,n),p3(e,t,n))}function yi(e){U.exports.set(e,"field.schema",void 0)}function gi(e){U.exports.set(e,"field.type","alias")}function hi(e,t){var n,l;e.relations||(e.relations={}),e.relations.o2m={collection:void 0,field:void 0,related_collection:t.collection,meta:{one_field:(l=(n=e.field)==null?void 0:n.field)!=null?l:t.field.field,sort_field:null,one_deselect_action:"nullify"},schema:{on_delete:"SET NULL"}},e.relations.m2o={collection:void 0,field:void 0,related_collection:null,meta:{one_field:null,sort_field:null,one_deselect_action:"nullify"},schema:null}}function bi(e,t,{getCurrent:n}){var s,r;const l=Pe(),i=t.collection,u=(r=(s=l.getPrimaryKeyFieldForCollection(i))==null?void 0:s.field)!=null?r:"id",a=ho(i,n("field.field"));U.exports.set(e,"relations.o2m.collection",a),U.exports.set(e,"relations.o2m.field",`${i}_${u}`),U.exports.set(e,"relations.m2o.collection",a),U.exports.set(e,"relations.m2o.field","item"),U.exports.set(e,"relations.m2o.meta.one_allowed_collections",[]),U.exports.set(e,"relations.m2o.meta.one_collection_field","collection")}function $i(e,t,{getCurrent:n}){n("autoGenerateJunctionRelation")!==!1&&U.exports.set(e,"relations.o2m.collection",ho(n("collection"),n("field.field")))}function ho(e,t){let n=0,l=i(n);for(;ki(l);)n++,l=i(n);return l;function i(u){let a=`${e}_${t}`;return a.startsWith("directus_")&&(a="junction_"+a),u?a+"_"+u:a}}function wi(e){var t,n;!((t=e.field)==null?void 0:t.field)||(((n=e.relations)==null?void 0:n.o2m)||(e.relations={o2m:{}}),U.exports.set(e,"relations.o2m.meta.one_field",e.field.field))}function c3(e,t,{getCurrent:n}){n("relations.o2m.collection")===n("relations.o2m.related_collection")&&U.exports.set(e,"relations.o2m.schema.on_delete","NO ACTION")}function bo(e,t,{getCurrent:n}){U.exports.set(e,"relations.o2m.meta.junction_field",n("relations.m2o.field")),U.exports.set(e,"relations.m2o.meta.junction_field",n("relations.o2m.field"))}function ki(e){return!!Ke().getCollection(e)}function Fl(e,t){return!!Pe().getField(e,t)}function Si(e,t,{getCurrent:n}){const l=n("relations.o2m.collection");!l||ki(l)?U.exports.set(e,"collections.junction",void 0):U.exports.set(e,"collections.junction",{collection:l,meta:{hidden:!0,icon:"import_export"},schema:{name:l},fields:[{field:"id",type:"integer",schema:{has_auto_increment:!0},meta:{hidden:!0}}]})}function p3(e,t,{getCurrent:n}){var f;const i=Pe().getPrimaryKeyFieldForCollection(t.collection),u=n("relations.o2m.collection"),a=n("relations.o2m.field"),s=n("relations.m2o.field"),r=n("relations.m2o.meta.one_collection_field"),m=n("relations.o2m.meta.sort_field");u&&a&&Fl(u,a)===!1?U.exports.set(e,"fields.junctionCurrent",{collection:u,field:a,type:(f=i==null?void 0:i.type)!=null?f:"integer",schema:{},meta:{hidden:!0}}):U.exports.set(e,"fields.junctionCurrent",void 0),u&&s&&Fl(u,s)===!1?U.exports.set(e,"fields.junctionRelated",{collection:u,field:s,type:"string",schema:{},meta:{hidden:!0}}):U.exports.set(e,"fields.junctionRelated",void 0),u&&r&&Fl(u,r)===!1?U.exports.set(e,"fields.oneCollectionField",{collection:u,field:r,type:"string",schema:{},meta:{hidden:!0}}):U.exports.set(e,"fields.oneCollectionField",void 0),u&&m&&Fl(u,m)===!1?U.exports.set(e,"fields.sort",{collection:u,field:m,type:"integer",schema:{},meta:{hidden:!0}}):U.exports.set(e,"fields.sort",void 0)}function Ci(e){var t,n,l,i,u,a;((n=(t=e==null?void 0:e.relations)==null?void 0:t.o2m)==null?void 0:n.collection)&&e.relations.o2m.collection!==((l=e.relations.m2o)==null?void 0:l.collection)&&U.exports.set(e,"relations.m2o.collection",e.relations.o2m.collection),((u=(i=e==null?void 0:e.relations)==null?void 0:i.m2o)==null?void 0:u.collection)&&e.relations.m2o.collection!==((a=e.relations.o2m)==null?void 0:a.collection)&&U.exports.set(e,"relations.o2m.collection",e.relations.m2o.collection)}function Vi(e){var t,n,l;((n=(t=e==null?void 0:e.fields)==null?void 0:t.corresponding)==null?void 0:n.field)&&U.exports.set(e,"relations.m2o.meta.one_field",e.fields.corresponding.field),((l=e.fields)==null?void 0:l.corresponding)||U.exports.set(e,"relations.m2o.meta.one_field",null)}var m3=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",applyChanges:u3,removeSchema:yi,setTypeToAlias:gi,prepareRelation:hi,setDefaults:bi,autoGenerateJunctionCollectionName:$i,getAutomaticJunctionCollectionName:ho,updateRelationField:wi,preventCircularConstraint:c3,setJunctionFields:bo,generateCollections:Si,matchJunctionCollectionName:Ci,setRelatedOneFieldForCorrespondingField:Vi});function f3(e,t,n){const{hasChanged:l}=n;l("localType")&&(Fi(e),Ai(e),Ii(e,t)),l("autoGenerateJunctionRelation")&&wo(e,t,n),l("field.field")&&Ei(e),l("relations.m2o.related_collection")&&(Di(e,t,n),wo(e,t,n)),l("relations.o2m.field")&&$o(e,t,n),l("relations.m2o.field")&&$o(e,t,n),(l("relations.o2m.collection")||l("relations.m2o.collection"))&&Oi(e),l("fields.corresponding")&&Li(e),["relations.o2m.collection","relations.o2m.field","relations.m2o.field","relations.m2o.related_collection","relations.o2m.meta.sort_field"].some(l)&&(Pi(e,t,n),v3(e,t,n))}function Fi(e){U.exports.set(e,"field.schema",void 0)}function Ai(e){U.exports.set(e,"field.type","alias")}function Ii(e,t){var n,l;e.relations||(e.relations={}),e.relations.o2m={collection:void 0,field:void 0,related_collection:t.collection,meta:{one_field:(l=(n=e.field)==null?void 0:n.field)!=null?l:t.field.field,sort_field:null,one_deselect_action:"nullify"},schema:{on_delete:"SET NULL"}},e.relations.m2o={collection:void 0,field:void 0,related_collection:void 0,meta:{one_field:null,sort_field:null,one_deselect_action:"nullify"},schema:{on_delete:"SET NULL"}}}function Ei(e){var t,n;!((t=e.field)==null?void 0:t.field)||(((n=e.relations)==null?void 0:n.o2m)||(e.relations={o2m:{}}),U.exports.set(e,"relations.o2m.meta.one_field",e.field.field))}function Di(e,t,{getCurrent:n}){n("relations.o2m.collection")===n("relations.o2m.related_collection")&&U.exports.set(e,"relations.o2m.schema.on_delete","NO ACTION"),n("relations.m2o.collection")===n("relations.m2o.related_collection")&&U.exports.set(e,"relations.m2o.schema.on_delete","NO ACTION")}function $o(e,t,{getCurrent:n}){U.exports.set(e,"relations.o2m.meta.junction_field",n("relations.m2o.field")),U.exports.set(e,"relations.m2o.meta.junction_field",n("relations.o2m.field"))}function wo(e,t,{getCurrent:n}){var s,r,m,f,v,_;if(n("autoGenerateJunctionRelation")===!1)return;const l=Pe(),i=t.collection,u=(r=(s=l.getPrimaryKeyFieldForCollection(i))==null?void 0:s.field)!=null?r:"id",a=(f=(m=e.relations)==null?void 0:m.m2o)==null?void 0:f.related_collection;if(a){const y=Ti(i,a),g=(_=(v=l.getPrimaryKeyFieldForCollection(a))==null?void 0:v.field)!=null?_:"id";U.exports.set(e,"relations.o2m.collection",y),U.exports.set(e,"relations.m2o.collection",y),U.exports.set(e,"relations.o2m.related_collection",i),U.exports.set(e,"relations.m2o.related_collection",a),U.exports.set(e,"relations.o2m.field",`${i}_${u}`),U.exports.set(e,"relations.m2o.field",`${a}_${g}`),n("relations.o2m.field")===n("relations.m2o.field")&&U.exports.set(e,"relations.m2o.field",`related_${n("relations.m2o.field")}`)}else U.exports.set(e,"relations.o2m.collection",void 0),U.exports.set(e,"relations.m2o.collection",void 0),U.exports.set(e,"relations.o2m.related_collection",t.collection),U.exports.set(e,"relations.m2o.related_collection",void 0),U.exports.set(e,"relations.o2m.field",void 0),U.exports.set(e,"relations.m2o.field",void 0)}function Ti(e,t){let n=0,l=i(n);for(;ko(l);)n++,l=i(n);return l;function i(u){let a=`${e}_${t}`;return a.startsWith("directus_")&&(a="junction_"+a),u?a+"_"+u:a}}function ko(e){return!!Ke().getCollection(e)}function So(e,t){return!!Pe().getField(e,t)}function Pi(e,t,{getCurrent:n}){const l=n("relations.o2m.collection"),i=n("relations.m2o.related_collection");!l||ko(l)?U.exports.set(e,"collections.junction",void 0):U.exports.set(e,"collections.junction",{collection:l,meta:{hidden:!0,icon:"import_export"},schema:{name:l},fields:[{field:"id",type:"integer",schema:{has_auto_increment:!0},meta:{hidden:!0}}]}),i&&ko(i)===!1?U.exports.set(e,"collections.related",{collection:i,meta:{},schema:{name:i},fields:[{field:"id",type:"integer",schema:{has_auto_increment:!0},meta:{hidden:!0}}]}):U.exports.set(e,"collections.related",void 0)}function v3(e,t,{getCurrent:n}){var y,g,$,h;const l=Pe(),i=ut(),u=l.getPrimaryKeyFieldForCollection(t.collection),a=n("relations.o2m.collection"),s=n("relations.o2m.field"),r=n("relations.m2o.field"),m=n("relations.o2m.meta.sort_field"),f=n("relations.m2o.related_collection"),v=(y=l.getPrimaryKeyFieldForCollection(f))!=null?y:n("collections.related.fields[0]"),_=i.relations.find(k=>k.collection===a&&k.field===r);_&&U.exports.set(e,"relations.m2o.meta.one_field",(g=_.meta)==null?void 0:g.one_field),a&&s&&So(a,s)===!1?U.exports.set(e,"fields.junctionCurrent",{collection:a,field:s,type:($=u==null?void 0:u.type)!=null?$:"integer",schema:{},meta:{hidden:!0}}):U.exports.set(e,"fields.junctionCurrent",void 0),a&&r&&So(a,r)===!1?U.exports.set(e,"fields.junctionRelated",{collection:a,field:r,type:(h=v==null?void 0:v.type)!=null?h:"integer",schema:{},meta:{hidden:!0}}):U.exports.set(e,"fields.junctionRelated",void 0),a&&m&&So(a,m)===!1?U.exports.set(e,"fields.sort",{collection:a,field:m,type:"integer",schema:{},meta:{hidden:!1}}):U.exports.set(e,"fields.sort",void 0)}function Oi(e){var t,n,l,i,u,a;((n=(t=e==null?void 0:e.relations)==null?void 0:t.o2m)==null?void 0:n.collection)&&e.relations.o2m.collection!==((l=e.relations.m2o)==null?void 0:l.collection)&&U.exports.set(e,"relations.m2o.collection",e.relations.o2m.collection),((u=(i=e==null?void 0:e.relations)==null?void 0:i.m2o)==null?void 0:u.collection)&&e.relations.m2o.collection!==((a=e.relations.o2m)==null?void 0:a.collection)&&U.exports.set(e,"relations.o2m.collection",e.relations.m2o.collection)}function Li(e){var t,n,l;((n=(t=e==null?void 0:e.fields)==null?void 0:t.corresponding)==null?void 0:n.field)&&U.exports.set(e,"relations.m2o.meta.one_field",e.fields.corresponding.field),((l=e.fields)==null?void 0:l.corresponding)||U.exports.set(e,"relations.m2o.meta.one_field",null)}var _3=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",applyChanges:f3,removeSchema:Fi,setTypeToAlias:Ai,prepareRelation:Ii,updateRelationField:Ei,preventCircularConstraint:Di,setJunctionFields:$o,autoGenerateJunctionFields:wo,getAutomaticJunctionCollectionName:Ti,generateCollections:Pi,matchJunctionCollectionName:Oi,setRelatedOneFieldForCorrespondingField:Li});function y3(e,t,n){const{hasChanged:l}=n;l("localType")&&ji(e,t),l("field.field")&&Ri(e),l("relations.m2o.related_collection")&&(Mi(e),Ui(e,t),Ni(e,t)),l("fields.corresponding")&&Bi(e)}function ji(e,t){e.relations||(e.relations={}),e.relations.m2o={collection:t.collection,field:t.field.field,related_collection:void 0,meta:{sort_field:null},schema:{on_delete:"SET NULL"}}}function Ri(e){var t,n;!((t=e.field)==null?void 0:t.field)||(((n=e.relations)==null?void 0:n.m2o)||(e.relations={m2o:{}}),U.exports.set(e,"relations.m2o.field",e.field.field))}function Mi(e){var i,u,a;const t=(u=(i=e.relations)==null?void 0:i.m2o)==null?void 0:u.related_collection;if(!t)return;((a=e.collections)==null?void 0:a.related)||(e.collections={related:void 0}),!!Ke().getCollection(t)===!1&&(e.collections.related={collection:t,fields:[{field:"id",type:"integer",schema:{has_auto_increment:!0,is_primary_key:!0},meta:{hidden:!0}}],meta:{},schema:{}})}function Ui(e,t){var l,i;const n=(i=(l=e.relations)==null?void 0:l.m2o)==null?void 0:i.related_collection;!n||(e.relations||(e.relations={}),n===t.collection&&U.exports.set(e,"relations.m2o.schema.on_delete","NO ACTION"))}function Ni(e,t){var u,a,s,r,m;const n=(a=(u=e.relations)==null?void 0:u.m2o)==null?void 0:a.related_collection;if(!n)return;const i=Pe().getPrimaryKeyFieldForCollection(n);i?U.exports.set(e,"field.type",i.type):((m=(r=(s=t.collections.related)==null?void 0:s.fields)==null?void 0:r[0])==null?void 0:m.type)&&U.exports.set(e,"field.type",t.collections.related.fields[0].type)}function Bi(e){var t,n,l;((n=(t=e==null?void 0:e.fields)==null?void 0:t.corresponding)==null?void 0:n.field)&&U.exports.set(e,"relations.m2o.meta.one_field",e.fields.corresponding.field),((l=e.fields)==null?void 0:l.corresponding)||U.exports.set(e,"relations.m2o.meta.one_field",null)}var g3=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",applyChanges:y3,prepareRelation:ji,updateRelationField:Ri,generateRelatedCollection:Mi,preventCircularConstraint:Ui,setTypeToRelatedPrimaryKey:Ni,setRelatedOneFieldForCorrespondingField:Bi});function h3(e,t,n){const{hasChanged:l}=n;l("localType")&&(qi(e),zi(e),Ki(e,t)),l("field.field")&&Wi(e),l("relations.o2m.collection")&&(Ji(e),Hi(e,t),Xi(e,t),Co(e,t,n)),l("relations.o2m.field")&&(Gi(e),Qi(e,t)),l("relations.o2m.meta.sort_field")&&Co(e,t,n)}function qi(e){U.exports.set(e,"field.schema",void 0)}function zi(e){U.exports.set(e,"field.type","alias")}function Ki(e,t){var n,l;e.relations||(e.relations={}),e.relations.o2m={collection:void 0,field:void 0,related_collection:t.collection,meta:{one_field:(l=(n=e.field)==null?void 0:n.field)!=null?l:t.field.field,sort_field:null,one_deselect_action:"nullify"},schema:{on_delete:"SET NULL"}}}function Hi(e,t){var l,i;const n=(i=(l=e.relations)==null?void 0:l.o2m)==null?void 0:i.collection;!n||(e.relations||(e.relations={}),n===t.collection&&U.exports.set(e,"relations.o2m.schema.on_delete","NO ACTION"))}function Wi(e){var t,n;!((t=e.field)==null?void 0:t.field)||(((n=e.relations)==null?void 0:n.o2m)||(e.relations={o2m:{}}),U.exports.set(e,"relations.o2m.meta.one_field",e.field.field))}function Gi(e){var i,u,a;e.relations||(e.relations={});const t=ut(),n=(i=e.relations.o2m)==null?void 0:i.collection,l=(u=e.relations.o2m)==null?void 0:u.field;if(n&&l){const s=t.getRelationForField(n,l);if(s){U.exports.set(e,"relations.o2m.schema.on_delete",(a=s.schema)==null?void 0:a.on_delete);return}}}function Ji(e){var i,u,a;const t=(u=(i=e.relations)==null?void 0:i.o2m)==null?void 0:u.collection;if(!t)return;const l=!!Ke().getCollection(t);((a=e.collections)==null?void 0:a.related)||(e.collections={related:void 0}),l===!1&&(e.collections.related={collection:t,fields:[{field:"id",type:"integer",schema:{has_auto_increment:!0,is_primary_key:!0},meta:{hidden:!0}}],meta:{},schema:{}})}function Qi(e,t){var s,r,m,f,v,_,y,g,$;const n=Pe(),l=(f=(r=(s=e.relations)==null?void 0:s.o2m)==null?void 0:r.collection)!=null?f:(m=t.relations.o2m)==null?void 0:m.collection;if(!l)return;const i=t.collection&&(_=(v=n.getPrimaryKeyFieldForCollection(t.collection))==null?void 0:v.type)!=null?_:"integer",u=(g=(y=e.relations)==null?void 0:y.o2m)==null?void 0:g.field;if(!u)return;const a=!!n.getField(l,u);(($=e.fields)==null?void 0:$.corresponding)||(e.fields={corresponding:void 0}),a===!1&&(e.fields.corresponding={collection:l,field:u,type:i,schema:{},meta:{interface:"select-dropdown-m2o",hidden:!0}})}function Xi(e,t){var l,i;const n=(i=(l=e.relations)==null?void 0:l.o2m)==null?void 0:i.collection;!n||t.fields.corresponding&&U.exports.set(e,"fields.corresponding.collection",n)}function Co(e,t,{getCurrent:n}){const l=n("relations.o2m.meta.sort_field");if(!l)return;const i=Pe(),u=n("relations.o2m.collection");!!i.getField(u,l)?U.exports.set(e,"fields.sort",void 0):U.exports.set(e,"fields.sort",{collection:u,field:l,type:"integer",schema:{},meta:{hidden:!1}})}var b3=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",applyChanges:h3,removeSchema:qi,setTypeToAlias:zi,prepareRelation:Ki,preventCircularConstraint:Hi,updateRelationField:Wi,useExistingRelationValues:Gi,generateRelatedCollection:Ji,generateRelatedField:Qi,updateGeneratedRelatedField:Xi,generateSortField:Co});function $3(e,t,n){const{hasChanged:l}=n;l("localType")&&(Zi(e),Yi(e),xi(e))}function Zi(e){U.exports.set(e,"field.schema",void 0)}function Yi(e){U.exports.set(e,"field.type","alias")}function xi(e){U.exports.set(e,"field.meta.special",["alias","no-data"])}var w3=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",applyChanges:$3,removeSchema:Zi,setTypeToAlias:Yi,setSpecialToNoData:xi});function k3(e,t,n){const{hasChanged:l}=n;l("field.type")&&(S3(e),C3(e,n))}function S3(e){var n;const t=(n=e.field)==null?void 0:n.type;switch(t){case"uuid":case"hash":case"json":case"csv":case"boolean":case"geometry":U.exports.set(e,"field.meta.special",[t]);break;case void 0:break;default:U.exports.set(e,"field.meta.special",null)}}function C3(e,t){var i;const n=Dt(t.getCurrent("field.meta.interface")),l=(i=e.field)==null?void 0:i.type;l&&!(n==null?void 0:n.types.includes(l))&&U.exports.set(e,"field.meta.interface",void 0)}var V3=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",applyChanges:k3});function F3(e,t,n){const{hasChanged:l}=n;l("localType")&&(es(e),ts(e),ns(e,t),is(e,t,n)),l("field.field")&&ls(e),l("relations.m2o.related_collection")&&os(e,t,n),l("relations.o2m.field")&&Vo(e,t,n),l("relations.m2o.field")&&Vo(e,t,n),(l("relations.o2m.collection")||l("relations.m2o.collection"))&&ss(e),["relations.o2m.collection","relations.o2m.field","relations.m2o.field","relations.m2o.related_collection","relations.o2m.meta.sort_field"].some(l)&&(as(e,t,n),A3(e,t,n))}function es(e){U.exports.set(e,"field.schema",void 0)}function ts(e){U.exports.set(e,"field.type","alias")}function ns(e,t){var n,l;e.relations||(e.relations={}),e.relations.o2m={collection:void 0,field:void 0,related_collection:t.collection,meta:{one_field:(l=(n=e.field)==null?void 0:n.field)!=null?l:t.field.field,sort_field:null,one_deselect_action:"nullify"},schema:{on_delete:"SET NULL"}},e.relations.m2o={collection:void 0,field:void 0,related_collection:void 0,meta:{one_field:null,sort_field:null,one_deselect_action:"nullify"},schema:{on_delete:"SET NULL"}}}function ls(e){var t,n;!((t=e.field)==null?void 0:t.field)||(((n=e.relations)==null?void 0:n.o2m)||(e.relations={o2m:{}}),U.exports.set(e,"relations.o2m.meta.one_field",e.field.field))}function os(e,t,{getCurrent:n}){n("relations.o2m.collection")===n("relations.o2m.related_collection")&&U.exports.set(e,"relations.o2m.schema.on_delete","NO ACTION"),n("relations.m2o.collection")===n("relations.m2o.related_collection")&&U.exports.set(e,"relations.m2o.schema.on_delete","NO ACTION")}function Vo(e,t,{getCurrent:n}){U.exports.set(e,"relations.o2m.meta.junction_field",n("relations.m2o.field")),U.exports.set(e,"relations.m2o.meta.junction_field",n("relations.o2m.field"))}function Fo(e){return!!Ke().getCollection(e)}function Ao(e,t){return!!Pe().getField(e,t)}function as(e,t,{getCurrent:n}){const l=n("relations.o2m.collection"),i=n("relations.m2o.related_collection");if(!l||Fo(l)?U.exports.set(e,"collections.junction",void 0):U.exports.set(e,"collections.junction",{collection:l,meta:{hidden:!0,icon:"import_export"},schema:{name:l},fields:[{field:"id",type:"integer",schema:{has_auto_increment:!0},meta:{hidden:!0}}]}),i&&Fo(i)===!1){U.exports.set(e,"collections.related",{collection:i,meta:{},schema:{name:i},fields:[{field:"code",type:"string",schema:{is_primary_key:!0},meta:{}},{field:"name",type:"string",schema:{},meta:{}}]});const u=U.exports.get(t,"relations.m2o.related_collection");t.items&&t.items[u]&&delete t.items[u],e.items={[i]:[{code:"en-US",name:"English"},{code:"de-DE",name:"German"},{code:"fr-FR",name:"French"},{code:"ru-RU",name:"Russian"},{code:"es-ES",name:"Spanish"},{code:"it-IT",name:"Italian"},{code:"pt-BR",name:"Portuguese"}]}}else U.exports.set(e,"collections.related",void 0),e.items={}}function A3(e,t,{getCurrent:n}){var v,_,y;const l=Pe(),i=l.getPrimaryKeyFieldForCollection(t.collection),u=n("relations.o2m.collection"),a=n("relations.o2m.field"),s=n("relations.m2o.field"),r=n("relations.m2o.related_collection"),m=(v=l.getPrimaryKeyFieldForCollection(r))!=null?v:n("collections.related.fields[0]"),f=n("relations.o2m.sort_field");u&&a&&Ao(u,a)===!1?U.exports.set(e,"fields.junctionCurrent",{collection:u,field:a,type:(_=i==null?void 0:i.type)!=null?_:"integer",schema:{},meta:{hidden:!0}}):U.exports.set(e,"fields.junctionCurrent",void 0),u&&s&&Ao(u,s)===!1?U.exports.set(e,"fields.junctionRelated",{collection:u,field:s,type:(y=m==null?void 0:m.type)!=null?y:"string",schema:{},meta:{hidden:!0}}):U.exports.set(e,"fields.junctionRelated",void 0),u&&f&&Ao(u,f)===!1?U.exports.set(e,"fields.sort",{collection:u,field:f,type:"integer",schema:{},meta:{hidden:!1}}):U.exports.set(e,"fields.sort",void 0)}function is(e,t,{getCurrent:n}){var m,f,v,_;const l=Pe(),i=t.collection,u=(f=(m=l.getPrimaryKeyFieldForCollection(i))==null?void 0:m.field)!=null?f:"id",a=rs(i);U.exports.set(e,"relations.o2m.collection",a),U.exports.set(e,"relations.o2m.field",`${i}_${u}`),U.exports.set(e,"relations.m2o.collection",a),U.exports.set(e,"relations.m2o.related_collection","languages");const s=n("relations.m2o.related_collection"),r=(_=(v=l.getPrimaryKeyFieldForCollection(s))==null?void 0:v.field)!=null?_:"id";U.exports.set(e,"relations.m2o.field",`${s}_${r}`),n("field.field")||(U.exports.set(e,"field.field","translations"),U.exports.set(e,"relations.o2m.meta","translations"))}function ss(e){var t,n,l,i,u,a;((n=(t=e==null?void 0:e.relations)==null?void 0:t.o2m)==null?void 0:n.collection)&&e.relations.o2m.collection!==((l=e.relations.m2o)==null?void 0:l.collection)&&U.exports.set(e,"relations.m2o.collection",e.relations.o2m.collection),((u=(i=e==null?void 0:e.relations)==null?void 0:i.m2o)==null?void 0:u.collection)&&e.relations.m2o.collection!==((a=e.relations.o2m)==null?void 0:a.collection)&&U.exports.set(e,"relations.o2m.collection",e.relations.m2o.collection)}function rs(e){let t=0,n=l(t);for(;Fo(n);)t++,n=l(t);return n;function l(i){let u=`${e}_translations`;return u.startsWith("directus_")&&(u="junction_"+u),i?u+"_"+i:u}}var I3=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",applyChanges:F3,removeSchema:es,setTypeToAlias:ts,prepareRelation:ns,updateRelationField:ls,preventCircularConstraint:os,setJunctionFields:Vo,generateCollections:as,setDefaults:is,matchJunctionCollectionName:ss,getAutomaticJunctionCollectionName:rs}),E3=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",global:n3,file:o3,files:s3,group:d3,m2a:m3,m2m:_3,m2o:g3,o2m:b3,presentation:w3,standard:V3,translations:I3});function Yn(e,t){var a,s,r,m;const n=Pe(),l=ut(),i=n.getField(e,t),u=l.getRelationsForField(e,t);if(!i)return null;if(u.length===0)return i.type==="alias"?((s=(a=i.meta)==null?void 0:a.special)==null?void 0:s.includes("group"))?"group":"presentation":"standard";if(u.length===1){const f=u[0];return f.related_collection==="directus_files"?"file":f.collection===e&&f.field===t?"m2o":"o2m"}if(u.length===2){if((((r=i.meta)==null?void 0:r.special)||[]).includes("translations"))return"translations";if((((m=i.meta)==null?void 0:m.special)||[]).includes("m2a"))return"m2a";const f=u.find(v=>{var _;return v.collection===e&&v.field===t||v.related_collection===e&&((_=v.meta)==null?void 0:_.one_field)===t});return(f==null?void 0:f.collection)===e&&(f==null?void 0:f.field)===t?"m2o":u[0].related_collection==="directus_files"||u[1].related_collection==="directus_files"?"files":"m2m"}return"standard"}function Ee(e,t){const n=vt();return V({get(){return U.exports.get(n,e,t)},set(l){n.update(U.exports.set({},e,l))}})}const vt=At({id:"fieldDetailStore",state:()=>({collection:void 0,editing:"+",field:{field:void 0,type:void 0,schema:{},meta:{}},relations:{m2o:void 0,o2m:void 0},collections:{junction:void 0,related:void 0},fields:{corresponding:void 0,junctionCurrent:void 0,junctionRelated:void 0,sort:void 0,oneCollectionField:void 0},items:{},localType:"standard",autoGenerateJunctionRelation:!0,saving:!1}),actions:{startEditing(e,t,n){if(this.$reset(),this.collection=e,this.field.collection=e,this.editing=t,t!=="+"){const l=Pe(),i=ut();this.field=U.exports.cloneDeep(l.getField(e,t)),this.localType=Yn(e,t);const u=U.exports.cloneDeep(i.getRelationsForField(e,t));this.relations.o2m=u.find(a=>{var s;return a.related_collection===e&&((s=a.meta)==null?void 0:s.one_field)===t}),["files","m2m","translations","m2a"].includes(this.localType)?this.relations.m2o=u.find(a=>{var s,r,m;return((s=a.meta)==null?void 0:s.id)!==((m=(r=this.relations.o2m)==null?void 0:r.meta)==null?void 0:m.id)}):this.relations.m2o=u.find(a=>a.collection===e&&a.field===t)}else this.update({localType:n!=null?n:"standard"})},update(e){const t=u=>U.exports.has(e,u)&&U.exports.get(e,u)!==U.exports.get(this,u),n=u=>U.exports.has(e,u)?U.exports.get(e,u):U.exports.get(this,u),l={hasChanged:t,getCurrent:n};t("field.meta.interface")&&(Za(e),Ya(e,this)),t("localType")&&(Xa(e,this),ei(e),xa(e));const i=n("localType");i&&E3[i].applyChanges(e,this,l),this.$patch(e)},async save(){if(!this.collection||!this.field.field)return;const e=Ke(),t=Pe(),n=ut();this.saving=!0;try{await t.upsertField(this.collection,this.editing,this.field);for(const l of Object.values(this.collections))!l||!l.collection||await e.upsertCollection(l==null?void 0:l.collection,l);for(const l of Object.values(this.fields))!l||!l.collection||!l.field||await t.upsertField(l.collection,l.field,l);for(const l of Object.values(this.relations))!l||!l.collection||!l.field||await n.upsertRelation(l.collection,l.field,l);for(const l of Object.keys(this.items))await re.post(`/items/${l}`,this.items[l]);await t.hydrate()}catch(l){Ce(l)}finally{this.saving=!1}}},getters:{missingConfiguration(e){const t=["field.field","field.type","collection"],n=e.localType;return(n==="files"||n==="m2m"||n==="translations")&&t.push("relations.o2m.collection","relations.o2m.field","relations.o2m.related_collection","relations.m2o.collection","relations.m2o.field","relations.m2o.related_collection"),(n==="file"||n==="m2o")&&t.push("relations.m2o.collection","relations.m2o.field","relations.m2o.related_collection"),n==="o2m"&&t.push("relations.o2m.collection","relations.o2m.field","relations.o2m.related_collection"),n==="m2a"&&t.push("relations.o2m.collection","relations.o2m.field","relations.o2m.related_collection","relations.m2o.collection","relations.m2o.field","relations.m2o.meta.one_allowed_collections","relations.m2o.meta.one_collection_field"),t.filter(l=>(U.exports.has(e,l)&&U.exports.isEmpty(U.exports.get(e,l))===!1)===!1)},readyToSave(){return this.missingConfiguration.length===0},interfacesForType(){const{interfaces:e}=bn();return U.exports.orderBy(e.value.filter(t=>{if(t.system===!0)return!1;const n=t.types.includes(this.field.type||"alias"),l=(t.localTypes||["standard"]).includes(this.localType);return n&&l}),["name"])},displaysForType(){const{displays:e}=Gl();return U.exports.orderBy(e.value.filter(t=>{const n=t.types.includes(this.field.type||"alias"),l=(t.localTypes||["standard"]).includes(this.localType);return n&&l}),["name"])},generationInfo(){const e=[];for(const t of Object.values(this.collections))!t||!t.collection||e.push({name:t.collection,type:"collection"});for(const t of Object.values(this.fields))!t||!t.collection||!t.field||e.push({name:`${t.collection}.${t.field}`,type:"field"});return e}}});function ct(e,t,n){return V({get(){var l,i;return(i=(l=e.value)==null?void 0:l[t])!=null?i:Mn(n)},set(l){e.value=Object.assign({},e.value,{[t]:l})}})}const D3=z({props:{type:{type:String,required:!0},extension:{type:String,required:!0},showAdvanced:{type:Boolean,default:!1}},setup(e){const t=vt(),{t:n}=Y(),{collection:l,field:i,relations:u,fields:a,collections:s}=wt(t),r=V(()=>{switch(e.type){case"interface":return Dt(e.extension);case"display":return Bn(e.extension);default:return null}}),m=V(()=>r.value?r.value.options&&"render"in r.value.options:!1),f=V(()=>{if(!r.value)return[];if(!r.value.options)return[];if(m.value===!0)return[];let _;return typeof r.value.options=="function"?_=r.value.options(t):_=r.value.options,Array.isArray(_)?_:e.showAdvanced?[..._.standard,..._.advanced]:_.standard}),v=V({get(){const _=e.type==="interface"?"field.meta.options":"field.meta.display_options";return U.exports.get(t,_)},set(_){const y=e.type==="interface"?"options":"display_options";t.$patch(g=>{g.field.meta=Ve(pe({},g.field.meta),{[y]:_})})}});return{usesCustomComponent:m,extensionInfo:r,optionsFields:f,options:v,collection:l,field:i,relations:u,fields:a,collections:s,t:n}}});function T3(e,t,n,l,i,u){const a=c("v-notice"),s=c("v-form");return e.usesCustomComponent===!1&&e.optionsFields.length===0?(p(),C(a,{key:0},{default:d(()=>[D(b(e.t("no_options_available")),1)]),_:1})):e.usesCustomComponent===!1?(p(),C(s,{key:1,modelValue:e.options,"onUpdate:modelValue":t[0]||(t[0]=r=>e.options=r),class:"extension-options",fields:e.optionsFields,"primary-key":"+"},null,8,["modelValue","fields"])):(p(),C(Ue(`${e.type}-options-${e.extensionInfo.id}`),{key:2,value:e.options,collection:e.collection,field:e.field,onInput:t[1]||(t[1]=r=>e.options=r)},null,8,["value","collection","field"]))}var Io=q(D3,[["render",T3]]);const P3=z({props:{modelValue:{type:String,default:null},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e){const{t}=Y(),n=Ke(),l=V(()=>!!n.getCollection(e.modelValue)),i=V(()=>U.exports.orderBy(n.collections.filter(a=>a.collection.startsWith("directus_")===!1&&a.schema),["sort","collection"],["asc"])),u=V(()=>U.exports.orderBy(n.crudSafeSystemCollections.filter(a=>a.collection.startsWith("directus_")===!0),["collection"],["asc"]));return{t,collectionExists:l,availableCollections:i,systemCollections:u}}});function O3(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-list-item-content"),r=c("v-list-item"),m=c("v-divider"),f=c("v-list-group"),v=c("v-list"),_=c("v-menu"),y=c("v-text-overflow"),g=c("v-input"),$=Se("tooltip");return p(),C(g,{key:"related-collection-select","model-value":e.modelValue,class:se({matches:e.collectionExists}),"db-safe":"",nullable:!1,disabled:e.disabled,placeholder:e.t("collection")+"...","onUpdate:modelValue":t[0]||(t[0]=h=>e.$emit("update:modelValue",h))},Ze({_:2},[e.disabled?void 0:{name:"append",fn:d(()=>[o(_,{"show-arrow":"",placement:"bottom-end"},{activator:d(({toggle:h})=>[x(o(a,{name:"list_alt",clickable:"",disabled:e.disabled,onClick:h},null,8,["disabled","onClick"]),[[$,e.t("select_existing")]])]),default:d(()=>[o(v,{class:"monospace"},{default:d(()=>[(p(!0),I(ie,null,he(e.availableCollections,h=>(p(),C(r,{key:h.collection,active:e.modelValue===h.collection,clickable:"",onClick:k=>e.$emit("update:modelValue",h.collection)},{default:d(()=>[o(s,null,{default:d(()=>[D(b(h.collection),1)]),_:2},1024)]),_:2},1032,["active","onClick"]))),128)),o(m),o(f,null,{activator:d(()=>[D(b(e.t("system")),1)]),default:d(()=>[(p(!0),I(ie,null,he(e.systemCollections,h=>(p(),C(r,{key:h.collection,active:e.modelValue===h.collection,clickable:"",onClick:k=>e.$emit("update:modelValue",h.collection)},{default:d(()=>[o(s,null,{default:d(()=>[D(b(h.collection),1)]),_:2},1024)]),_:2},1032,["active","onClick"]))),128))]),_:1})]),_:1})]),_:1})])},e.disabled?{name:"input",fn:d(()=>[o(y,{text:e.modelValue},null,8,["text"])])}:void 0]),1032,["model-value","class","disabled","placeholder"])}var An=q(P3,[["render",O3]]);const L3=z({props:{modelValue:{type:String,default:null},disabled:{type:Boolean,default:!1},collection:{type:String,default:null},typeDenyList:{type:Array,default:()=>[]},placeholder:{type:String,default:()=>qe.global.t("foreign_key")+"..."},nullable:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e){const{t}=Y(),n=Pe(),l=V(()=>e.collection?n.getFieldsForCollectionAlphabetical(e.collection).map(u=>{var a;return{text:u.field,value:u.field,disabled:!u.schema||((a=u.schema)==null?void 0:a.is_primary_key)||e.typeDenyList.includes(u.type)}}):[]),i=V(()=>!e.collection||!e.modelValue?!1:!!n.getField(e.collection,e.modelValue));return{t,fields:l,fieldExists:i}}});function j3(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-list-item-content"),r=c("v-list-item"),m=c("v-list"),f=c("v-menu"),v=c("v-text-overflow"),_=c("v-input"),y=Se("tooltip");return p(),C(_,{"model-value":e.modelValue,"db-safe":"",nullable:e.nullable,disabled:e.disabled,placeholder:e.placeholder,class:se({matches:e.fieldExists}),"onUpdate:modelValue":t[0]||(t[0]=g=>e.$emit("update:modelValue",g))},Ze({_:2},[e.fields&&e.fields.length>0&&!e.disabled?{name:"append",fn:d(()=>[o(f,{"show-arrow":"",placement:"bottom-end"},{activator:d(({toggle:g})=>[x(o(a,{name:"list_alt",clickable:"",onClick:g},null,8,["onClick"]),[[y,e.t("select_existing")]])]),default:d(()=>[o(m,{class:"monospace"},{default:d(()=>[(p(!0),I(ie,null,he(e.fields,g=>(p(),C(r,{key:g.value,active:e.modelValue===g.value,disabled:g.disabled,clickable:"",onClick:$=>e.$emit("update:modelValue",g.value)},{default:d(()=>[o(s,null,{default:d(()=>[D(b(g.text),1)]),_:2},1024)]),_:2},1032,["active","disabled","onClick"]))),128))]),_:1})]),_:1})])}:void 0,e.disabled?{name:"input",fn:d(()=>[o(v,{text:e.modelValue},null,8,["text"])])}:void 0]),1032,["model-value","nullable","disabled","placeholder","class"])}var xn=q(L3,[["render",j3]]);const R3=z({components:{RelatedCollectionSelect:An,RelatedFieldSelect:xn},props:{localType:{type:String,required:!0}},setup(){const e=Ke(),{t}=Y(),n=Ee("relations.m2o.related_collection"),l=Ee("relations.o2m.collection"),i=Ee("relations.o2m.field"),u=Ee("relations.m2o.meta.one_allowed_collections",[]);return{availableCollections:V(()=>U.exports.orderBy([...e.allCollections,{divider:!0},{name:t("system"),selectable:!1,children:e.crudSafeSystemCollections}],["collection"],["asc"])),oneAllowedCollections:u,relatedCollectionM2O:n,o2mCollection:l,o2mField:i,t}}}),M3={class:"relationship"},U3={key:0,class:"field full"},N3={class:"label type-label"},B3={class:"field half-left"},q3={class:"label type-label"},z3={class:"field half-right"},K3={class:"label type-label"},H3={key:2,class:"field full"},W3={class:"label type-label"},G3={key:3,class:"field full"},J3={class:"label type-label"},Q3={key:4,class:"field full"},X3={class:"label type-label"};function Z3(e,t,n,l,i,u){const a=c("v-icon"),s=c("related-collection-select"),r=c("related-field-select"),m=c("v-select"),f=Se("tooltip");return p(),I("div",M3,[e.localType==="m2o"?(p(),I("div",U3,[S("div",N3,[D(b(e.t("related_collection"))+" ",1),x(o(a,{class:"required-mark",sup:"",name:"star"},null,512),[[f,e.t("required")]])]),o(s,{modelValue:e.relatedCollectionM2O,"onUpdate:modelValue":t[0]||(t[0]=v=>e.relatedCollectionM2O=v)},null,8,["modelValue"])])):e.localType==="o2m"?(p(),I(ie,{key:1},[S("div",B3,[S("div",q3,[D(b(e.t("related_collection"))+" ",1),x(o(a,{class:"required-mark",sup:"",name:"star"},null,512),[[f,e.t("required")]])]),o(s,{modelValue:e.o2mCollection,"onUpdate:modelValue":t[1]||(t[1]=v=>e.o2mCollection=v)},null,8,["modelValue"])]),S("div",z3,[S("div",K3,[D(b(e.t("foreign_key"))+" ",1),x(o(a,{class:"required-mark",sup:"",name:"star"},null,512),[[f,e.t("required")]])]),o(r,{modelValue:e.o2mField,"onUpdate:modelValue":t[2]||(t[2]=v=>e.o2mField=v),collection:e.o2mCollection,disabled:!e.o2mCollection},null,8,["modelValue","collection","disabled"])])],64)):R("",!0),e.localType==="m2m"?(p(),I("div",H3,[S("div",W3,[D(b(e.t("related_collection"))+" ",1),x(o(a,{class:"required-mark",sup:"",name:"star"},null,512),[[f,e.t("required")]])]),o(s,{modelValue:e.relatedCollectionM2O,"onUpdate:modelValue":t[3]||(t[3]=v=>e.relatedCollectionM2O=v)},null,8,["modelValue"])])):R("",!0),e.localType==="translations"?(p(),I("div",G3,[S("div",J3,[D(b(e.t("languages_collection"))+" ",1),x(o(a,{class:"required-mark",sup:"",name:"star"},null,512),[[f,e.t("required")]])]),o(s,{modelValue:e.relatedCollectionM2O,"onUpdate:modelValue":t[4]||(t[4]=v=>e.relatedCollectionM2O=v)},null,8,["modelValue"])])):R("",!0),e.localType==="m2a"?(p(),I("div",Q3,[S("div",X3,[D(b(e.t("related_collections"))+" ",1),x(o(a,{class:"required-mark",sup:"",name:"star"},null,512),[[f,e.t("required")]])]),o(m,{modelValue:e.oneAllowedCollections,"onUpdate:modelValue":t[5]||(t[5]=v=>e.oneAllowedCollections=v),placeholder:e.t("collection")+"...",items:e.availableCollections,"item-value":"collection","item-text":"name","item-disabled":"meta.singleton",multiple:"","multiple-preview-threshold":0},null,8,["modelValue","placeholder","items"])])):R("",!0)])}var Y3=q(R3,[["render",Z3],["__scopeId","data-v-46184414"]]);const x3=z({components:{ExtensionOptions:Io,RelationshipConfiguration:Y3},props:{row:{type:Number,default:null},chosenInterface:{type:String,required:!0}},emits:["save","toggleAdvanced"],setup(e){const t=vt(),{readyToSave:n,saving:l,localType:i,collection:u}=wt(t),{t:a}=Y(),s=V(()=>Dt(e.chosenInterface)),r=V(()=>s.value?s.value.types.map(k=>({text:a(k),value:k})):[]),m=V(()=>r.value.length===1||i.value!=="standard"),f=Ee("field.field"),v=Ee("field.type"),_=Ee("field.schema.default_value"),y=Ee("field.meta.required",!1),g=Ee("field.meta.note"),{interfaces:$}=bn(),h=V(()=>$.value.filter(k=>k.hideLabel===!0).map(k=>k.id));return _e(s,(k,A)=>{if(!!s.value)if(h.value.includes(s.value.id)){const F=s.value.id.includes("-")?s.value.id.split("-")[1]:s.value.id;f.value=`${F}-${_t(6).toLowerCase()}`}else A&&h.value.includes(A.id)&&(f.value=null)},{immediate:!0}),{key:f,t:a,type:v,typeDisabled:m,typeOptions:r,defaultValue:_,required:y,note:g,interfaceIdsWithHiddenLabel:h,readyToSave:n,saving:l,localType:i,collection:u}}}),eA={class:"setup"},tA={class:"schema"},nA={class:"field half-left"},lA={class:"label type-label"},oA={class:"field half-right"},aA={class:"label type-label"},iA={class:"field half-left"},sA={class:"label type-label"},rA={class:"field half-right"},dA={class:"label type-label"};function uA(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-input"),r=c("v-select"),m=c("v-checkbox"),f=c("relationship-configuration"),v=c("v-divider"),_=c("extension-options"),y=c("v-button"),g=Se("tooltip");return p(),I("div",{class:"field-configuration",style:ze({"grid-row":e.row})},[S("div",eA,[e.chosenInterface&&!e.interfaceIdsWithHiddenLabel.includes(e.chosenInterface)?(p(),I(ie,{key:0},[S("div",tA,[S("div",nA,[S("div",lA,[D(b(e.t("key"))+" ",1),x(o(a,{class:"required-mark",sup:"",name:"star"},null,512),[[g,e.t("required")]])]),o(s,{modelValue:e.key,"onUpdate:modelValue":t[0]||(t[0]=$=>e.key=$),autofocus:"",class:"monospace","db-safe":"",placeholder:e.t("a_unique_column_name")},null,8,["modelValue","placeholder"])]),S("div",oA,[S("div",aA,b(e.t("type")),1),o(r,{modelValue:e.type,"onUpdate:modelValue":t[1]||(t[1]=$=>e.type=$),items:e.typeOptions,disabled:e.typeDisabled},null,8,["modelValue","items","disabled"])]),S("div",iA,[S("div",sA,b(e.t("default_value")),1),e.type==="boolean"?(p(),C(m,{key:0,modelValue:e.defaultValue,"onUpdate:modelValue":t[2]||(t[2]=$=>e.defaultValue=$),block:"",label:e.t("enabled")},null,8,["modelValue","label"])):(p(),C(s,{key:1,modelValue:e.defaultValue,"onUpdate:modelValue":t[3]||(t[3]=$=>e.defaultValue=$),class:"monospace",placeholder:"NULL"},null,8,["modelValue"]))]),S("div",rA,[S("div",dA,b(e.t("required")),1),o(m,{modelValue:e.required,"onUpdate:modelValue":t[4]||(t[4]=$=>e.required=$),block:"",label:e.t("require_value_to_be_set")},null,8,["modelValue","label"])])]),o(f,{"local-type":e.localType},null,8,["local-type"]),o(v,{inline:""})],64)):R("",!0),o(_,{type:"interface",extension:e.chosenInterface},null,8,["extension"]),o(y,{class:"save","full-width":"",disabled:!e.readyToSave,loading:e.saving,onClick:t[5]||(t[5]=$=>e.$emit("save"))},{default:d(()=>[D(b(e.t("save")),1)]),_:1},8,["disabled","loading"]),S("button",{class:"toggle-advanced",onClick:t[6]||(t[6]=$=>e.$emit("toggleAdvanced"))},b(e.t("continue_in_advanced_field_creation_mode")),1)])],4)}var cA=q(x3,[["render",uA],["__scopeId","data-v-251aff70"]]);const pA=z({components:{FieldConfiguration:cA},props:{collection:{type:Object,required:!0}},emits:["save","toggleAdvanced"],setup(e){const{collection:t}=Re(e),{t:n}=Y(),l=vt();_e(t,()=>l.update({collection:t.value.collection}),{immediate:!0});const{interfaces:i}=bn(),u=V(()=>U.exports.orderBy(i.value.filter(v=>!v.system),["order"])),a=V(()=>[{key:"standard",name:n("interface_group_text_and_numbers"),interfaces:u.value.filter(v=>v.group==="standard")},{key:"selection",name:n("interface_group_selection"),interfaces:u.value.filter(v=>v.group==="selection")},{key:"relational",name:n("interface_group_relational"),interfaces:u.value.filter(v=>v.group==="relational")},{key:"presentation",name:n("interface_group_presentation"),interfaces:u.value.filter(v=>v.group==="presentation")},{key:"group",name:n("interface_group_groups"),interfaces:u.value.filter(v=>v.group==="group")},{key:"other",name:n("interface_group_other"),interfaces:u.value.filter(v=>v.group==="other")}]),s=Ee("field.meta.interface"),r=V(()=>{if(!s.value)return null;let v=null;if(a.value.forEach(g=>{const $=g.interfaces.findIndex(h=>h.id===s.value);$!==-1&&(v=$)}),v===null)return null;const _=window.innerWidth;let y=1;return _>400&&(y=2),_>600&&(y=3),_>840&&(y=4),Math.ceil((v+1)/y)+1});return{t:n,interfaces:i,groups:a,isSVG:m,syncRefProperty:ct,chosenInterface:s,configRow:r,toggleInterface:f};function m(v){return v.startsWith("<svg")}function f(v){s.value===v?s.value=null:s.value=v}}}),mA={class:"content"},fA={class:"grid"},vA=["onClick"],_A={class:"preview"},yA=["innerHTML"],gA=["src"],hA={key:1,class:"fallback"};function bA(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-text-overflow"),r=c("field-configuration"),m=c("transition-expand");return p(),I("div",mA,[(p(!0),I(ie,null,he(e.groups,f=>(p(),I("div",{key:f.key,class:"group"},[S("h2",null,b(f.name),1),S("div",fA,[(p(!0),I(ie,null,he(f.interfaces,v=>(p(),I("button",{key:v.id,class:se(["interface",{active:e.chosenInterface===v.id,gray:e.chosenInterface&&e.chosenInterface!==v.id}]),onClick:_=>e.toggleInterface(v.id)},[S("div",_A,[v.preview?(p(),I(ie,{key:0},[e.isSVG(v.preview)?(p(),I("span",{key:0,innerHTML:v.preview},null,8,yA)):(p(),I("img",{key:1,src:v.preview,alt:""},null,8,gA))],64)):(p(),I("span",hA,[o(a,{large:"",name:v.icon},null,8,["name"])]))]),o(s,{text:v.name,class:"name"},null,8,["text"])],10,vA))),128)),o(m,null,{default:d(()=>[e.chosenInterface&&!!f.interfaces.some(v=>v.id===e.chosenInterface)?(p(),C(r,{key:0,row:e.configRow,"chosen-interface":e.chosenInterface,onSave:t[0]||(t[0]=v=>e.$emit("save")),onToggleAdvanced:t[1]||(t[1]=v=>e.$emit("toggleAdvanced"))},null,8,["row","chosen-interface"])):R("",!0)]),_:2},1024)])]))),128))])}var $A=q(pA,[["render",bA],["__scopeId","data-v-ac90bd84"]]);const wA=[{text:"$t:string",value:"string"},{text:"$t:text",value:"text"},{divider:!0},{text:"$t:boolean",value:"boolean"},{divider:!0},{text:"$t:integer",value:"integer"},{text:"$t:bigInteger",value:"bigInteger"},{text:"$t:float",value:"float"},{text:"$t:decimal",value:"decimal"},{divider:!0},{text:"$t:timestamp",value:"timestamp"},{text:"$t:datetime",value:"dateTime"},{text:"$t:date",value:"date"},{text:"$t:time",value:"time"},{divider:!0},{text:"$t:json",value:"json"},{text:"$t:csv",value:"csv"},{text:"$t:uuid",value:"uuid"},{text:"$t:hash",value:"hash"},{divider:!0},{text:"$t:geometry",value:"geometry"},{text:"$t:geometry.Point",value:"geometry.Point"},{text:"$t:geometry.LineString",value:"geometry.LineString"},{text:"$t:geometry.Polygon",value:"geometry.Polygon"},{text:"$t:geometry.MultiPoint",value:"geometry.MultiPoint"},{text:"$t:geometry.MultiLineString",value:"geometry.MultiLineString"},{text:"$t:geometry.MultiPolygon",value:"geometry.MultiPolygon"}],kA=z({setup(){const e=vt(),{localType:t,relations:n,editing:l}=wt(e),i=V(()=>l.value!=="+"),u=Ee("field.type"),a=Ee("field.schema.default_value"),s=Ee("field.field"),r=Ee("field.meta.special"),m=Ee("field.schema.max_length"),f=Ee("field.schema.numeric_precision"),v=Ee("field.schema.is_nullable",!0),_=Ee("field.schema.is_unique",!1),y=Ee("field.schema.numeric_scale"),{t:g}=Y(),$=V(()=>Vt(wA)),h=V(()=>t.value!=="standard"),k=V(()=>t.value==="m2o"?g("determined_by_relationship"):g("choose_a_type")),{onCreateOptions:A,onCreateValue:F}=B(),{onUpdateOptions:P,onUpdateValue:O}=K(),T=V(()=>["uuid","date","time","dateTime","timestamp"].includes(u.value)&&t.value!=="file"),N=V(()=>!e.field.schema),L=V(()=>{var W;return((W=e.field.schema)==null?void 0:W.is_primary_key)===!0}),M=V(()=>{var W;return(W=e.field.schema)==null?void 0:W.is_generated});return{t:g,typesWithLabels:$,GEOMETRY_TYPES:Ca,typeDisabled:h,typePlaceholder:k,defaultValue:a,onCreateOptions:A,onCreateValue:F,onUpdateOptions:P,onUpdateValue:O,hasCreateUpdateTriggers:T,field:s,isAlias:N,type:u,maxLength:m,numericPrecision:f,numericScale:y,special:r,nullable:v,unique:_,isPrimaryKey:L,isExisting:i,isGenerated:M};function B(){const W=["uuid","user-created","role-created","date-created"],le=V(()=>{var Q,fe;if(u.value==="uuid"){const ue=[{text:g("do_nothing"),value:null},{text:g("generate_and_save_uuid"),value:"uuid"},{text:g("save_current_user_id"),value:"user-created"},{text:g("save_current_user_role"),value:"role-created"}];return t.value==="m2o"&&((Q=n.value.m2o)==null?void 0:Q.related_collection)==="directus_users"?ue.filter(({value:ne})=>[null,"user-created"].includes(ne)):t.value==="m2o"&&((fe=n.value.m2o)==null?void 0:fe.related_collection)==="directus_roles"?ue.filter(({value:ne})=>[null,"role-created"].includes(ne)):ue}else if(["date","time","dateTime","timestamp"].includes(u.value))return[{text:g("do_nothing"),value:null},{text:g("save_current_datetime"),value:"date-created"}];return[]}),G=V({get(){var fe;const Q=(fe=r.value)!=null?fe:[];for(const ue of W)if(Q.includes(ue))return ue;return null},set(Q){var fe,ue;r.value=((fe=r.value)!=null?fe:[]).filter(ne=>W.includes(ne)===!1),Q&&(r.value=[...(ue=r.value)!=null?ue:[],Q])}});return{onCreateSpecials:W,onCreateOptions:le,onCreateValue:G}}function K(){const W=["user-updated","role-updated","date-updated"],le=V(()=>{var Q,fe;if(u.value==="uuid"){const ue=[{text:g("do_nothing"),value:null},{text:g("save_current_user_id"),value:"user-updated"},{text:g("save_current_user_role"),value:"role-updated"}];return t.value==="m2o"&&((Q=n.value.m2o)==null?void 0:Q.related_collection)==="directus_users"?ue.filter(({value:ne})=>[null,"user-updated"].includes(ne)):t.value==="m2o"&&((fe=n.value.m2o)==null?void 0:fe.related_collection)==="directus_roles"?ue.filter(({value:ne})=>[null,"role-updated"].includes(ne)):ue}else if(["date","time","dateTime","timestamp"].includes(u.value))return[{text:g("do_nothing"),value:null},{text:g("save_current_datetime"),value:"date-updated"}];return[]}),G=V({get(){var fe;const Q=(fe=r.value)!=null?fe:[];for(const ue of W)if(Q.includes(ue))return ue;return null},set(Q){var fe,ue;r.value=((fe=r.value)!=null?fe:[]).filter(ne=>W.includes(ne)===!1),Q&&(r.value=[...(ue=r.value)!=null?ue:[],Q])}});return{onUpdateSpecials:W,onUpdateOptions:le,onUpdateValue:G}}}}),SA={class:"form"},CA={class:"field"},VA={class:"label type-label"},FA={class:"note"},AA={class:"field half"},IA={class:"label type-label"},EA={key:0,class:"field half"},DA={class:"label type-label"},TA={key:0,class:"field half"},PA={class:"label type-label"},OA={class:"precision-scale"},LA={class:"field half-left"},jA={class:"label type-label"},RA={class:"field half-right"},MA={class:"label type-label"},UA={key:3,class:"field full"},NA={class:"label type-label"},BA={key:4,class:"field half-left"},qA={class:"label type-label"},zA={key:5,class:"field half-right"},KA={class:"label type-label"};function HA(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-input"),r=c("v-select"),m=c("v-textarea"),f=c("interface-input-code"),v=c("v-checkbox");return p(),I("div",null,[S("div",SA,[S("div",CA,[S("div",VA,[D(b(e.t("key"))+" ",1),o(a,{class:"required",sup:"",name:"star"})]),o(s,{modelValue:e.field,"onUpdate:modelValue":t[0]||(t[0]=_=>e.field=_),disabled:e.isExisting,autofocus:"",class:"monospace",nullable:!1,"db-safe":"",placeholder:e.t("a_unique_column_name")},null,8,["modelValue","disabled","placeholder"]),S("small",FA,b(e.t("schema_setup_key")),1)]),S("div",AA,[S("div",IA,[D(b(e.t("type"))+" ",1),o(a,{class:"required",sup:"",name:"star"})]),e.isAlias?(p(),C(s,{key:0,"model-value":e.t("alias"),disabled:""},null,8,["model-value"])):(p(),C(r,{key:1,modelValue:e.type,"onUpdate:modelValue":t[1]||(t[1]=_=>e.type=_),disabled:e.typeDisabled||e.isExisting,items:e.typesWithLabels,placeholder:e.typePlaceholder},null,8,["modelValue","disabled","items","placeholder"]))]),["decimal","float"].includes(e.type)===!1?(p(),I(ie,{key:0},[e.isAlias?R("",!0):(p(),I("div",EA,[S("div",DA,b(e.t("length")),1),o(s,{modelValue:e.maxLength,"onUpdate:modelValue":t[2]||(t[2]=_=>e.maxLength=_),type:"number",placeholder:e.type!=="string"?e.t("not_available_for_type"):"255",disabled:e.isExisting||e.type!=="string"},null,8,["modelValue","placeholder","disabled"])]))],64)):(p(),I(ie,{key:1},[e.isAlias?R("",!0):(p(),I("div",TA,[S("div",PA,b(e.t("precision_scale")),1),S("div",OA,[o(s,{modelValue:e.numericPrecision,"onUpdate:modelValue":t[3]||(t[3]=_=>e.numericPrecision=_),type:"number",placeholder:10},null,8,["modelValue"]),o(s,{modelValue:e.numericScale,"onUpdate:modelValue":t[4]||(t[4]=_=>e.numericScale=_),type:"number",placeholder:5},null,8,["modelValue"])])]))],64)),e.hasCreateUpdateTriggers?(p(),I(ie,{key:2},[S("div",LA,[S("div",jA,b(e.t("on_create")),1),o(r,{modelValue:e.onCreateValue,"onUpdate:modelValue":t[5]||(t[5]=_=>e.onCreateValue=_),items:e.onCreateOptions},null,8,["modelValue","items"])]),S("div",RA,[S("div",MA,b(e.t("on_update")),1),o(r,{modelValue:e.onUpdateValue,"onUpdate:modelValue":t[6]||(t[6]=_=>e.onUpdateValue=_),items:e.onUpdateOptions},null,8,["modelValue","items"])])],64)):R("",!0),!e.isAlias&&!e.isPrimaryKey&&!e.isGenerated?(p(),I("div",UA,[S("div",NA,b(e.t("default_value")),1),["string","uuid"].includes(e.type)?(p(),C(s,{key:0,modelValue:e.defaultValue,"onUpdate:modelValue":t[7]||(t[7]=_=>e.defaultValue=_),class:"monospace",placeholder:"NULL"},null,8,["modelValue"])):["text"].includes(e.type)?(p(),C(m,{key:1,modelValue:e.defaultValue,"onUpdate:modelValue":t[8]||(t[8]=_=>e.defaultValue=_),class:"monospace",placeholder:"NULL"},null,8,["modelValue"])):["integer","bigInteger","float","decimal"].includes(e.type)?(p(),C(s,{key:2,modelValue:e.defaultValue,"onUpdate:modelValue":t[9]||(t[9]=_=>e.defaultValue=_),type:"number",class:"monospace",placeholder:"NULL"},null,8,["modelValue"])):["timestamp","dateTime","date","time"].includes(e.type)?(p(),C(s,{key:3,modelValue:e.defaultValue,"onUpdate:modelValue":t[10]||(t[10]=_=>e.defaultValue=_),class:"monospace",placeholder:"NULL"},null,8,["modelValue"])):e.type==="boolean"?(p(),C(r,{key:4,modelValue:e.defaultValue,"onUpdate:modelValue":t[11]||(t[11]=_=>e.defaultValue=_),class:"monospace",items:[{text:"true",value:!0},{text:"false",value:!1},{text:"NULL",value:null}]},null,8,["modelValue"])):e.type==="json"?(p(),C(f,{key:5,value:e.defaultValue||"",language:"JSON",placeholder:"NULL",type:"json",onInput:t[12]||(t[12]=_=>e.defaultValue=_)},null,8,["value"])):(p(),C(s,{key:6,modelValue:e.defaultValue,"onUpdate:modelValue":t[13]||(t[13]=_=>e.defaultValue=_),class:"monospace",disabled:"",placeholder:"NULL"},null,8,["modelValue"]))])):R("",!0),e.isAlias?R("",!0):(p(),I("div",BA,[S("div",qA,b(e.t("nullable")),1),o(v,{modelValue:e.nullable,"onUpdate:modelValue":t[14]||(t[14]=_=>e.nullable=_),disabled:e.isGenerated,label:e.t("allow_null_value"),block:""},null,8,["modelValue","disabled","label"])])),e.isAlias?R("",!0):(p(),I("div",zA,[S("div",KA,b(e.t("unique")),1),o(v,{modelValue:e.unique,"onUpdate:modelValue":t[15]||(t[15]=_=>e.unique=_),disabled:e.isGenerated,label:e.t("value_unique"),block:""},null,8,["modelValue","disabled","label"])]))])])}var WA=q(kA,[["render",HA],["__scopeId","data-v-6039249a"]]);const GA=z({components:{RelatedCollectionSelect:An},setup(){const{t:e}=Y(),t=vt(),n=Pe(),l=Ee("relations.m2o.related_collection"),i=Ee("fields.corresponding"),u=Ee("fields.corresponding.field"),a=Ee("relations.m2o.schema.on_delete"),{field:s,collection:r,editing:m,generationInfo:f}=wt(t),v=V(()=>m.value!=="+"),_=V(()=>{var h,k;return(k=(h=n.getPrimaryKeyFieldForCollection(l.value))==null?void 0:h.field)!=null?k:"id"}),y=V(()=>s.value.field),g=V({get(){return!!i.value},set(h){h?i.value={field:r.value,collection:l.value,type:"alias",meta:{special:["o2m"],interface:"list-o2m"}}:i.value=null}}),$=V(()=>l.value?e("add_o2m_to_collection",{collection:l.value}):e("add_field_related"));return{t:e,collection:r,relatedCollection:l,isExisting:v,relatedPrimaryKey:_,currentField:y,hasCorresponding:g,correspondingLabel:$,correspondingFieldKey:u,generationInfo:f,onDeleteRelated:a}}}),JA={class:"grid"},QA={class:"field"},XA={class:"type-label"},ZA={class:"field"},YA={class:"type-label"},xA={key:1,class:"grid"},eI={class:"field"},tI={class:"type-label"},nI={class:"field"},lI={class:"type-label"},oI={class:"relational-triggers"},aI={class:"field"},iI={class:"type-label"},sI={class:"field-name"};function rI(e,t,n,l,i,u){const a=c("v-input"),s=c("related-collection-select"),r=c("v-icon"),m=c("v-divider"),f=c("v-checkbox"),v=c("v-select"),_=c("v-notice");return p(),I("div",null,[S("div",JA,[S("div",QA,[S("div",XA,b(e.t("this_collection")),1),o(a,{disabled:"","model-value":e.collection},null,8,["model-value"])]),S("div",ZA,[S("div",YA,b(e.t("related_collection")),1),o(s,{modelValue:e.relatedCollection,"onUpdate:modelValue":t[0]||(t[0]=y=>e.relatedCollection=y),disabled:e.isExisting},null,8,["modelValue","disabled"])]),o(a,{disabled:"","model-value":e.currentField},null,8,["model-value"]),o(a,{"model-value":e.relatedPrimaryKey,disabled:"",placeholder:e.t("primary_key")+"..."},null,8,["model-value","placeholder"]),o(r,{class:"arrow",name:"arrow_back"})]),e.isExisting?R("",!0):(p(),C(m,{key:0,large:"","inline-title":!1},{default:d(()=>[D(b(e.t("corresponding_field")),1)]),_:1})),e.isExisting?R("",!0):(p(),I("div",xA,[S("div",eI,[S("div",tI,b(e.t("create_field")),1),o(f,{modelValue:e.hasCorresponding,"onUpdate:modelValue":t[1]||(t[1]=y=>e.hasCorresponding=y),block:"",label:e.correspondingLabel},null,8,["modelValue","label"])]),S("div",nI,[S("div",lI,b(e.t("field_name")),1),o(a,{modelValue:e.correspondingFieldKey,"onUpdate:modelValue":t[2]||(t[2]=y=>e.correspondingFieldKey=y),disabled:e.hasCorresponding===!1,placeholder:e.t("field_name")+"...","db-safe":""},null,8,["modelValue","disabled","placeholder"])]),o(r,{name:"arrow_forward",class:"arrow"})])),S("div",oI,[o(m,{class:"field full",large:"","inline-title":!1},{default:d(()=>[D(b(e.t("relational_triggers")),1)]),_:1}),S("div",aI,[S("div",iI,b(e.t("referential_action_field_label_m2o",{collection:e.relatedCollection||"related"})),1),o(v,{modelValue:e.onDeleteRelated,"onUpdate:modelValue":t[3]||(t[3]=y=>e.onDeleteRelated=y),disabled:e.collection===e.relatedCollection,placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{field:e.currentField}),value:"SET NULL"},{text:e.t("referential_action_set_default",{field:e.currentField}),value:"SET DEFAULT"},{text:e.t("referential_action_cascade",{collection:e.collection,field:e.currentField}),value:"CASCADE"},{text:e.t("referential_action_no_action",{field:e.currentField}),value:"NO ACTION"}]},null,8,["modelValue","disabled","placeholder","items"])])]),e.generationInfo.length>0?(p(),C(_,{key:2,class:"generated-data",type:"warning"},{default:d(()=>[S("span",null,[D(b(e.t("new_data_alert"))+" ",1),S("ul",null,[(p(!0),I(ie,null,he(e.generationInfo,(y,g)=>(p(),I("li",{key:g},[S("span",sI,b(y.name),1)]))),128))])])]),_:1})):R("",!0)])}var dI=q(GA,[["render",rI],["__scopeId","data-v-52d1328a"]]);const uI=z({components:{RelatedCollectionSelect:An,RelatedFieldSelect:xn},setup(){const{t:e}=Y(),t=vt(),n=Pe(),l=Ee("relations.o2m.collection"),i=Ee("relations.o2m.field"),u=Ee("relations.o2m.meta.sort_field"),a=Ee("relations.o2m.schema.on_delete"),s=Ee("relations.o2m.meta.one_deselect_action"),{collection:r,editing:m,generationInfo:f}=wt(t),v=V(()=>m.value!=="+"),_=V(()=>{var y;return(y=n.getPrimaryKeyFieldForCollection(r.value))==null?void 0:y.field});return{t:e,isExisting:v,collection:r,relatedCollection:l,currentPrimaryKey:_,relatedField:i,generationInfo:f,sortField:u,onDelete:a,onDeselect:s}}}),cI={class:"grid"},pI={class:"field"},mI={class:"type-label"},fI={class:"field"},vI={class:"type-label"},_I={class:"sort-field"},yI={class:"relational-triggers"},gI={class:"field"},hI={class:"type-label"},bI={class:"field"},$I={class:"type-label"},wI={class:"field-name"};function kI(e,t,n,l,i,u){const a=c("v-input"),s=c("related-collection-select"),r=c("related-field-select"),m=c("v-icon"),f=c("v-divider"),v=c("v-select"),_=c("v-notice");return p(),I("div",null,[S("div",cI,[S("div",pI,[S("div",mI,b(e.t("this_collection")),1),o(a,{disabled:"","model-value":e.collection},null,8,["model-value"])]),S("div",fI,[S("div",vI,b(e.t("related_collection")),1),o(s,{modelValue:e.relatedCollection,"onUpdate:modelValue":t[0]||(t[0]=y=>e.relatedCollection=y),disabled:e.isExisting},null,8,["modelValue","disabled"])]),o(a,{disabled:"","model-value":e.currentPrimaryKey},null,8,["model-value"]),o(r,{modelValue:e.relatedField,"onUpdate:modelValue":t[1]||(t[1]=y=>e.relatedField=y),collection:e.relatedCollection},null,8,["modelValue","collection"]),o(m,{class:"arrow",name:"arrow_forward"})]),S("div",_I,[o(f,{large:"","inline-title":!1},{default:d(()=>[D(b(e.t("sort_field")),1)]),_:1}),o(r,{modelValue:e.sortField,"onUpdate:modelValue":t[2]||(t[2]=y=>e.sortField=y),collection:e.relatedCollection,placeholder:e.t("add_sort_field")+"...",nullable:!0},null,8,["modelValue","collection","placeholder"])]),S("div",yI,[o(f,{class:"field full",large:"","inline-title":!1},{default:d(()=>[D(b(e.t("relational_triggers")),1)]),_:1}),S("div",gI,[S("div",hI,b(e.t("referential_action_field_label_o2m",{collection:e.relatedCollection||"related"})),1),o(v,{modelValue:e.onDeselect,"onUpdate:modelValue":t[3]||(t[3]=y=>e.onDeselect=y),placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{field:e.relatedField}),value:"nullify"},{text:e.t("referential_action_cascade",{collection:e.relatedCollection,field:e.relatedField}),value:"delete"}]},null,8,["modelValue","placeholder","items"])]),S("div",bI,[S("div",$I,b(e.t("referential_action_field_label_m2o",{collection:e.collection||"related"})),1),o(v,{modelValue:e.onDelete,"onUpdate:modelValue":t[4]||(t[4]=y=>e.onDelete=y),disabled:e.collection===e.relatedCollection,placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{field:e.relatedField}),value:"SET NULL"},{text:e.t("referential_action_set_default",{field:e.relatedField}),value:"SET DEFAULT"},{text:e.t("referential_action_cascade",{collection:e.collection,field:e.relatedField}),value:"CASCADE"},{text:e.t("referential_action_no_action"),value:"NO ACTION"}]},null,8,["modelValue","disabled","placeholder","items"])])]),e.generationInfo.length>0?(p(),C(_,{key:0,class:"generated-data",type:"warning"},{default:d(()=>[S("span",null,[D(b(e.t("new_data_alert"))+" ",1),S("ul",null,[(p(!0),I(ie,null,he(e.generationInfo,(y,g)=>(p(),I("li",{key:g},[S("span",wI,b(y.name),1)]))),128))])])]),_:1})):R("",!0)])}var SI=q(uI,[["render",kI],["__scopeId","data-v-bb6d41dc"]]);const CI=z({components:{RelatedCollectionSelect:An,RelatedFieldSelect:xn},setup(){const{t:e}=Y(),t=vt(),n=Pe(),{field:l,collection:i,editing:u,generationInfo:a}=wt(t),s=Ee("relations.o2m.meta.sort_field"),r=Ee("relations.o2m.collection"),m=Ee("relations.o2m.field"),f=Ee("relations.m2o.field"),v=Ee("relations.m2o.related_collection"),_=Ee("autoGenerateJunctionRelation"),y=Ee("relations.o2m.schema.on_delete"),g=Ee("relations.m2o.schema.on_delete"),$=Ee("relations.o2m.meta.one_deselect_action"),h=Ee("fields.corresponding"),k=Ee("fields.corresponding.field"),A=V(()=>l.value.type),F=V(()=>u.value!=="+"),P=V(()=>{var L;return(L=n.getPrimaryKeyFieldForCollection(i.value))==null?void 0:L.field}),O=V(()=>{var L,M;return(M=(L=n.getPrimaryKeyFieldForCollection(v.value))==null?void 0:L.field)!=null?M:"id"}),T=V({get(){return!!h.value},set(L){L?h.value={field:i.value,collection:v.value,type:"alias",meta:{special:["m2m"],interface:"list-m2m"}}:h.value=null}}),N=V(()=>r.value?e("add_m2m_to_collection",{collection:v.value}):e("add_field_related"));return{t:e,autoGenerateJunctionRelation:_,collection:i,type:A,isExisting:F,junctionCollection:r,junctionFieldCurrent:m,relatedCollection:v,sortField:s,currentPrimaryKey:P,junctionFieldRelated:f,relatedPrimaryKey:O,onDeleteCurrent:y,onDeleteRelated:g,deselectAction:$,hasCorresponding:T,correspondingLabel:N,correspondingFieldKey:k,generationInfo:a}}}),Eo=e=>(We("data-v-2ef7c0d9"),e=e(),Ge(),e),VI={class:"grid"},FI={class:"field"},AI={class:"type-label"},II={class:"field"},EI={class:"type-label"},DI={class:"field"},TI={class:"type-label"},PI=Eo(()=>S("div",{class:"spacer"},null,-1)),OI=Eo(()=>S("div",{class:"spacer"},null,-1)),LI=Eo(()=>S("div",{class:"spacer"},null,-1)),jI={key:1,class:"corresponding"},RI={class:"field"},MI={class:"type-label"},UI={class:"field"},NI={class:"type-label"},BI={class:"sort-field"},qI={class:"relational-triggers"},zI={class:"field"},KI={class:"type-label"},HI={class:"field"},WI={class:"type-label"},GI={class:"field"},JI={class:"type-label"},QI={class:"field-name"};function XI(e,t,n,l,i,u){const a=c("v-input"),s=c("related-collection-select"),r=c("related-field-select"),m=c("v-checkbox"),f=c("v-icon"),v=c("v-divider"),_=c("v-select"),y=c("v-notice");return p(),I("div",null,[S("div",VI,[S("div",FI,[S("div",AI,b(e.t("this_collection")),1),o(a,{disabled:"","model-value":e.collection},null,8,["model-value"])]),S("div",II,[S("div",EI,b(e.t("junction_collection")),1),o(s,{modelValue:e.junctionCollection,"onUpdate:modelValue":t[0]||(t[0]=g=>e.junctionCollection=g),disabled:e.autoGenerateJunctionRelation||e.isExisting},null,8,["modelValue","disabled"])]),S("div",DI,[S("div",TI,b(e.t("related_collection")),1),o(s,{modelValue:e.relatedCollection,"onUpdate:modelValue":t[1]||(t[1]=g=>e.relatedCollection=g),disabled:e.type==="files"||e.isExisting},null,8,["modelValue","disabled"])]),o(a,{disabled:"","model-value":e.currentPrimaryKey},null,8,["model-value"]),o(r,{modelValue:e.junctionFieldCurrent,"onUpdate:modelValue":t[2]||(t[2]=g=>e.junctionFieldCurrent=g),collection:e.junctionCollection,disabled:e.autoGenerateJunctionRelation||e.isExisting},null,8,["modelValue","collection","disabled"]),PI,OI,o(r,{modelValue:e.junctionFieldRelated,"onUpdate:modelValue":t[3]||(t[3]=g=>e.junctionFieldRelated=g),collection:e.junctionCollection,disabled:e.autoGenerateJunctionRelation||e.isExisting},null,8,["modelValue","collection","disabled"]),o(a,{modelValue:e.relatedPrimaryKey,"onUpdate:modelValue":t[4]||(t[4]=g=>e.relatedPrimaryKey=g),disabled:"",placeholder:e.t("primary_key")+"..."},null,8,["modelValue","placeholder"]),LI,e.isExisting?R("",!0):(p(),C(m,{key:0,modelValue:e.autoGenerateJunctionRelation,"onUpdate:modelValue":t[5]||(t[5]=g=>e.autoGenerateJunctionRelation=g),block:"",label:e.t("auto_fill")},null,8,["modelValue","label"])),o(f,{class:"arrow",name:"arrow_forward"}),o(f,{class:"arrow",name:"arrow_backward"})]),e.isExisting?R("",!0):(p(),C(v,{key:0,large:"","inline-title":!1},{default:d(()=>[D(b(e.t("corresponding_field")),1)]),_:1})),e.isExisting?R("",!0):(p(),I("div",jI,[S("div",RI,[S("div",MI,b(e.t("create_field")),1),o(m,{modelValue:e.hasCorresponding,"onUpdate:modelValue":t[6]||(t[6]=g=>e.hasCorresponding=g),block:"",label:e.correspondingLabel},null,8,["modelValue","label"])]),S("div",UI,[S("div",NI,b(e.t("field_name")),1),o(a,{modelValue:e.correspondingFieldKey,"onUpdate:modelValue":t[7]||(t[7]=g=>e.correspondingFieldKey=g),disabled:e.hasCorresponding===!1,placeholder:e.t("field_name")+"...","db-safe":""},null,8,["modelValue","disabled","placeholder"])]),o(f,{name:"arrow_forward",class:"arrow"})])),S("div",BI,[o(v,{large:"","inline-title":!1},{default:d(()=>[D(b(e.t("sort_field")),1)]),_:1}),o(r,{modelValue:e.sortField,"onUpdate:modelValue":t[8]||(t[8]=g=>e.sortField=g),collection:e.junctionCollection,placeholder:e.t("add_sort_field")+"...",nullable:!0},null,8,["modelValue","collection","placeholder"])]),S("div",qI,[o(v,{class:"field full",large:"","inline-title":!1},{default:d(()=>[D(b(e.t("relational_triggers")),1)]),_:1}),S("div",zI,[S("div",KI,b(e.t("referential_action_field_label_o2m",{collection:e.junctionCollection||""})),1),o(_,{modelValue:e.deselectAction,"onUpdate:modelValue":t[9]||(t[9]=g=>e.deselectAction=g),placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{collection:e.junctionCollection,field:e.junctionFieldCurrent}),value:"nullify"},{text:e.t("referential_action_cascade",{collection:e.junctionCollection,field:e.junctionFieldCurrent}),value:"delete"}]},null,8,["modelValue","placeholder","items"])]),S("div",HI,[S("div",WI,b(e.t("referential_action_field_label_m2o",{collection:e.collection||"related"})),1),o(_,{modelValue:e.onDeleteCurrent,"onUpdate:modelValue":t[10]||(t[10]=g=>e.onDeleteCurrent=g),disabled:e.junctionCollection===e.collection,placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{field:e.junctionFieldCurrent}),value:"SET NULL"},{text:e.t("referential_action_set_default",{field:e.junctionFieldCurrent}),value:"SET DEFAULT"},{text:e.t("referential_action_cascade",{collection:e.junctionCollection,field:e.junctionFieldCurrent}),value:"CASCADE"},{text:e.t("referential_action_no_action"),value:"NO ACTION"}]},null,8,["modelValue","disabled","placeholder","items"])]),S("div",GI,[S("div",JI,b(e.t("referential_action_field_label_m2o",{collection:e.relatedCollection||"related"})),1),o(_,{modelValue:e.onDeleteRelated,"onUpdate:modelValue":t[11]||(t[11]=g=>e.onDeleteRelated=g),disabled:e.junctionCollection===e.relatedCollection,placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{field:e.junctionFieldRelated}),value:"SET NULL"},{text:e.t("referential_action_set_default",{field:e.junctionFieldRelated}),value:"SET DEFAULT"},{text:e.t("referential_action_cascade",{collection:e.junctionCollection,field:e.junctionFieldRelated}),value:"CASCADE"},{text:e.t("referential_action_no_action"),value:"NO ACTION"}]},null,8,["modelValue","disabled","placeholder","items"])])]),e.generationInfo.length>0?(p(),C(y,{key:2,class:"generated-data",type:"warning"},{default:d(()=>[S("span",null,[D(b(e.t("new_data_alert"))+" ",1),S("ul",null,[(p(!0),I(ie,null,he(e.generationInfo,(g,$)=>(p(),I("li",{key:$},[S("span",QI,b(g.name),1)]))),128))])])]),_:1})):R("",!0)])}var ZI=q(CI,[["render",XI],["__scopeId","data-v-2ef7c0d9"]]);const YI=z({components:{RelatedCollectionSelect:An,RelatedFieldSelect:xn},setup(){const{t:e}=Y(),t=vt(),n=Ke(),l=Pe(),{collection:i,editing:u,generationInfo:a}=wt(t),s=Ee("autoGenerateJunctionRelation"),r=Ee("relations.o2m.collection"),m=Ee("relations.o2m.field"),f=Ee("relations.m2o.field"),v=Ee("relations.m2o.meta.one_collection_field"),_=Ee("relations.m2o.meta.one_allowed_collections",[]),y=Ee("relations.o2m.meta.sort_field"),g=Ee("relations.o2m.schema.on_delete"),$=Ee("relations.o2m.meta.one_deselect_action"),h=V(()=>u.value!=="+"),k=V(()=>{var F;return(F=l.getPrimaryKeyFieldForCollection(i.value))==null?void 0:F.field}),A=V(()=>U.exports.orderBy([...n.allCollections,{divider:!0},{name:e("system"),selectable:!1,children:n.crudSafeSystemCollections}],["collection"],["asc"]));return{t:e,availableCollections:A,generationInfo:a,collection:i,isExisting:h,autoGenerateJunctionRelation:s,junctionCollection:r,oneAllowedCollections:_,currentPrimaryKey:k,junctionFieldCurrent:m,junctionFieldRelated:f,oneCollectionField:v,sortField:y,onDelete:g,onDeselect:$}}}),Do=e=>(We("data-v-2c8bde2f"),e=e(),Ge(),e),xI={class:"grid"},e4={class:"field"},t4={class:"type-label"},n4={class:"field"},l4={class:"type-label"},o4={class:"field"},a4={class:"type-label"},i4={class:"related-collections-preview"},s4=Do(()=>S("div",{class:"spacer"},null,-1)),r4=Do(()=>S("div",{class:"spacer"},null,-1)),d4=Do(()=>S("div",{class:"spacer"},null,-1)),u4={class:"sort-field"},c4={class:"relational-triggers"},p4={class:"field"},m4={class:"type-label"},f4={class:"field"},v4={class:"type-label"},_4={class:"field-name"};function y4(e,t,n,l,i,u){var g,$;const a=c("v-input"),s=c("related-collection-select"),r=c("v-select"),m=c("related-field-select"),f=c("v-checkbox"),v=c("v-icon"),_=c("v-divider"),y=c("v-notice");return p(),I("div",null,[S("div",xI,[S("div",e4,[S("div",t4,b(e.t("this_collection")),1),o(a,{disabled:"","model-value":e.collection},null,8,["model-value"])]),S("div",n4,[S("div",l4,b(e.t("junction_collection")),1),o(s,{modelValue:e.junctionCollection,"onUpdate:modelValue":t[0]||(t[0]=h=>e.junctionCollection=h),disabled:e.autoGenerateJunctionRelation||e.isExisting},null,8,["modelValue","disabled"])]),S("div",o4,[S("div",a4,b(e.t("related_collections")),1),o(r,{modelValue:e.oneAllowedCollections,"onUpdate:modelValue":t[1]||(t[1]=h=>e.oneAllowedCollections=h),placeholder:e.t("collection")+"...",items:e.availableCollections,"item-value":"collection","item-text":"name","item-disabled":"meta.singleton",multiple:"","multiple-preview-threshold":0},null,8,["modelValue","placeholder","items"])]),o(a,{disabled:"","model-value":e.currentPrimaryKey},null,8,["model-value"]),o(m,{modelValue:e.junctionFieldCurrent,"onUpdate:modelValue":t[2]||(t[2]=h=>e.junctionFieldCurrent=h),collection:e.junctionCollection,disabled:e.autoGenerateJunctionRelation||e.isExisting},null,8,["modelValue","collection","disabled"]),S("div",i4,b(((g=e.oneAllowedCollections)!=null?g:[]).join(", ")),1),s4,o(m,{modelValue:e.oneCollectionField,"onUpdate:modelValue":t[3]||(t[3]=h=>e.oneCollectionField=h),collection:e.junctionCollection,placeholder:e.t("collection_key")+"...",disabled:e.autoGenerateJunctionRelation||e.isExisting},null,8,["modelValue","collection","placeholder","disabled"]),r4,o(m,{modelValue:e.junctionFieldRelated,"onUpdate:modelValue":t[4]||(t[4]=h=>e.junctionFieldRelated=h),disabled:e.autoGenerateJunctionRelation||e.isExisting},null,8,["modelValue","disabled"]),o(a,{disabled:"","model-value":e.t("primary_key")},null,8,["model-value"]),d4,e.isExisting?R("",!0):(p(),C(f,{key:0,modelValue:e.autoGenerateJunctionRelation,"onUpdate:modelValue":t[5]||(t[5]=h=>e.autoGenerateJunctionRelation=h),block:"",label:e.t("auto_fill")},null,8,["modelValue","label"])),o(v,{class:"arrow",name:"arrow_forward"}),o(v,{class:"arrow",name:"arrow_backward"}),o(v,{class:"arrow",name:"arrow_backward"})]),S("div",u4,[o(_,{large:"","inline-title":!1},{default:d(()=>[D(b(e.t("sort_field")),1)]),_:1}),o(m,{modelValue:e.sortField,"onUpdate:modelValue":t[6]||(t[6]=h=>e.sortField=h),collection:e.junctionCollection,placeholder:e.t("add_sort_field"),nullable:!0},null,8,["modelValue","collection","placeholder"])]),S("div",c4,[o(_,{class:"field full",large:"","inline-title":!1},{default:d(()=>[D(b(e.t("relational_triggers")),1)]),_:1}),S("div",p4,[S("div",m4,b(e.t("referential_action_field_label_m2o",{collection:e.collection||"related"})),1),o(r,{modelValue:e.onDelete,"onUpdate:modelValue":t[7]||(t[7]=h=>e.onDelete=h),disabled:e.collection===e.junctionCollection,placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{field:e.junctionFieldRelated}),value:"SET NULL"},{text:e.t("referential_action_set_default",{field:e.junctionFieldRelated}),value:"SET DEFAULT"},{text:e.t("referential_action_cascade",{collection:e.junctionCollection,field:e.junctionFieldRelated}),value:"CASCADE"},{text:e.t("referential_action_no_action"),value:"NO ACTION"}]},null,8,["modelValue","disabled","placeholder","items"])]),S("div",f4,[S("div",v4,b(e.t("referential_action_field_label_o2m",{collection:e.junctionCollection||"related"})),1),o(r,{modelValue:e.onDeselect,"onUpdate:modelValue":t[8]||(t[8]=h=>e.onDeselect=h),placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{field:e.junctionFieldRelated}),value:"nullify"},{text:e.t("referential_action_cascade",{collection:(($=e.oneAllowedCollections)!=null?$:[]).join(" / "),field:e.junctionFieldRelated}),value:"delete"}]},null,8,["modelValue","placeholder","items"])])]),e.generationInfo.length>0?(p(),C(y,{key:0,class:"generated-data",type:"warning"},{default:d(()=>[S("span",null,[D(b(e.t("new_data_alert"))+" ",1),S("ul",null,[(p(!0),I(ie,null,he(e.generationInfo,(h,k)=>(p(),I("li",{key:k},[S("span",_4,b(h.name),1)]))),128))])])]),_:1})):R("",!0)])}var g4=q(YI,[["render",y4],["__scopeId","data-v-2c8bde2f"]]);const h4=z({components:{RelatedCollectionSelect:An,RelatedFieldSelect:xn},setup(){const{t:e}=Y(),t=vt(),n=Pe(),{field:l,collection:i,editing:u,generationInfo:a}=wt(t),s=Ee("relations.o2m.meta.sort_field"),r=Ee("relations.o2m.collection"),m=Ee("relations.o2m.field"),f=Ee("relations.m2o.field"),v=Ee("relations.m2o.related_collection"),_=Ee("autoGenerateJunctionRelation"),y=Ee("relations.o2m.schema.on_delete"),g=Ee("relations.m2o.schema.on_delete"),$=Ee("relations.o2m.meta.one_deselect_action"),h=Ee("fields.corresponding"),k=V(()=>l.value.type),A=V(()=>u.value!=="+"),F=V(()=>{var L;return(L=n.getPrimaryKeyFieldForCollection(i.value))==null?void 0:L.field}),P=V(()=>{var L,M;return(M=(L=n.getPrimaryKeyFieldForCollection(v.value))==null?void 0:L.field)!=null?M:"id"}),O=V({get(){return!!h.value},set(L){L?h.value={field:i.value,collection:v.value,type:"alias",meta:{special:["m2m"],interface:"list-m2m"}}:h.value=null}}),T=V(()=>r.value?e("add_m2m_to_collection",{collection:v.value}):e("add_field_related")),N=V({get(){var L;return(L=h.value)==null?void 0:L.field},set(L){O.value||(O.value=!0),h.value.field=L}});return{t:e,autoGenerateJunctionRelation:_,collection:i,type:k,isExisting:A,junctionCollection:r,junctionFieldCurrent:m,relatedCollection:v,sortField:s,currentPrimaryKey:F,junctionFieldRelated:f,relatedPrimaryKey:P,onDeleteCurrent:y,onDeleteRelated:g,deselectAction:$,hasCorresponding:O,correspondingLabel:T,correspondingFieldKey:N,generationInfo:a}}}),To=e=>(We("data-v-4e650362"),e=e(),Ge(),e),b4={class:"grid"},$4={class:"field"},w4={class:"type-label"},k4={class:"field"},S4={class:"type-label"},C4={class:"field"},V4={class:"type-label"},F4=To(()=>S("div",{class:"spacer"},null,-1)),A4=To(()=>S("div",{class:"spacer"},null,-1)),I4=To(()=>S("div",{class:"spacer"},null,-1)),E4={class:"relational-triggers"},D4={class:"field"},T4={class:"type-label"},P4={class:"field"},O4={class:"type-label"},L4={class:"field"},j4={class:"type-label"};function R4(e,t,n,l,i,u){const a=c("v-input"),s=c("related-collection-select"),r=c("related-field-select"),m=c("v-checkbox"),f=c("v-icon"),v=c("v-divider"),_=c("v-select");return p(),I("div",null,[S("div",b4,[S("div",$4,[S("div",w4,b(e.t("this_collection")),1),o(a,{disabled:"","model-value":e.collection},null,8,["model-value"])]),S("div",k4,[S("div",S4,b(e.t("translations_collection")),1),o(s,{modelValue:e.junctionCollection,"onUpdate:modelValue":t[0]||(t[0]=y=>e.junctionCollection=y),disabled:e.autoGenerateJunctionRelation||e.isExisting},null,8,["modelValue","disabled"])]),S("div",C4,[S("div",V4,b(e.t("languages_collection")),1),o(s,{modelValue:e.relatedCollection,"onUpdate:modelValue":t[1]||(t[1]=y=>e.relatedCollection=y),disabled:e.type==="files"||e.isExisting},null,8,["modelValue","disabled"])]),o(a,{disabled:"","model-value":e.currentPrimaryKey},null,8,["model-value"]),o(r,{modelValue:e.junctionFieldCurrent,"onUpdate:modelValue":t[2]||(t[2]=y=>e.junctionFieldCurrent=y),collection:e.junctionCollection,disabled:e.autoGenerateJunctionRelation||e.isExisting},null,8,["modelValue","collection","disabled"]),F4,A4,o(r,{modelValue:e.junctionFieldRelated,"onUpdate:modelValue":t[3]||(t[3]=y=>e.junctionFieldRelated=y),collection:e.junctionCollection,disabled:e.autoGenerateJunctionRelation||e.isExisting},null,8,["modelValue","collection","disabled"]),o(a,{modelValue:e.relatedPrimaryKey,"onUpdate:modelValue":t[4]||(t[4]=y=>e.relatedPrimaryKey=y),disabled:"",placeholder:e.t("primary_key")+"..."},null,8,["modelValue","placeholder"]),I4,o(m,{modelValue:e.autoGenerateJunctionRelation,"onUpdate:modelValue":t[5]||(t[5]=y=>e.autoGenerateJunctionRelation=y),disabled:e.isExisting,block:"",label:e.t("auto_fill")},null,8,["modelValue","disabled","label"]),o(f,{class:"arrow",name:"arrow_forward"}),o(f,{class:"arrow",name:"arrow_backward"})]),S("div",E4,[o(v,{class:"field full",large:"","inline-title":!1},{default:d(()=>[D(b(e.t("relational_triggers")),1)]),_:1}),S("div",D4,[S("div",T4,b(e.t("referential_action_field_label_o2m",{collection:e.junctionCollection||""})),1),o(_,{modelValue:e.deselectAction,"onUpdate:modelValue":t[6]||(t[6]=y=>e.deselectAction=y),placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{collection:e.junctionCollection,field:e.junctionFieldCurrent}),value:"nullify"},{text:e.t("referential_action_cascade",{collection:e.junctionCollection,field:e.junctionFieldCurrent}),value:"delete"}]},null,8,["modelValue","placeholder","items"])]),S("div",P4,[S("div",O4,b(e.t("referential_action_field_label_m2o",{collection:e.collection||"related"})),1),o(_,{modelValue:e.onDeleteCurrent,"onUpdate:modelValue":t[7]||(t[7]=y=>e.onDeleteCurrent=y),disabled:e.junctionCollection===e.collection,placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{field:e.junctionFieldCurrent}),value:"SET NULL"},{text:e.t("referential_action_set_default",{field:e.junctionFieldCurrent}),value:"SET DEFAULT"},{text:e.t("referential_action_cascade",{collection:e.junctionCollection,field:e.junctionFieldCurrent}),value:"CASCADE"},{text:e.t("referential_action_no_action"),value:"NO ACTION"}]},null,8,["modelValue","disabled","placeholder","items"])]),S("div",L4,[S("div",j4,b(e.t("referential_action_field_label_m2o",{collection:e.relatedCollection||"related"})),1),o(_,{modelValue:e.onDeleteRelated,"onUpdate:modelValue":t[8]||(t[8]=y=>e.onDeleteRelated=y),disabled:e.junctionCollection===e.relatedCollection,placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{field:e.junctionFieldRelated}),value:"SET NULL"},{text:e.t("referential_action_set_default",{field:e.junctionFieldRelated}),value:"SET DEFAULT"},{text:e.t("referential_action_cascade",{collection:e.junctionCollection,field:e.junctionFieldRelated}),value:"CASCADE"},{text:e.t("referential_action_no_action"),value:"NO ACTION"}]},null,8,["modelValue","disabled","placeholder","items"])])])])}var M4=q(h4,[["render",R4],["__scopeId","data-v-4e650362"]]);const U4=z({components:{RelationshipM2o:dI,RelationshipO2m:SI,RelationshipM2m:ZI,RelationshipM2a:g4,RelationshipTranslations:M4},setup(){const e=vt(),{collection:t,localType:n}=wt(e);return{collection:t,localType:n}}});function N4(e,t,n,l,i,u){const a=c("relationship-m2o"),s=c("relationship-o2m"),r=c("relationship-m2m"),m=c("relationship-m2a"),f=c("relationship-translations");return e.localType==="m2o"||e.localType==="file"?(p(),C(a,{key:0})):e.localType==="o2m"?(p(),C(s,{key:1})):e.localType==="m2m"||e.localType==="files"?(p(),C(r,{key:2})):e.localType==="m2a"?(p(),C(m,{key:3})):e.localType==="translations"?(p(),C(f,{key:4})):R("",!0)}var B4=q(U4,[["render",N4]]);const q4=z({setup(){const{t:e}=Y(),t=vt(),n=Ee("field.meta.readonly",!1),l=Ee("field.meta.hidden",!1),i=Ee("field.meta.required",!1),u=Ee("field.meta.note"),a=Ee("field.meta.translations"),{field:s}=wt(t),r=V(()=>s.value.type),m=V(()=>{var f;return(f=s.value.schema)==null?void 0:f.is_generated});return{t:e,readonly:n,hidden:l,required:i,note:u,translations:a,type:r,isGenerated:m}}}),z4={class:"form"},K4={key:0,class:"field half-left"},H4={class:"label type-label"},W4={key:1,class:"field half-right"},G4={class:"label type-label"},J4={class:"field half-left"},Q4={class:"label type-label"},X4={key:2,class:"field full"},Z4={class:"label type-label"},Y4={class:"field full"},x4={class:"label type-label"};function eE(e,t,n,l,i,u){const a=c("v-checkbox"),s=c("v-input"),r=c("interface-list");return p(),I("div",z4,[e.isGenerated?R("",!0):(p(),I("div",K4,[S("div",H4,b(e.t("readonly")),1),o(a,{modelValue:e.readonly,"onUpdate:modelValue":t[0]||(t[0]=m=>e.readonly=m),label:e.t("disabled_editing_value"),block:""},null,8,["modelValue","label"])])),e.isGenerated?R("",!0):(p(),I("div",W4,[S("div",G4,b(e.t("required")),1),o(a,{modelValue:e.required,"onUpdate:modelValue":t[1]||(t[1]=m=>e.required=m),label:e.t("require_value_to_be_set"),block:""},null,8,["modelValue","label"])])),S("div",J4,[S("div",Q4,b(e.t("hidden")),1),o(a,{modelValue:e.hidden,"onUpdate:modelValue":t[2]||(t[2]=m=>e.hidden=m),label:e.t("hidden_on_detail"),block:""},null,8,["modelValue","label"])]),e.type!=="group"?(p(),I("div",X4,[S("div",Z4,b(e.t("note")),1),o(s,{modelValue:e.note,"onUpdate:modelValue":t[3]||(t[3]=m=>e.note=m),placeholder:e.t("add_note")},null,8,["modelValue","placeholder"])])):R("",!0),S("div",Y4,[S("div",x4,b(e.t("field_name_translations")),1),o(r,{template:"[{{ language }}] {{ translation }}",fields:[{field:"language",type:"string",name:e.t("language"),meta:{interface:"system-language",width:"half",display:"formatted-value",display_options:{font:"monospace",color:"var(--foreground-subdued)"}},schema:{default_value:"en-US"}},{field:"translation",type:"string",name:e.t("translation"),meta:{interface:"input",width:"half",options:{placeholder:e.t("translation_placeholder")}}}],value:e.translations,onInput:t[4]||(t[4]=m=>e.translations=m)},null,8,["fields","value"])])])}var tE=q(q4,[["render",eE],["__scopeId","data-v-73d70b88"]]);const nE=z({components:{ExtensionOptions:Io},setup(){const{t:e}=Y(),t=vt(),n=Ee("field.meta.interface"),l=Ee("field.meta.options"),{field:i,interfacesForType:u}=wt(t),a=V(()=>i.value.type),s=V(()=>{var $;const f={string:["input","select-dropdown"],text:["input-rich-text-html"],boolean:["boolean"],integer:["input"],bigInteger:["input"],float:["input"],decimal:["input"],timestamp:["datetime"],datetime:["datetime"],date:["datetime"],time:["datetime"],json:["select-multiple-checkbox","tags"],uuid:["input"],csv:["tags"]}[($=a.value)!=null?$:"alias"]||[],v=u.value.map(h=>{const k={text:h.name,description:h.description,value:h.id,icon:h.icon};return f.includes(k.value)&&(k.iconRight="star"),k}),_=[],y=f.map(h=>v.find(k=>k.value===h));y!==void 0&&_.push(...y.filter(h=>h)),v.length>=5&&f.length>0&&_.push({divider:!0});const g=v.filter(h=>f.includes(h.value)===!1);return g!==void 0&&_.push(...g.filter(h=>h)),_}),r=V(()=>Dt(n.value));return{t:e,selectItems:s,selectedInterface:r,interfaceID:n,options:l}}}),lE=e=>(We("data-v-834757c8"),e=e(),Ge(),e),oE=lE(()=>S("div",{class:"spacer"},null,-1));function aE(e,t,n,l,i,u){const a=c("v-fancy-select"),s=c("v-notice"),r=c("extension-options");return p(),I("div",null,[o(a,{modelValue:e.interfaceID,"onUpdate:modelValue":t[0]||(t[0]=m=>e.interfaceID=m),class:"select",items:e.selectItems},null,8,["modelValue","items"]),e.interfaceID&&!e.selectedInterface?(p(),C(s,{key:0,class:"not-found",type:"danger"},{default:d(()=>[D(b(e.t("interface_not_found",{interface:e.interfaceID}))+" ",1),oE,S("button",{onClick:t[1]||(t[1]=m=>e.interfaceID=null)},b(e.t("reset_interface")),1)]),_:1})):R("",!0),e.interfaceID&&e.selectedInterface?(p(),C(r,{key:1,type:"interface",extension:e.interfaceID,"show-advanced":""},null,8,["extension"])):R("",!0)])}var iE=q(nE,[["render",aE],["__scopeId","data-v-834757c8"]]);const sE=z({components:{ExtensionOptions:Io},setup(){const{t:e}=Y(),t=vt(),{field:n,displaysForType:l}=wt(t),i=V(()=>{var m;return(m=n.value.meta)==null?void 0:m.interface}),u=Ee("field.meta.display"),a=V(()=>Dt(i.value)),s=V(()=>{var g;let m=U.exports.clone((g=a.value)==null?void 0:g.recommendedDisplays)||[];m.push("raw","formatted-value"),m=[...new Set(m)];const f=l.value.map($=>{const h={text:$.name,description:$.description,value:$.id,icon:$.icon};return m.includes(h.value)&&(h.iconRight="star"),h}),v=[],_=m.map($=>f.find(h=>h.value===$));_!==void 0&&v.push(..._.filter($=>$)),f.length>=5&&m.length>0&&v.push({divider:!0});const y=f.filter($=>m.includes($.value)===!1);return y!==void 0&&v.push(...y.filter($=>$)),v}),r=V(()=>Bn(u.value));return{t:e,selectItems:s,selectedDisplay:r,display:u}}}),rE=e=>(We("data-v-5fae6ffe"),e=e(),Ge(),e),dE=rE(()=>S("div",{class:"spacer"},null,-1));function uE(e,t,n,l,i,u){const a=c("v-fancy-select"),s=c("v-notice"),r=c("extension-options");return p(),I("div",null,[o(a,{modelValue:e.display,"onUpdate:modelValue":t[0]||(t[0]=m=>e.display=m),class:"select",items:e.selectItems},null,8,["modelValue","items"]),e.display&&!e.selectedDisplay?(p(),C(s,{key:0,class:"not-found",type:"danger"},{default:d(()=>[D(b(e.t("display_not_found",{display:e.display}))+" ",1),dE,S("button",{onClick:t[1]||(t[1]=m=>e.display=null)},b(e.t("reset_display")),1)]),_:1})):R("",!0),e.display&&e.selectedDisplay?(p(),C(r,{key:1,type:"display",extension:e.display},null,8,["extension"])):R("",!0)])}var cE=q(sE,[["render",uE],["__scopeId","data-v-5fae6ffe"]]);const pE=z({setup(){const{t:e}=Y(),t=vt(),{field:n,collection:l}=wt(t),i=Ee("field.meta.conditions"),u=V(()=>{var s;return(s=n.value.meta)==null?void 0:s.interface});return{repeaterFields:V(()=>[{field:"name",name:e("name"),type:"string",meta:{interface:"input",options:{iconLeft:"label",placeholder:e("enter_a_value")}}},{field:"rule",name:e("rule"),type:"json",meta:{interface:"system-filter",options:{collectionName:l.value}}},{field:"readonly",name:e("readonly"),type:"boolean",meta:{interface:"boolean",options:{label:e("disabled_editing_value")},width:"half"}},{field:"hidden",name:e("hidden"),type:"boolean",meta:{interface:"boolean",options:{label:e("hidden_on_detail")},width:"half"}},{field:"required",name:e("required"),type:"boolean",meta:{interface:"boolean",options:{label:e("require_value_to_be_set")},width:"half"}},{field:"options",name:e("interface_options"),type:"json",meta:{interface:"system-interface-options",options:{interface:u.value}}}]),conditions:i}}});function mE(e,t,n,l,i,u){const a=c("interface-list");return p(),I("div",null,[o(a,{fields:e.repeaterFields,template:"{{ name }}",value:e.conditions,onInput:t[0]||(t[0]=s=>e.conditions=s)},null,8,["fields","value"])])}var fE=q(pE,[["render",mE]]);const vE=z({components:{FieldDetailAdvancedSchema:WA,FieldDetailAdvancedRelationship:B4,FieldDetailAdvancedField:tE,FieldDetailAdvancedInterface:iE,FieldDetailAdvancedDisplay:cE,FieldDetailAdvancedConditions:fE},props:{currentTab:{type:String,required:!0}}}),_E={class:"content"};function yE(e,t,n,l,i,u){const a=c("field-detail-advanced-schema"),s=c("field-detail-advanced-relationship"),r=c("field-detail-advanced-field"),m=c("field-detail-advanced-interface"),f=c("field-detail-advanced-display"),v=c("field-detail-advanced-conditions");return p(),I("div",_E,[e.currentTab==="schema"?(p(),C(a,{key:0})):R("",!0),e.currentTab==="relationship"?(p(),C(s,{key:1})):R("",!0),e.currentTab==="field"?(p(),C(r,{key:2})):R("",!0),e.currentTab==="interface"?(p(),C(m,{key:3})):R("",!0),e.currentTab==="display"?(p(),C(f,{key:4})):R("",!0),e.currentTab==="conditions"?(p(),C(v,{key:5})):R("",!0)])}var gE=q(vE,[["render",yE],["__scopeId","data-v-25cdbb16"]]);const hE=z({props:{currentTab:{type:Array,required:!0}},emits:["update:currentTab"],setup(e,{emit:t}){const n=vt(),{localType:l}=wt(n),i=Le(e,"currentTab",t),{t:u}=Y();return{tabs:V(()=>{const s=[{text:u("schema"),value:"schema"},{text:u("field",1),value:"field"},{text:u("interface_label"),value:"interface"}];return l.value!=="presentation"&&l.value!=="group"&&s.push({text:u("display"),value:"display"}),["o2m","m2o","m2m","m2a","files"].includes(l.value)&&s.splice(1,0,{text:u("relationship"),value:"relationship"}),l.value==="translations"&&s.splice(1,0,{text:u("translations"),value:"relationship"}),s.push({text:u("conditions"),value:"conditions"}),s}),currentTabSync:i}}});function bE(e,t,n,l,i,u){const a=c("v-tab"),s=c("v-tabs");return p(),C(s,{modelValue:e.currentTabSync,"onUpdate:modelValue":t[0]||(t[0]=r=>e.currentTabSync=r),vertical:""},{default:d(()=>[(p(!0),I(ie,null,he(e.tabs,r=>(p(),C(a,{key:r.value,value:r.value,disabled:r.disabled},{default:d(()=>[D(b(r.text),1)]),_:2},1032,["value","disabled"]))),128))]),_:1},8,["modelValue"])}var $E=q(hE,[["render",bE]]);const wE=z({emits:["save"],setup(){const e=vt(),{saving:t,readyToSave:n}=wt(e),{t:l}=Y();return{saving:t,t:l,readyToSave:n}}});function kE(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-button"),r=Se("tooltip");return x((p(),C(s,{disabled:e.readyToSave===!1,loading:e.saving,icon:"",rounded:"",onClick:t[0]||(t[0]=m=>e.$emit("save"))},{default:d(()=>[o(a,{name:"check"})]),_:1},8,["disabled","loading"])),[[r,e.t("save"),void 0,{bottom:!0}]])}var SE=q(wE,[["render",kE]]);const CE=z({name:"FieldDetail",components:{FieldDetailSimple:$A,FieldDetailAdvanced:gE,FieldDetailAdvancedTabs:$E,FieldDetailAdvancedActions:SE},props:{collection:{type:String,required:!0},field:{type:String,required:!0},type:{type:String,default:null}},setup(e){const{collection:t}=Re(e),n=cn(),l=vt(),{editing:i}=wt(l);_e(()=>e.field,()=>l.startEditing(e.collection,e.field,e.type),{immediate:!0});const u=Ke(),a=Pe(),s=Ye(),{t:r}=Y(),m=V(()=>u.getCollection(t.value)),f=E(e.type===null),v=V(()=>{var A,F;const h=a.getField(e.collection,e.field),k=(h==null?void 0:h.name)||Ft(l.field.name||"");return e.field==="+"&&k===""?r("creating_new_field",{collection:(A=m.value)==null?void 0:A.name}):r("field_in_collection",{field:k,collection:(F=m.value)==null?void 0:F.name})}),_=E(["schema"]),y=V(()=>i.value!=="+"||!f.value);return{simple:f,cancel:g,collectionInfo:m,t:r,title:v,save:$,isOpen:n,currentTab:_,showAdvanced:y};async function g(){await s.push(`/settings/data-model/${e.collection}`),l.$reset()}async function $(){await l.save(),s.push(`/settings/data-model/${e.collection}`),l.$reset()}}});function VE(e,t,n,l,i,u){const a=c("field-detail-simple"),s=c("field-detail-advanced-tabs"),r=c("field-detail-advanced-actions"),m=c("field-detail-advanced"),f=c("v-drawer");return p(),C(f,{"model-value":e.isOpen,title:e.title,persistent:"",onCancel:e.cancel,"onUpdate:modelValue":e.cancel},Ze({default:d(()=>[e.showAdvanced?R("",!0):(p(),C(a,{key:0,collection:e.collectionInfo,onSave:e.save,onToggleAdvanced:t[0]||(t[0]=v=>e.simple=!1)},null,8,["collection","onSave"])),e.showAdvanced?(p(),C(m,{key:1,collection:e.collectionInfo,"current-tab":e.currentTab[0],onSave:e.save},null,8,["collection","current-tab","onSave"])):R("",!0)]),_:2},[e.showAdvanced?{name:"sidebar",fn:d(()=>[o(s,{"current-tab":e.currentTab,"onUpdate:current-tab":t[1]||(t[1]=v=>e.currentTab=v)},null,8,["current-tab"])])}:void 0,e.showAdvanced?{name:"actions",fn:d(()=>[o(r,{onSave:e.save},null,8,["onSave"])])}:void 0]),1032,["model-value","title","onCancel","onUpdate:modelValue"])}var FE=q(CE,[["render",VE],["__scopeId","data-v-4fc67dfe"]]);const AE=z({name:"FieldSelectMenu",props:{field:{type:Object,required:!0},noDelete:{type:Boolean,default:!1}},emits:["toggleVisibility","duplicate","delete","setWidth"],setup(e){const{t}=Y(),n=V(()=>Yn(e.field.collection,e.field.field)),l=V(()=>{var u;return((u=e.field.schema)==null?void 0:u.is_primary_key)===!0}),i=V(()=>n.value==="standard"&&l.value===!1);return{t,localType:n,isPrimaryKey:l,duplicable:i}}});function IE(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-list-item-icon"),r=c("v-list-item-content"),m=c("v-list-item"),f=c("v-divider"),v=c("v-list"),_=c("v-menu");return p(),C(_,{"show-arrow":"",placement:"bottom-end"},{activator:d(({toggle:y})=>[o(a,{clickable:"",name:"more_vert",onClick:y},null,8,["onClick"])]),default:d(()=>[o(v,null,{default:d(()=>{var y,g,$,h;return[o(m,{to:`/settings/data-model/${e.field.collection}/${e.field.field}`},{default:d(()=>[o(s,null,{default:d(()=>[o(a,{name:"edit",outline:""})]),_:1}),o(r,null,{default:d(()=>[D(b(e.t("edit_field")),1)]),_:1})]),_:1},8,["to"]),o(m,{disabled:e.duplicable===!1,clickable:"",onClick:t[0]||(t[0]=k=>e.$emit("duplicate"))},{default:d(()=>[o(s,null,{default:d(()=>[o(a,{name:"content_copy"})]),_:1}),o(r,null,{default:d(()=>[D(b(e.t("duplicate_field")),1)]),_:1})]),_:1},8,["disabled"]),o(m,{clickable:"",onClick:t[1]||(t[1]=k=>e.$emit("toggleVisibility"))},{default:d(()=>{var k;return[((k=e.field.meta)==null?void 0:k.hidden)===!1?(p(),I(ie,{key:0},[o(s,null,{default:d(()=>[o(a,{name:"visibility_off"})]),_:1}),o(r,null,{default:d(()=>[D(b(e.t("hide_field_on_detail")),1)]),_:1})],64)):(p(),I(ie,{key:1},[o(s,null,{default:d(()=>[o(a,{name:"visibility"})]),_:1}),o(r,null,{default:d(()=>[D(b(e.t("show_field_on_detail")),1)]),_:1})],64))]}),_:1}),o(f),o(m,{clickable:"",disabled:((y=e.field.meta)==null?void 0:y.width)==="half"||e.localType==="group",onClick:t[2]||(t[2]=k=>e.$emit("setWidth","half"))},{default:d(()=>[o(s,null,{default:d(()=>[o(a,{name:"border_vertical"})]),_:1}),o(r,null,{default:d(()=>[D(b(e.t("half_width")),1)]),_:1})]),_:1},8,["disabled"]),o(m,{clickable:"",disabled:((g=e.field.meta)==null?void 0:g.width)==="full"||e.localType==="group",onClick:t[3]||(t[3]=k=>e.$emit("setWidth","full"))},{default:d(()=>[o(s,null,{default:d(()=>[o(a,{name:"border_right"})]),_:1}),o(r,null,{default:d(()=>[D(b(e.t("full_width")),1)]),_:1})]),_:1},8,["disabled"]),o(m,{clickable:"",disabled:(($=e.field.meta)==null?void 0:$.width)==="fill"||e.localType==="group",onClick:t[4]||(t[4]=k=>e.$emit("setWidth","fill"))},{default:d(()=>[o(s,null,{default:d(()=>[o(a,{name:"aspect_ratio"})]),_:1}),o(r,null,{default:d(()=>[D(b(e.t("fill_width")),1)]),_:1})]),_:1},8,["disabled"]),o(f),o(m,{clickable:"",class:"danger",disabled:((h=e.field.schema)==null?void 0:h.is_primary_key)===!0||e.noDelete,onClick:t[5]||(t[5]=k=>e.$emit("delete"))},{default:d(()=>[o(s,null,{default:d(()=>[o(a,{name:"delete",outline:""})]),_:1}),o(r,null,{default:d(()=>[D(b(e.t("delete_field")),1)]),_:1})]),_:1},8,["disabled"])]}),_:1})]),_:1})}var EE=q(AE,[["render",IE]]);function Bt(e){const t=new Image;e.setDragImage(t,0,0)}const DE=z({name:"FieldSelect",components:{FieldSelectMenu:EE,Draggable:Ct},props:{field:{type:Object,required:!0},disabled:{type:Boolean,default:!1},fields:{type:Array,default:()=>[]}},emits:["setNestedSort"],setup(e,{emit:t}){const{t:n}=Y(),l=Ye(),i=Ke(),u=Pe(),a=E(!1),{deleteActive:s,deleting:r,deleteField:m}=T(),{duplicateActive:f,duplicateName:v,collections:_,duplicateTo:y,saveDuplicate:g,duplicating:$}=N(),h=V(()=>{var B,K;return(K=Dt((B=e.field.meta)==null?void 0:B.interface))==null?void 0:K.name}),k=V(()=>{var B;return((B=e.field.meta)==null?void 0:B.hidden)===!0}),A=V(()=>Yn(e.field.collection,e.field.field)),F=V(()=>e.fields.filter(B=>{var K;return((K=B.meta)==null?void 0:K.group)===e.field.field}));return{t:n,interfaceName:h,formatTitle:Ft,editActive:a,setWidth:P,deleteActive:s,deleting:r,deleteField:m,duplicateActive:f,collections:_,duplicateName:v,duplicateTo:y,saveDuplicate:g,duplicating:$,openFieldDetail:L,hidden:k,toggleVisibility:O,localType:A,hideDragImage:Bt,onGroupSortChange:M,nestedFields:F};function P(B){u.updateField(e.field.collection,e.field.field,{meta:{width:B}})}function O(){var B;u.updateField(e.field.collection,e.field.field,{meta:{hidden:!((B=e.field.meta)==null?void 0:B.hidden)}})}function T(){const B=E(!1),K=E(!1);return{deleteActive:B,deleting:K,deleteField:W};async function W(){await u.deleteField(e.field.collection,e.field.field),K.value=!1,B.value=!1}}function N(){const B=E(!1),K=E(e.field.field+"_copy"),W=E(!1),le=V(()=>i.collections.map(({collection:fe})=>fe).filter(fe=>fe.startsWith("directus_")===!1)),G=E(e.field.collection);return{duplicateActive:B,duplicateName:K,collections:le,duplicateTo:G,saveDuplicate:Q,duplicating:W};async function Q(){const fe=Ve(pe({},U.exports.cloneDeep(e.field)),{field:K.value,collection:G.value});fe.meta&&(delete fe.meta.id,delete fe.meta.sort,delete fe.meta.group),fe.schema&&delete fe.schema.comment,delete fe.name,W.value=!0;try{await u.createField(G.value,fe),It({title:n("field_create_success",{field:fe.field}),type:"success"}),B.value=!1}catch(ue){Ce(ue)}finally{W.value=!1}}}async function L(){e.field.meta||await u.updateField(e.field.collection,e.field.field,{meta:{}}),l.push(`/settings/data-model/${e.field.collection}/${e.field.field}`)}async function M(B){const K=B.map((W,le)=>({field:W.field,meta:{sort:le+1,group:e.field.meta.field}}));t("setNestedSort",K)}}}),TE={class:"label"},PE={class:"name"},OE={class:"header full"},LE={class:"name"},jE={class:"label-inner"},RE={class:"name"},ME={key:0,class:"interface"},UE={key:1,class:"interface"},NE={class:"icons"},BE={class:"form-grid"},qE={class:"field"},zE={class:"type-label"},KE={class:"field"},HE={class:"type-label"};function WE(e,t,n,l,i,u){var F;const a=c("v-icon"),s=c("v-input"),r=c("field-select-menu"),m=c("field-select",!0),f=c("draggable"),v=c("v-card-title"),_=c("v-select"),y=c("v-card-text"),g=c("v-button"),$=c("v-card-actions"),h=c("v-card"),k=c("v-dialog"),A=Se("tooltip");return p(),I("div",{class:se(["field-select",((F=e.field.meta)==null?void 0:F.width)||"full"])},[e.disabled?(p(),C(s,{key:0,disabled:"",class:"field"},{prepend:d(()=>[x(o(a,{name:"lock"},null,512),[[A,e.t("system_fields_locked")]])]),input:d(()=>[S("div",TE,[S("span",PE,b(e.field.field),1)])]),_:1})):(p(),I(ie,{key:1},[e.localType==="group"?(p(),C(f,{key:0,class:"field-grid group full nested","model-value":e.nestedFields,"force-fallback":!0,handle:".drag-handle",group:{name:"fields"},"set-data":e.hideDragImage,animation:150,"item-key":"field","fallback-on-body":!0,"invert-swap":!0,"onUpdate:modelValue":e.onGroupSortChange},{header:d(()=>[S("div",OE,[o(a,{class:"drag-handle",name:"drag_indicator",onClick:t[0]||(t[0]=Fe(()=>{},["stop"]))}),S("span",LE,b(e.field.field),1),e.hidden?x((p(),C(a,{key:0,name:"visibility_off",class:"hidden-icon",small:""},null,512)),[[A,e.t("hidden_field")]]):R("",!0),o(r,{field:e.field,"no-delete":e.nestedFields.length>0,onToggleVisibility:e.toggleVisibility,onSetWidth:t[1]||(t[1]=P=>e.setWidth(P)),onDuplicate:t[2]||(t[2]=P=>e.duplicateActive=!0),onDelete:t[3]||(t[3]=P=>e.deleteActive=!0)},null,8,["field","no-delete","onToggleVisibility"])])]),item:d(({element:P})=>[o(m,{field:P,fields:e.fields,onSetNestedSort:t[4]||(t[4]=O=>e.$emit("setNestedSort",O))},null,8,["field","fields"])]),_:1},8,["model-value","set-data","onUpdate:modelValue"])):(p(),C(s,{key:1,class:se(["field",{hidden:e.hidden}]),readonly:""},{prepend:d(()=>[o(a,{class:"drag-handle",name:"drag_indicator",onClick:t[5]||(t[5]=Fe(()=>{},["stop"]))})]),input:d(()=>{var P;return[x(S("div",{class:"label",onClick:t[6]||(t[6]=(...O)=>e.openFieldDetail&&e.openFieldDetail(...O))},[S("div",jE,[S("span",RE,[D(b(e.field.field)+" ",1),((P=e.field.meta)==null?void 0:P.required)===!0?(p(),C(a,{key:0,name:"star",class:"required",sup:""})):R("",!0)]),e.field.meta?(p(),I("span",ME,b(e.interfaceName),1)):(p(),I("span",UE,b(e.t("db_only_click_to_configure")),1))])],512),[[A,e.interfaceName?`${e.field.name} (${e.formatTitle(e.field.type)}) - ${e.interfaceName}`:e.field.name]])]}),append:d(()=>[S("div",NE,[e.field.schema&&e.field.schema.is_primary_key?x((p(),C(a,{key:0,name:"vpn_key",small:""},null,512)),[[A,e.t("primary_key")]]):R("",!0),e.field.meta?R("",!0):x((p(),C(a,{key:1,name:"report_problem",class:"unmanaged",small:""},null,512)),[[A,e.t("db_only_click_to_configure")]]),e.hidden?x((p(),C(a,{key:2,name:"visibility_off",class:"hidden-icon",small:""},null,512)),[[A,e.t("hidden_field")]]):R("",!0),o(r,{field:e.field,onToggleVisibility:e.toggleVisibility,onSetWidth:t[7]||(t[7]=P=>e.setWidth(P)),onDuplicate:t[8]||(t[8]=P=>e.duplicateActive=!0),onDelete:t[9]||(t[9]=P=>e.deleteActive=!0)},null,8,["field","onToggleVisibility"])])]),_:1},8,["class"])),o(k,{modelValue:e.duplicateActive,"onUpdate:modelValue":t[13]||(t[13]=P=>e.duplicateActive=P),onEsc:t[14]||(t[14]=P=>e.duplicateActive=!1)},{default:d(()=>[o(h,{class:"duplicate"},{default:d(()=>[o(v,null,{default:d(()=>[D(b(e.t("duplicate_where_to")),1)]),_:1}),o(y,null,{default:d(()=>[S("div",BE,[S("div",qE,[S("span",zE,b(e.t("collection",0)),1),o(_,{modelValue:e.duplicateTo,"onUpdate:modelValue":t[10]||(t[10]=P=>e.duplicateTo=P),class:"monospace",items:e.collections},null,8,["modelValue","items"])]),S("div",KE,[S("span",HE,b(e.t("field",0)),1),o(s,{modelValue:e.duplicateName,"onUpdate:modelValue":t[11]||(t[11]=P=>e.duplicateName=P),class:"monospace","db-safe":"",autofocus:""},null,8,["modelValue"])])])]),_:1}),o($,null,{default:d(()=>[o(g,{secondary:"",onClick:t[12]||(t[12]=P=>e.duplicateActive=!1)},{default:d(()=>[D(b(e.t("cancel")),1)]),_:1}),o(g,{disabled:e.duplicateName===null,loading:e.duplicating,onClick:e.saveDuplicate},{default:d(()=>[D(b(e.t("duplicate")),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(k,{modelValue:e.deleteActive,"onUpdate:modelValue":t[16]||(t[16]=P=>e.deleteActive=P),onEsc:t[17]||(t[17]=P=>e.deleteActive=!1)},{default:d(()=>[o(h,null,{default:d(()=>[o(v,null,{default:d(()=>[D(b(e.t("delete_field_are_you_sure",{field:e.field.field})),1)]),_:1}),o($,null,{default:d(()=>[o(g,{secondary:"",onClick:t[15]||(t[15]=P=>e.deleteActive=!1)},{default:d(()=>[D(b(e.t("cancel")),1)]),_:1}),o(g,{loading:e.deleting,kind:"danger",onClick:e.deleteField},{default:d(()=>[D(b(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))],2)}var GE=q(DE,[["render",WE],["__scopeId","data-v-8670d252"]]);const JE=z({name:"FieldsManagement",components:{Draggable:Ct,FieldSelect:GE},props:{collection:{type:String,required:!0}},setup(e){const{t}=Y(),{collection:n}=Re(e),{fields:l}=at(n),i=Pe(),u=V(()=>U.exports.orderBy(l.value,[v=>{var _,y;return((_=v.meta)==null?void 0:_.sort)?Number((y=v.meta)==null?void 0:y.sort):null},v=>{var _;return(_=v.meta)==null?void 0:_.id}]).filter(v=>v.field.startsWith("$")===!1)),a=V(()=>u.value.filter(v=>{var _;return((_=v.meta)==null?void 0:_.system)===!0})),s=V(()=>u.value.filter(v=>{var _;return((_=v.meta)==null?void 0:_.system)!==!0})),r=V(()=>[{type:"standard",icon:"create",text:t("standard_field")},{type:"presentation",icon:"scatter_plot",text:t("presentation_and_aliases")},{type:"group",icon:"view_in_ar",text:t("field_group")},{divider:!0},{type:"file",icon:"photo",text:t("single_file")},{type:"files",icon:"collections",text:t("multiple_files")},{divider:!0},{type:"m2o",icon:"call_merge",text:t("m2o_relationship")},{type:"o2m",icon:"call_split",text:t("o2m_relationship")},{type:"m2m",icon:"import_export",text:t("m2m_relationship")},{type:"m2a",icon:"gesture",text:t("m2a_relationship")},{divider:!0},{type:"translations",icon:"translate",text:t("translations")}]);return{t,usableFields:s,lockedFields:a,setSort:m,hideDragImage:Bt,addOptions:r,setNestedSort:f,isNil:U.exports.isNil};async function m(v){const _=v.map((y,g)=>({field:y.field,meta:{sort:g+1,group:null}}));await i.updateFields(n.value,_)}async function f(v){v=(v||[]).filter(_=>U.exports.isNil(_)===!1),v.length>0&&await i.updateFields(n.value,v)}}}),QE={class:"fields-management"},XE={key:0,class:"field-grid"},ZE=["dashed","onClick"];function YE(e,t,n,l,i,u){const a=c("field-select"),s=c("draggable"),r=c("v-button"),m=c("v-divider"),f=c("v-icon"),v=c("v-list-item-icon"),_=c("v-list-item-content"),y=c("v-list-item"),g=c("v-list"),$=c("v-menu");return p(),I("div",QE,[e.lockedFields.length>0?(p(),I("div",XE,[(p(!0),I(ie,null,he(e.lockedFields,h=>(p(),C(a,{key:h.field,disabled:"",field:h},null,8,["field"]))),128))])):R("",!0),o(s,{class:"field-grid","model-value":e.usableFields.filter(h=>{var k;return e.isNil((k=h==null?void 0:h.meta)==null?void 0:k.group)}),"force-fallback":!0,handle:".drag-handle",group:{name:"fields"},"set-data":e.hideDragImage,"item-key":"field",animation:150,"fallback-on-body":!0,"invert-swap":!0,"onUpdate:modelValue":e.setSort},{item:d(({element:h})=>[o(a,{field:h,fields:e.usableFields,onSetNestedSort:e.setNestedSort},null,8,["field","fields","onSetNestedSort"])]),_:1},8,["model-value","set-data","onUpdate:modelValue"]),o(r,{"full-width":"",to:`/settings/data-model/${e.collection}/+`},{default:d(()=>[D(b(e.t("create_field")),1)]),_:1},8,["to"]),o($,{"show-arrow":""},{activator:d(({toggle:h,active:k})=>[S("button",{class:se(["add-field-advanced",{active:k}]),dashed:!k,onClick:h},b(e.t("create_in_advanced_field_creation_mode")),11,ZE)]),default:d(()=>[o(g,null,{default:d(()=>[(p(!0),I(ie,null,he(e.addOptions,(h,k)=>(p(),I(ie,{key:k},[h.divider===!0?(p(),C(m,{key:0})):(p(),C(y,{key:1,to:`/settings/data-model/${e.collection}/+?type=${h.type}`},{default:d(()=>[o(v,null,{default:d(()=>[o(f,{name:h.icon},null,8,["name"])]),_:2},1024),o(_,null,{default:d(()=>[D(b(h.text),1)]),_:2},1024)]),_:2},1032,["to"]))],64))),128))]),_:1})]),_:1})])}var xE=q(JE,[["render",YE],["__scopeId","data-v-4cc65bb1"]]);const eD=z({components:{SettingsNavigation:Ut,FieldsManagement:xE},props:{collection:{type:String,required:!0},field:{type:String,default:null},type:{type:String,default:null}},setup(e){const{t}=Y(),n=Ye(),{collection:l}=Re(e),{info:i,fields:u}=at(l),a=Ke(),s=Pe(),{isNew:r,edits:m,item:f,saving:v,loading:_,error:y,save:g,remove:$,deleting:h,saveAsCopy:k,isBatch:A}=Cn(E("directus_collections"),l),F=V(()=>m.value.meta?Object.keys(m.value.meta).length>0:!1);nt("meta+s",()=>{F.value&&B()});const P=E(!1),O=V(()=>F.value===!0?!0:F.value);en(O);const T=E(!1),N=E(null),L=le=>{if(F.value)return T.value=!0,N.value=le.fullPath,!1};return Lt(L),Pt(L),{t,collectionInfo:i,fields:u,confirmDelete:P,isNew:r,edits:m,item:f,saving:v,loading:_,error:y,save:g,remove:$,deleting:h,saveAsCopy:k,isBatch:A,deleteAndQuit:M,saveAndQuit:K,hasEdits:F,isSavable:O,confirmLeave:T,leaveTo:N,discardAndLeave:W};async function M(){await $(),await a.hydrate(),await s.hydrate(),n.replace("/settings/data-model")}async function B(){await g(),await a.hydrate(),await s.hydrate()}async function K(){await g(),await a.hydrate(),await s.hydrate(),n.push("/settings/data-model")}function W(){!N.value||(m.value={},T.value=!1,n.push(N.value))}}}),tD={class:"collections-item"},nD={class:"fields"},lD={class:"title type-label"},oD={class:"instant-save"},aD={class:"page-description"};function iD(e,t,n,l,i,u){const a=c("v-breadcrumb"),s=c("v-icon"),r=c("v-button"),m=c("v-card-title"),f=c("v-card-actions"),v=c("v-card"),_=c("v-dialog"),y=c("settings-navigation"),g=c("fields-management"),$=c("router-view"),h=c("v-form"),k=c("sidebar-detail"),A=c("v-card-text"),F=c("private-view"),P=Se("tooltip"),O=Se("md");return p(),C(F,{title:e.collectionInfo&&e.collectionInfo.name},{headline:d(()=>[o(a,{items:[{name:e.t("settings_data_model"),to:"/settings/data-model"}]},null,8,["items"])]),"title-outer:prepend":d(()=>[o(r,{class:"header-icon",rounded:"",icon:"",exact:"",to:"/settings/data-model"},{default:d(()=>[o(s,{name:"arrow_back"})]),_:1})]),actions:d(()=>[o(_,{modelValue:e.confirmDelete,"onUpdate:modelValue":t[1]||(t[1]=T=>e.confirmDelete=T),onEsc:t[2]||(t[2]=T=>e.confirmDelete=!1)},{activator:d(({on:T})=>[e.item&&e.item.collection.startsWith("directus_")===!1?x((p(),C(r,{key:0,rounded:"",icon:"",class:"action-delete",disabled:e.item===null,onClick:T},{default:d(()=>[o(s,{name:"delete",outline:""})]),_:2},1032,["disabled","onClick"])),[[P,e.t("delete_collection"),void 0,{bottom:!0}]]):R("",!0)]),default:d(()=>[o(v,null,{default:d(()=>[o(m,null,{default:d(()=>[D(b(e.t("delete_are_you_sure")),1)]),_:1}),o(f,null,{default:d(()=>[o(r,{secondary:"",onClick:t[0]||(t[0]=T=>e.confirmDelete=!1)},{default:d(()=>[D(b(e.t("cancel")),1)]),_:1}),o(r,{kind:"danger",loading:e.deleting,onClick:e.deleteAndQuit},{default:d(()=>[D(b(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),x(o(r,{rounded:"",icon:"",loading:e.saving,disabled:e.hasEdits===!1,onClick:e.saveAndQuit},{default:d(()=>[o(s,{name:"check"})]),_:1},8,["loading","disabled","onClick"]),[[P,e.t("save"),void 0,{bottom:!0}]])]),navigation:d(()=>[o(y)]),sidebar:d(()=>[o(k,{icon:"info_outline",title:e.t("information"),close:""},{default:d(()=>[x(S("div",aD,null,512),[[O,e.t("page_help_settings_datamodel_fields")]])]),_:1},8,["title"])]),default:d(()=>[S("div",tD,[S("div",nD,[S("h2",lD,[D(b(e.t("fields_and_layout"))+" ",1),S("span",oD,b(e.t("saves_automatically")),1)]),o(g,{collection:e.collection},null,8,["collection"])]),o($,{name:"field",collection:e.collection,field:e.field,type:e.type},null,8,["collection","field","type"]),o(h,{modelValue:e.edits.meta,"onUpdate:modelValue":t[3]||(t[3]=T=>e.edits.meta=T),collection:"directus_collections",loading:e.loading,"initial-values":e.item&&e.item.meta,"batch-mode":e.isBatch,"primary-key":e.collection,disabled:e.item&&e.item.collection.startsWith("directus_")},null,8,["modelValue","loading","initial-values","batch-mode","primary-key","disabled"])]),o(_,{modelValue:e.confirmLeave,"onUpdate:modelValue":t[5]||(t[5]=T=>e.confirmLeave=T),onEsc:t[6]||(t[6]=T=>e.confirmLeave=!1)},{default:d(()=>[o(v,null,{default:d(()=>[o(m,null,{default:d(()=>[D(b(e.t("unsaved_changes")),1)]),_:1}),o(A,null,{default:d(()=>[D(b(e.t("unsaved_changes_copy")),1)]),_:1}),o(f,null,{default:d(()=>[o(r,{secondary:"",onClick:e.discardAndLeave},{default:d(()=>[D(b(e.t("discard_changes")),1)]),_:1},8,["onClick"]),o(r,{onClick:t[4]||(t[4]=T=>e.confirmLeave=!1)},{default:d(()=>[D(b(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["title"])}var sD=q(eD,[["render",iD],["__scopeId","data-v-18c2c9ea"]]);const ds={status:{enabled:!1,inputDisabled:!1,name:"status",label:"status",icon:"flag"},sort:{enabled:!1,inputDisabled:!1,name:"sort",label:"sort",icon:"low_priority"},dateCreated:{enabled:!1,inputDisabled:!1,name:"date_created",label:"created_on",icon:"access_time"},userCreated:{enabled:!1,inputDisabled:!1,name:"user_created",label:"created_by",icon:"account_circle"},dateUpdated:{enabled:!1,inputDisabled:!1,name:"date_updated",label:"updated_on",icon:"access_time"},userUpdated:{enabled:!1,inputDisabled:!1,name:"user_updated",label:"updated_by",icon:"account_circle"}},rD=z({setup(){const{t:e}=Y(),t=Ye(),n=Ke(),l=Pe(),i=ut(),u=cn(),a=E(["collection_setup"]),s=E(null),r=E(!1),m=E("id"),f=E("auto_int"),v=E(),_=E(),y=E(),g=E(),$=Zt(U.exports.cloneDeep(ds)),h=E(!1);return _e(()=>r.value,k),{t:e,router:t,isOpen:u,currentTab:a,save:A,systemFields:$,primaryKeyFieldName:m,primaryKeyFieldType:f,collectionName:s,saving:h,singleton:r};function k(){$.sort=pe({},ds.sort),$.sort.inputDisabled=r.value}async function A(){h.value=!0;try{await re.post("/collections",{collection:s.value,fields:[F(),...P()],schema:{},meta:{sort_field:v.value,archive_field:_.value,archive_value:y.value,unarchive_value:g.value,singleton:r.value}});const T=O();if(T.length>0){for(const N of T)await re.post("/relations",N);await i.hydrate()}await n.hydrate(),await l.hydrate(),It({title:e("collection_created"),type:"success"}),t.replace(`/settings/data-model/${s.value}`)}catch(T){Ce(T)}finally{h.value=!1}}function F(){return f.value==="uuid"?{field:m.value,type:"uuid",meta:{hidden:!0,readonly:!0,interface:"input",special:["uuid"]},schema:{is_primary_key:!0,length:36,has_auto_increment:!1}}:f.value==="manual"?{field:m.value,type:"string",meta:{interface:"input",readonly:!1,hidden:!1},schema:{is_primary_key:!0,length:255,has_auto_increment:!1}}:{field:m.value,type:"integer",meta:{hidden:!0,interface:"input",readonly:!0},schema:{is_primary_key:!0,has_auto_increment:!0}}}function P(){const T=[];return $.status.enabled===!0&&(T.push({field:$.status.name,type:"string",meta:{width:"full",options:{choices:[{text:"$t:published",value:"published"},{text:"$t:draft",value:"draft"},{text:"$t:archived",value:"archived"}]},interface:"select-dropdown",display:"labels",display_options:{showAsDot:!0,choices:[{background:"#00C897",value:"published"},{background:"#D3DAE4",value:"draft"},{background:"#F7971C",value:"archived"}]}},schema:{default_value:"draft",is_nullable:!1}}),_.value="status",y.value="archived",g.value="draft"),$.sort.enabled===!0&&(T.push({field:$.sort.name,type:"integer",meta:{interface:"input",hidden:!0},schema:{}}),v.value=$.sort.name),$.userCreated.enabled===!0&&T.push({field:$.userCreated.name,type:"uuid",meta:{special:["user-created"],interface:"select-dropdown-m2o",options:{template:"{{avatar.$thumbnail}} {{first_name}} {{last_name}}"},display:"user",readonly:!0,hidden:!0,width:"half"},schema:{}}),$.dateCreated.enabled===!0&&T.push({field:$.dateCreated.name,type:"timestamp",meta:{special:["date-created"],interface:"datetime",readonly:!0,hidden:!0,width:"half",display:"datetime",display_options:{relative:!0}},schema:{}}),$.userUpdated.enabled===!0&&T.push({field:$.userUpdated.name,type:"uuid",meta:{special:["user-updated"],interface:"select-dropdown-m2o",options:{template:"{{avatar.$thumbnail}} {{first_name}} {{last_name}}"},display:"user",readonly:!0,hidden:!0,width:"half"},schema:{}}),$.dateUpdated.enabled===!0&&T.push({field:$.dateUpdated.name,type:"timestamp",meta:{special:["date-updated"],interface:"datetime",readonly:!0,hidden:!0,width:"half",display:"datetime",display_options:{relative:!0}},schema:{}}),T}function O(){const T=[];return $.userCreated.enabled===!0&&T.push({collection:s.value,field:$.userCreated.name,related_collection:"directus_users",schema:{}}),$.userUpdated.enabled===!0&&T.push({collection:s.value,field:$.userUpdated.name,related_collection:"directus_users",schema:{}}),T}}}),dD={class:"grid"},uD={class:"field half"},cD={class:"type-label"},pD={class:"field half"},mD={class:"type-label"},fD={class:"field half"},vD={class:"type-label"},_D={class:"field half"},yD={class:"type-label"},gD={class:"grid system"},hD={class:"type-label"};function bD(e,t,n,l,i,u){const a=c("v-tab"),s=c("v-tabs"),r=c("v-notice"),m=c("v-icon"),f=c("v-input"),v=c("v-checkbox"),_=c("v-divider"),y=c("v-select"),g=c("v-tab-item"),$=c("v-tabs-items"),h=c("v-button"),k=c("v-drawer"),A=Se("tooltip");return p(),C(k,{title:e.t("creating_new_collection"),"model-value":e.isOpen,class:"new-collection",persistent:"","sidebar-label":e.t(e.currentTab[0]),onCancel:t[7]||(t[7]=F=>e.router.push("/settings/data-model"))},{sidebar:d(()=>[o(s,{modelValue:e.currentTab,"onUpdate:modelValue":t[0]||(t[0]=F=>e.currentTab=F),vertical:""},{default:d(()=>[o(a,{value:"collection_setup"},{default:d(()=>[D(b(e.t("collection_setup")),1)]),_:1}),o(a,{value:"optional_system_fields",disabled:!e.collectionName},{default:d(()=>[D(b(e.t("optional_system_fields")),1)]),_:1},8,["disabled"])]),_:1},8,["modelValue"])]),actions:d(()=>[e.currentTab[0]==="collection_setup"?x((p(),C(h,{key:0,disabled:!e.collectionName||e.collectionName.length===0,icon:"",rounded:"",onClick:t[6]||(t[6]=F=>e.currentTab=["optional_system_fields"])},{default:d(()=>[o(m,{name:"arrow_forward"})]),_:1},8,["disabled"])),[[A,e.t("next"),void 0,{bottom:!0}]]):R("",!0),e.currentTab[0]==="optional_system_fields"?x((p(),C(h,{key:1,loading:e.saving,icon:"",rounded:"",onClick:e.save},{default:d(()=>[o(m,{name:"check"})]),_:1},8,["loading","onClick"])),[[A,e.t("finish_setup"),void 0,{bottom:!0}]]):R("",!0)]),default:d(()=>[o($,{modelValue:e.currentTab,"onUpdate:modelValue":t[5]||(t[5]=F=>e.currentTab=F),class:"content"},{default:d(()=>[o(g,{value:"collection_setup"},{default:d(()=>[o(r,{type:"info"},{default:d(()=>[D(b(e.t("creating_collection_info")),1)]),_:1}),S("div",dD,[S("div",uD,[S("div",cD,[D(b(e.t("name"))+" ",1),x(o(m,{class:"required",name:"star",sup:""},null,512),[[A,e.t("required")]])]),o(f,{modelValue:e.collectionName,"onUpdate:modelValue":t[1]||(t[1]=F=>e.collectionName=F),autofocus:"",class:"monospace","db-safe":"",placeholder:e.t("a_unique_table_name")},null,8,["modelValue","placeholder"])]),S("div",pD,[S("div",mD,b(e.t("singleton")),1),o(v,{modelValue:e.singleton,"onUpdate:modelValue":t[2]||(t[2]=F=>e.singleton=F),block:"",label:e.t("singleton_label")},null,8,["modelValue","label"])]),o(_,{class:"full"}),S("div",fD,[S("div",vD,b(e.t("primary_key_field")),1),o(f,{modelValue:e.primaryKeyFieldName,"onUpdate:modelValue":t[3]||(t[3]=F=>e.primaryKeyFieldName=F),class:"monospace","db-safe":"",placeholder:e.t("a_unique_column_name")},null,8,["modelValue","placeholder"])]),S("div",_D,[S("div",yD,b(e.t("type")),1),o(y,{modelValue:e.primaryKeyFieldType,"onUpdate:modelValue":t[4]||(t[4]=F=>e.primaryKeyFieldType=F),items:[{text:e.t("auto_increment_integer"),value:"auto_int"},{text:e.t("generated_uuid"),value:"uuid"},{text:e.t("manual_string"),value:"manual"}]},null,8,["modelValue","items"])])])]),_:1}),o(g,{value:"optional_system_fields"},{default:d(()=>[o(r,{type:"info"},{default:d(()=>[D(b(e.t("creating_collection_system")),1)]),_:1}),S("div",gD,[(p(!0),I(ie,null,he(e.systemFields,(F,P,O)=>(p(),I("div",{key:P,class:se(["field",O%2==0?"half":"half-right"])},[S("div",hD,b(e.t(F.label)),1),o(f,{modelValue:F.name,"onUpdate:modelValue":T=>F.name=T,class:se(["monospace",{active:F.enabled}]),disabled:F.inputDisabled,onFocus:T=>F.enabled=!0},{prepend:d(()=>[o(v,{modelValue:F.enabled,"onUpdate:modelValue":T=>F.enabled=T,disabled:F.inputDisabled},null,8,["modelValue","onUpdate:modelValue","disabled"])]),append:d(()=>[o(m,{name:F.icon},null,8,["name"])]),_:2},1032,["modelValue","onUpdate:modelValue","class","disabled","onFocus"])],2))),128))])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["title","model-value","sidebar-label"])}var $D=q(rD,[["render",bD],["__scopeId","data-v-6f961fa8"]]);const wD=z({components:{SettingsNavigation:Ut},setup(){const{t:e}=Y();return{t:e}}}),kD={class:"not-found"};function SD(e,t,n,l,i,u){const a=c("settings-navigation"),s=c("v-info"),r=c("private-view");return p(),C(r,{title:e.t("page_not_found")},{navigation:d(()=>[o(a)]),default:d(()=>[S("div",kD,[o(s,{title:e.t("page_not_found"),icon:"not_interested"},{default:d(()=>[D(b(e.t("page_not_found_body")),1)]),_:1},8,["title"])])]),_:1},8,["title"])}var CD=q(wD,[["render",SD],["__scopeId","data-v-bf888afe"]]);const VD={},FD={class:"null"};function AD(e,t){return p(),I("span",FD,"--")}var tn=q(VD,[["render",AD],["__scopeId","data-v-cf005d72"]]);const ID=z({setup(){const{t:e}=Y(),t=E(!1),n=E(null),l=E(null);return i(),{t:e,bookmarksCount:n,presetsCount:l};async function i(){t.value=!0;try{const u=await re.get("/presets",{params:{["filter[bookmark][_nnull]"]:!0,fields:["id"],meta:"filter_count,total_count"}});n.value=u.data.meta.filter_count,l.value=u.data.meta.total_count-n.value}catch(u){Ce(u)}finally{t.value=!1}}}}),ED={class:"page-description"};function DD(e,t,n,l,i,u){const a=c("v-divider"),s=c("sidebar-detail"),r=Se("md");return p(),C(s,{icon:"info_outline",title:e.t("information"),close:""},{default:d(()=>[S("dl",null,[S("div",null,[S("dt",null,b(e.t("bookmarks")),1),S("dd",null,b(e.bookmarksCount),1)]),S("div",null,[S("dt",null,b(e.t("presets")),1),S("dd",null,b(e.presetsCount),1)])]),o(a),x(S("div",ED,null,512),[[r,e.t("page_help_settings_presets_collection")]])]),_:1},8,["title"])}var TD=q(ID,[["render",DD],["__scopeId","data-v-7ed28445"]]);const PD=z({components:{SettingsNavigation:Ut,ValueNull:tn,PresetsInfoSidebarDetail:TD},setup(){const{t:e}=Y(),t=Ye(),n=Ke(),l=E([]),{addNewLink:i}=_(),{loading:u,presets:a,getPresets:s}=y(),{headers:r}=g(),{confirmDelete:m,deleting:f,deleteSelection:v}=h();return s(),{t:e,addNewLink:i,usePresets:y,loading:u,presets:a,getPresets:s,headers:r,selection:l,onRowClick:$,confirmDelete:m,deleting:f,deleteSelection:v};function _(){return{addNewLink:V(()=>"/settings/presets/+")}}function y(){const k=E(!1),A=E(null),F=V(()=>(A.value||[]).map(O=>{var M,B;let T="all";O.role&&(T=O.role.name),O.user&&(T=ht(O.user));const N=(M=n.getCollection(O.collection))==null?void 0:M.name,L=(B=Jl(O.layout))==null?void 0:B.name;return{id:O.id,scope:T,collection:N,layout:L,name:O.bookmark}}));return{loading:k,presetsRaw:A,getPresets:P,presets:F};async function P(){k.value=!0;try{const O=await re.get("/presets",{params:{fields:["id","bookmark","user.email","user.first_name","user.last_name","role.name","collection","layout"],limit:-1}});A.value=O.data.data}catch(O){Ce(O)}finally{k.value=!1}}}function g(){return{headers:[{text:e("collection"),value:"collection",align:"left",sortable:!0,width:200},{text:e("scope"),value:"scope",align:"left",sortable:!0,width:200},{text:e("layout"),value:"layout",align:"left",sortable:!0,width:200},{text:e("name"),value:"name",align:"left",sortable:!0,width:200}]}}function $({item:k}){k=E(k).value,l.value.length===0?t.push(`/settings/presets/${k.id}`):l.value.includes(k)?l.value=l.value.filter(A=>A!==k):l.value=[...l.value,k]}function h(){const k=E(!1),A=E(!1);return{confirmDelete:k,deleting:A,deleteSelection:F};async function F(){A.value=!0;try{const P=l.value.map(O=>O.id);await re.delete("/presets",{data:P}),l.value=[],await s(),k.value=!1}finally{A.value=!1}}}}}),OD={class:"presets-collection"},LD={key:1};function jD(e,t,n,l,i,u){const a=c("v-breadcrumb"),s=c("v-icon"),r=c("v-button"),m=c("v-card-title"),f=c("v-card-actions"),v=c("v-card"),_=c("v-dialog"),y=c("settings-navigation"),g=c("v-info"),$=c("value-null"),h=c("v-table"),k=c("presets-info-sidebar-detail"),A=c("private-view"),F=Se("tooltip");return p(),C(A,{title:e.t("settings_presets")},{headline:d(()=>[o(a,{items:[{name:e.t("settings"),to:"/settings"}]},null,8,["items"])]),"title-outer:prepend":d(()=>[o(r,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:d(()=>[o(s,{name:"bookmark_border"})]),_:1})]),actions:d(()=>[e.selection.length>0?(p(),C(_,{key:0,modelValue:e.confirmDelete,"onUpdate:modelValue":t[1]||(t[1]=P=>e.confirmDelete=P),onEsc:t[2]||(t[2]=P=>e.confirmDelete=!1)},{activator:d(({on:P})=>[x(o(r,{rounded:"",icon:"",class:"action-delete",onClick:P},{default:d(()=>[o(s,{name:"delete",outline:""})]),_:2},1032,["onClick"]),[[F,e.t("delete_label"),void 0,{bottom:!0}]])]),default:d(()=>[o(v,null,{default:d(()=>[o(m,null,{default:d(()=>[D(b(e.t("batch_delete_confirm",e.selection.length)),1)]),_:1}),o(f,null,{default:d(()=>[o(r,{secondary:"",onClick:t[0]||(t[0]=P=>e.confirmDelete=!1)},{default:d(()=>[D(b(e.t("cancel")),1)]),_:1}),o(r,{kind:"danger",loading:e.deleting,onClick:e.deleteSelection},{default:d(()=>[D(b(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):R("",!0),x(o(r,{rounded:"",icon:"",to:e.addNewLink},{default:d(()=>[o(s,{name:"add"})]),_:1},8,["to"]),[[F,e.t("create_preset"),void 0,{bottom:!0}]])]),navigation:d(()=>[o(y)]),sidebar:d(()=>[o(k)]),default:d(()=>[S("div",OD,[!e.loading&&e.presets.length===0?(p(),C(g,{key:0,center:"",type:"warning",title:e.t("no_presets"),icon:"bookmark"},{append:d(()=>[o(r,{to:e.addNewLink},{default:d(()=>[D(b(e.t("no_presets_cta")),1)]),_:1},8,["to"])]),default:d(()=>[D(b(e.t("no_presets_copy"))+" ",1)]),_:1},8,["title"])):(p(),C(h,{key:1,modelValue:e.selection,"onUpdate:modelValue":t[3]||(t[3]=P=>e.selection=P),headers:e.headers,"fixed-header":"",items:e.presets,loading:e.loading,"show-select":"multiple","onClick:row":e.onRowClick},{["item.scope"]:d(({item:P})=>[S("span",{class:se({all:P.scope==="all"})},b(P.scope==="all"?e.t("all"):P.scope),3)]),["item.layout"]:d(({item:P})=>[P.layout?(p(),I("span",LD,b(P.layout),1)):(p(),C($,{key:0}))]),["item.name"]:d(({item:P})=>[S("span",{class:se({default:P.name===null})},b(P.name===null?e.t("default_label"):P.name),3)]),_:2},1032,["modelValue","headers","items","loading","onClick:row"]))])]),_:1},8,["title"])}var RD=q(PD,[["render",jD],["__scopeId","data-v-e67bf1d2"]]);const MD=z({components:{SettingsNavigation:Ut},props:{id:{type:String,default:null}},setup(e){const{t}=Y(),n=Ye(),l=Ke(),i=On(),{layouts:u}=$n(),{backLink:a}=ee(),s=V(()=>e.id==="+"),{loading:r,preset:m}=ne(),{fields:f}=de(),{edits:v,hasEdits:_,initialValues:y,values:g,layoutQuery:$,layoutOptions:h,updateFilters:k,search:A}=ue(),{save:F,saving:P}=Q(),{deleting:O,deleteAndQuit:T,confirmDelete:N}=fe(),L=V({get(){var H;return(H=g.value.filter)!=null?H:null},set(H){k(H)}}),M=V(()=>g.value.layout),{layoutWrapper:B}=un(M);nt("meta+s",()=>{_.value&&F()});const K=V(()=>_.value===!0?!0:_.value);en(K);const W=E(!1),le=E(null),G=H=>{if(_.value)return W.value=!0,le.value=H.fullPath,!1};return Lt(G),Pt(G),{t,backLink:a,loading:r,preset:m,edits:v,fields:f,values:g,initialValues:y,saving:P,save:F,layoutWrapper:B,layoutQuery:$,layoutOptions:h,layoutFilter:L,hasEdits:_,deleting:O,deleteAndQuit:T,confirmDelete:N,updateFilters:k,search:A,isSavable:K,confirmLeave:W,leaveTo:le,discardAndLeave:ce};function Q(){const H=E(!1);return{saving:H,save:Z};async function Z(){var te;H.value=!0;const X={};v.value.name&&(X.bookmark=v.value.name),((te=v.value.name)==null?void 0:te.length)===0&&(X.bookmark=null),v.value.collection&&(X.collection=v.value.collection),v.value.layout&&(X.layout=v.value.layout),v.value.layout_query&&(X.layout_query=v.value.layout_query),v.value.layout_options&&(X.layout_options=v.value.layout_options),v.value.filter&&(X.filter=v.value.filter),X.search=v.value.search,v.value.scope&&(v.value.scope.startsWith("role_")?(X.role=v.value.scope.substring(5),X.user=null):v.value.scope.startsWith("user_")?(X.user=v.value.scope.substring(5),X.role=null):(X.role=null,X.user=null));try{s.value===!0?await re.post("/presets",X):await re.patch(`/presets/${e.id}`,X),await i.hydrate(),v.value={}}catch(ve){Ce(ve)}finally{H.value=!1,n.push("/settings/presets")}}}function fe(){const H=E(!1),Z=E(!1);return{deleting:H,confirmDelete:Z,deleteAndQuit:X};async function X(){H.value=!0;try{await re.delete(`/presets/${e.id}`),n.replace("/settings/presets")}catch(te){Ce(te)}finally{H.value=!1}}}function ue(){const H=E({}),Z=V(()=>Object.keys(H.value).length>0),X=V(()=>{const me={collection:null,layout:"tabular",search:null,scope:"all",layout_query:null,layout_options:null,filter:null};if(s.value===!0||m.value===null)return me;let ge="all";return m.value.user!==null?ge=`user_${m.value.user}`:m.value.role!==null&&(ge=`role_${m.value.role}`),{id:m.value.id,collection:m.value.collection,layout:m.value.layout,name:m.value.bookmark,search:m.value.search,scope:ge,layout_query:m.value.layout_query,layout_options:m.value.layout_options,filter:m.value.filter}}),te=V(()=>pe(pe({},X.value),H.value)),ve=V({get(){return!te.value.layout_query||!te.value.layout?null:te.value.layout_query[te.value.layout]},set(me){te.value.layout_query&&te.value.layout&&U.exports.isEqual(me,te.value.layout_query[te.value.layout])||(H.value=Ve(pe({},H.value),{layout_query:Ve(pe({},H.value.layout_query),{[te.value.layout||"tabular"]:me})}))}}),J=V({get(){return!te.value.layout_options||!te.value.layout?null:te.value.layout_options[te.value.layout]},set(me){te.value.layout_options&&te.value.layout&&U.exports.isEqual(me,te.value.layout_options[te.value.layout])||(H.value=Ve(pe({},H.value),{layout_options:Ve(pe({},H.value.layout_options),{[te.value.layout||"tabular"]:me})}))}}),oe=V({get(){return te.value.search},set(me){H.value=Ve(pe({},H.value),{search:me})}});return{edits:H,initialValues:X,values:te,layoutQuery:ve,layoutOptions:J,hasEdits:Z,updateFilters:ae,search:oe};function ae(me){H.value=Ve(pe({},H.value),{filter:me})}}function ne(){const H=E(!1),Z=E(null);return X(),{loading:H,preset:Z,fetchPreset:X};async function X(){if(e.id!=="+"){H.value=!0;try{const te=await re.get(`/presets/${e.id}`);Z.value=te.data.data}catch(te){Ce(te)}finally{H.value=!1}}}}function ee(){return{backLink:V(()=>"/settings/presets")}}function de(){const H=["directus_users","directus_files","directus_activity"];return{fields:V(()=>[{field:"collection",name:t("collection"),type:"string",meta:{interface:"select-dropdown",options:{choices:l.collections.map(X=>({text:X.name,value:X.collection})).filter(X=>X.value.startsWith("directus_")?H.includes(X.value):!0)},width:"half"}},{field:"scope",name:t("scope"),type:"string",meta:{interface:"system-scope",width:"half"}},{field:"layout",name:t("layout"),type:"string",meta:{interface:"select-dropdown",options:{choices:u.value.map(X=>({text:X.name,value:X.id}))},width:"half"}},{field:"name",name:t("name"),type:"string",meta:{interface:"input",width:"half",options:{placeholder:t("preset_name_placeholder")}}},{field:"divider",name:t("divider"),type:"alias",meta:{interface:"presentation-divider",width:"fill",options:{title:t("layout_preview"),icon:"visibility"}}}])}}function ce(){!le.value||(v.value={},W.value=!1,n.push(le.value))}}}),UD={class:"preset-item"},ND={class:"layout"},BD={class:"page-description"},qD={class:"layout-sidebar"},zD={class:"layout-options"};function KD(e,t,n,l,i,u){const a=c("v-breadcrumb"),s=c("v-icon"),r=c("v-button"),m=c("settings-navigation"),f=c("v-card-title"),v=c("v-card-actions"),_=c("v-card"),y=c("v-dialog"),g=c("v-form"),$=c("v-info"),h=c("v-notice"),k=c("sidebar-detail"),A=c("v-input"),F=c("v-card-text"),P=c("private-view"),O=Se("tooltip"),T=Se("md");return p(),C(Ue(e.layoutWrapper),{"layout-options":e.layoutOptions,"onUpdate:layout-options":t[8]||(t[8]=N=>e.layoutOptions=N),"layout-query":e.layoutQuery,"onUpdate:layout-query":t[9]||(t[9]=N=>e.layoutQuery=N),filter:e.layoutFilter,search:e.search,collection:e.values.collection,readonly:""},{default:d(({layoutState:N})=>[o(P,{title:e.t("editing_preset")},{headline:d(()=>[o(a,{items:[{name:e.t("settings_presets"),to:"/settings/presets"}]},null,8,["items"])]),"title-outer:prepend":d(()=>[o(r,{class:"header-icon",rounded:"",icon:"",exact:"",to:e.backLink},{default:d(()=>[o(s,{name:"arrow_back"})]),_:1},8,["to"])]),navigation:d(()=>[o(m)]),actions:d(()=>[o(y,{modelValue:e.confirmDelete,"onUpdate:modelValue":t[1]||(t[1]=L=>e.confirmDelete=L),onEsc:t[2]||(t[2]=L=>e.confirmDelete=!1)},{activator:d(({on:L})=>[x(o(r,{rounded:"",icon:"",class:"action-delete",disabled:e.preset===null||e.id==="+",onClick:L},{default:d(()=>[o(s,{name:"delete",outline:""})]),_:2},1032,["disabled","onClick"]),[[O,e.t("delete_label"),void 0,{bottom:!0}]])]),default:d(()=>[o(_,null,{default:d(()=>[o(f,null,{default:d(()=>[D(b(e.t("delete_are_you_sure")),1)]),_:1}),o(v,null,{default:d(()=>[o(r,{secondary:"",onClick:t[0]||(t[0]=L=>e.confirmDelete=!1)},{default:d(()=>[D(b(e.t("cancel")),1)]),_:1}),o(r,{kind:"danger",loading:e.deleting,onClick:e.deleteAndQuit},{default:d(()=>[D(b(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),x(o(r,{icon:"",rounded:"",disabled:e.hasEdits===!1,loading:e.saving,onClick:e.save},{default:d(()=>[o(s,{name:"check"})]),_:1},8,["disabled","loading","onClick"]),[[O,e.t("save"),void 0,{bottom:!0}]])]),sidebar:d(()=>[o(k,{icon:"info_outline",title:e.t("information"),close:""},{default:d(()=>[x(S("div",BD,null,512),[[T,e.t("page_help_settings_presets_item")]])]),_:1},8,["title"]),S("div",qD,[o(k,{icon:"search",title:e.t("search")},{default:d(()=>[o(A,{modelValue:e.search,"onUpdate:modelValue":t[4]||(t[4]=L=>e.search=L),placeholder:e.t("preset_search_placeholder")},null,8,["modelValue","placeholder"])]),_:1},8,["title"]),e.values.layout&&e.values.collection?(p(),C(Ue(`layout-sidebar-${e.values.layout}`),He(dt({key:0},N)),null,16)):R("",!0),o(k,{icon:"layers",title:e.t("layout_options")},{default:d(()=>[S("div",zD,[e.values.layout&&e.values.collection?(p(),C(Ue(`layout-options-${e.values.layout}`),He(dt({key:0},N)),null,16)):R("",!0)])]),_:2},1032,["title"])])]),default:d(()=>[S("div",UD,[o(g,{modelValue:e.edits,"onUpdate:modelValue":t[3]||(t[3]=L=>e.edits=L),fields:e.fields,loading:e.loading,"initial-values":e.initialValues,"primary-key":e.id},null,8,["modelValue","fields","loading","initial-values","primary-key"]),S("div",ND,[e.values.layout&&e.values.collection?(p(),C(Ue(`layout-${e.values.layout}`),He(dt({key:0},N)),{"no-results":d(()=>[o($,{title:e.t("no_results"),icon:"search",center:""},{default:d(()=>[D(b(e.t("no_results_copy")),1)]),_:1},8,["title"])]),"no-items":d(()=>[o($,{title:e.t("item_count",0),center:""},{default:d(()=>[D(b(e.t("no_items_copy")),1)]),_:1},8,["title"])]),_:2},1040)):(p(),C(h,{key:1},{default:d(()=>[D(b(e.t("no_layout_collection_selected_yet")),1)]),_:1}))])]),o(y,{modelValue:e.confirmLeave,"onUpdate:modelValue":t[6]||(t[6]=L=>e.confirmLeave=L),onEsc:t[7]||(t[7]=L=>e.confirmLeave=!1)},{default:d(()=>[o(_,null,{default:d(()=>[o(f,null,{default:d(()=>[D(b(e.t("unsaved_changes")),1)]),_:1}),o(F,null,{default:d(()=>[D(b(e.t("unsaved_changes_copy")),1)]),_:1}),o(v,null,{default:d(()=>[o(r,{secondary:"",onClick:e.discardAndLeave},{default:d(()=>[D(b(e.t("discard_changes")),1)]),_:1},8,["onClick"]),o(r,{onClick:t[5]||(t[5]=L=>e.confirmLeave=!1)},{default:d(()=>[D(b(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:2},1032,["title"])]),_:1},8,["layout-options","layout-query","filter","search","collection"])}var HD=q(MD,[["render",KD],["__scopeId","data-v-7c004d91"]]);const WD=z({setup(){const{t:e}=Y(),{parsedInfo:t}=Ja();return{t:e,parsedInfo:t}}}),GD={key:0},JD={class:"page-description"};function QD(e,t,n,l,i,u){const a=c("v-divider"),s=c("sidebar-detail"),r=Se("md");return p(),C(s,{icon:"info_outline",title:e.t("information"),close:""},{default:d(()=>[e.parsedInfo?(p(),I("dl",GD,[S("div",null,[S("dt",null,b(e.t("directus_version")),1),S("dd",null,b(e.parsedInfo.directus.version),1)]),S("div",null,[S("dt",null,b(e.t("node_version")),1),S("dd",null,b(e.parsedInfo.node.version),1)]),S("div",null,[S("dt",null,b(e.t("node_uptime")),1),S("dd",null,b(e.parsedInfo.node.uptime),1)]),S("div",null,[S("dt",null,b(e.t("os_type")),1),S("dd",null,b(e.parsedInfo.os.type),1)]),S("div",null,[S("dt",null,b(e.t("os_version")),1),S("dd",null,b(e.parsedInfo.os.version),1)]),S("div",null,[S("dt",null,b(e.t("os_uptime")),1),S("dd",null,b(e.parsedInfo.os.uptime),1)]),S("div",null,[S("dt",null,b(e.t("os_totalmem")),1),S("dd",null,b(e.parsedInfo.os.totalmem),1)])])):R("",!0),o(a),x(S("div",JD,null,512),[[r,e.t("page_help_settings_project")]])]),_:1},8,["title"])}var XD=q(WD,[["render",QD],["__scopeId","data-v-1a92ed59"]]);const ZD=z({components:{SettingsNavigation:Ut,ProjectInfoSidebarDetail:XD},setup(){const{t:e}=Y(),t=Ye(),n=Il(),l=Ln(),{fields:i}=at("directus_settings"),u=E(U.exports.clone(n.settings)),a=E(null),s=V(()=>a.value===null||Object.keys(a.value).length===0),r=E(!1);nt("meta+s",()=>{s.value||y()});const m=V(()=>s.value===!0?!1:s.value);en(m);const f=E(!1),v=E(null),_=$=>{if(!s.value)return f.value=!0,v.value=$.fullPath,!1};return Lt(_),Pt(_),{t:e,fields:i,initialValues:u,edits:a,noEdits:s,saving:r,isSavable:m,confirmLeave:f,leaveTo:v,save:y,discardAndLeave:g};async function y(){a.value!==null&&(r.value=!0,await n.updateSettings(a.value),await l.hydrate(),a.value=null,r.value=!1,u.value=U.exports.clone(n.settings))}function g(){!v.value||(a.value={},f.value=!1,t.push(v.value))}}}),YD={class:"settings"};function xD(e,t,n,l,i,u){const a=c("v-breadcrumb"),s=c("v-icon"),r=c("v-button"),m=c("settings-navigation"),f=c("v-form"),v=c("project-info-sidebar-detail"),_=c("v-card-title"),y=c("v-card-text"),g=c("v-card-actions"),$=c("v-card"),h=c("v-dialog"),k=c("private-view"),A=Se("tooltip");return p(),C(k,{title:e.t("settings_project")},{headline:d(()=>[o(a,{items:[{name:e.t("settings"),to:"/settings"}]},null,8,["items"])]),"title-outer:prepend":d(()=>[o(r,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:d(()=>[o(s,{name:"public"})]),_:1})]),actions:d(()=>[x(o(r,{icon:"",rounded:"",disabled:e.noEdits,loading:e.saving,onClick:e.save},{default:d(()=>[o(s,{name:"check"})]),_:1},8,["disabled","loading","onClick"]),[[A,e.t("save"),void 0,{bottom:!0}]])]),navigation:d(()=>[o(m)]),sidebar:d(()=>[o(v)]),default:d(()=>[S("div",YD,[o(f,{modelValue:e.edits,"onUpdate:modelValue":t[0]||(t[0]=F=>e.edits=F),"initial-values":e.initialValues,fields:e.fields,"primary-key":1},null,8,["modelValue","initial-values","fields"])]),o(h,{modelValue:e.confirmLeave,"onUpdate:modelValue":t[2]||(t[2]=F=>e.confirmLeave=F),onEsc:t[3]||(t[3]=F=>e.confirmLeave=!1)},{default:d(()=>[o($,null,{default:d(()=>[o(_,null,{default:d(()=>[D(b(e.t("unsaved_changes")),1)]),_:1}),o(y,null,{default:d(()=>[D(b(e.t("unsaved_changes_copy")),1)]),_:1}),o(g,null,{default:d(()=>[o(r,{secondary:"",onClick:e.discardAndLeave},{default:d(()=>[D(b(e.t("discard_changes")),1)]),_:1},8,["onClick"]),o(r,{onClick:t[1]||(t[1]=F=>e.confirmLeave=!1)},{default:d(()=>[D(b(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["title"])}var e5=q(ZD,[["render",xD],["__scopeId","data-v-69b900f4"]]);const us=[{collection:"directus_files",action:"create",permissions:{},fields:["*"]},{collection:"directus_files",action:"read",permissions:{},fields:["*"]},{collection:"directus_files",action:"update",permissions:{},fields:["*"]},{collection:"directus_files",action:"delete",permissions:{},fields:["*"]},{collection:"directus_dashboards",action:"create",permissions:{},fields:["*"]},{collection:"directus_dashboards",action:"read",permissions:{},fields:["*"]},{collection:"directus_dashboards",action:"update",permissions:{},fields:["*"]},{collection:"directus_dashboards",action:"delete",permissions:{},fields:["*"]},{collection:"directus_panels",action:"create",permissions:{},fields:["*"]},{collection:"directus_panels",action:"read",permissions:{},fields:["*"]},{collection:"directus_panels",action:"update",permissions:{},fields:["*"]},{collection:"directus_panels",action:"delete",permissions:{},fields:["*"]},{collection:"directus_folders",action:"create",permissions:{},fields:["*"]},{collection:"directus_folders",action:"read",permissions:{},fields:["*"]},{collection:"directus_folders",action:"update",permissions:{},fields:["*"]},{collection:"directus_folders",action:"delete",permissions:{}},{collection:"directus_users",action:"read",permissions:{}},{collection:"directus_users",action:"update",permissions:{id:{_eq:"$CURRENT_USER"}},fields:["first_name","last_name","email","password","location","title","description","avatar","language","theme"]},{collection:"directus_roles",action:"read",permissions:{},fields:["*"]}],cs=[{collection:"directus_activity",action:"read",permissions:{user:{_eq:"$CURRENT_USER"}}},{collection:"directus_activity",action:"create",validation:{comment:{_nnull:!0}}},{collection:"directus_collections",action:"read"},{collection:"directus_fields",action:"read"},{collection:"directus_permissions",action:"read",permissions:{role:{_eq:"$CURRENT_ROLE"}}},{collection:"directus_presets",action:"read",permissions:{_or:[{user:{_eq:"$CURRENT_USER"}},{_and:[{user:{_null:!0}},{role:{_eq:"$CURRENT_ROLE"}}]},{_and:[{user:{_null:!0}},{role:{_null:!0}}]}]}},{collection:"directus_presets",action:"create",validation:{user:{_eq:"$CURRENT_USER"}}},{collection:"directus_presets",action:"update",permissions:{user:{_eq:"$CURRENT_USER"}}},{collection:"directus_presets",action:"delete",permissions:{user:{_eq:"$CURRENT_USER"}}},{collection:"directus_relations",action:"read"},{collection:"directus_roles",action:"read",permissions:{id:{_eq:"$CURRENT_ROLE"}}},{collection:"directus_settings",action:"read"},{collection:"directus_users",action:"read",permissions:{id:{_eq:"$CURRENT_USER"}},fields:["id","first_name","last_name","email","password","location","title","description","tags","preferences_divider","avatar","language","theme","tfa_secret","status","role"]}];const t5=z({setup(){const{t:e}=Y(),t=Ye(),n=cn(),l=E(null),i=E(!0),u=E(!1),{saving:a,save:s}=r();return{t:e,router:t,isOpen:n,roleName:l,saving:a,save:s,appAccess:i,adminAccess:u};function r(){const m=E(!1);return{saving:m,save:f};async function f(){m.value=!0;try{const v=await re.post("/roles",{name:l.value,admin_access:u.value,app_access:i.value});i.value===!0&&u.value===!1&&await re.post("/permissions",us.map(_=>Ve(pe({},_),{role:v.data.data.id}))),t.push(`/settings/roles/${v.data.data.id}`)}catch(v){Ce(v)}finally{m.value=!1}}}}}),n5={class:"form-grid"},l5={class:"field full"},o5={class:"field half"},a5={class:"type-label"},i5={class:"field half"},s5={class:"type-label"};function r5(e,t,n,l,i,u){const a=c("v-card-title"),s=c("v-input"),r=c("v-checkbox"),m=c("v-card-text"),f=c("v-button"),v=c("v-card-actions"),_=c("v-card"),y=c("v-dialog");return p(),C(y,{"model-value":e.isOpen,persistent:"",onEsc:t[3]||(t[3]=g=>e.router.push("/settings/roles"))},{default:d(()=>[o(_,null,{default:d(()=>[o(a,null,{default:d(()=>[D(b(e.t("create_role")),1)]),_:1}),o(m,null,{default:d(()=>[S("div",n5,[S("div",l5,[o(s,{modelValue:e.roleName,"onUpdate:modelValue":t[0]||(t[0]=g=>e.roleName=g),autofocus:"",placeholder:e.t("role_name")+"...",onKeyup:gn(e.save,["enter"])},null,8,["modelValue","placeholder","onKeyup"])]),S("div",o5,[S("p",a5,b(e.t("fields.directus_roles.app_access")),1),o(r,{modelValue:e.appAccess,"onUpdate:modelValue":t[1]||(t[1]=g=>e.appAccess=g),block:"",label:e.t("enabled")},null,8,["modelValue","label"])]),S("div",i5,[S("p",s5,b(e.t("fields.directus_roles.admin_access")),1),o(r,{modelValue:e.adminAccess,"onUpdate:modelValue":t[2]||(t[2]=g=>e.adminAccess=g),block:"",label:e.t("enabled")},null,8,["modelValue","label"])])])]),_:1}),o(v,null,{default:d(()=>[o(f,{to:"/settings/roles",secondary:""},{default:d(()=>[D(b(e.t("cancel")),1)]),_:1}),o(f,{disabled:e.roleName===null,loading:e.saving,onClick:e.save},{default:d(()=>[D(b(e.t("save")),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]),_:1})]),_:1},8,["model-value"])}var d5=q(t5,[["render",r5],["__scopeId","data-v-2bf24ab7"]]);const u5=z({name:"RolesCollection",components:{SettingsNavigation:Ut,ValueNull:tn},props:{},setup(){const{t:e}=Y(),t=Ye(),n=E([]),l=E(!1),i=[{text:"",value:"icon",sortable:!1,width:42,align:"left"},{text:e("name"),value:"name",sortable:!1,width:140,align:"left"},{text:e("users"),value:"count",sortable:!1,width:140,align:"left"},{text:e("description"),value:"description",sortable:!1,width:470,align:"left"}];a();const u=V(()=>"/settings/roles/+");return{t:e,loading:l,roles:n,tableHeaders:i,addNewLink:u,navigateToRole:s};async function a(){l.value=!0;try{const r=await re.get("/roles",{params:{limit:-1,fields:["id","name","description","icon","users"],deep:{users:{_aggregate:{count:"id"},_groupBy:["role"],_sort:"role",_limit:-1}},sort:"name"}});n.value=[{public:!0,name:e("public_label"),icon:"public",description:e("public_description"),id:"public"},...r.data.data.map(m=>{var f;return Ve(pe({},m),{count:((f=m.users[0])==null?void 0:f.count.id)||0})})]}catch(r){Ce(r)}finally{l.value=!1}}function s({item:r}){t.push(`/settings/roles/${r.id}`)}}}),c5={class:"page-description"},p5={class:"roles"},m5={class:"description"};function f5(e,t,n,l,i,u){const a=c("v-breadcrumb"),s=c("v-icon"),r=c("v-button"),m=c("settings-navigation"),f=c("sidebar-detail"),v=c("value-null"),_=c("v-table"),y=c("router-view"),g=c("private-view"),$=Se("tooltip"),h=Se("md");return p(),C(g,{title:e.t("settings_permissions")},{headline:d(()=>[o(a,{items:[{name:e.t("settings"),to:"/settings"}]},null,8,["items"])]),"title-outer:prepend":d(()=>[o(r,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:d(()=>[o(s,{name:"admin_panel_settings",outline:""})]),_:1})]),actions:d(()=>[x(o(r,{rounded:"",icon:"",to:e.addNewLink},{default:d(()=>[o(s,{name:"add"})]),_:1},8,["to"]),[[$,e.t("create_role"),void 0,{bottom:!0}]])]),navigation:d(()=>[o(m)]),sidebar:d(()=>[o(f,{icon:"info_outline",title:e.t("information"),close:""},{default:d(()=>[x(S("div",c5,null,512),[[h,e.t("page_help_settings_roles_collection")]])]),_:1},8,["title"])]),default:d(()=>[S("div",p5,[o(_,{items:e.roles,headers:e.tableHeaders,"fixed-header":"","item-key":"id",loading:e.loading,"onClick:row":e.navigateToRole},{["item.icon"]:d(({item:k})=>[o(s,{class:se(["icon",{public:k.public}]),name:k.icon},null,8,["name","class"])]),["item.name"]:d(({item:k})=>[S("span",{class:se(["name",{public:k.public}])},b(k.name),3)]),["item.count"]:d(({item:k})=>[k.public?(p(),C(v,{key:0})):R("",!0)]),["item.description"]:d(({item:k})=>[S("span",m5,b(k.description),1)]),_:2},1032,["items","headers","loading","onClick:row"])]),o(y,{name:"add"})]),_:1},8,["title"])}var v5=q(u5,[["render",f5],["__scopeId","data-v-9d57793a"]]);const _5=z({props:{isNew:{type:Boolean,default:!1},role:{type:Object,default:null}},setup(){const{t:e}=Y();return{t:e}}}),y5={key:0},g5={class:"page-description"};function h5(e,t,n,l,i,u){const a=c("v-divider"),s=c("sidebar-detail"),r=Se("md");return p(),C(s,{icon:"info_outline",title:e.t("information"),close:""},{default:d(()=>[!e.isNew&&e.role?(p(),I("dl",y5,[S("div",null,[S("dt",null,b(e.t("primary_key")),1),S("dd",null,b(e.role.id),1)])])):R("",!0),o(a),x(S("div",g5,null,512),[[r,e.t("page_help_settings_roles_item")]])]),_:1},8,["title"])}var b5=q(_5,[["render",h5],["__scopeId","data-v-b5c69570"]]);const $5=z({setup(){const{t:e}=Y();return{t:e}}}),w5={class:"permissions-overview-header"},k5={class:"name"};function S5(e,t,n,l,i,u){const a=c("v-icon"),s=Se("tooltip");return p(),I("div",w5,[S("span",k5,b(e.t("collection")),1),x(o(a,{name:"add"},null,512),[[s,e.t("create")]]),x(o(a,{name:"visibility"},null,512),[[s,e.t("read")]]),x(o(a,{name:"edit",outline:""},null,512),[[s,e.t("update")]]),x(o(a,{name:"delete",outline:""},null,512),[[s,e.t("delete_label")]])])}var C5=q($5,[["render",S5],["__scopeId","data-v-1a0c28fc"]]);function ps(e,t,n){const l=E(!1),i=bt("refresh-permissions");return{getPermission:u,setFullAccess:a,setNoAccess:s,setFullAccessAll:r,setNoAccessAll:m};function u(f){return t.value.find(v=>v.action===f)}async function a(f){if(l.value===!0)return;l.value=!0,e.value.meta===null&&await re.patch(`/collections/${e.value.collection}`,{meta:{}});const v=u(f);if(v)try{await re.patch(`/permissions/${v.id}`,{fields:"*",permissions:{},validation:{}})}catch(_){Ce(_)}finally{await(i==null?void 0:i()),l.value=!1}else try{await re.post("/permissions/",{role:n.value,collection:e.value.collection,action:f,fields:"*",permissions:{},validation:{}})}catch(_){Ce(_)}finally{await(i==null?void 0:i()),l.value=!1}}async function s(f){if(l.value===!0)return;const v=u(f);if(!!v){l.value=!0;try{await re.delete(`/permissions/${v.id}`)}catch(_){Ce(_)}finally{await(i==null?void 0:i()),l.value=!1}}}async function r(){if(l.value===!0)return;l.value=!0,e.value.meta===null&&await re.patch(`/collections/${e.value.collection}`,{meta:{}});const f=["create","read","update","delete"];await Promise.all(f.map(async v=>{const _=u(v);if(_)try{await re.patch(`/permissions/${_.id}`,{fields:"*",permissions:{},validation:{}})}catch(y){Ce(y)}else try{await re.post("/permissions/",{role:n.value,collection:e.value.collection,action:v,fields:"*",permissions:{},validation:{}})}catch(y){Ce(y)}})),await(i==null?void 0:i()),l.value=!1}async function m(){if(l.value!==!0){l.value=!0;try{await re.delete("/permissions",{data:t.value.map(f=>f.id)})}catch(f){Ce(f)}finally{await(i==null?void 0:i()),l.value=!1}}}}const V5=z({props:{collection:{type:Object,required:!0},role:{type:String,default:null},action:{type:String,required:!0},permissions:{type:Array,default:null},loading:{type:Boolean,default:!1},appMinimal:{type:[Boolean,Object],default:!1}},setup(e){const{t}=Y(),n=Ye(),{collection:l,role:i,permissions:u}=Re(e),{setFullAccess:a,setNoAccess:s,getPermission:r}=ps(l,u,i),m=V(()=>r(e.action)),f=V(()=>{var $;return m.value===void 0?"none":(($=m.value.fields)==null?void 0:$.includes("*"))&&Object.keys(m.value.permissions||{}).length===0&&Object.keys(m.value.validation||{}).length===0?"all":"custom"}),v=E(!1),_=bt("refresh-permissions"),y=V(()=>e.appMinimal===!1?null:Object.keys(e.appMinimal).length===2?"full":"partial");return{t,permissionLevel:f,saving:v,setFullAccess:a,setNoAccess:s,openPermissions:g,appMinimalLevel:y};async function g(){if(e.collection.meta===null&&await re.patch(`/collections/${e.collection.collection}`,{meta:{}}),m.value)n.push(`/settings/roles/${e.role||"public"}/${m.value.id}`);else{v.value=!0;const $=await re.post("/permissions",{role:e.role,collection:e.collection.collection,action:e.action});await(_==null?void 0:_()),v.value=!1,n.push(`/settings/roles/${e.role||"public"}/${$.data.data.id}`)}}}});function F5(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-progress-circular"),r=c("v-list-item-icon"),m=c("v-list-item-content"),f=c("v-list-item"),v=c("v-divider"),_=c("v-list"),y=c("v-menu"),g=Se("tooltip");return x((p(),I("div",{class:se(["permissions-overview-toggle",[{"has-app-minimal":!!e.appMinimal},e.permissionLevel,e.appMinimalLevel]])},[e.appMinimalLevel==="full"?(p(),C(a,{key:0,name:"check",class:"all app-minimal"})):(p(),C(y,{key:1,"show-arrow":""},{activator:d(({toggle:$})=>[S("div",null,[e.loading||e.saving?(p(),C(s,{key:0,indeterminate:"",small:""})):e.permissionLevel==="all"?(p(),C(a,{key:1,clickable:"",name:"check",onClick:$},null,8,["onClick"])):e.appMinimalLevel==="partial"||e.permissionLevel==="custom"?(p(),C(a,{key:2,clickable:"",name:"rule",onClick:$},null,8,["onClick"])):e.permissionLevel==="none"?(p(),C(a,{key:3,clickable:"",name:"block",onClick:$},null,8,["onClick"])):R("",!0)])]),default:d(()=>[o(_,null,{default:d(()=>[o(f,{disabled:e.permissionLevel==="all",clickable:"",onClick:t[0]||(t[0]=$=>e.setFullAccess(e.action))},{default:d(()=>[o(r,null,{default:d(()=>[o(a,{name:"check"})]),_:1}),o(m,null,{default:d(()=>[D(b(e.t("all_access")),1)]),_:1})]),_:1},8,["disabled"]),e.appMinimalLevel?R("",!0):(p(),C(f,{key:0,disabled:e.permissionLevel==="none",clickable:"",onClick:t[1]||(t[1]=$=>e.setNoAccess(e.action))},{default:d(()=>[o(r,null,{default:d(()=>[o(a,{name:"block"})]),_:1}),o(m,null,{default:d(()=>[D(b(e.t("no_access")),1)]),_:1})]),_:1},8,["disabled"])),o(v),o(f,{clickable:"",onClick:e.openPermissions},{default:d(()=>[o(r,null,{default:d(()=>[o(a,{name:"rule"})]),_:1}),o(m,null,{default:d(()=>[D(b(e.t("use_custom")),1)]),_:1}),o(r,null,{default:d(()=>[o(a,{name:"launch"})]),_:1})]),_:1},8,["onClick"])]),_:1})]),_:1}))],2)),[[g,e.appMinimal&&e.t("required_for_app_access")]])}var A5=q(V5,[["render",F5],["__scopeId","data-v-169ac11c"]]);const I5=z({components:{PermissionsOverviewToggle:A5},props:{role:{type:String,default:null},collection:{type:Object,required:!0},permissions:{type:Array,required:!0},refreshing:{type:Array,required:!0},appMinimal:{type:[Boolean,Array],default:!1}},setup(e){const{t}=Y(),{collection:n,role:l,permissions:i}=Re(e),{setFullAccessAll:u,setNoAccessAll:a,getPermission:s}=ps(n,i,l);return{t,getPermission:s,isLoading:r,setFullAccessAll:u,setNoAccessAll:a};function r(m){const f=s(m);return f?e.refreshing.includes(f.id):!1}}}),E5=e=>(We("data-v-fb90f180"),e=e(),Ge(),e),D5={class:"permissions-overview-row"},T5={class:"name"},P5={class:"actions"},O5=E5(()=>S("span",{class:"divider"},"/",-1));function L5(e,t,n,l,i,u){const a=c("permissions-overview-toggle");return p(),I("div",D5,[S("span",T5,[D(b(e.collection.name)+" ",1),S("span",P5,[S("span",{class:"all",onClick:t[0]||(t[0]=(...s)=>e.setFullAccessAll&&e.setFullAccessAll(...s))},b(e.t("all")),1),O5,S("span",{class:"none",onClick:t[1]||(t[1]=(...s)=>e.setNoAccessAll&&e.setNoAccessAll(...s))},b(e.t("none")),1)])]),o(a,{action:"create",collection:e.collection,role:e.role,permissions:e.permissions,loading:e.isLoading("create"),"app-minimal":e.appMinimal&&e.appMinimal.find(s=>s.action==="create")},null,8,["collection","role","permissions","loading","app-minimal"]),o(a,{action:"read",collection:e.collection,role:e.role,permissions:e.permissions,loading:e.isLoading("read"),"app-minimal":e.appMinimal&&e.appMinimal.find(s=>s.action==="read")},null,8,["collection","role","permissions","loading","app-minimal"]),o(a,{action:"update",collection:e.collection,role:e.role,permissions:e.permissions,loading:e.isLoading("update"),"app-minimal":e.appMinimal&&e.appMinimal.find(s=>s.action==="update")},null,8,["collection","role","permissions","loading","app-minimal"]),o(a,{action:"delete",collection:e.collection,role:e.role,permissions:e.permissions,loading:e.isLoading("delete"),"app-minimal":e.appMinimal&&e.appMinimal.find(s=>s.action==="delete")},null,8,["collection","role","permissions","loading","app-minimal"])])}var j5=q(I5,[["render",L5],["__scopeId","data-v-fb90f180"]]);const R5=z({components:{PermissionsOverviewHeader:C5,PermissionsOverviewRow:j5},props:{role:{type:String,default:null},permission:{type:String,default:null},appAccess:{type:Boolean,default:!1}},setup(e){const{t}=Y(),n=Ke(),l=V(()=>n.collections.filter(k=>k.collection.startsWith("directus_")===!1&&k.schema)),i=V(()=>U.exports.orderBy(n.collections.filter(k=>k.collection.startsWith("directus_")===!0),"name")),u=E(!1),{permissions:a,loading:s,fetchPermissions:r,refreshPermission:m,refreshing:f}=$(),{resetActive:v,resetSystemPermissions:_,resetting:y,resetError:g}=h();return r(),_e(()=>e.permission,r,{immediate:!0}),Yt("refresh-permissions",r),{t,systemVisible:u,regularCollections:l,systemCollections:i,permissions:a,loading:s,fetchPermissions:r,refreshPermission:m,refreshing:f,resetActive:v,resetSystemPermissions:_,resetting:y,resetError:g,appMinimalPermissions:cs};function $(){const k=E([]),A=E(!1),F=E([]);return{permissions:k,loading:A,fetchPermissions:P,refreshPermission:O,refreshing:F};async function P(){A.value=!0;try{const T={filter:{role:{}},limit:-1};e.role===null?T.filter.role={_null:!0}:T.filter.role={_eq:e.role};const N=await re.get("/permissions",{params:T});k.value=N.data.data}catch(T){Ce(T)}finally{A.value=!1}}async function O(T){F.value.includes(T)===!1&&F.value.push(T);try{const N=await re.get(`/permissions/${T}`);k.value=k.value.map(L=>L.id===T?N.data.data:L)}catch(N){Ce(N)}finally{F.value=F.value.filter(N=>N!==T)}}}function h(){const k=E(!1),A=E(!1),F=E(null);return{resetActive:k,resetSystemPermissions:P,resetting:A,resetError:F};async function P(O){A.value=!0;const T=a.value.filter(N=>N.collection.startsWith("directus_")).map(N=>N.id);try{T.length>0&&await re.delete("/permissions",{data:T}),e.role!==null&&e.appAccess===!0&&O===!0&&await re.post("/permissions",us.map(N=>Ve(pe({},N),{role:e.role}))),await r(),k.value=!1}catch(N){F.value=N}finally{A.value=!1}}}}}),M5={class:"permissions-overview"},U5={class:"title type-label"},N5={class:"instant-save"},B5={class:"table"},q5={key:0},z5={key:0,class:"reset-toggle"},K5=D(" / ");function H5(e,t,n,l,i,u){const a=c("permissions-overview-header"),s=c("permissions-overview-row"),r=c("v-icon"),m=c("transition-expand"),f=c("router-view"),v=c("v-card-title"),_=c("v-button"),y=c("v-card-actions"),g=c("v-card"),$=c("v-dialog");return p(),I("div",M5,[S("h2",U5,[D(b(e.t("permissions"))+" ",1),S("span",N5,b(e.t("saves_automatically")),1)]),S("div",B5,[o(a),(p(!0),I(ie,null,he(e.regularCollections,h=>(p(),C(s,{key:h.collection,collection:h,role:e.role,permissions:e.permissions.filter(k=>k.collection===h.collection),refreshing:e.refreshing},null,8,["collection","role","permissions","refreshing"]))),128)),S("button",{class:"system-toggle",onClick:t[0]||(t[0]=h=>e.systemVisible=!e.systemVisible)},[D(b(e.t("system_collections"))+" ",1),o(r,{name:e.systemVisible?"expand_less":"expand_more"},null,8,["name"])]),o(m,null,{default:d(()=>[e.systemVisible?(p(),I("div",q5,[(p(!0),I(ie,null,he(e.systemCollections,h=>(p(),C(s,{key:h.collection,collection:h,role:e.role,permissions:e.permissions.filter(k=>k.collection===h.collection),refreshing:e.refreshing,"app-minimal":e.appAccess&&e.appMinimalPermissions.filter(k=>k.collection===h.collection)},null,8,["collection","role","permissions","refreshing","app-minimal"]))),128))])):R("",!0)]),_:1}),e.systemVisible&&e.appAccess?(p(),I("span",z5,[D(b(e.t("reset_system_permissions_to"))+" ",1),S("button",{onClick:t[1]||(t[1]=h=>e.resetActive="minimum")},b(e.t("app_access_minimum")),1),K5,S("button",{onClick:t[2]||(t[2]=h=>e.resetActive="recommended")},b(e.t("recommended_defaults")),1)])):R("",!0)]),o(f,{name:"permissionsDetail","role-key":e.role,"permission-key":e.permission},null,8,["role-key","permission-key"]),o($,{"model-value":!!e.resetActive,"onUpdate:modelValue":t[5]||(t[5]=h=>e.resetActive=!1),onEsc:t[6]||(t[6]=h=>e.resetActive=!1)},{default:d(()=>[o(g,null,{default:d(()=>[o(v,null,{default:d(()=>[D(b(e.t("reset_system_permissions_copy")),1)]),_:1}),o(y,null,{default:d(()=>[o(_,{secondary:"",onClick:t[3]||(t[3]=h=>e.resetActive=!1)},{default:d(()=>[D(b(e.t("cancel")),1)]),_:1}),o(_,{loading:e.resetting,onClick:t[4]||(t[4]=h=>e.resetSystemPermissions(e.resetActive==="recommended"))},{default:d(()=>[D(b(e.t("reset")),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["model-value"])])}var ms=q(R5,[["render",H5],["__scopeId","data-v-554c2db2"]]);const W5=z({props:{modelValue:{type:Boolean,default:!1},role:{type:String,default:null}},emits:["update:modelValue"],setup(e,{emit:t}){const{t:n}=Y(),l=E(""),i=E([]),u=E(e.role),a=E(!1),s=E([]);return _e(()=>e.modelValue,()=>{m()}),{t:n,emails:l,inviteUsers:r,roles:i,roleSelected:u,loading:a,uniqueValidationErrors:s};async function r(){var f,v,_,y,g,$;a.value=!0;try{const h=l.value.split(/,|\n/).filter(k=>k).map(k=>k.trim());await re.post("/users/invite",{email:h,role:u.value}),l.value="",t("update:modelValue",!1)}catch(h){s.value=(_=(v=(f=h==null?void 0:h.response)==null?void 0:f.data)==null?void 0:v.errors)==null?void 0:_.filter(A=>{var F;return((F=A.extensions)==null?void 0:F.code)==="RECORD_NOT_UNIQUE"});const k=($=(g=(y=h==null?void 0:h.response)==null?void 0:y.data)==null?void 0:g.errors)==null?void 0:$.filter(A=>{var F;return((F=A==null?void 0:A.extensions)==null?void 0:F.code)!=="RECORD_NOT_UNIQUE"});k.length>0&&k.forEach(A=>Ce(A))}finally{a.value=!1}}async function m(){const f=await re.get("/roles");i.value=f.data.data.map(v=>({text:v.name,value:v.id})),i.value.length>0&&u.value===null&&(u.value=i.value[0].value)}}}),G5={class:"grid"},J5={class:"field"},Q5={class:"type-label"},X5={key:0,class:"field"},Z5={class:"type-label"};function Y5(e,t,n,l,i,u){const a=c("v-card-title"),s=c("v-textarea"),r=c("v-select"),m=c("v-notice"),f=c("v-card-text"),v=c("v-button"),_=c("v-card-actions"),y=c("v-card"),g=c("v-dialog");return p(),C(g,{"model-value":e.modelValue,"onUpdate:modelValue":t[3]||(t[3]=$=>e.$emit("update:modelValue",$)),onEsc:t[4]||(t[4]=$=>e.$emit("update:modelValue",!1))},{default:d(()=>[o(y,null,{default:d(()=>[o(a,null,{default:d(()=>[D(b(e.t("invite_users")),1)]),_:1}),o(f,null,{default:d(()=>[S("div",G5,[S("div",J5,[S("div",Q5,b(e.t("emails")),1),o(s,{modelValue:e.emails,"onUpdate:modelValue":t[0]||(t[0]=$=>e.emails=$),nullable:!1,placeholder:"admin@example.com, user@example.com..."},null,8,["modelValue"])]),e.role===null?(p(),I("div",X5,[S("div",Z5,b(e.t("role")),1),o(r,{modelValue:e.roleSelected,"onUpdate:modelValue":t[1]||(t[1]=$=>e.roleSelected=$),items:e.roles},null,8,["modelValue","items"])])):R("",!0),e.uniqueValidationErrors.length>0?(p(),C(m,{key:1,class:"field",type:"danger"},{default:d(()=>[(p(!0),I(ie,null,he(e.uniqueValidationErrors,($,h)=>(p(),I("div",{key:h},[$.extensions.invalid?(p(),I(ie,{key:0},[D(b(e.t("email_already_invited",{email:$.extensions.invalid})),1)],64)):h===0?(p(),I(ie,{key:1},[D(b(e.t("validationError.unique")),1)],64)):R("",!0)]))),128))]),_:1})):R("",!0)])]),_:1}),o(_,null,{default:d(()=>[o(v,{secondary:"",onClick:t[2]||(t[2]=$=>e.$emit("update:modelValue",!1))},{default:d(()=>[D(b(e.t("cancel")),1)]),_:1}),o(v,{disabled:e.emails===null||e.emails.length===0,loading:e.loading,onClick:e.inviteUsers},{default:d(()=>[D(b(e.t("invite")),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]),_:1})]),_:1},8,["model-value"])}var fs=q(W5,[["render",Y5],["__scopeId","data-v-52e00551"]]);const x5=z({name:"RolesItem",components:{SettingsNavigation:Ut,RevisionsDrawerDetail:zn,RoleInfoSidebarDetail:b5,PermissionsOverview:ms,UsersInvite:fs},props:{primaryKey:{type:String,required:!0},permissionKey:{type:String,default:null}},setup(e){const{t}=Y(),n=Ye(),l=Je(),i=E(!1),{primaryKey:u}=Re(e),{edits:a,item:s,saving:r,loading:m,error:f,save:v,remove:_,deleting:y,isBatch:g}=Cn(E("directus_roles"),u),$=V(()=>Object.keys(a.value).length>0),h=E(!1),k=V(()=>!!pe(pe({},s.value),a.value).admin_access),A=V(()=>!!pe(pe({},s.value),a.value).app_access);nt("meta+s",()=>{$.value&&N()});const F=V(()=>$.value===!0?!0:$.value);en(F);const P=E(!1),O=E(null),T=K=>{if($.value)return P.value=!0,O.value=K.fullPath,!1};return Lt(T),Pt(T),{t,item:s,loading:m,error:f,edits:a,hasEdits:$,saving:r,saveAndQuit:L,deleteAndQuit:M,confirmDelete:h,deleting:y,isBatch:g,adminEnabled:k,userInviteModalActive:i,appAccess:A,isSavable:F,confirmLeave:P,leaveTo:O,discardAndLeave:B};async function N(){await v(),await l.hydrate()}async function L(){await v(),await l.hydrate(),n.push("/settings/roles")}async function M(){await _(),n.replace("/settings/roles")}function B(){!O.value||(a.value={},P.value=!1,n.push(O.value))}}}),eT={class:"roles"};function tT(e,t,n,l,i,u){const a=c("v-breadcrumb"),s=c("v-icon"),r=c("v-button"),m=c("v-card-title"),f=c("v-card-actions"),v=c("v-card"),_=c("v-dialog"),y=c("settings-navigation"),g=c("users-invite"),$=c("v-notice"),h=c("permissions-overview"),k=c("v-form"),A=c("role-info-sidebar-detail"),F=c("revisions-drawer-detail"),P=c("v-card-text"),O=c("private-view"),T=Se("tooltip");return p(),C(O,{title:e.loading?e.t("loading"):e.t("editing_role",{role:e.item&&e.item.name})},{headline:d(()=>[o(a,{items:[{name:e.t("settings_permissions"),to:"/settings/roles"}]},null,8,["items"])]),"title-outer:prepend":d(()=>[o(r,{class:"header-icon",rounded:"",icon:"",exact:"",to:"/settings/roles/"},{default:d(()=>[o(s,{name:"arrow_back"})]),_:1})]),actions:d(()=>[[1,2].includes(+e.primaryKey)===!1?(p(),C(_,{key:0,modelValue:e.confirmDelete,"onUpdate:modelValue":t[1]||(t[1]=N=>e.confirmDelete=N),onEsc:t[2]||(t[2]=N=>e.confirmDelete=!1)},{activator:d(({on:N})=>[x(o(r,{rounded:"",icon:"",class:"action-delete",disabled:e.item===null,onClick:N},{default:d(()=>[o(s,{name:"delete",outline:""})]),_:2},1032,["disabled","onClick"]),[[T,e.t("delete_label"),void 0,{bottom:!0}]])]),default:d(()=>[o(v,null,{default:d(()=>[o(m,null,{default:d(()=>[D(b(e.t("delete_are_you_sure")),1)]),_:1}),o(f,null,{default:d(()=>[o(r,{secondary:"",onClick:t[0]||(t[0]=N=>e.confirmDelete=!1)},{default:d(()=>[D(b(e.t("cancel")),1)]),_:1}),o(r,{kind:"danger",loading:e.deleting,onClick:e.deleteAndQuit},{default:d(()=>[D(b(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):R("",!0),x(o(r,{rounded:"",icon:"",class:"invite-user",onClick:t[3]||(t[3]=N=>e.userInviteModalActive=!0)},{default:d(()=>[o(s,{name:"person_add"})]),_:1},512),[[T,e.t("invite_users"),void 0,{bottom:!0}]]),x(o(r,{rounded:"",icon:"",loading:e.saving,disabled:e.hasEdits===!1,onClick:e.saveAndQuit},{default:d(()=>[o(s,{name:"check"})]),_:1},8,["loading","disabled","onClick"]),[[T,e.t("save"),void 0,{bottom:!0}]])]),navigation:d(()=>[o(y)]),sidebar:d(()=>[o(A,{role:e.item},null,8,["role"]),o(F,{collection:"directus_roles","primary-key":e.primaryKey},null,8,["primary-key"])]),default:d(()=>[o(g,{modelValue:e.userInviteModalActive,"onUpdate:modelValue":t[4]||(t[4]=N=>e.userInviteModalActive=N),role:e.primaryKey},null,8,["modelValue","role"]),S("div",eT,[e.adminEnabled?(p(),C($,{key:0,type:"info"},{default:d(()=>[D(b(e.t("admins_have_all_permissions")),1)]),_:1})):(p(),C(h,{key:1,role:e.primaryKey,permission:e.permissionKey,"app-access":e.appAccess},null,8,["role","permission","app-access"])),o(k,{modelValue:e.edits,"onUpdate:modelValue":t[5]||(t[5]=N=>e.edits=N),collection:"directus_roles","primary-key":e.primaryKey,loading:e.loading,"initial-values":e.item,"batch-mode":e.isBatch},null,8,["modelValue","primary-key","loading","initial-values","batch-mode"])]),o(_,{modelValue:e.confirmLeave,"onUpdate:modelValue":t[7]||(t[7]=N=>e.confirmLeave=N),onEsc:t[8]||(t[8]=N=>e.confirmLeave=!1)},{default:d(()=>[o(v,null,{default:d(()=>[o(m,null,{default:d(()=>[D(b(e.t("unsaved_changes")),1)]),_:1}),o(P,null,{default:d(()=>[D(b(e.t("unsaved_changes_copy")),1)]),_:1}),o(f,null,{default:d(()=>[o(r,{secondary:"",onClick:e.discardAndLeave},{default:d(()=>[D(b(e.t("discard_changes")),1)]),_:1},8,["onClick"]),o(r,{onClick:t[6]||(t[6]=N=>e.confirmLeave=!1)},{default:d(()=>[D(b(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["title"])}var nT=q(x5,[["render",tT],["__scopeId","data-v-0fa14833"]]);function vs(e){return(e.fields||[]).length===0&&Object.keys(e.validation||{}).length===0&&Object.keys(e.presets||{}).length===0&&Object.keys(e.permissions||{}).length===0}const lT=z({props:{roleKey:{type:String,default:null},permission:{type:Object,required:!0}},emits:["refresh"],setup(e,{emit:t}){const{t:n}=Y(),l=Ye(),i=E(!1);return{t:n,save:u,loading:i};async function u(){i.value=!0;try{vs(e.permission)?await re.delete(`/permissions/${e.permission.id}`):await re.patch(`/permissions/${e.permission.id}`,e.permission),t("refresh"),l.push(`/settings/roles/${e.roleKey||"public"}`)}catch(a){Ce(a)}finally{i.value=!1}}}}),oT={class:"actions"};function aT(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-button"),r=Se("tooltip");return p(),I("div",oT,[x(o(s,{loading:e.loading,icon:"",rounded:"",onClick:e.save},{default:d(()=>[o(a,{name:"check"})]),_:1},8,["loading","onClick"]),[[r,e.t("save"),void 0,{bottom:!0}]])])}var iT=q(lT,[["render",aT],["__scopeId","data-v-47610afd"]]);const sT=z({props:{currentTab:{type:Array,default:null},tabs:{type:Array,required:!0}},emits:["update:currentTab"],setup(e,{emit:t}){return{internalCurrentTab:Le(e,"currentTab",t)}}}),rT={class:"text"};function dT(e,t,n,l,i,u){const a=c("v-tab"),s=c("v-tabs");return p(),C(s,{modelValue:e.internalCurrentTab,"onUpdate:modelValue":t[0]||(t[0]=r=>e.internalCurrentTab=r),vertical:""},{default:d(()=>[(p(!0),I(ie,null,he(e.tabs,r=>(p(),C(a,{key:r.value,value:r.value},{default:d(()=>[S("span",rT,b(r.text),1),S("span",{class:se(["dot",{on:r.hasValue}])},null,2)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])}var uT=q(sT,[["render",dT],["__scopeId","data-v-678d5948"]]);const cT=z({props:{permission:{type:Object,required:!0},role:{type:Object,default:null},appMinimal:{type:Object,default:void 0}},emits:["update:permission"],setup(e,{emit:t}){const{t:n}=Y(),l=Le(e,"permission",t),i=V(()=>[{field:"permissions",name:n("rule"),type:"json",meta:{interface:"system-filter",options:{collectionName:l.value.collection}}}]);return{t:n,fields:i,permissionSync:l}}}),pT={key:0,class:"app-minimal"},mT={class:"app-minimal-preview"};function fT(e,t,n,l,i,u){const a=c("v-notice"),s=c("v-form"),r=c("v-divider");return p(),I("div",null,[o(a,{type:"info"},{default:d(()=>[D(b(e.t("permissions_for_role",{action:e.t(e.permission.action==="delete"?"delete_label":e.permission.action).toLowerCase(),role:e.role?e.role.name:e.t("public_label")})),1)]),_:1}),o(s,{modelValue:e.permissionSync,"onUpdate:modelValue":t[0]||(t[0]=m=>e.permissionSync=m),fields:e.fields},null,8,["modelValue","fields"]),e.appMinimal?(p(),I("div",pT,[o(r),o(a,{type:"warning"},{default:d(()=>[D(b(e.t("the_following_are_minimum_permissions")),1)]),_:1}),S("pre",mT,b(e.appMinimal),1)])):R("",!0)])}var vT=q(cT,[["render",fT],["__scopeId","data-v-da09841c"]]);const _T=z({props:{permission:{type:Object,required:!0},role:{type:Object,default:null},appMinimal:{type:Object,default:void 0}},emits:["update:permission"],setup(e,{emit:t}){const{t:n}=Y(),l=Pe(),i=Le(e,"permission",t),u=V(()=>l.getFieldsForCollection(e.permission.collection).map(r=>({text:r.name,value:r.field}))),a=V({get(){return i.value.fields?i.value.fields.includes("*")?u.value.map(({value:s})=>s):i.value.fields:[]},set(s){s&&s.length>0?i.value=Ve(pe({},i.value),{fields:s}):i.value=Ve(pe({},i.value),{fields:null})}});return{t:n,fields:a,fieldsInCollection:u}}}),yT={class:"type-label"},gT={key:0,class:"app-minimal"},hT={class:"app-minimal-preview"};function bT(e,t,n,l,i,u){const a=c("v-notice"),s=c("interface-select-multiple-checkbox"),r=c("v-divider");return p(),I("div",null,[o(a,{type:"info"},{default:d(()=>[D(b(e.t("fields_for_role",{role:e.role?e.role.name:e.t("public_label"),action:e.t(e.permission.action).toLowerCase()})),1)]),_:1}),S("p",yT,b(e.t("field",0)),1),o(s,{value:e.fields,type:"json",choices:e.fieldsInCollection,onInput:t[0]||(t[0]=m=>e.fields=m)},null,8,["value","choices"]),e.appMinimal?(p(),I("div",gT,[o(r),o(a,{type:"warning"},{default:d(()=>[D(b(e.t("the_following_are_minimum_permissions")),1)]),_:1}),S("pre",hT,b(e.appMinimal),1)])):R("",!0)])}var $T=q(_T,[["render",bT],["__scopeId","data-v-28e7bb60"]]);const wT=z({props:{permission:{type:Object,required:!0},role:{type:Object,default:null}},emits:["update:permission"],setup(e,{emit:t}){const{t:n}=Y(),l=Le(e,"permission",t),i=V(()=>[{field:"validation",name:n("rule"),type:"json",meta:{interface:"system-filter",options:{collectionName:l.value.collection}}}]);return{t:n,permissionSync:l,fields:i}}});function kT(e,t,n,l,i,u){const a=c("v-notice"),s=c("v-form");return p(),I("div",null,[o(a,{type:"info"},{default:d(()=>[D(b(e.t("validation_for_role",{action:e.t(e.permission.action).toLowerCase(),role:e.role?e.role.name:e.t("public_label")})),1)]),_:1}),o(s,{modelValue:e.permissionSync,"onUpdate:modelValue":t[0]||(t[0]=r=>e.permissionSync=r),fields:e.fields},null,8,["modelValue","fields"])])}var ST=q(wT,[["render",kT],["__scopeId","data-v-e3088adc"]]);const CT=z({props:{permission:{type:Object,default:null},role:{type:Object,default:null}},emits:["update:permission"],setup(e,{emit:t}){const{t:n}=Y(),l=Le(e,"permission",t),i=V({get(){return l.value.presets},set(u){l.value=Ve(pe({},l.value),{presets:u})}});return{t:n,presets:i}}});function VT(e,t,n,l,i,u){const a=c("v-notice"),s=c("interface-input-code");return p(),I("div",null,[o(a,{type:"info"},{default:d(()=>[D(b(e.t("presets_for_role",{action:e.t(e.permission.action).toLowerCase(),role:e.role?e.role.name:e.t("public_label")})),1)]),_:1}),o(s,{value:e.presets,language:"json",type:"json",onInput:t[0]||(t[0]=r=>e.presets=r)},null,8,["value"])])}var FT=q(CT,[["render",VT],["__scopeId","data-v-660c7066"]]);const AT=z({components:{Actions:iT,Tabs:uT,Permissions:vT,Fields:$T,Validation:ST,Presets:FT},props:{roleKey:{type:String,default:null},permissionKey:{type:String,required:!0}},emits:["refresh"],setup(e){const{t}=Y(),n=Ye(),l=Ke(),i=cn(),u=E(),a=E(),s=E(!1),r=V(()=>{var h;return u.value?(h=l.collections.find(k=>k.collection===u.value.collection))==null?void 0:h.name:null}),m=V(()=>s.value||!u.value?t("loading"):e.roleKey?a.value.name+" -> "+r.value+" -> "+t(u.value.action):t("public_label")+" -> "+r.value+" -> "+t(u.value.action));_e(()=>e.permissionKey,$,{immediate:!0});const f=V(()=>{if(!u.value)return[];const h=u.value.action,k=[];return["read","update","delete"].includes(h)&&k.push({text:t("item_permissions"),value:"permissions",hasValue:u.value.permissions!==null&&Object.keys(u.value.permissions).length>0}),["create","read","update"].includes(h)&&k.push({text:t("field_permissions"),value:"fields",hasValue:u.value.fields!==null}),["create","update"].includes(h)&&k.push({text:t("field_validation"),value:"validation",hasValue:u.value.validation!==null&&Object.keys(u.value.validation).length>0}),["create","update"].includes(h)&&k.push({text:t("field_presets"),value:"presets",hasValue:u.value.presets!==null&&Object.keys(u.value.presets).length>0}),k}),v=E([]),_=V(()=>{var k;const h=(k=v.value)==null?void 0:k[0];return h?f.value.find(A=>A.value===h):null});_e(f,(h,k)=>{var A,F;h&&k&&h.length===k.length||(v.value=[(F=(A=f==null?void 0:f.value)==null?void 0:A[0])==null?void 0:F.value])},{immediate:!0});const y=V(()=>u.value?cs.find(h=>h.collection===u.value.collection&&h.action===u.value.action):null);return{isOpen:i,permission:u,role:a,loading:s,modalTitle:m,tabs:f,currentTab:v,currentTabInfo:_,appMinimal:y,close:g};async function g(){u.value&&vs(u.value)?(await re.delete(`/permissions/${u.value.id}`),n.replace(`/settings/roles/${e.roleKey||"public"}`)):n.push(`/settings/roles/${e.roleKey||"public"}`)}async function $(){var h;s.value=!0;try{if(e.roleKey){const A=await re.get(`/roles/${e.roleKey}`);a.value=A.data.data}const k=await re.get(`/permissions/${e.permissionKey}`);u.value=k.data.data}catch(k){((h=k==null?void 0:k.response)==null?void 0:h.status)===403?n.push(`/settings/roles/${e.roleKey||"public"}`):Ce(k)}finally{s.value=!1}}}}),IT={key:0,class:"content"};function ET(e,t,n,l,i,u){const a=c("tabs"),s=c("permissions"),r=c("fields"),m=c("validation"),f=c("presets"),v=c("actions"),_=c("v-drawer");return p(),C(_,{title:e.modalTitle,"model-value":e.isOpen,class:"new-collection",persistent:"","sidebar-label":e.currentTabInfo&&e.currentTabInfo.text,onCancel:e.close},Ze({default:d(()=>[e.loading?R("",!0):(p(),I("div",IT,[e.currentTab[0]==="permissions"?(p(),C(s,{key:0,permission:e.permission,"onUpdate:permission":t[1]||(t[1]=y=>e.permission=y),role:e.role,"app-minimal":e.appMinimal&&e.appMinimal.permissions},null,8,["permission","role","app-minimal"])):R("",!0),e.currentTab[0]==="fields"?(p(),C(r,{key:1,permission:e.permission,"onUpdate:permission":t[2]||(t[2]=y=>e.permission=y),role:e.role,"app-minimal":e.appMinimal&&e.appMinimal.fields},null,8,["permission","role","app-minimal"])):R("",!0),e.currentTab[0]==="validation"?(p(),C(m,{key:2,permission:e.permission,"onUpdate:permission":t[3]||(t[3]=y=>e.permission=y),role:e.role,"app-minimal":e.appMinimal&&e.appMinimal.validation},null,8,["permission","role","app-minimal"])):R("",!0),e.currentTab[0]==="presets"?(p(),C(f,{key:3,permission:e.permission,"onUpdate:permission":t[4]||(t[4]=y=>e.permission=y),role:e.role,"app-minimal":e.appMinimal&&e.appMinimal.presets},null,8,["permission","role","app-minimal"])):R("",!0)]))]),_:2},[e.loading?void 0:{name:"sidebar",fn:d(()=>[o(a,{"current-tab":e.currentTab,"onUpdate:current-tab":t[0]||(t[0]=y=>e.currentTab=y),tabs:e.tabs},null,8,["current-tab","tabs"])])},e.loading?void 0:{name:"actions",fn:d(()=>[o(v,{"role-key":e.roleKey,permission:e.permission,onRefresh:t[5]||(t[5]=y=>e.$emit("refresh",Number(e.permissionKey)))},null,8,["role-key","permission"])])}]),1032,["title","model-value","sidebar-label","onCancel"])}var _s=q(AT,[["render",ET],["__scopeId","data-v-69981f41"]]);const DT=z({name:"RolesItem",components:{SettingsNavigation:Ut,PermissionsOverview:ms},props:{permissionKey:{type:String,default:null}},setup(){const{t:e}=Y();return{t:e}}}),TT={class:"roles"};function PT(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-button"),r=c("settings-navigation"),m=c("permissions-overview"),f=c("private-view");return p(),C(f,{title:e.t("public_label")},{headline:d(()=>[D(b(e.t("settings_permissions")),1)]),"title-outer:prepend":d(()=>[o(s,{class:"header-icon",rounded:"",icon:"",exact:"",to:"/settings/roles/"},{default:d(()=>[o(a,{name:"arrow_back"})]),_:1})]),navigation:d(()=>[o(r)]),default:d(()=>[S("div",TT,[o(m,{role:null,permission:e.permissionKey},null,8,["permission"])])]),_:1},8,["title"])}var OT=q(DT,[["render",PT],["__scopeId","data-v-696c80cd"]]);const LT=z({name:"WebhooksCollection",components:{SettingsNavigation:Ut,LayoutSidebarDetail:qn,SearchInput:kn},setup(){const{t:e}=Y(),t=E(),n=E([]),{layout:l,layoutOptions:i,layoutQuery:u,filter:a,search:s}=wn(E("directus_webhooks")),{addNewLink:r,batchLink:m}=h(),{confirmDelete:f,deleting:v,batchDelete:_}=$(),{layoutWrapper:y}=un(l);return{t:e,addNewLink:r,batchDelete:_,batchLink:m,confirmDelete:f,deleting:v,layoutRef:t,layoutWrapper:y,filter:a,selection:n,layoutOptions:i,layoutQuery:u,layout:l,search:s,clearFilters:k};async function g(){var A,F,P;await((P=(F=(A=t.value)==null?void 0:A.state)==null?void 0:F.refresh)==null?void 0:P.call(F))}function $(){const A=E(!1),F=E(!1);return{confirmDelete:A,deleting:F,batchDelete:P};async function P(){F.value=!0,A.value=!1;const O=n.value;await re.delete(`/webhooks/${O}`),await g(),n.value=[],F.value=!1,A.value=!1}}function h(){const A=V(()=>"/settings/webhooks/+"),F=V(()=>`/settings/webhooks/${n.value}`);return{addNewLink:A,batchLink:F}}function k(){a.value=null,s.value=null}}}),jT={class:"page-description"};function RT(e,t,n,l,i,u){const a=c("v-breadcrumb"),s=c("v-icon"),r=c("v-button"),m=c("settings-navigation"),f=c("search-input"),v=c("v-card-title"),_=c("v-card-actions"),y=c("v-card"),g=c("v-dialog"),$=c("v-info"),h=c("sidebar-detail"),k=c("layout-sidebar-detail"),A=c("private-view"),F=Se("tooltip"),P=Se("md");return p(),C(Ue(e.layoutWrapper),{ref:"layoutRef",selection:e.selection,"onUpdate:selection":t[5]||(t[5]=O=>e.selection=O),"layout-options":e.layoutOptions,"onUpdate:layout-options":t[6]||(t[6]=O=>e.layoutOptions=O),"layout-query":e.layoutQuery,"onUpdate:layout-query":t[7]||(t[7]=O=>e.layoutQuery=O),filter:e.filter,search:e.search,collection:"directus_webhooks"},{default:d(({layoutState:O})=>[o(A,{title:e.t("webhooks")},{headline:d(()=>[o(a,{items:[{name:e.t("settings"),to:"/settings"}]},null,8,["items"])]),"title-outer:prepend":d(()=>[o(r,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:d(()=>[o(s,{name:"anchor"})]),_:1})]),navigation:d(()=>[o(m)]),actions:d(()=>[o(f,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=T=>e.search=T),collection:"directus_webhooks"},null,8,["modelValue"]),e.selection.length>0?(p(),C(g,{key:0,modelValue:e.confirmDelete,"onUpdate:modelValue":t[2]||(t[2]=T=>e.confirmDelete=T),onEsc:t[3]||(t[3]=T=>e.confirmDelete=!1)},{activator:d(({on:T})=>[o(r,{rounded:"",icon:"",class:"action-delete",onClick:T},{default:d(()=>[o(s,{name:"delete",outline:""})]),_:2},1032,["onClick"])]),default:d(()=>[o(y,null,{default:d(()=>[o(v,null,{default:d(()=>[D(b(e.t("batch_delete_confirm",e.selection.length)),1)]),_:1}),o(_,null,{default:d(()=>[o(r,{secondary:"",onClick:t[1]||(t[1]=T=>e.confirmDelete=!1)},{default:d(()=>[D(b(e.t("cancel")),1)]),_:1}),o(r,{kind:"danger",loading:e.deleting,onClick:e.batchDelete},{default:d(()=>[D(b(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):R("",!0),e.selection.length>1?x((p(),C(r,{key:1,rounded:"",icon:"",class:"action-batch",to:e.batchLink},{default:d(()=>[o(s,{name:"edit",outline:""})]),_:1},8,["to"])),[[F,e.t("edit"),void 0,{bottom:!0}]]):R("",!0),x(o(r,{rounded:"",icon:"",to:e.addNewLink},{default:d(()=>[o(s,{name:"add"})]),_:1},8,["to"]),[[F,e.t("create_webhook"),void 0,{bottom:!0}]])]),sidebar:d(()=>[o(h,{icon:"info_outline",title:e.t("information"),close:""},{default:d(()=>[x(S("div",jT,null,512),[[P,e.t("page_help_settings_webhooks_collection")]])]),_:1},8,["title"]),o(k,{modelValue:e.layout,"onUpdate:modelValue":t[4]||(t[4]=T=>e.layout=T)},{default:d(()=>[(p(),C(Ue(`layout-options-${e.layout}`),He(Xe(O)),null,16))]),_:2},1032,["modelValue"]),(p(),C(Ue(`layout-sidebar-${e.layout}`),He(Xe(O)),null,16))]),default:d(()=>[(p(),C(Ue(`layout-${e.layout}`),dt({class:"layout"},O),{"no-results":d(()=>[o($,{title:e.t("no_results"),icon:"search",center:""},{append:d(()=>[o(r,{onClick:e.clearFilters},{default:d(()=>[D(b(e.t("clear_filters")),1)]),_:1},8,["onClick"])]),default:d(()=>[D(b(e.t("no_results_copy"))+" ",1)]),_:1},8,["title"])]),"no-items":d(()=>[o($,{title:e.t("webhooks_count",0),icon:"anchor",center:"",type:"info"},{append:d(()=>[o(r,{to:{path:"/settings/webhooks/+"}},{default:d(()=>[D(b(e.t("create_webhook")),1)]),_:1})]),default:d(()=>[D(b(e.t("no_webhooks_copy"))+" ",1)]),_:1},8,["title"])]),_:2},1040))]),_:2},1032,["title"])]),_:1},8,["selection","layout-options","layout-query","filter","search"])}var MT=q(LT,[["render",RT],["__scopeId","data-v-35d1a91d"]]);const UT=z({name:"WebhooksItem",components:{SettingsNavigation:Ut,RevisionsDrawerDetail:zn,SaveOptions:$l},props:{primaryKey:{type:String,required:!0}},setup(e){const{t}=Y(),n=Ye(),{primaryKey:l}=Re(e),{isNew:i,edits:u,item:a,saving:s,loading:r,error:m,save:f,remove:v,deleting:_,saveAsCopy:y,isBatch:g,validationErrors:$}=Cn(E("directus_webhooks"),l),h=V(()=>Object.keys(u.value).length>0),k=E(!1),A=V(()=>{var G;return r.value?t("loading"):i.value?t("creating_webhook"):(G=a.value)==null?void 0:G.name});nt("meta+s",()=>{h.value&&L()}),nt("meta+shift+s",()=>{h.value&&M()});const F=V(()=>h.value===!0?!0:h.value);en(F);const P=E(!1),O=E(null),T=G=>{if(h.value)return P.value=!0,O.value=G.fullPath,!1};return Lt(T),Pt(T),{t,item:a,loading:r,error:m,isNew:i,edits:u,hasEdits:h,saving:s,saveAndQuit:N,deleteAndQuit:K,confirmDelete:k,deleting:_,saveAndStay:L,saveAndAddNew:M,saveAsCopyAndNavigate:B,discardAndStay:le,isBatch:g,title:A,validationErrors:$,isSavable:F,confirmLeave:P,leaveTo:O,discardAndLeave:W};async function N(){await f(),n.push("/settings/webhooks")}async function L(){await f()}async function M(){await f(),n.push("/settings/webhooks/+")}async function B(){const G=await y();G&&n.push(`/settings/webhooks/${G}`)}async function K(){await v(),n.replace("/settings/webhooks")}function W(){!O.value||(u.value={},P.value=!1,n.push(O.value))}function le(){u.value={},P.value=!1}}}),NT={class:"page-description"};function BT(e,t,n,l,i,u){const a=c("v-breadcrumb"),s=c("v-icon"),r=c("v-button"),m=c("v-card-title"),f=c("v-card-actions"),v=c("v-card"),_=c("v-dialog"),y=c("save-options"),g=c("settings-navigation"),$=c("v-form"),h=c("sidebar-detail"),k=c("revisions-drawer-detail"),A=c("v-card-text"),F=c("private-view"),P=Se("md");return p(),C(F,{title:e.title},{headline:d(()=>[o(a,{items:[{name:e.t("settings_webhooks"),to:"/settings/webhooks"}]},null,8,["items"])]),"title-outer:prepend":d(()=>[o(r,{class:"header-icon",rounded:"",icon:"",exact:"",to:"/settings/webhooks/"},{default:d(()=>[o(s,{name:"arrow_back"})]),_:1})]),actions:d(()=>[o(_,{modelValue:e.confirmDelete,"onUpdate:modelValue":t[1]||(t[1]=O=>e.confirmDelete=O),onEsc:t[2]||(t[2]=O=>e.confirmDelete=!1)},{activator:d(({on:O})=>[o(r,{rounded:"",icon:"",class:"action-delete",disabled:e.item===null,onClick:O},{default:d(()=>[o(s,{name:"delete",outline:""})]),_:2},1032,["disabled","onClick"])]),default:d(()=>[o(v,null,{default:d(()=>[o(m,null,{default:d(()=>[D(b(e.t("delete_are_you_sure")),1)]),_:1}),o(f,null,{default:d(()=>[o(r,{secondary:"",onClick:t[0]||(t[0]=O=>e.confirmDelete=!1)},{default:d(()=>[D(b(e.t("cancel")),1)]),_:1}),o(r,{kind:"danger",loading:e.deleting,onClick:e.deleteAndQuit},{default:d(()=>[D(b(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(r,{rounded:"",icon:"",loading:e.saving,disabled:e.hasEdits===!1,onClick:e.saveAndQuit},{"append-outer":d(()=>[e.hasEdits===!0?(p(),C(y,{key:0,onSaveAndStay:e.saveAndStay,onSaveAndAddNew:e.saveAndAddNew,onSaveAsCopy:e.saveAsCopyAndNavigate,onDiscardAndStay:e.discardAndStay},null,8,["onSaveAndStay","onSaveAndAddNew","onSaveAsCopy","onDiscardAndStay"])):R("",!0)]),default:d(()=>[o(s,{name:"check"})]),_:1},8,["loading","disabled","onClick"])]),navigation:d(()=>[o(g)]),sidebar:d(()=>[o(h,{icon:"info_outline",title:e.t("information"),close:""},{default:d(()=>[x(S("div",NT,null,512),[[P,e.t("page_help_settings_webhooks_item")]])]),_:1},8,["title"]),e.isNew===!1?(p(),C(k,{key:0,collection:"directus_webhooks","primary-key":e.primaryKey},null,8,["primary-key"])):R("",!0)]),default:d(()=>[o($,{modelValue:e.edits,"onUpdate:modelValue":t[3]||(t[3]=O=>e.edits=O),loading:e.loading,"initial-values":e.item,collection:"directus_webhooks","batch-mode":e.isBatch,"primary-key":e.primaryKey,"validation-errors":e.validationErrors},null,8,["modelValue","loading","initial-values","batch-mode","primary-key","validation-errors"]),o(_,{modelValue:e.confirmLeave,"onUpdate:modelValue":t[5]||(t[5]=O=>e.confirmLeave=O),onEsc:t[6]||(t[6]=O=>e.confirmLeave=!1)},{default:d(()=>[o(v,null,{default:d(()=>[o(m,null,{default:d(()=>[D(b(e.t("unsaved_changes")),1)]),_:1}),o(A,null,{default:d(()=>[D(b(e.t("unsaved_changes_copy")),1)]),_:1}),o(f,null,{default:d(()=>[o(r,{secondary:"",onClick:e.discardAndLeave},{default:d(()=>[D(b(e.t("discard_changes")),1)]),_:1},8,["onClick"]),o(r,{onClick:t[4]||(t[4]=O=>e.confirmLeave=!1)},{default:d(()=>[D(b(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["title"])}var qT=q(UT,[["render",BT],["__scopeId","data-v-473183ba"]]),zT=dn({id:"settings",name:"$t:settings",icon:"settings",color:"var(--warning)",routes:[{path:"",redirect:"/settings/data-model"},{name:"settings-project",path:"project",component:e5},{path:"data-model",component:pn,children:[{name:"settings-collections",path:"",component:t3,beforeEnter(){Ke().hydrate()},children:[{path:"+",name:"settings-add-new",components:{add:$D}}]},{name:"settings-fields",path:":collection",component:sD,async beforeEnter(e){const n=Ke().getCollection(e.params.collection),l=Pe();(n==null?void 0:n.meta)||await re.patch(`/collections/${e.params.collection}`,{meta:{}}),l.hydrate()},props:e=>({collection:e.params.collection,field:e.params.field,type:e.query.type}),children:[{path:":field",name:"settings-fields-field",components:{field:FE}}]}]},{path:"roles",component:pn,children:[{name:"settings-roles-collection",path:"",component:v5,children:[{path:"+",name:"settings-add-new-role",components:{add:d5}}]},{path:"public",component:OT,props:!0,children:[{path:":permissionKey",components:{permissionsDetail:_s}}]},{name:"settings-roles-item",path:":primaryKey",component:nT,props:!0,children:[{path:":permissionKey",components:{permissionsDetail:_s}}]}]},{path:"presets",component:pn,children:[{name:"settings-presets-collection",path:"",component:RD},{name:"settings-presets-item",path:":id",component:HD,props:!0}]},{path:"webhooks",component:pn,children:[{name:"settings-webhooks-collection",path:"",component:MT},{name:"settings-webhooks-item",path:":primaryKey",component:qT,props:!0}]},{name:"settings-not-found",path:":_(.+)+",component:CD}],preRegisterCheck:e=>e.role.admin_access===!0}),KT=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:zT});let In=null,Jt=null;function ys(){return In===null&&(In=E(null)),Jt===null&&(Jt=E(!1)),In.value===null&&(Jt==null?void 0:Jt.value)===!1&&e(),{roles:In,loading:Jt};async function e(){if(!Jt||!In)return;Jt.value=!0;const t=await re.get("/roles",{params:{sort:"name"}});In.value=t.data.data,Jt.value=!1}}const HT=z({props:{currentRole:{type:String,default:null}},setup(){const{t:e}=Y(),{roles:t,loading:n}=ys();return{t:e,roles:t,loading:n}}});function WT(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-list-item-icon"),r=c("v-list-item-content"),m=c("v-list-item"),f=c("v-divider"),v=c("v-skeleton-loader"),_=c("v-list");return p(),C(_,{nav:""},{default:d(()=>[o(m,{to:"/users",exact:"",active:e.currentRole===null},{default:d(()=>[o(s,null,{default:d(()=>[o(a,{name:"folder_shared",outline:""})]),_:1}),o(r,null,{default:d(()=>[D(b(e.t("all_users")),1)]),_:1})]),_:1},8,["active"]),e.roles&&e.roles.length>0||e.loading?(p(),C(f,{key:0})):R("",!0),e.loading?(p(),I(ie,{key:1},he(4,y=>o(m,{key:y},{default:d(()=>[o(v,{type:"list-item-icon"})]),_:2},1024)),64)):R("",!0),(p(!0),I(ie,null,he(e.roles,({name:y,id:g,icon:$})=>(p(),C(m,{key:g,to:`/users/roles/${g}`,active:e.currentRole===g},{default:d(()=>[o(s,null,{default:d(()=>[o(a,{name:$,outline:""},null,8,["name"])]),_:2},1024),o(r,null,{default:d(()=>[D(b(y),1)]),_:2},1024)]),_:2},1032,["to","active"]))),128))]),_:1})}var gs=q(HT,[["render",WT],["__scopeId","data-v-1db98fc0"]]);const GT=z({name:"UsersCollection",components:{UsersNavigation:gs,LayoutSidebarDetail:qn,SearchInput:kn,UsersInvite:fs,DrawerBatch:ao},props:{role:{type:String,default:null}},setup(e){const{t}=Y(),{roles:n}=ys(),l=E(!1),i=Je(),u=Tt(),a=E(),s=E([]),{layout:r,layoutOptions:m,layoutQuery:f,filter:v,search:_,resetPreset:y}=wn(E("directus_users")),{addNewLink:g}=G(),{confirmDelete:$,deleting:h,batchDelete:k,error:A,batchEditActive:F}=le(),{breadcrumb:P,title:O}=Q(),T=V(()=>e.role!==null?{_and:[{role:{_eq:e.role}}]}:null),N=V(()=>{var ce,H;if(!!((H=(ce=i.currentUser)==null?void 0:ce.role)==null?void 0:H.admin_access))return!0;const ee=u.permissions.find(Z=>Z.collection==="directus_users"&&Z.action==="create"),de=u.permissions.find(Z=>Z.collection==="directus_roles"&&Z.action==="read");return!!ee&&!!de}),{layoutWrapper:L}=un(r),{batchEditAllowed:M,batchDeleteAllowed:B,createAllowed:K}=ue();return Pt(()=>{s.value=[]}),Lt(()=>{s.value=[]}),{t,canInviteUsers:N,addNewLink:g,breadcrumb:P,title:O,layoutRef:a,layoutWrapper:L,selection:s,layoutOptions:m,layoutQuery:f,layout:r,search:_,clearFilters:fe,userInviteModalActive:l,refresh:W,batchEditAllowed:M,batchDeleteAllowed:B,createAllowed:K,resetPreset:y,confirmDelete:$,deleting:h,batchDelete:k,deleteError:A,batchEditActive:F,filter:v,roleFilter:T,mergeFilters:fl};async function W(){var ne,ee,de;await((de=(ee=(ne=a.value)==null?void 0:ne.state)==null?void 0:ee.refresh)==null?void 0:de.call(ee))}function le(){const ne=E(!1),ee=E(!1),de=E(!1),ce=E();return{batchEditActive:de,confirmDelete:ne,deleting:ee,batchDelete:H,error:ce};async function H(){ee.value=!0;const Z=s.value;try{await re.delete("/users",{data:Z}),await W(),s.value=[],ne.value=!1}catch(X){ce.value=X,Ce(X)}finally{ee.value=!1}}}function G(){return{addNewLink:V(()=>e.role?`/users/roles/${e.role}/+`:"/users/+")}}function Q(){const ne=V(()=>e.role?[{name:t("user_directory"),to:"/users"}]:null),ee=V(()=>{var de,ce;return e.role?(ce=(de=n.value)==null?void 0:de.find(H=>H.id===e.role))==null?void 0:ce.name:t("user_directory")});return{breadcrumb:ne,title:ee}}function fe(){v.value=null,_.value=null}function ue(){const ne=V(()=>{var Z;return((Z=i==null?void 0:i.currentUser)==null?void 0:Z.role.admin_access)===!0?!0:!!u.permissions.find(X=>X.action==="update"&&X.collection==="directus_users")}),ee=V(()=>{var Z;return((Z=i==null?void 0:i.currentUser)==null?void 0:Z.role.admin_access)===!0?!0:!!u.permissions.find(X=>X.action==="delete"&&X.collection==="directus_users")}),de=V(()=>{var Z;return((Z=i==null?void 0:i.currentUser)==null?void 0:Z.role.admin_access)===!0?!0:!!u.permissions.find(X=>X.action==="create"&&X.collection==="directus_users")});return{batchEditAllowed:ne,batchDeleteAllowed:ee,createAllowed:de}}}}),JT={class:"page-description"};function QT(e,t,n,l,i,u){const a=c("v-breadcrumb"),s=c("v-icon"),r=c("v-button"),m=c("search-input"),f=c("v-card-title"),v=c("v-card-actions"),_=c("v-card"),y=c("v-dialog"),g=c("users-navigation"),$=c("users-invite"),h=c("v-info"),k=c("drawer-batch"),A=c("sidebar-detail"),F=c("layout-sidebar-detail"),P=c("export-sidebar-detail"),O=c("private-view"),T=Se("tooltip"),N=Se("md");return p(),C(Ue(e.layoutWrapper),{ref:"layoutRef",selection:e.selection,"onUpdate:selection":t[10]||(t[10]=L=>e.selection=L),"layout-options":e.layoutOptions,"onUpdate:layout-options":t[11]||(t[11]=L=>e.layoutOptions=L),"layout-query":e.layoutQuery,"onUpdate:layout-query":t[12]||(t[12]=L=>e.layoutQuery=L),filter:e.mergeFilters(e.filter,e.roleFilter),"filter-user":e.filter,"filter-system":e.roleFilter,search:e.search,collection:"directus_users","reset-preset":e.resetPreset},{default:d(({layoutState:L})=>[o(O,{title:e.title},Ze({"title-outer:prepend":d(()=>[o(r,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:d(()=>[o(s,{name:"people_alt",outline:""})]),_:1})]),"actions:prepend":d(()=>[(p(),C(Ue(`layout-actions-${e.layout}`),He(Xe(L)),null,16))]),actions:d(()=>[o(m,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=M=>e.search=M),filter:e.filter,"onUpdate:filter":t[1]||(t[1]=M=>e.filter=M),collection:"directus_users"},null,8,["modelValue","filter"]),e.selection.length>0?(p(),C(y,{key:0,modelValue:e.confirmDelete,"onUpdate:modelValue":t[3]||(t[3]=M=>e.confirmDelete=M),onEsc:t[4]||(t[4]=M=>e.confirmDelete=!1)},{activator:d(({on:M})=>[x(o(r,{disabled:e.batchDeleteAllowed!==!0,rounded:"",icon:"",class:"action-delete",onClick:M},{default:d(()=>[o(s,{name:"delete",outline:""})]),_:2},1032,["disabled","onClick"]),[[T,e.batchDeleteAllowed?e.t("delete_label"):e.t("not_allowed"),void 0,{bottom:!0}]])]),default:d(()=>[o(_,null,{default:d(()=>[o(f,null,{default:d(()=>[D(b(e.t("batch_delete_confirm",e.selection.length)),1)]),_:1}),o(v,null,{default:d(()=>[o(r,{secondary:"",onClick:t[2]||(t[2]=M=>e.confirmDelete=!1)},{default:d(()=>[D(b(e.t("cancel")),1)]),_:1}),o(r,{kind:"danger",loading:e.deleting,onClick:e.batchDelete},{default:d(()=>[D(b(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):R("",!0),e.selection.length>1?x((p(),C(r,{key:1,rounded:"",icon:"",class:"action-batch",disabled:e.batchEditAllowed===!1,onClick:t[5]||(t[5]=M=>e.batchEditActive=!0)},{default:d(()=>[o(s,{name:"edit",outline:""})]),_:1},8,["disabled"])),[[T,e.batchEditAllowed?e.t("edit"):e.t("not_allowed"),void 0,{bottom:!0}]]):R("",!0),e.canInviteUsers?x((p(),C(r,{key:2,rounded:"",icon:"",class:"invite-user",onClick:t[6]||(t[6]=M=>e.userInviteModalActive=!0)},{default:d(()=>[o(s,{name:"person_add"})]),_:1},512)),[[T,e.t("invite_users"),void 0,{bottom:!0}]]):R("",!0),x(o(r,{rounded:"",icon:"",to:e.addNewLink,disabled:e.createAllowed===!1},{default:d(()=>[o(s,{name:"add"})]),_:1},8,["to","disabled"]),[[T,e.createAllowed?e.t("create_item"):e.t("not_allowed"),void 0,{bottom:!0}]])]),navigation:d(()=>[o(g,{"current-role":e.role},null,8,["current-role"])]),sidebar:d(()=>[o(A,{icon:"info_outline",title:e.t("information"),close:""},{default:d(()=>[x(S("div",JT,null,512),[[N,e.t("page_help_users_collection")]])]),_:1},8,["title"]),o(F,{modelValue:e.layout,"onUpdate:modelValue":t[9]||(t[9]=M=>e.layout=M)},{default:d(()=>[(p(),C(Ue(`layout-options-${e.layout}`),He(Xe(L)),null,16))]),_:2},1032,["modelValue"]),(p(),C(Ue(`layout-sidebar-${e.layout}`),He(Xe(L)),null,16)),o(P,{collection:"directus_users",filter:e.mergeFilters(e.filter,e.roleFilter),search:e.search},null,8,["filter","search"])]),default:d(()=>[e.canInviteUsers?(p(),C($,{key:0,modelValue:e.userInviteModalActive,"onUpdate:modelValue":[t[7]||(t[7]=M=>e.userInviteModalActive=M),e.refresh]},null,8,["modelValue","onUpdate:modelValue"])):R("",!0),(p(),C(Ue(`layout-${e.layout}`),dt({class:"layout"},L),{"no-results":d(()=>[!e.filter&&!e.search?(p(),C(h,{key:0,title:e.t("user_count",0),icon:"people_alt",center:""},Ze({default:d(()=>[D(b(e.t("no_users_copy"))+" ",1)]),_:2},[e.canInviteUsers?{name:"append",fn:d(()=>[o(r,{to:e.role?{path:`/users/roles/${e.role}/+`}:{path:"/users/+"}},{default:d(()=>[D(b(e.t("create_user")),1)]),_:1},8,["to"])])}:void 0]),1032,["title"])):(p(),C(h,{key:1,title:e.t("no_results"),icon:"search",center:""},{append:d(()=>[o(r,{onClick:e.clearFilters},{default:d(()=>[D(b(e.t("clear_filters")),1)]),_:1},8,["onClick"])]),default:d(()=>[D(b(e.t("no_results_copy"))+" ",1)]),_:1},8,["title"]))]),"no-items":d(()=>[o(h,{title:e.t("user_count",0),icon:"people_alt",center:""},Ze({default:d(()=>[D(b(e.t("no_users_copy"))+" ",1)]),_:2},[e.canInviteUsers?{name:"append",fn:d(()=>[o(r,{to:e.role?{path:`/users/roles/${e.role}/+`}:{path:"/users/+"}},{default:d(()=>[D(b(e.t("create_user")),1)]),_:1},8,["to"])])}:void 0]),1032,["title"])]),_:2},1040)),o(k,{active:e.batchEditActive,"onUpdate:active":t[8]||(t[8]=M=>e.batchEditActive=M),"primary-keys":e.selection,collection:"directus_users",onRefresh:e.refresh},null,8,["active","primary-keys","onRefresh"])]),_:2},[e.breadcrumb?{name:"headline",fn:d(()=>[o(a,{items:e.breadcrumb},null,8,["items"])])}:void 0]),1032,["title"])]),_:1},8,["selection","layout-options","layout-query","filter","filter-user","filter-system","search","reset-preset"])}var hs=q(GT,[["render",QT],["__scopeId","data-v-3ecd516f"]]);const XT={alias:"input",bigInteger:"input",binary:"input",boolean:"boolean",date:"datetime",dateTime:"datetime",decimal:"input",float:"input",integer:"input",json:"input-code",string:"input",text:"input-multiline",time:"datetime",timestamp:"datetime",uuid:"input",unknown:"input",csv:"tags",hash:"input-hash",geometry:"map","geometry.Point":"map","geometry.LineString":"map","geometry.Polygon":"map","geometry.MultiPoint":"map","geometry.MultiLineString":"map","geometry.MultiPolygon":"map"};function bs(e){return XT[e]||"input"}function $s(e){return{formFields:V(()=>{let n=U.exports.clone(e.value);return n=n.map((l,i)=>{var a;if(!l.meta)return l;let u=Dt(l.meta.interface);return u===void 0&&(l.meta.interface=bs(l.type),u=Dt(l.meta.interface)),(u==null?void 0:u.hideLabel)===!0&&(l.hideLabel=!0),(u==null?void 0:u.hideLoader)===!0&&(l.hideLoader=!0),i!==0&&l.meta.width==="half"&&((a=n[i-1].meta)==null?void 0:a.width)==="half"&&(l.meta.width="half-right"),l}),n=n.filter(l=>{var u;return(((u=l.field)==null?void 0:u.startsWith("$"))||!1)===!1}),n=U.exports.orderBy(n,[l=>{var i;return!!((i=l.meta)==null?void 0:i.system)},"meta.sort","meta.id"],["desc","asc","asc"]),n=Vt(n),n})}}const ZT=z({props:{user:{type:Object,default:null},isNew:{type:Boolean,default:!1}},setup(e){const{t}=Y(),n=E("");return _e(e,async()=>{!e.user||(n.value=await Rt(new Date(e.user.last_access),String(t("date-fns_date_short"))))},{immediate:!0}),{t,lastAccessDate:n}}}),YT={key:0},xT={key:0},e6={key:1},t6={key:2},n6={key:3},l6={key:4},o6={key:5},a6={class:"page-description"};function i6(e,t,n,l,i,u){const a=c("router-link"),s=c("v-divider"),r=c("sidebar-detail"),m=Se("md");return p(),C(r,{icon:"info_outline",title:e.t("information"),close:""},{default:d(()=>[e.isNew===!1&&e.user?(p(),I("dl",YT,[e.user.id?(p(),I("div",xT,[S("dt",null,b(e.t("key")),1),S("dd",null,b(e.user.id),1)])):R("",!0),e.user.last_page?(p(),I("div",e6,[S("dt",null,b(e.t("last_page")),1),S("dd",null,[o(a,{to:e.user.last_page},{default:d(()=>[D(b(e.user.last_page),1)]),_:1},8,["to"])])])):R("",!0),e.user.last_access?(p(),I("div",t6,[S("dt",null,b(e.t("last_access")),1),S("dd",null,b(e.lastAccessDate),1)])):R("",!0),e.user.created_on?(p(),I("div",n6,[S("dt",null,b(e.t("created_on")),1),S("dd",null,b(e.user.created_on),1)])):R("",!0),e.user.created_by?(p(),I("div",l6,[S("dt",null,b(e.t("created_by")),1),S("dd",null,b(e.user.created_by),1)])):R("",!0),e.user.modified_on?(p(),I("div",o6,[S("dt",null,b(e.t("modified_on")),1),S("dd",null,b(e.user.modified_on),1)])):R("",!0)])):R("",!0),o(s),x(S("div",a6,null,512),[[m,e.t("page_help_users_item")]])]),_:1},8,["title"])}var s6=q(ZT,[["render",i6],["__scopeId","data-v-8ba7c4c4"]]);const r6=z({name:"UsersItem",components:{UsersNavigation:gs,RevisionsDrawerDetail:zn,SaveOptions:$l,CommentsSidebarDetail:ro,UserInfoSidebarDetail:s6},props:{primaryKey:{type:String,required:!0},role:{type:String,default:null}},setup(e){const{t,locale:n}=Y(),l=Ye(),i=E(),u=Pe(),a=Ke(),s=Je(),{primaryKey:r}=Re(e),{breadcrumb:m}=me(),{info:f}=at("directus_users"),v=E(null),{isNew:_,edits:y,item:g,saving:$,loading:h,save:k,remove:A,deleting:F,saveAsCopy:P,isBatch:O,archive:T,archiving:N,isArchived:L,validationErrors:M}=Cn(E("directus_users"),r);e.role&&(y.value=pe({role:e.role},y.value));const B=V(()=>Object.keys(y.value).length>0);en(B);const K=E(!1),W=E(!1),le=V(()=>{if(h.value===!0)return t("loading");if(_.value===!1&&g.value){const we=g.value;return ht(we)}return t("adding_user")}),{loading:G,avatarSrc:Q,roleName:fe}=Te(),ue=E(!1),ne=E(null),ee=we=>{if(B.value)return ue.value=!0,ne.value=we.fullPath,!1};Lt(ee),Pt(ee);const{deleteAllowed:de,archiveAllowed:ce,saveAllowed:H,updateAllowed:Z,revisionsAllowed:X,fields:te}=Kn(E("directus_users"),g,_),ve=["id","external_id","last_page","created_on","created_by","modified_by","modified_on","last_access"],J=V(()=>te.value.filter(we=>(!_.value&&["provider","external_identifier"].includes(we.field)&&(we.meta.readonly=!0),!ve.includes(we.field)))),{formFields:oe}=$s(J),ae=V(()=>ce.value===!1?t("not_allowed"):L.value===!0?t("unarchive"):t("archive"));return nt("meta+s",$e,i),nt("meta+shift+s",ke,i),{t,router:l,title:le,item:g,loading:h,isNew:_,breadcrumb:m,edits:y,hasEdits:B,saving:$,saveAndQuit:ge,deleteAndQuit:De,confirmDelete:K,deleting:F,saveAndStay:$e,saveAndAddNew:ke,saveAsCopyAndNavigate:Ae,discardAndStay:Be,isBatch:O,revisionsDrawerDetail:v,previewLoading:G,avatarSrc:Q,roleName:fe,confirmLeave:ue,leaveTo:ne,discardAndLeave:Oe,formFields:oe,deleteAllowed:de,saveAllowed:H,archiveAllowed:ce,isArchived:L,updateAllowed:Z,toggleArchive:xe,confirmArchive:W,collectionInfo:f,archiving:N,archiveTooltip:ae,form:i,userName:ht,revisionsAllowed:X,validationErrors:M,revert:Ie};function me(){return{breadcrumb:V(()=>[{name:t("user_directory"),to:"/users"}])}}async function ge(){try{const we=await k();await Ne(we),await lt(),l.push("/users")}catch{}}async function $e(){var we,be;try{const je=await k();if(await Ne(je),(be=(we=v.value)==null?void 0:we.refresh)==null||be.call(we),e.primaryKey==="+"){const et=je.id;l.replace(`/users/${et}`)}}catch{}}async function ke(){try{const we=await k();await Ne(we),await lt(),l.push("/users/+")}catch{}}async function Ae(){try{const we=await P();we&&l.push(`/users/${we}`)}catch{}}async function De(){try{await A(),l.replace("/users")}catch{}}async function Ne(we){var je;if(s.currentUser.id!==((je=g.value)==null?void 0:je.id))return;const be=we==null?void 0:we.language;be&&be!==n.value&&(await ka(be),await u.hydrate(),await a.hydrate())}async function lt(){var we;s.currentUser.id===((we=g.value)==null?void 0:we.id)&&await s.hydrate()}function Te(){const we=E(!1),be=E(null),je=E(null);return _e(()=>e.primaryKey,et,{immediate:!0}),{loading:we,avatarSrc:be,roleName:je};async function et(){var tt,ot,pt;if(e.primaryKey!=="+"){we.value=!0;try{const mt=await re.get(`/users/${e.primaryKey}`,{params:{fields:["role.name","avatar.id"]}});be.value=((tt=mt.data.data.avatar)==null?void 0:tt.id)?st(Qe()+`assets/${mt.data.data.avatar.id}?key=system-medium-cover`):null,je.value=(pt=(ot=mt.data.data)==null?void 0:ot.role)==null?void 0:pt.name}catch(mt){Ce(mt)}finally{we.value=!1}}}}function Oe(){!ne.value||(y.value={},ue.value=!1,l.push(ne.value))}function Be(){y.value={},ue.value=!1}async function xe(){await T(),L.value===!0?l.push("/users"):W.value=!1}function Ie(we){y.value=pe(pe({},y.value),we)}}}),d6={class:"user-item"},u6={key:0,class:"user-box"},c6={class:"avatar"},p6=["src","alt"],m6={class:"user-box-content"},f6={class:"name type-label"},v6={key:0,class:"title"},_6={key:0,class:"email"},y6={key:1,class:"location"};function g6(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-button"),r=c("v-breadcrumb"),m=c("v-card-title"),f=c("v-card-actions"),v=c("v-card"),_=c("v-dialog"),y=c("save-options"),g=c("users-navigation"),$=c("v-skeleton-loader"),h=c("v-chip"),k=c("v-form"),A=c("v-card-text"),F=c("user-info-sidebar-detail"),P=c("revisions-drawer-detail"),O=c("comments-sidebar-detail"),T=c("private-view"),N=Se("tooltip");return p(),C(T,{title:e.title},{"title-outer:prepend":d(()=>[o(s,{class:"header-icon",rounded:"",icon:"",secondary:"",exact:"",onClick:t[0]||(t[0]=L=>e.router.back())},{default:d(()=>[o(a,{name:"arrow_back"})]),_:1})]),headline:d(()=>[o(r,{items:e.breadcrumb},null,8,["items"])]),actions:d(()=>[o(_,{modelValue:e.confirmDelete,"onUpdate:modelValue":t[2]||(t[2]=L=>e.confirmDelete=L),disabled:e.deleteAllowed===!1,onEsc:t[3]||(t[3]=L=>e.confirmDelete=!1)},{activator:d(({on:L})=>[x(o(s,{rounded:"",icon:"",class:"action-delete",disabled:e.item===null||e.deleteAllowed!==!0,onClick:L},{default:d(()=>[o(a,{name:"delete",outline:""})]),_:2},1032,["disabled","onClick"]),[[N,e.deleteAllowed?e.t("delete_label"):e.t("not_allowed"),void 0,{bottom:!0}]])]),default:d(()=>[o(v,null,{default:d(()=>[o(m,null,{default:d(()=>[D(b(e.t("delete_are_you_sure")),1)]),_:1}),o(f,null,{default:d(()=>[o(s,{secondary:"",onClick:t[1]||(t[1]=L=>e.confirmDelete=!1)},{default:d(()=>[D(b(e.t("cancel")),1)]),_:1}),o(s,{kind:"danger",loading:e.deleting,onClick:e.deleteAndQuit},{default:d(()=>[D(b(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue","disabled"]),e.collectionInfo.meta&&e.collectionInfo.meta.archive_field&&!e.isNew?(p(),C(_,{key:0,modelValue:e.confirmArchive,"onUpdate:modelValue":t[5]||(t[5]=L=>e.confirmArchive=L),disabled:e.archiveAllowed===!1,onEsc:t[6]||(t[6]=L=>e.confirmArchive=!1)},{activator:d(({on:L})=>[e.collectionInfo.meta&&e.collectionInfo.meta.singleton===!1?x((p(),C(s,{key:0,rounded:"",icon:"",class:"action-archive",disabled:e.item===null||e.archiveAllowed!==!0,onClick:L},{default:d(()=>[o(a,{name:e.isArchived?"unarchive":"archive",outline:""},null,8,["name"])]),_:2},1032,["disabled","onClick"])),[[N,e.archiveTooltip,void 0,{bottom:!0}]]):R("",!0)]),default:d(()=>[o(v,null,{default:d(()=>[o(m,null,{default:d(()=>[D(b(e.isArchived?e.t("unarchive_confirm"):e.t("archive_confirm")),1)]),_:1}),o(f,null,{default:d(()=>[o(s,{secondary:"",onClick:t[4]||(t[4]=L=>e.confirmArchive=!1)},{default:d(()=>[D(b(e.t("cancel")),1)]),_:1}),o(s,{kind:"warning",loading:e.archiving,onClick:e.toggleArchive},{default:d(()=>[D(b(e.isArchived?e.t("unarchive"):e.t("archive")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue","disabled"])):R("",!0),x(o(s,{rounded:"",icon:"",loading:e.saving,disabled:e.hasEdits===!1||e.saveAllowed===!1,onClick:e.saveAndQuit},{"append-outer":d(()=>[e.hasEdits===!0?(p(),C(y,{key:0,onSaveAndStay:e.saveAndStay,onSaveAndAddNew:e.saveAndAddNew,onSaveAsCopy:e.saveAsCopyAndNavigate,onDiscardAndStay:e.discardAndStay},null,8,["onSaveAndStay","onSaveAndAddNew","onSaveAsCopy","onDiscardAndStay"])):R("",!0)]),default:d(()=>[o(a,{name:"check"})]),_:1},8,["loading","disabled","onClick"]),[[N,e.saveAllowed?e.t("save"):e.t("not_allowed"),void 0,{bottom:!0}]])]),navigation:d(()=>[o(g,{"current-role":e.item&&e.item.role||e.role},null,8,["current-role"])]),sidebar:d(()=>[o(F,{"is-new":e.isNew,user:e.item},null,8,["is-new","user"]),e.isBatch===!1&&e.isNew===!1&&e.revisionsAllowed?(p(),C(P,{key:0,ref:"revisionsDrawerDetail",collection:"directus_users","primary-key":e.primaryKey,onRevert:e.revert},null,8,["primary-key","onRevert"])):R("",!0),e.isBatch===!1&&e.isNew===!1?(p(),C(O,{key:1,collection:"directus_users","primary-key":e.primaryKey},null,8,["primary-key"])):R("",!0)]),default:d(()=>[S("div",d6,[e.isNew===!1?(p(),I("div",u6,[S("div",c6,[e.loading||e.previewLoading?(p(),C($,{key:0})):e.avatarSrc?(p(),I("img",{key:1,src:e.avatarSrc,alt:e.t("avatar")},null,8,p6)):(p(),C(a,{key:2,name:"account_circle",outline:"","x-large":""}))]),S("div",m6,[e.loading?(p(),I(ie,{key:0},[o($,{type:"text"}),o($,{type:"text"}),o($,{type:"text"})],64)):e.isNew===!1&&e.item?(p(),I(ie,{key:1},[S("div",f6,[D(b(e.userName(e.item))+" ",1),e.item.title?(p(),I("span",v6,", "+b(e.item.title),1)):R("",!0)]),e.item.email?(p(),I("div",_6,[o(a,{name:"alternate_email",small:"",outline:""}),D(" "+b(e.item.email),1)])):R("",!0),e.item.location?(p(),I("div",y6,[o(a,{name:"place",small:"",outline:""}),D(" "+b(e.item.location),1)])):R("",!0),e.roleName?(p(),C(h,{key:2,class:se(e.item.status),small:""},{default:d(()=>[D(b(e.roleName),1)]),_:1},8,["class"])):R("",!0)],64)):R("",!0)])])):R("",!0),o(k,{ref:"form",modelValue:e.edits,"onUpdate:modelValue":t[7]||(t[7]=L=>e.edits=L),disabled:e.isNew?!1:e.updateAllowed===!1,fields:e.formFields,loading:e.loading,"initial-values":e.item,"batch-mode":e.isBatch,"primary-key":e.primaryKey,"validation-errors":e.validationErrors},null,8,["modelValue","disabled","fields","loading","initial-values","batch-mode","primary-key","validation-errors"])]),o(_,{modelValue:e.confirmLeave,"onUpdate:modelValue":t[9]||(t[9]=L=>e.confirmLeave=L),onEsc:t[10]||(t[10]=L=>e.confirmLeave=!1)},{default:d(()=>[o(v,null,{default:d(()=>[o(m,null,{default:d(()=>[D(b(e.t("unsaved_changes")),1)]),_:1}),o(A,null,{default:d(()=>[D(b(e.t("unsaved_changes_copy")),1)]),_:1}),o(f,null,{default:d(()=>[o(s,{secondary:"",onClick:e.discardAndLeave},{default:d(()=>[D(b(e.t("discard_changes")),1)]),_:1},8,["onClick"]),o(s,{onClick:t[8]||(t[8]=L=>e.confirmLeave=!1)},{default:d(()=>[D(b(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["title"])}var ws=q(r6,[["render",g6],["__scopeId","data-v-6d98ab59"]]),h6=dn({id:"users",name:"$t:user_directory",icon:"people_alt",routes:[{name:"users-collection",path:"",component:hs},{name:"users-item",path:":primaryKey",component:ws,props:!0},{path:"roles",redirect:"/users"},{name:"roles-collection",path:"roles/:role",component:hs,props:!0},{name:"roles-item-add",path:"roles/:role/+",component:ws,props:e=>({primaryKey:"+",role:e.params.role})}],preRegisterCheck(e,t){return e.role.admin_access?!0:!!t.find(i=>i.collection==="directus_users"&&i.action==="read")}}),b6=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:h6});const{modulesRaw:Po}=Ql();let ks=[];async function $6(){const t=Object.values({"./activity/index.ts":yw,"./content/index.ts":R8,"./docs/index.ts":oS,"./files/index.ts":RC,"./insights/index.ts":LF,"./settings/index.ts":KT,"./users/index.ts":b6}).map(n=>n.default);try{const n=await j(()=>import(`${Qe()}extensions/modules/index.js`),[]);t.push(...n.default)}catch(n){console.warn("Couldn't load custom modules"),console.warn(n)}ks=t}async function w6(){const e=Je(),t=Tt(),n=[];for(const l of ks)!e.currentUser||(l.preRegisterCheck?await l.preRegisterCheck(e.currentUser,t.permissions)&&n.push(l):n.push(l));for(const l of n)Mt.addRoute({name:l.id,path:`/${l.id}`,component:pn,children:l.routes});Po.value=n}function k6(){for(const e of Po.value)Mt.removeRoute(e.id);Po.value=[]}function En(e){const t=Il();return t.settings?t.settings[e]:null}function S6(){const e=Je();return e.currentUser?e.currentUser.theme==="auto"?window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e.currentUser.theme:"light"}const Ss={name:"OpenStreetMap",type:"raster",url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",tileSize:256},C6={version:8,glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"};function el(){return En("mapbox_key")?[A6(),Ss,...En("basemaps")||[]]:[Ss,...En("basemaps")||[]]}function Oo(e){if(F6(e.url),e.type=="style")return e.url;{const t=pe({},C6),n={type:"raster"};return e.type=="raster"&&(n.tiles=V6(e.url),n.tileSize=e.tileSize||512),e.type=="tile"&&(n.url=e.url),t.layers=[{id:e.name,source:e.name,type:"raster"}],t.sources={[e.name]:n},t}}function V6(e){const t=[];let n=/\{([a-z])-([a-z])\}/.exec(e);if(n){const l=n[1].charCodeAt(0),i=n[2].charCodeAt(0);let u;for(u=l;u<=i;++u)t.push(e.replace(n[0],String.fromCharCode(u)));return t}if(n=/\{(\d+)-(\d+)\}/.exec(e),n){const l=parseInt(n[2],10);for(let i=parseInt(n[1],10);i<=l;i++)t.push(e.replace(n[0],i.toString()));return t}if(n=/\{(([a-z0-9]+)(,([a-z0-9]+))+)\}/.exec(e),n){const l=n[1].split(",");for(const i of l)t.push(e.replace(n[0],i));return t}return t.push(e),t}function F6(e){e=e.replace(/^mapbox:\//,"https://api.mapbox.com/styles/v1");try{const t=new URL(e);if(t.host=="api.mapbox.com"){const n=t.searchParams.get("access_token");n&&(Bl.accessToken=n)}}catch{return}}function A6(){const e={name:"Mapbox",type:"style",url:"mapbox://styles/directus/cktaiz31c509n18nrxj63zdy6"};return S6()==="dark"&&(e.url="mapbox://styles/directus/cktaixyhk2joh17lrb5i8zs22"),e}function Cs(e=[Ke,Pe,Je,ll,On,Il,Ln,Bo,ut,Tt,Pn,nl]){return e.map(t=>t())}async function Lo(e=Cs()){var i,u,a;const t=kt(),n=Je(),l=Tt();if(!t.hydrated&&!t.hydrating){t.hydrating=!0;try{if(await n.hydrate(),(i=n.currentUser)==null?void 0:i.role){await l.hydrate();const s=["userStore","permissionsStore"];await Promise.all(e.filter(({$id:r})=>!s.includes(r)).map(r=>{var m;return(m=r.hydrate)==null?void 0:m.call(r)})),await w6(),await ka((a=(u=n.currentUser)==null?void 0:u.language)!=null?a:"en-US")}t.basemap=el()[0].name}catch(s){t.error=s}finally{t.hydrating=!1}t.hydrated=!0}}async function I6(e=Cs()){var n;const t=kt();if(t.hydrated!==!1){for(const l of e)await((n=l.dehydrate)==null?void 0:n.call(l));k6(),t.hydrated=!1}}const Vs=["pointermove","pointerdown","keydown"],E6=5*60*1e3;let jo,Al=!0,Ro=!1;const nn=ia();function D6(){document.addEventListener("visibilitychange",As);for(const e of Vs)document.addEventListener(e,Fs);Is()}function T6(){document.removeEventListener("visibilitychange",As);for(const e of Vs)document.removeEventListener(e,Fs)}function Fs(){Ro===!0&&(Ro=!1,nn.emit("active")),Is()}function As(){document.visibilityState==="hidden"&&Al===!0&&(Al=!1,nn.emit("hide")),document.visibilityState==="visible"&&Al===!1&&(Al=!0,nn.emit("show"))}function Is(){jo&&clearTimeout(jo),jo=setTimeout(()=>{Ro=!0,nn.emit("idle")},E6)}async function Es(e,t){const n=kt(),l=await re.post(t!==oo?`/auth/login/${t}`:"/auth/login",Ve(pe({},e),{mode:"cookie"})),i=l.data.data.access_token;re.defaults.headers.common.Authorization=`Bearer ${i}`,l.data.data.expires<=21e8&&(ln=setTimeout(()=>_n(),l.data.data.expires-1e4)),n.accessTokenExpiry=Date.now()+l.data.data.expires,n.authenticated=!0,await Lo()}let ln,Dn=!1,Mo=!1,Ds=!0;nn.on("idle",()=>{clearTimeout(ln),Dn=!0});nn.on("hide",()=>{clearTimeout(ln),Dn=!0});nn.on("active",()=>{Dn===!0&&(_n(),Dn=!1)});nn.on("show",()=>{Dn===!0&&(_n(),Dn=!1)});async function _n({navigate:e}={navigate:!0}){if(Ds)Ds=!1;else if(!re.defaults.headers.common.Authorization)return;if(Mo)return;const t=kt();if(t.accessTokenExpiry&&Date.now()<t.accessTokenExpiry-1e4){clearTimeout(ln),ln=setTimeout(()=>_n(),t.accessTokenExpiry-1e4-Date.now());return}Mo=!0;try{const n=await re.post("/auth/refresh",void 0,{transformRequest(i,u){var a;return(a=u==null?void 0:u.common)==null||delete a.Authorization,i}}),l=n.data.data.access_token;return re.defaults.headers.common.Authorization=`Bearer ${l}`,clearTimeout(ln),n.data.data.expires<=21e8&&(ln=setTimeout(()=>_n(),n.data.data.expires-1e4)),t.accessTokenExpiry=Date.now()+n.data.data.expires,t.authenticated=!0,l}catch{await Uo({navigate:e,reason:Tn.SESSION_EXPIRED})}finally{Mo=!1}}var Tn;(function(e){e.SIGN_OUT="SIGN_OUT",e.SESSION_EXPIRED="SESSION_EXPIRED"})(Tn||(Tn={}));async function Uo(e={}){const t=kt(),n={navigate:!0,reason:Tn.SIGN_OUT};delete re.defaults.headers.common.Authorization,clearTimeout(ln);const l=pe(pe({},n),e);if(l.reason===Tn.SIGN_OUT&&await re.post("/auth/logout"),t.authenticated=!1,await I6(),l.navigate===!0){const i={path:"/login",query:{reason:l.reason}};Mt.push(i)}}const tl=Ml.create({baseURL:Qe(),withCredentials:!0,headers:{"Cache-Control":"no-store"}}),No=new ed({concurrency:5,intervalCap:5,interval:500,carryoverConcurrencyCount:!0}),P6=e=>{const n=ll().startRequest(),l=pe({id:n},e);return new Promise(i=>{e.url&&e.url==="/auth/refresh"?(No.pause(),i(l),No.start()):No.add(()=>i(l))})},O6=e=>{var l;const t=ll(),n=(l=e.config)==null?void 0:l.id;return n&&t.endRequest(n),e},L6=async e=>{var u,a,s,r,m,f,v,_;const t=ll(),n=(a=(u=e.response)==null?void 0:u.config)==null?void 0:a.id;n&&t.endRequest(n);const l=(s=e.response)==null?void 0:s.status,i=(_=(v=(f=(m=(r=e.response)==null?void 0:r.data)==null?void 0:m.errors)==null?void 0:f[0])==null?void 0:v.extensions)==null?void 0:_.code;if(l===401&&i==="INVALID_CREDENTIALS"&&e.request.responseURL.includes("refresh")===!1&&e.request.responseURL.includes("login")===!1&&e.request.responseURL.includes("tfa")===!1){let y;try{y=await _n()}catch{return Uo({reason:Tn.SESSION_EXPIRED}),Promise.reject()}if(y)return tl.request(Ve(pe({},e.config),{headers:{Authorization:`Bearer ${y}`}}))}return Promise.reject(e)};tl.interceptors.request.use(P6);tl.interceptors.response.use(O6,L6);var re=tl;function j6(){var e;return((e=tl.defaults.headers.common.Authorization)==null?void 0:e.split(" ")[1])||null}function st(e,t){const n=t||j6();return n?eo(e,{access_token:n}):e}const ut=At({id:"relationsStore",state:()=>({relations:[]}),actions:{async hydrate(){const e=await re.get("/relations",{params:{limit:-1}});this.relations=e.data.data},async dehydrate(){this.$reset()},getRelationsForCollection(e){return this.relations.filter(t=>t.collection===e||t.related_collection===e)},async upsertRelation(e,t,n){const l=this.getRelationForField(e,t);try{if(l){if(U.exports.isEqual(l,n))return;const i=await re.patch(`/relations/${e}/${t}`,n);this.relations=this.relations.map(u=>u.collection===e&&u.field===t?i.data.data:u)}else{const i=await re.post("/relations",n);this.relations=[...this.relations,i.data.data]}}catch(i){Ce(i)}},getRelationsForField(e,t){var u;if(!Pe().getField(e,t))return[];const i=this.getRelationsForCollection(e).filter(a=>{var s;return a.collection===e&&a.field===t||a.related_collection===e&&((s=a.meta)==null?void 0:s.one_field)===t});if(i.length>0&&((u=i[0].meta)==null?void 0:u.junction_field)!==null){const s=this.relations.find(r=>{var m;return r.collection===i[0].collection&&r.field===((m=i[0].meta)==null?void 0:m.junction_field)});s&&i.push(s)}return i},getRelationForField(e,t){return Pe().getField(e,t)&&this.getRelationsForCollection(e).filter(u=>{var a;return u.collection===e&&u.field===t||u.related_collection===e&&((a=u.meta)==null?void 0:a.one_field)===t}).find(u=>u.collection===e&&u.field===t)||null}}}),Ke=At({id:"collectionsStore",state:()=>({collections:[]}),getters:{visibleCollections(){return this.collections.filter(({collection:e})=>e.startsWith("directus_")===!1).filter(e=>{var t;return((t=e.meta)==null?void 0:t.hidden)!==!0})},allCollections(){return this.collections.filter(({collection:e})=>e.startsWith("directus_")===!1)},crudSafeSystemCollections(){return U.exports.orderBy(this.collections.filter(e=>e.collection.startsWith("directus_")===!0),["collection"],["asc"]).filter(e=>Gw.includes(e.collection)===!1)}},actions:{async hydrate(){const t=(await re.get("/collections",{params:{limit:-1}})).data.data;this.collections=t.map(this.prepareCollectionForApp)},prepareCollectionForApp(e){var u,a;const t=((u=e.meta)==null?void 0:u.icon)||"label",n=(a=e.meta)==null?void 0:a.color;let l=Ft(e.collection);const i=D$(e);if(e.meta&&Nt(e.meta.translations))for(let s=0;s<e.meta.translations.length;s++){const{language:r,translation:m,singular:f,plural:v}=e.meta.translations[s];qe.global.mergeLocaleMessage(r,{collection_names:{[e.collection]:m},collection_names_singular:{[e.collection]:f},collection_names_plural:{[e.collection]:v}})}return qe.global.te(`collection_names.${e.collection}`)&&(l=qe.global.t(`collection_names.${e.collection}`)),Ve(pe({},e),{name:l,type:i,icon:t,color:n})},async dehydrate(){this.$reset()},translateCollections(){this.collections=this.collections.map(e=>(qe.global.te(`collection_names.${e.collection}`)&&(e.name=qe.global.t(`collection_names.${e.collection}`)),e))},async upsertCollection(e,t){const n=this.getCollection(e),l=U.exports.omit(t,["name","type","icon","color"]);try{if(n){if(U.exports.isEqual(n,t))return;const i=await re.patch(`/collections/${e}`,l);this.collections=this.collections.map(u=>u.collection===e?this.prepareCollectionForApp(i.data.data):u)}else{const i=await re.post("/collections",l);this.collections=[...this.collections,this.prepareCollectionForApp(i.data.data)]}}catch(i){Ce(i)}},async updateCollection(e,t){try{await re.patch(`/collections/${e}`,t),await this.hydrate(),It({type:"success",title:qe.global.t("update_collection_success")})}catch(n){Ce(n)}},async deleteCollection(e){const t=ut();try{await re.delete(`/collections/${e}`),await this.hydrate(),await t.hydrate(),It({type:"success",title:qe.global.t("delete_collection_success")})}catch(n){Ce(n)}},getCollection(e){return this.collections.find(t=>t.collection===e)||null}}}),R6={collection:"directus_files",field:"$thumbnail",schema:null,name:"$thumbnail",type:"integer",meta:{id:-1,collection:"directus_files",field:"$thumbnail",sort:null,special:null,interface:null,options:null,display:"file",display_options:null,hidden:!1,translations:null,readonly:!0,width:"full",group:null,note:null,required:!1,conditions:null}};let Ts;const Pe=At({id:"fieldsStore",state:()=>({fields:[]}),actions:{async hydrate(){const t=(await re.get("/fields",{params:{limit:-1}})).data.data;this.fields=[...t.map(this.parseField),R6],this.translateFields()},async dehydrate(){this.$reset()},parseField(e){let t=Ft(e.field);if(e.meta&&Nt(e.meta.translations)&&e.meta.translations.length>0)for(let n=0;n<e.meta.translations.length;n++){const{language:l,translation:i}=e.meta.translations[n];qe.global.mergeLocaleMessage(l,{fields:{[e.collection]:{[e.field]:i}}})}return qe.global.te(`fields.${e.collection}.${e.field}`)&&(t=qe.global.t(`fields.${e.collection}.${e.field}`)),Ve(pe({},e),{name:t})},translateFields(){this.fields=this.fields.map(e=>(qe.global.te(`fields.${e.collection}.${e.field}`)&&(e.name=qe.global.t(`fields.${e.collection}.${e.field}`)),e))},async upsertField(e,t,n){const l=this.getField(e,t),i=U.exports.omit(n,["name"]);return l?U.exports.isEqual(n,l)?void 0:await this.updateField(e,t,i):await this.createField(e,i)},async createField(e,t){const n=[...this.fields];try{const l=await re.post(`/fields/${e}`,t),i=this.parseField(l.data.data);return this.fields=[...this.fields,i],i}catch(l){this.fields=n,Ce(l)}},async updateField(e,t,n){const l=[...this.fields];this.fields=this.fields.map(i=>i.collection===e&&i.field===t?U.exports.merge({},i,n):i);try{const i=await re.patch(`/fields/${e}/${t}`,n);this.fields=this.fields.map(u=>u.collection===e&&u.field===t?this.parseField(i.data.data):u)}catch(i){this.fields=l,Ce(i)}},async updateFields(e,t){const n=_t(),l=[...this.fields];Ts=n,this.fields=this.fields.map(i=>{if(i.collection===e){const u=t.find(a=>a.field===i.field);if(u)return U.exports.merge({},i,u)}return i});try{const i=await re.patch(`/fields/${e}`,t);Ts===n&&(this.fields=this.fields.map(u=>{if(u.collection===e){const a=i.data.data.find(s=>s.field===u.field);if(a)return this.parseField(a)}return u}),this.translateFields())}catch(i){this.fields=l,Ce(i)}},async deleteField(e,t){const n=ut(),l=[...this.fields],i=[...n.relations];this.fields=this.fields.filter(u=>!(u.field===t&&u.collection===e)),n.relations=n.relations.filter(u=>!(u.collection===e&&u.field===t));try{await re.delete(`/fields/${e}/${t}`)}catch(u){this.fields=l,n.relations=i,Ce(u)}},getPrimaryKeyFieldForCollection(e){const t=this.fields.find(n=>{var l;return n.collection===e&&((l=n.schema)==null?void 0:l.is_primary_key)===!0});return t!=null?t:null},getFieldsForCollection(e){return U.exports.orderBy(this.fields.filter(t=>t.collection===e),[t=>{var n;return((n=t.meta)==null?void 0:n.system)===!0},t=>{var n,l;return((n=t.meta)==null?void 0:n.sort)?Number((l=t.meta)==null?void 0:l.sort):null}],["desc","asc"])},getFieldsForCollectionAlphabetical(e){return this.getFieldsForCollection(e).sort((t,n)=>t.field<n.field?-1:(t.field>n.field,1))},getField(e,t){return t.includes(".")?this.getRelationalField(e,t)||null:this.fields.find(n=>n.collection===e&&n.field===t)||null},getRelationalField(e,t){const n=ut(),[l,...i]=t.split(".");if(l.includes(":")){const[m,f]=l.split(":");return this.getField(f,i.join("."))}const u=n.getRelationsForField(e,l),a=u==null?void 0:u.find(m=>{var f;return m.field===l||((f=m.meta)==null?void 0:f.one_field)===l});if(a===void 0)return!1;const s=a.field===l?a.related_collection:a.collection;if(s===null)return!1;const r=i.join(".");return this.getField(s,r)}}}),Pn=At({id:"insightsStore",state:()=>({dashboards:[]}),actions:{async hydrate(){const e=Je(),t=Tt();if(e.isAdmin!==!0&&!t.hasPermission("directus_dashboards","read"))this.dashboards=[];else try{const n=await re.get("/dashboards",{params:{limit:-1,fields:["*","panels.*"],sort:["name"]}});this.dashboards=n.data.data}catch{this.dashboards=[]}},async dehydrate(){this.$reset()}}}),Bo=At({id:"latencyStore",state:()=>({latency:[]}),actions:{async dehydrate(){this.$reset()},save(e){this.latency.push(e),this.latency=this.latency.slice(-20)}}}),nl=At({id:"notificationsStore",state:()=>({dialogs:[],queue:[],previous:[],notifications:[],unread:0}),actions:{async hydrate(){await this.getUnreadCount()},async getUnreadCount(){const e=Je(),t=await re.get("/notifications",{params:{filter:{_and:[{recipient:{_eq:e.currentUser.id}},{status:{_eq:"inbox"}}]},aggregate:{count:"id"}}});this.unread=t.data.data[0].count.id},add(e){const t=_t(),n=Date.now();return e.dialog===!0?(e.persist=!0,this.dialogs=[...this.dialogs,Ve(pe({},e),{id:t,timestamp:n})]):this.queue=[...this.queue,Ve(pe({},e),{id:t,timestamp:n})],e.persist!==!0&&setTimeout(()=>{this.remove(t)},3e3),t},hide(e){const n=[...this.queue,...this.dialogs].find(l=>l.id===e);!n||(n.dialog===!0?this.dialogs=this.dialogs.filter(l=>l.id!==e):this.queue=this.queue.filter(l=>l.id!==e),this.previous=[...this.previous,n])},remove(e){const n=[...this.queue,...this.dialogs].find(l=>l.id===e);!n||(n.dialog===!0?this.dialogs=this.dialogs.filter(l=>l.id!==e):this.queue=this.queue.filter(l=>l.id!==e))},update(e,t){this.queue=this.queue.map(n),this.dialogs=this.dialogs.map(n),this.previous=this.queue.map(n);function n(l){return l.id===e?pe(pe({},l),t):l}}},getters:{lastFour(){const e=[...this.queue,...this.previous.filter(l=>l.dialog!==!0)],n=U.exports.reverse(U.exports.sortBy(e,["timestamp"])).slice(0,4);return U.exports.reverse(n)}}}),Tt=At({id:"permissionsStore",state:()=>({permissions:[]}),actions:{async hydrate(){const e=Je(),t=await re.get("/permissions",{params:{limit:-1,filter:{role:{_eq:e.currentUser.role.id}}}});this.permissions=t.data.data.map(n=>(n.permissions&&(n.permissions=bl(n.permissions)),n.validation&&(n.validation=bl(n.validation)),n.presets&&(n.presets=bl(n.presets)),n))},dehydrate(){this.$reset()},getPermissionsForUser(e,t){const n=Je();return this.permissions.find(l=>{var i,u;return l.action===t&&l.collection===e&&l.role===((u=(i=n.currentUser)==null?void 0:i.role)==null?void 0:u.id)})||null},hasPermission(e,t){var l,i;return((i=(l=Je().currentUser)==null?void 0:l.role)==null?void 0:i.admin_access)===!0?!0:!!this.getPermissionsForUser(e,t)}}}),Ps={bookmark:null,role:null,user:null,search:null,filter:null,layout:null,layout_query:null,layout_options:null,refresh_interval:null},Os={directus_files:{collection:"directus_files",layout:"cards",layout_query:{cards:{sort:["-uploaded_on"]}},layout_options:{cards:{icon:"insert_drive_file",title:"{{ title }}",subtitle:"{{ type }} \u2022\xA0{{ filesize }}",size:4,imageFit:"crop"}}},directus_users:{collection:"directus_users",layout:"cards",layout_query:{cards:{sort:["email"]}},layout_options:{cards:{icon:"account_circle",title:"{{ first_name }} {{ last_name }}",subtitle:"{{ email }}",size:4}}},directus_activity:{collection:"directus_activity",layout:"tabular",layout_query:{tabular:{sort:["-timestamp"],fields:["action","collection","timestamp","user"]}},layout_options:{tabular:{widths:{action:100,collection:210,timestamp:240,user:240}}}},directus_roles:{collection:"directus_roles",layout:"tabular",layout_query:{tabular:{fields:["icon","name","description"]}},layout_options:{tabular:{widths:{icon:36,name:248,description:500}}}},directus_webhooks:{collection:"directus_webhooks",layout:"tabular",layout_query:{tabular:{fields:["status","method","name","collections","actions"]}},layout_options:{tabular:{widths:{status:32,method:100,name:210,collections:240,actions:210}}}}},Ls={},On=At({id:"presetsStore",state:()=>({collectionPresets:[]}),getters:{bookmarks(){return this.collectionPresets.filter(e=>e.bookmark!==null)}},actions:{async hydrate(){const{id:e,role:t}=Je().currentUser,l=(await Promise.all([re.get("/presets",{params:{"filter[user][_eq]":e,limit:-1}}),re.get("/presets",{params:{"filter[role][_eq]":t.id,"filter[user][_null]":!0,limit:-1}}),re.get("/presets",{params:{"filter[role][_null]":!0,"filter[user][_null]":!0,limit:-1}})])).map(i=>i.data.data).flat();for(const i of Object.keys(Os))l.find(a=>a.collection===i&&!a.user&&!a.role&&!a.bookmark)||l.push(U.exports.merge({},Ps,Os[i]));this.collectionPresets=l},async dehydrate(){this.$reset()},async create(e){const t=await re.post("/presets",e);return this.collectionPresets.push(t.data.data),t.data.data},async update(e,t){const n=_t();Ls[e]=n;const l=await re.patch(`/presets/${e}`,t);return Ls[e]===n&&(this.collectionPresets=this.collectionPresets.map(i=>{const u=l.data.data;return i.id===u.id?u:i})),l.data.data},async delete(e){await re.delete(`/presets/${e}`),this.collectionPresets=this.collectionPresets.filter(t=>t.id!==e)},getPresetForCollection(e){const t=Je();if(t.currentUser===null)return null;const{id:n,role:l}=t.currentUser,i=Ve(pe({},Ps),{collection:e,user:n}),u=this.collectionPresets.filter(m=>{const f=m.user===n||m.user===null,v=m.role===l.id||m.role===null,_=m.collection===e;return m.bookmark?!1:!!(f&&_||v&&_)});if(u.length===0)return i;if(u.length===1)return u[0];const a=u.find(m=>m.user===n);if(a)return a;const s=u.find(m=>m.role===l.id);return s||u[u.length-1]},getBookmark(e){return this.collectionPresets.find(t=>t.id===e)||null},async savePreset(e){const t=Je();if(t.currentUser===null)return null;const{id:n}=t.currentUser;if(e=U.exports.cloneDeep(e),e.id===void 0||e.id===null)return await this.create(Ve(pe({},e),{user:n}));if(e.user!==n)return"id"in e&&delete e.id,await this.create(Ve(pe({},e),{user:n}));{const l=e.id;return delete e.id,await this.update(l,e)}},saveLocal(e){this.collectionPresets=this.collectionPresets.map(t=>t.id===e.id?pe({},e):t)},async clearLocalSave(e){const t=await re.get(`/presets/${e.id}`);this.collectionPresets=this.collectionPresets.map(n=>n.id===t.data.data.id?t.data.data:n)}}}),ll=At({id:"requestsStore",state:()=>({queue:[]}),getters:{queueHasItems(){return this.queue.length>0}},actions:{startRequest(){const e=_t();return this.queue=[...this.queue,e],setTimeout(()=>this.endRequest(e),3500),e},endRequest(e){this.queue=this.queue.filter(t=>t!==e)}}}),Ln=At({id:"serverStore",state:()=>({info:null}),actions:{async hydrate(){const e=await re.get("/server/info",{params:{limit:-1}});this.info=e.data.data},dehydrate(){this.$reset()}}}),Il=At({id:"settingsStore",state:()=>({settings:null}),actions:{async hydrate(){const e=await re.get("/settings");this.settings=e.data.data},async dehydrate(){this.$reset()},async updateSettings(e){const t=pe({},this.settings),n=U.exports.merge({},this.settings,e);this.settings=n;try{const l=await re.patch("/settings",e);this.settings=l.data.data,It({title:qe.global.t("settings_update_success"),type:"success"})}catch(l){this.settings=t,Ce(l)}}}});var M6=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",useAppStore:kt,useCollectionsStore:Ke,useFieldsStore:Pe,useInsightsStore:Pn,useLatencyStore:Bo,useNotificationsStore:nl,usePermissionsStore:Tt,usePresetsStore:On,useRelationsStore:ut,useRequestsStore:ll,useServerStore:Ln,useSettingsStore:Il,useUserStore:Je});function U6(){Yt(Qd,M6),Yt(Xd,re)}const N6=(e,t)=>`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200">
	<style>
		circle {
			fill: ${e};
		}
	</style>

	<circle cx="100" cy="100" r="100"/>

	${t?"":'<path d="M143.122 109.533c-.663-.167-1.216-.334-1.715-.557a3.945 3.945 0 01-1.216-.836c.332-2.952 0-5.514.276-8.411 1.106-11.253 8.132-7.688 14.439-9.526 3.928-1.114 7.855-3.398 8.851-8.078-4.315-5.069-9.128-9.526-14.383-13.314-17.094-12.255-39.444-17.157-59.747-13.76a30.762 30.762 0 0013.428 12.535s-5.502 0-10.218-3.548c-1.383.558-4.15 1.654-5.478 2.322 10.788 10.417 27.66 11.587 39.776 2.228-.055.112-1.107 1.727-2.379 8.468-2.821 14.372-10.954 13.258-21.022 9.637-20.911-7.631-32.418-.557-42.873-15.04a9.73 9.73 0 00-4.924 8.467c0 3.621 1.992 6.685 4.868 8.356 1.57-2.098 2.275-2.695 5.014-2.695-4.239 2.42-4.737 4.533-6.563 10.382-2.213 7.075-1.272 14.317-11.617 16.211-5.477.279-5.366 4.011-7.358 9.582-2.489 7.242-5.808 10.139-12.281 16.99 2.655 3.231 5.421 3.621 8.243 2.451 5.808-2.45 10.29-10.027 14.494-14.929 4.702-5.46 15.988-3.12 24.507-8.467 5.864-3.622 8.74-8.524 4.868-16.824 2.49 2.785 3.983 6.295 4.204 10.027 9.848-1.28 23.014 10.807 35.019 12.813-1.217-1.56-2.213-3.231-2.932-4.958-1.383-3.342-1.826-6.406-1.55-9.08 1.107 6.629 7.746 15.152 18.423 15.932 2.71.223 5.697-.112 8.795-1.058 3.707-1.115 7.137-2.563 11.23-1.783 3.043.557 5.864 2.117 7.635 4.735 2.655 3.9 8.464 4.735 11.064-.056-5.864-15.43-22.018-16.433-28.878-18.216z" fill="#FFF"/>'}
</svg>`;function B6(e="#00C897",t=!1){const n=N6(e,t),l=document.createElement("div");if(l.innerHTML=n.trim(),l.firstChild){const i=new XMLSerializer().serializeToString(l.firstChild),u="data:image/svg+xml;base64,"+window.btoa(i),a=document.querySelector("link[rel*='icon']")||document.createElement("link");a.type="image/x-icon",a.rel="icon",a.href=u,document.getElementsByTagName("head")[0].appendChild(a)}}const q6=z({setup(){const{t:e}=Y(),t=kt(),n=Je(),l=Ln(),{hydrating:i}=Re(t),u=V(()=>{var r,m;return{"--brand":((m=(r=l.info)==null?void 0:r.project)==null?void 0:m.project_color)||"var(--primary)"}});it(()=>D6()),St(()=>T6()),_e([()=>{var r,m;return(m=(r=l.info)==null?void 0:r.project)==null?void 0:m.project_color},()=>{var r,m;return(m=(r=l.info)==null?void 0:r.project)==null?void 0:m.project_logo}],()=>{var m,f,v,_;const r=!!((f=(m=l.info)==null?void 0:m.project)==null?void 0:f.project_logo);B6(((_=(v=l.info)==null?void 0:v.project)==null?void 0:_.project_color)||"#00C897",r)}),_e(()=>n.currentUser,r=>{var m;document.body.classList.remove("dark"),document.body.classList.remove("light"),document.body.classList.remove("auto"),r!=null&&r.theme?(document.body.classList.add(r.theme),(m=document.querySelector('head meta[name="theme-color"]'))==null||m.setAttribute("content",r.theme==="light"?"#ffffff":"#263238")):document.body.classList.add("light")}),_e(()=>{var r,m;return(m=(r=l.info)==null?void 0:r.project)==null?void 0:m.project_name},r=>{document.title=r||"Directus"});const a=V(()=>{var r,m;return((m=(r=l.info)==null?void 0:r.project)==null?void 0:m.custom_css)||""}),s=V(()=>t.error);return U6(),{t:e,hydrating:i,brandStyle:u,error:s,customCSS:a}}}),z6={key:0,class:"hydrating"};function K6(e,t,n,l,i,u){const a=c("v-progress-circular"),s=c("v-error"),r=c("v-info"),m=c("router-view");return p(),I("div",{id:"directus",style:ze(e.brandStyle)},[o(jt,{name:"fade"},{default:d(()=>[e.hydrating?(p(),I("div",z6,[o(a,{indeterminate:""})])):R("",!0)]),_:1}),e.error?(p(),C(r,{key:0,type:"danger",title:e.t("unexpected_error"),icon:"error",center:""},{append:d(()=>[o(s,{error:e.error},null,8,["error"])]),default:d(()=>[D(b(e.t("unexpected_error_copy"))+" ",1)]),_:1},8,["title"])):e.hydrating?R("",!0):(p(),C(m,{key:1})),(p(),C(ql,{to:"#custom-css"},[D(b(e.customCSS),1)]))],4)}var H6=q(q6,[["render",K6],["__scopeId","data-v-d66a0348"]]);const W6=z({props:{layoutQuery:{type:Object,default:()=>({})},filter:{type:Object,default:null},search:{type:String,default:null},collection:{type:String,required:!0}},setup(e){const{t}=Y(),n=E("csv"),l=E(!0),i=Ke(),u=V(()=>i.getCollection(e.collection).name);return{t,format:n,useFilters:l,exportData:a,collectionName:u};function a(){var v,_,y;const s=e.collection.startsWith("directus_")?`${e.collection.substring(9)}`:`items/${e.collection}`,r=Qe()+s;let m={access_token:re.defaults.headers.common.Authorization.substring(7),export:n.value||"json"};l.value===!0&&(((v=e.layoutQuery)==null?void 0:v.sort)&&(m.sort=e.layoutQuery.sort),((_=e.layoutQuery)==null?void 0:_.fields)&&(m.fields=e.layoutQuery.fields),((y=e.layoutQuery)==null?void 0:y.limit)&&(m.limit=e.layoutQuery.limit),e.search&&(m.search=e.search),e.filter&&(m.filter=e.filter),e.search&&(m.search=e.search));const f=re.getUri({url:r,params:m});window.open(f)}}}),G6={class:"fields"},J6={class:"field full"},Q6={class:"type-label"},X6={class:"field full"};function Z6(e,t,n,l,i,u){const a=c("v-select"),s=c("v-checkbox"),r=c("v-button"),m=c("sidebar-detail");return p(),C(m,{icon:"save_alt",title:e.t("export_data")},{default:d(()=>[S("div",G6,[S("div",J6,[S("p",Q6,b(e.t("format")),1),o(a,{modelValue:e.format,"onUpdate:modelValue":t[0]||(t[0]=f=>e.format=f),items:[{text:e.t("csv"),value:"csv"},{text:e.t("json"),value:"json"},{text:e.t("xml"),value:"xml"}]},null,8,["modelValue","items"]),o(s,{modelValue:e.useFilters,"onUpdate:modelValue":t[1]||(t[1]=f=>e.useFilters=f),label:e.t("use_current_filters_settings")},null,8,["modelValue","label"])]),S("div",X6,[o(r,{"full-width":"",onClick:e.exportData},{default:d(()=>[D(b(e.t("export_collection",{collection:e.collectionName})),1)]),_:1},8,["onClick"])])])]),_:1},8,["title"])}var Y6=q(W6,[["render",Z6],["__scopeId","data-v-11c53db4"]]);const x6=z({components:{ValueNull:tn},props:{display:{type:String,default:null},options:{type:Object,default:()=>({})},interface:{type:String,default:null},interfaceOptions:{type:Object,default:null},value:{type:[String,Number,Object,Array,Boolean],default:null},type:{type:String,required:!0},collection:{type:String,required:!0},field:{type:String,required:!0}},setup(e){return{displayInfo:V(()=>Bn(e.display))}}});function eP(e,t,n,l,i,u){const a=c("value-null"),s=c("v-text-overflow");return e.value===null||e.value===void 0?(p(),C(a,{key:0})):e.displayInfo===null?(p(),C(s,{key:1,class:"display",text:e.value},null,8,["text"])):(p(),C(Ue(`display-${e.display}`),dt({key:2},e.options,{interface:e.interface,"interface-options":e.interfaceOptions,value:e.value,type:e.type,collection:e.collection,field:e.field}),null,16,["interface","interface-options","value","type","collection","field"]))}var tP=q(x6,[["render",eP],["__scopeId","data-v-3c1719c8"]]);const nP={alias:"raw",bigInteger:"formatted-value",binary:"raw",boolean:"boolean",date:"datetime",dateTime:"datetime",decimal:"formatted-value",float:"formatted-value",integer:"formatted-value",json:"raw",string:"formatted-value",text:"formatted-value",time:"datetime",timestamp:"datetime",uuid:"formatted-value",unknown:"raw",csv:"labels",hash:"formatted-value",geometry:"raw","geometry.Point":"raw","geometry.LineString":"raw","geometry.Polygon":"raw","geometry.MultiPoint":"raw","geometry.MultiLineString":"raw","geometry.MultiPolygon":"raw"};function js(e){return nP[e]||"raw"}const lP=z({components:{ValueNull:tn},props:{collection:{type:String,default:null},fields:{type:Array,default:null},item:{type:Object,default:null},template:{type:String,required:!0}},setup(e){const t=Pe(),n=E(),l=/({{.*?}})/g;return{parts:V(()=>e.template.split(l).filter(u=>u).map(u=>{var v,_,y,g,$,h,k;if(u.startsWith("{{")===!1)return u;let a=u.replace(/{{/g,"").replace(/}}/g,"").trim();const s=t.getField(e.collection,a)||((v=e.fields)==null?void 0:v.find(A=>A.field===a));s&&s.collection==="directus_files"&&s.field==="$thumbnail"&&(a=a.split(".").filter(A=>A!=="$thumbnail").join("."));const r=U.exports.get(e.item,a);return r===void 0?null:!s||(((_=s==null?void 0:s.meta)==null?void 0:_.display)||js(s.type))==="raw"||!Bn((y=s.meta)==null?void 0:y.display)?r:{component:(g=s.meta)==null?void 0:g.display,options:($=s.meta)==null?void 0:$.display_options,value:r,interface:(h=s.meta)==null?void 0:h.interface,interfaceOptions:(k=s.meta)==null?void 0:k.options,type:s.type,collection:s.collection,field:s.field}}).map(u=>u!=null?u:null)),templateEl:n,translate:$a}}}),oP=e=>(We("data-v-a77873be"),e=e(),Ge(),e),aP={ref:"templateEl",class:"render-template"},iP=oP(()=>S("span",{class:"vertical-aligner"},null,-1)),sP={key:2},rP={key:3};function dP(e,t,n,l,i,u){const a=c("value-null");return p(),I("div",aP,[iP,(p(!0),I(ie,null,he(e.parts,(s,r)=>(p(),I(ie,{key:r},[s===null||typeof s=="object"&&s.value===null?(p(),C(a,{key:0})):typeof s=="object"&&s.component?(p(),C(Ue(`display-${s.component}`),dt({key:1},s.options,{value:s.value,interface:s.interface,"interface-options":s.interfaceOptions,type:s.type,collection:s.collection,field:s.field}),null,16,["value","interface","interface-options","type","collection","field"])):typeof s=="string"?(p(),I("span",sP,b(e.translate(s)),1)):(p(),I("span",rP,b(s),1))],64))),128))],512)}var uP=q(lP,[["render",dP],["__scopeId","data-v-a77873be"]]);function yn(e){var m;const t=bt((e==null?void 0:e.group)||"item-group",null);if(Ga(t))return{active:E(!1),toggle:()=>{},activate:()=>{},deactivate:()=>{}};const{register:n,unregister:l,toggle:i,selection:u}=t;let a=!1;((m=e==null?void 0:e.active)==null?void 0:m.value)===!0&&(a=!0),(e==null?void 0:e.value)&&u.value.includes(e.value)&&(a=!0);const s=E(a),r={active:s,value:e==null?void 0:e.value};return n(r),(e==null?void 0:e.active)!==void 0&&e.watch===!0&&_e(e.active,()=>{e.active!==void 0&&(e.active.value===!0&&(s.value===!1&&i(r),s.value=!0),e.active.value===!1&&(s.value===!0&&i(r),s.value=!1))}),Ul(()=>l(r)),{active:s,toggle:()=>{i(r)},activate:()=>{s.value===!1&&i(r)},deactivate:()=>{s.value===!0&&i(r)}}}function qo(e={},t={},n="item-group"){const l=Ot([]),i=E([]),u=V({get(){return Nt(e.selection)&&Nt(e.selection.value)?e.selection.value:i.value},set(y){Nt(e.onSelectionChange)&&e.onSelectionChange(y),i.value=[...y]}});return Yt(n,{register:a,unregister:s,toggle:r,selection:u}),_e(u,_,{immediate:!0}),dl().then(_),_e(()=>{var y;return(y=t==null?void 0:t.mandatory)==null?void 0:y.value},(y,g)=>{var $;U.exports.isEqual(y,g)||(!u.value||u.value.length===0&&(($=t==null?void 0:t.mandatory)==null?void 0:$.value)===!0)&&(u.value=[v(l.value[0])])}),{items:l,selection:u,internalSelection:i,getValueForItem:v,updateChildren:_};function a(y){var $;l.value=[...l.value,y];const g=v(y);u.value.length===0&&(($=t==null?void 0:t.mandatory)==null?void 0:$.value)===!0&&l.value.length===1&&(u.value=[g]),y.active.value&&u.value.includes(g)===!1&&r(y)}function s(y){l.value=l.value.filter(g=>g!==y)}function r(y){var g;((g=t==null?void 0:t.multiple)==null?void 0:g.value)===!0?f(y):m(y),Nt(e.onToggle)&&e.onToggle(y)}function m(y){var $;const g=v(y);if(u.value[0]===g&&(($=t==null?void 0:t.mandatory)==null?void 0:$.value)!==!0){u.value=[];return}u.value[0]!==g&&(u.value=[g])}function f(y){var $,h;const g=v(y);if(u.value.includes(g)){if((($=t==null?void 0:t.mandatory)==null?void 0:$.value)===!0&&u.value.length===1){_();return}u.value=u.value.filter(k=>k!==g);return}if(((h=t==null?void 0:t.max)==null?void 0:h.value)&&t.max.value!==-1&&u.value.length>=t.max.value){_();return}u.value=[...u.value,g]}function v(y){return y.value||l.value.findIndex(g=>y===g)}function _(){l.value.forEach(y=>{y.active.value=u.value.includes(v(y))})}}const cP=z({props:{icon:{type:String,required:!0},title:{type:String,required:!0},badge:{type:[Boolean,String,Number],default:null},close:{type:Boolean,default:!1}},setup(e){const{active:t,toggle:n}=yn({value:e.title,group:"sidebar-detail"}),l=kt(),{sidebarOpen:i}=Re(l);return{active:t,toggle:n,sidebarOpen:i}}}),pP={class:"icon"},mP={key:0,class:"icon"},fP={class:"content"};function vP(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-badge"),r=c("transition-expand");return p(),I("div",{class:se(["sidebar-detail",{open:e.sidebarOpen}])},[S("button",{class:se(["toggle",{open:e.active}]),onClick:t[0]||(t[0]=(...m)=>e.toggle&&e.toggle(...m))},[S("div",pP,[o(s,{dot:e.badge===!0,bordered:"",value:e.badge,disabled:!e.badge},{default:d(()=>[o(a,{name:e.icon,outline:""},null,8,["name"])]),_:1},8,["dot","value","disabled"])]),x(S("div",{class:"title"},b(e.title),513),[[Et,e.sidebarOpen]]),e.close?R("",!0):(p(),I("div",mP,[o(a,{class:"expand-icon",name:e.active?"expand_less":"expand_more",outline:""},null,8,["name"])]))],2),e.close?x((p(),I("div",{key:0,class:"close",onClick:t[1]||(t[1]=m=>e.sidebarOpen=!1)},[o(a,{name:"close"})],512)),[[Et,e.sidebarOpen]]):R("",!0),o(r,{class:"scroll-container"},{default:d(()=>[x(S("div",null,[S("div",fP,[ye(e.$slots,"default",{},void 0,!0)])],512),[[Et,e.active]])]),_:3})],2)}var _P=q(cP,[["render",vP],["__scopeId","data-v-45689e02"]]);const yP=z({props:{user:{type:String,required:!0}},setup(e){const{t}=Y(),n=Ye(),l=E(!1),i=E(null),u=E(null),a=V(()=>{var f;return u.value===null?null:((f=u.value.avatar)==null?void 0:f.id)?st(`${Qe()}assets/${u.value.avatar.id}?key=system-medium-cover`):null}),s=E(!1);return _e(s,()=>{s.value===!0&&u.value===null&&l.value===!1&&r()}),St(()=>{l.value=!1,i.value=null,u.value=null}),{t,loading:l,error:i,data:u,active:s,avatarSrc:a,userName:ht,navigateToUser:m};async function r(){l.value=!0,i.value=null;try{const f=await re.get(`/users/${e.user}`,{params:{fields:["id","first_name","last_name","avatar.id","role.name","status","email"]}});u.value=f.data.data}catch(f){i.value=f}finally{l.value=!1}}function m(){u.value&&n.push(`/users/${u.value.id}`)}}}),gP={key:0,class:"loading"},hP={key:1,class:"error"},bP=["src","alt"],$P={class:"data"},wP={class:"name type-title"},kP={class:"email"};function SP(e,t,n,l,i,u){const a=c("v-skeleton-loader"),s=c("v-icon"),r=c("v-avatar"),m=c("v-menu");return p(),C(m,{modelValue:e.active,"onUpdate:modelValue":t[1]||(t[1]=f=>e.active=f),"show-arrow":"",placement:"top",trigger:"hover",delay:300},{activator:d(()=>[ye(e.$slots,"default",{},void 0,!0)]),default:d(()=>[e.loading?(p(),I("div",gP,[o(a,{class:"avatar"}),S("div",null,[o(a,{type:"text"}),o(a,{type:"text"}),o(a,{type:"text"})])])):e.error?(p(),I("div",hP,b(e.error),1)):e.data?(p(),I("div",{key:2,class:"user-box",onClick:t[0]||(t[0]=Fe((...f)=>e.navigateToUser&&e.navigateToUser(...f),["stop"]))},[o(r,{"x-large":"",class:"avatar"},{default:d(()=>[e.avatarSrc?(p(),I("img",{key:0,src:e.avatarSrc,alt:e.data.first_name},null,8,bP)):(p(),C(s,{key:1,name:"person",outline:""}))]),_:1}),S("div",$P,[S("div",wP,b(e.userName(e.data)),1),S("div",{class:se(["status-role",e.data.status])},b(e.t(e.data.status))+" "+b(e.data.role.name),3),S("div",kP,b(e.data.email),1)])])):R("",!0)]),_:3},8,["modelValue"])}var CP=q(yP,[["render",SP],["__scopeId","data-v-71abbf85"]]);const VP=z({props:{frontmatter:{type:Object,required:!0}},emits:["update:title","update:modularExtension"],setup(e,{emit:t}){const n=xt(),l=bt("main-element"),i=V(()=>{var u;return(u=e.frontmatter)==null?void 0:u.pageClass});return _e(()=>e.frontmatter,()=>{t("update:title",e.frontmatter.title),t("update:modularExtension",e.frontmatter.modularExtension)},{immediate:!0}),it(()=>{if(n.hash&&(l==null?void 0:l.value)){const u=document.querySelector(n.hash);u&&l.value.scrollTo({top:u.offsetTop-100})}}),{pageClass:i}}});function FP(e,t,n,l,i,u){return p(),I("div",{class:se(["md",e.pageClass])},[ye(e.$slots,"default",{},void 0,!0)],2)}var AP=q(VP,[["render",FP],["__scopeId","data-v-2e43f355"]]);const IP={};function EP(e,t){return p(),C(zl,dt({name:"bounce",tag:"div"},e.$attrs),{default:d(()=>[ye(e.$slots,"default")]),_:3},16)}var DP=q(IP,[["render",EP]]);const TP={};function PP(e,t){return p(),C(zl,dt({name:"dialog",tag:"span"},e.$attrs),{default:d(()=>[ye(e.$slots,"default")]),_:3},16)}var OP=q(TP,[["render",PP]]);function LP(e="",t=!1,n){const l=t?"width":"height",i=`offset${uo(l)}`;return{beforeEnter(a){n("beforeEnter"),a._parent=a.parentNode,a._initialStyle={transition:a.style.transition,visibility:a.style.visibility,overflow:a.style.overflow,[l]:a.style[l]}},enter(a){n("enter");const s=a._initialStyle;if(!s)return;const r=`${a[i]}px`;a.style.setProperty("transition","none","important"),a.style.visibility="hidden",a.style.visibility=s.visibility,a.style.overflow="hidden",a.style[l]="0",a.offsetHeight,a.style.transition=s.transition!==""?s.transition:`${l} var(--medium) var(--transition)`,e&&a._parent&&a._parent.classList.add(e),requestAnimationFrame(()=>{a.style[l]=r})},afterEnter(a){n("afterEnter"),u(a)},enterCancelled(a){n("enterCancelled"),u(a)},leave(a){n("leave"),a._initialStyle={transition:"",visibility:"",overflow:a.style.overflow,[l]:a.style[l]},a.style.overflow="hidden",a.style[l]=`${a[i]}px`,a.offsetHeight,requestAnimationFrame(()=>a.style[l]="0")},afterLeave(a){n("afterLeave"),e&&a._parent&&a._parent.classList.remove(e),u(a)},leaveCancelled(a){n("leaveCancelled"),e&&a._parent&&a._parent.classList.remove(e),u(a)}};function u(a){if(!a._initialStyle)return;const s=a._initialStyle[l];a.style.overflow=a._initialStyle.overflow,s!=null&&(a.style[l]=s),delete a._initialStyle}}const jP=z({props:{xAxis:{type:Boolean,default:!1},expandedParentClass:{type:String,default:""}},emits:["beforeEnter","enter","afterEnter","enterCancelled","leave","afterLeave","leaveCancelled"],setup(e,{emit:t}){return{methods:LP(e.expandedParentClass,e.xAxis,t)}}});function RP(e,t,n,l,i,u){return p(),C(jt,dt({name:"expand-transition",mode:"in-out"},Kl(e.methods)),{default:d(()=>[ye(e.$slots,"default")]),_:3},16)}var MP=q(jP,[["render",RP]]);const ol={xSmall:{type:Boolean,default:!1},small:{type:Boolean,default:!1},large:{type:Boolean,default:!1},xLarge:{type:Boolean,default:!1}};function al(e){return V(()=>e.xSmall?"x-small":e.small?"small":e.large?"large":e.xLarge?"x-large":null)}const UP=z({props:pe({size:{type:Number,default:null},tile:{type:Boolean,default:!1}},ol),setup(e){return{sizeClass:al(e)}}});function NP(e,t,n,l,i,u){return p(),I("div",{class:se(["v-avatar",[{tile:e.tile},e.sizeClass]])},[ye(e.$slots,"default")],2)}var BP=q(UP,[["render",NP],["__scopeId","data-v-fee7284a"]]);const qP=z({props:{value:{type:[Boolean,String,Number],default:null},dot:{type:Boolean,default:!1},left:{type:Boolean,default:!1},bottom:{type:Boolean,default:!1},icon:{type:String,default:null},bordered:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}}}),zP={key:1};function KP(e,t,n,l,i,u){const a=c("v-icon");return p(),I("div",{class:se(["v-badge",{dot:e.dot,bordered:e.bordered}])},[e.disabled?R("",!0):(p(),I("span",{key:0,class:se(["badge",{dot:e.dot,bordered:e.bordered,left:e.left,bottom:e.bottom}])},[e.icon?(p(),C(a,{key:0,name:e.icon,color:e.color,"x-small":""},null,8,["name","color"])):(p(),I("span",zP,b(e.value),1))],2)),ye(e.$slots,"default",{},void 0,!0)],2)}var HP=q(qP,[["render",KP],["__scopeId","data-v-5d3df5d4"]]);const WP=z({props:{items:{type:Array,default:()=>[]}},setup(){return{}}}),GP={class:"v-breadcrumb"},JP={key:2,class:"section-link"};function QP(e,t,n,l,i,u){const a=c("v-icon"),s=c("router-link");return p(),I("span",GP,[(p(!0),I(ie,null,he(e.items,(r,m)=>(p(),I("span",{key:r.name,class:se(["section",{disabled:r.disabled}])},[m>0?(p(),C(a,{key:0,name:"chevron_right",small:""})):R("",!0),r.disabled?(p(),I("span",JP,[r.icon?(p(),C(a,{key:0,name:r.icon},null,8,["name"])):R("",!0),D(" "+b(r.name),1)])):(p(),C(s,{key:1,to:r.to,class:"section-link"},{default:d(()=>[r.icon?(p(),C(a,{key:0,name:r.icon,small:""},null,8,["name"])):R("",!0),D(" "+b(r.name),1)]),_:2},1032,["to"]))],2))),128))])}var XP=q(WP,[["render",QP],["__scopeId","data-v-884352f6"]]);const ZP=z({props:pe({autofocus:{type:Boolean,default:!1},kind:{type:String,default:"normal"},fullWidth:{type:Boolean,default:!1},rounded:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1},icon:{type:Boolean,default:!1},type:{type:String,default:"button"},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},to:{type:[String,Object],default:""},href:{type:String,default:void 0},active:{type:Boolean,default:void 0},exact:{type:Boolean,default:!1},query:{type:Boolean,default:!1},secondary:{type:Boolean,default:!1},warning:{type:Boolean,default:!1},danger:{type:Boolean,default:!1},value:{type:[Number,String],default:void 0},dashed:{type:Boolean,default:!1},tile:{type:Boolean,default:!1},align:{type:String,default:"center",validator:e=>["left","center","right"].includes(e)},download:{type:String,default:void 0}},ol),emits:["click"],setup(e,{emit:t}){const n=xt(),{route:l,isActive:i,isExactActive:u}=da(e),a=al(e),s=V(()=>e.disabled?"button":Nt(e.href)?"a":e.to?"router-link":"button"),{active:r,toggle:m}=yn({value:e.value,group:"item-group"}),f=V(()=>{if(e.active!==void 0)return e.active;if(e.to){const _=!e.query||U.exports.isEqual(n.query,l.value.query);return e.exact?u.value&&_||r.value:i.value&&_||r.value}return!1});return{sizeClass:a,onClick:v,component:s,isActiveRoute:f,toggle:m};function v(_){e.loading!==!0&&(m(),t("click",_))}}}),YP={class:"spinner"};function xP(e,t,n,l,i,u){const a=c("v-progress-circular"),s=Se("focus");return p(),I("div",{class:se(["v-button",{secondary:e.secondary,warning:e.warning,danger:e.danger,"full-width":e.fullWidth}])},[ye(e.$slots,"prepend-outer",{},void 0,!0),x((p(),C(Ue(e.component),{download:e.download,class:se(["button",[e.sizeClass,`align-${e.align}`,{active:e.isActiveRoute,rounded:e.rounded,icon:e.icon,outlined:e.outlined,loading:e.loading,dashed:e.dashed,tile:e.tile,"full-width":e.fullWidth},e.kind]]),type:e.type,disabled:e.disabled,to:e.to!==""?e.to:void 0,href:e.href,target:e.component==="a"?"_blank":void 0,rel:e.component==="a"?"noopener noreferrer":void 0,onClick:e.onClick},{default:d(()=>[S("span",{class:se(["content",{invisible:e.loading}])},[ye(e.$slots,"default",He(Xe({active:e.active,toggle:e.toggle})),void 0,!0)],2),S("div",YP,[e.loading?ye(e.$slots,"loading",{key:0},()=>[o(a,{"x-small":e.xSmall,small:e.small,indeterminate:""},null,8,["x-small","small"])],!0):R("",!0)])]),_:3},8,["download","class","type","disabled","to","href","target","rel","onClick"])),[[s,e.autofocus]]),ye(e.$slots,"append-outer",{},void 0,!0)],2)}var eO=q(ZP,[["render",xP],["__scopeId","data-v-55816638"]]);const tO={},nO={class:"v-card-actions"};function lO(e,t){return p(),I("div",nO,[ye(e.$slots,"default")])}var oO=q(tO,[["render",lO],["__scopeId","data-v-1c0af2d8"]]);const aO={},iO={class:"v-card-subtitle"};function sO(e,t){return p(),I("div",iO,[ye(e.$slots,"default",{},void 0,!0)])}var rO=q(aO,[["render",sO],["__scopeId","data-v-61d074a0"]]);const dO={},uO={class:"v-card-text"};function cO(e,t){return p(),I("div",uO,[ye(e.$slots,"default",{},void 0,!0)])}var pO=q(dO,[["render",cO],["__scopeId","data-v-641303f3"]]);const mO={},fO={class:"v-card-title type-label"};function vO(e,t){return p(),I("div",fO,[ye(e.$slots,"default",{},void 0,!0)])}var _O=q(mO,[["render",vO],["__scopeId","data-v-4ef4d67b"]]);const yO=z({props:{disabled:{type:Boolean,default:!1},tile:{type:Boolean,default:!1}},setup(){return{}}});function gO(e,t,n,l,i,u){return p(),I("div",{class:se(["v-card",{disabled:e.disabled,tile:e.tile}])},[ye(e.$slots,"default",{},void 0,!0)],2)}var hO=q(yO,[["render",gO],["__scopeId","data-v-7bf2718c"]]);const bO=z({props:{value:{type:String,default:null},modelValue:{type:[Boolean,Array],default:null},label:{type:String,default:null},disabled:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},iconOn:{type:String,default:"check_box"},iconOff:{type:String,default:"check_box_outline_blank"},iconIndeterminate:{type:String,default:"indeterminate_check_box"},block:{type:Boolean,default:!1},customValue:{type:Boolean,default:!1},checked:{type:Boolean,default:null}},emits:["update:indeterminate","update:modelValue","update:value"],setup(e,{emit:t}){const n=Le(e,"value",t),l=V(()=>e.checked!==null?e.checked:e.modelValue instanceof Array?e.modelValue.includes(e.value):e.modelValue===!0),i=V(()=>e.indeterminate===!0||e.checked===null&&e.modelValue===null?e.iconIndeterminate:l.value?e.iconOn:e.iconOff);return{isChecked:l,toggleInput:u,icon:i,internalValue:n};function u(){if(e.indeterminate===!0&&t("update:indeterminate",!1),e.modelValue instanceof Array){const a=[...e.modelValue];e.modelValue.includes(e.value)===!1?a.push(e.value):a.splice(a.indexOf(e.value),1),t("update:modelValue",a)}else t("update:modelValue",!e.modelValue)}}}),$O={key:0,class:"prepend"},wO={class:"label type-text"},kO={key:1,class:"append"};function SO(e,t,n,l,i,u){const a=c("v-icon");return p(),C(Ue(e.customValue?"div":"button"),{class:se(["v-checkbox",{checked:e.isChecked,indeterminate:e.indeterminate,block:e.block}]),type:"button",role:"checkbox","aria-pressed":e.isChecked?"true":"false",disabled:e.disabled,onClick:Fe(e.toggleInput,["stop"])},{default:d(()=>[e.$slots.prepend?(p(),I("div",$O,[ye(e.$slots,"prepend",{},void 0,!0)])):R("",!0),o(a,{class:"checkbox",name:e.icon,disabled:e.disabled},null,8,["name","disabled"]),S("span",wO,[e.customValue===!1?ye(e.$slots,"default",{key:0},()=>[D(b(e.label),1)],!0):x((p(),I("input",{key:1,"onUpdate:modelValue":t[0]||(t[0]=s=>e.internalValue=s),class:"custom-input"},null,512)),[[Hl,e.internalValue]])]),e.$slots.append?(p(),I("div",kO,[ye(e.$slots,"append",{},void 0,!0)])):R("",!0)]),_:3},8,["aria-pressed","disabled","class","onClick"])}var CO=q(bO,[["render",SO],["__scopeId","data-v-03762a5f"]]);const VO=z({name:"VCheckboxTreeCheckbox",props:{text:{type:String,required:!0},value:{type:[String,Number],required:!0},children:{type:Array,default:null},modelValue:{type:Array,default:()=>[]},valueCombining:{type:String,required:!0},checked:{type:Boolean,default:null},search:{type:String,default:null},hidden:{type:Boolean,default:!1},itemText:{type:String,default:"text"},itemValue:{type:String,default:"value"},itemChildren:{type:String,default:"children"},disabled:{type:Boolean,default:!1},showSelectionOnly:{type:Boolean,default:!1},parentValue:{type:[String,Number],default:null}},emits:["update:modelValue"],setup(e,{emit:t}){const n=V(()=>{let k=e.children||[];return e.search&&(k=k.filter(P=>P[e.itemText].toLowerCase().includes(e.search.toLowerCase())||A(P[e.itemChildren]))),e.showSelectionOnly&&(k=k.filter(P=>e.modelValue.includes(P[e.itemValue])||F(P[e.itemChildren])||e.modelValue.includes(e.parentValue)||e.modelValue.includes(e.value))),k.map(P=>P[e.itemValue]);function A(P){return P?P.some(O=>O[e.itemText].toLowerCase().includes(e.search.toLowerCase())||A(O[e.itemChildren])):!1}function F(P){return P?P.some(O=>e.modelValue.includes(O[e.itemValue])||F(O[e.itemChildren])):!1}}),l=V(()=>e.showSelectionOnly===!0&&e.modelValue.includes(e.value)?!0:n.value.length>0),i=V(()=>typeof e.search=="string"&&e.search.length>0),u=V(()=>{var k;return((k=e.children)==null?void 0:k.map(A=>A[e.itemValue]))||[]}),a=V({get(){return e.modelValue||[]},set(k){const A=U.exports.difference(k,e.modelValue),F=U.exports.difference(e.modelValue,k);if(e.children)switch(e.valueCombining){case"all":return f(k,{added:A,removed:F});case"branch":return v(k,{added:A,removed:F});case"leaf":return _(k,{added:A,removed:F});case"indeterminate":return y(k,{added:A,removed:F});case"exclusive":return g(k,{added:A,removed:F});default:return $(k)}$(k)}}),s=V(()=>e.checked!==null?e.checked:e.valueCombining==="all"?null:e.valueCombining==="leaf"?h("leaf").every(A=>e.modelValue.includes(A)):null),r=V(()=>{const k=h("all");if(e.valueCombining==="all"||e.valueCombining==="branch")return k.some(A=>e.modelValue.includes(A))&&e.modelValue.includes(e.value)===!1;if(e.valueCombining==="indeterminate")return k.some(A=>e.modelValue.includes(A))&&k.every(A=>e.modelValue.includes(A))===!1;if(e.valueCombining==="leaf"){const A=h("leaf");return A.some(F=>e.modelValue.includes(F))&&A.every(F=>e.modelValue.includes(F))===!1}return e.valueCombining==="exclusive"?k.some(A=>e.modelValue.includes(A)):null}),m=V(()=>e.checked!==null?e.checked:e.valueCombining==="all"?null:e.valueCombining==="branch"&&e.modelValue.includes(e.value)?!0:null);return{groupCheckedStateOverride:s,childrenCheckedStateOverride:m,treeValue:a,groupIndeterminateState:r,visibleChildrenValues:n,groupShown:l,groupOpen:i};function f(k,{added:A,removed:F}){const P=h("all");if((A==null?void 0:A[0])===e.value){const T=[...k.filter(N=>N!==e.value&&u.value.includes(N)===!1),...P,e.value];return $(T)}if((F==null?void 0:F[0])===e.value){const T=k.filter(N=>N!==e.value&&P.includes(N)===!1);return $(T)}if(u.value.every(T=>k.includes(T))){const T=[...k.filter(N=>N!==e.value&&P.includes(N)===!1),...P,e.value];return $(T)}const O=k.filter(T=>T!==e.value);return $(O)}function v(k,{added:A,removed:F}){var O;const P=h("all");if((e.modelValue.includes(e.value)||e.checked===!0)&&A&&A.length===1&&u.value.includes(A[0])){const T=[...k.filter(N=>N!==e.value&&N!==A[0]),...u.value.filter(N=>N!==A[0])];return $(T)}if(e.modelValue.includes(e.value)&&P.some(T=>k.includes(T))){const T=e.children.find(L=>{const M=h("all",L[e.itemChildren]);return k.some(B=>M.includes(B))===!0}),N=[...k.filter(L=>L!==e.value),...(e.children||[]).filter(L=>L[e.itemChildren]?L[e.itemValue]!==(T==null?void 0:T[e.itemValue]):!0).map(L=>L[e.itemValue]),...((O=T==null?void 0:T[e.itemChildren])!=null?O:[]).filter(L=>{const M=h("all",L[e.itemChildren]);return k.some(B=>M.includes(B))===!1}).map(L=>L[e.itemValue])];return $(N)}if(A==null?void 0:A.includes(e.value)){const T=[...k.filter(N=>N!==e.value&&P.includes(N)===!1),e.value];return $(T)}if(F==null?void 0:F.includes(e.value)){const T=k.filter(N=>N!==e.value&&P.includes(N)===!1);return $(T)}if(u.value.every(T=>k.includes(T))){const T=[...k.filter(N=>N!==e.value&&P.includes(N)===!1),e.value];return $(T)}return $(k)}function _(k,{added:A}){const F=h("all"),P=h("leaf");if(A==null?void 0:A.includes(e.value))if(P.every(O=>k.includes(O))){const O=k.filter(T=>T!==e.value&&F.includes(T)===!1);return $(O)}else{const O=[...k.filter(T=>T!==e.value&&F.includes(T)===!1),...P];return $(O)}return $(k)}function y(k,{added:A,removed:F}){const P=h("all");if((A==null?void 0:A[0])===e.value){const O=[...k.filter(T=>T!==e.value&&u.value.includes(T)===!1),...P,e.value];return $(O)}if((F==null?void 0:F[0])===e.value){const O=k.filter(T=>T!==e.value&&P.includes(T)===!1);return $(O)}if(u.value.some(O=>k.includes(O))){const O=[...k.filter(T=>T!==e.value),e.value];return $(O)}return u.value.every(O=>k.includes(O)===!1)?$(k.filter(O=>O!==e.value)):$(k)}function g(k,{added:A}){const F=h("all");if((A==null?void 0:A[0])===e.value){const P=[...k.filter(O=>O!==e.value&&F.includes(O)===!1),e.value];return $(P)}if(F.some(P=>k.includes(P))){const P=[...k.filter(O=>O!==e.value)];return $(P)}return $(k)}function $(k){t("update:modelValue",k)}function h(k,A=e.children){const F=[];return P(A),F;function P(O){if(!!O)for(const T of O)k==="all"&&F.push(T[e.itemValue]),k==="branch"&&T[e.itemChildren]&&F.push(T[e.itemValue]),k==="leaf"&&!T[e.itemChildren]&&F.push(T[e.itemValue]),T[e.itemChildren]&&P(T[e.itemChildren])}}}});function FO(e,t,n,l,i,u){const a=c("v-highlight"),s=c("v-checkbox"),r=c("v-checkbox-tree-checkbox",!0),m=c("v-list-group"),f=c("v-list-item");return e.children?x((p(),C(m,{key:0,value:e.value,open:e.groupOpen,"arrow-placement":"before"},{activator:d(()=>[o(s,{modelValue:e.treeValue,"onUpdate:modelValue":t[0]||(t[0]=v=>e.treeValue=v),indeterminate:e.groupIndeterminateState,checked:e.groupCheckedStateOverride,label:e.text,value:e.value,disabled:e.disabled},{default:d(()=>[o(a,{text:e.text,query:e.search},null,8,["text","query"])]),_:1},8,["modelValue","indeterminate","checked","label","value","disabled"])]),default:d(()=>[(p(!0),I(ie,null,he(e.children,v=>(p(),C(r,{key:v[e.itemValue],modelValue:e.treeValue,"onUpdate:modelValue":t[1]||(t[1]=_=>e.treeValue=_),"value-combining":e.valueCombining,checked:e.childrenCheckedStateOverride,hidden:e.visibleChildrenValues.includes(v[e.itemValue])===!1,search:e.search,"item-text":e.itemText,"item-value":e.itemValue,"item-children":e.itemChildren,text:v[e.itemText],value:v[e.itemValue],children:v[e.itemChildren],disabled:e.disabled,"show-selection-only":e.showSelectionOnly,"parent-value":e.value},null,8,["modelValue","value-combining","checked","hidden","search","item-text","item-value","item-children","text","value","children","disabled","show-selection-only","parent-value"]))),128))]),_:1},8,["value","open"])),[[Et,e.groupShown]]):e.children?R("",!0):x((p(),C(f,{key:1,class:"item"},{default:d(()=>[o(s,{modelValue:e.treeValue,"onUpdate:modelValue":t[2]||(t[2]=v=>e.treeValue=v),disabled:e.disabled,checked:e.checked,label:e.text,value:e.value},{default:d(()=>[o(a,{text:e.text,query:e.search},null,8,["text","query"])]),_:1},8,["modelValue","disabled","checked","label","value"])]),_:1},512)),[[Et,!e.hidden]])}var AO=q(VO,[["render",FO],["__scopeId","data-v-113b2a91"]]);const IO=z({name:"VCheckboxTree",components:{VCheckboxTreeCheckbox:AO},props:{choices:{type:Array,default:()=>[]},modelValue:{type:Array,default:null},valueCombining:{type:String,default:"all"},search:{type:String,default:null},itemText:{type:String,default:"text"},itemValue:{type:String,default:"value"},itemChildren:{type:String,default:"children"},disabled:{type:Boolean,default:!1},showSelectionOnly:{type:Boolean,default:!1}},emits:["update:modelValue","group-toggle"],setup(e,{emit:t}){const n=V({get(){return e.modelValue||[]},set(i){t("update:modelValue",i)}}),l=E([]);return{value:n,openSelection:l}}});function EO(e,t,n,l,i,u){const a=c("v-checkbox-tree-checkbox"),s=c("v-list");return p(),C(s,{modelValue:e.openSelection,"onUpdate:modelValue":t[1]||(t[1]=r=>e.openSelection=r),mandatory:!1,onToggle:t[2]||(t[2]=r=>e.$emit("group-toggle",r))},{default:d(()=>[(p(!0),I(ie,null,he(e.choices,r=>(p(),C(a,{key:r[e.itemValue],modelValue:e.value,"onUpdate:modelValue":t[0]||(t[0]=m=>e.value=m),"value-combining":e.valueCombining,search:e.search,"item-text":e.itemText,"item-value":e.itemValue,"item-children":e.itemChildren,text:r[e.itemText],value:r[e.itemValue],children:r[e.itemChildren],disabled:e.disabled,"show-selection-only":e.showSelectionOnly},null,8,["modelValue","value-combining","search","item-text","item-value","item-children","text","value","children","disabled","show-selection-only"]))),128))]),_:1},8,["modelValue"])}var DO=q(IO,[["render",EO]]);const TO=z({props:pe({active:{type:Boolean,default:null},close:{type:Boolean,default:!1},closeIcon:{type:String,default:"close"},outlined:{type:Boolean,default:!1},label:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1}},ol),emits:["update:active","click","close"],setup(e,{emit:t}){const n=E(!0),l=V({get:()=>e.active!==null?e.active:n.value,set:s=>{t("update:active",s),n.value=s}});return{sizeClass:al(e),internalActive:l,onClick:u,onCloseClick:a};function u(s){e.disabled||t("click",s)}function a(s){e.disabled||(l.value=!l.value,t("close",s))}}}),PO={class:"chip-content"};function OO(e,t,n,l,i,u){const a=c("v-icon");return e.internalActive?(p(),I("span",{key:0,class:se(["v-chip",[e.sizeClass,{outlined:e.outlined,label:e.label,disabled:e.disabled,close:e.close}]]),onClick:t[1]||(t[1]=(...s)=>e.onClick&&e.onClick(...s))},[S("span",PO,[ye(e.$slots,"default",{},void 0,!0),e.close?(p(),I("span",{key:0,class:se(["close-outline",{disabled:e.disabled}]),onClick:t[0]||(t[0]=Fe((...s)=>e.onCloseClick&&e.onCloseClick(...s),["stop"]))},[o(a,{class:"close",name:e.closeIcon,"x-small":""},null,8,["name"])],2)):R("",!0)])],2)):R("",!0)}var LO=q(TO,[["render",OO],["__scopeId","data-v-d55b27c0"]]);const jO=z({props:{modelValue:{type:Boolean,default:void 0},label:{type:String,default:qe.global.t("toggle")},startOpen:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const n=E(e.startOpen),l=V({get(){return e.modelValue!==void 0?e.modelValue:n.value},set(s){n.value=s,t("update:modelValue",s)}});return{internalActive:l,enable:i,disable:u,toggle:a};function i(){l.value=!0}function u(){l.value=!1}function a(){l.value=!l.value}}}),RO={key:0};function MO(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-divider"),r=c("transition-expand");return p(),I("div",{class:se(["v-detail",{disabled:e.disabled}])},[ye(e.$slots,"activator",He(Xe({active:e.internalActive,enable:e.enable,disable:e.disable,toggle:e.toggle})),()=>[o(s,{onClick:t[0]||(t[0]=m=>e.internalActive=!e.internalActive)},{default:d(()=>[e.disabled?R("",!0):(p(),C(a,{key:0,name:e.internalActive?"expand_more":"chevron_right",small:""},null,8,["name"])),ye(e.$slots,"title",{},()=>[D(b(e.label),1)],!0)]),_:3})],!0),o(r,null,{default:d(()=>[e.internalActive?(p(),I("div",RO,[ye(e.$slots,"default",{},void 0,!0)])):R("",!0)]),_:3})],2)}var UO=q(jO,[["render",MO],["__scopeId","data-v-e0ddb8ec"]]);const NO=z({props:{modelValue:{type:Boolean,default:void 0},persistent:{type:Boolean,default:!1},placement:{type:String,default:"center",validator:e=>["center","right"].includes(e)}},emits:["esc","update:modelValue"],setup(e,{emit:t}){nt("escape",(m,f)=>{u.value&&(t("esc"),f())});const n=E(!1),l=E(null),i=V(()=>_t()),u=V({get(){return e.modelValue!==void 0?e.modelValue:n.value},set(m){n.value=m,t("update:modelValue",m)}}),a=lw();return{emitToggle:s,className:l,nudge:r,leave:a,id:i,internalActive:u};function s(){e.persistent===!1?t("update:modelValue",!e.modelValue):r()}function r(){l.value="nudge",setTimeout(()=>{l.value=null},200)}}}),BO={class:"v-dialog"};function qO(e,t,n,l,i,u){const a=c("v-overlay"),s=c("transition-dialog");return p(),I("div",BO,[ye(e.$slots,"activator",He(Xe({on:()=>e.internalActive=!0}))),(p(),C(ql,{to:"#dialog-outlet"},[o(s,{onAfterLeave:e.leave},{default:d(()=>[e.internalActive?(p(),I("div",{key:0,class:se(["container",[e.className,e.placement]])},[o(a,{active:"",absolute:"",onClick:e.emitToggle},null,8,["onClick"]),ye(e.$slots,"default")],2)):R("",!0)]),_:3},8,["onAfterLeave"])]))])}var zO=q(NO,[["render",qO],["__scopeId","data-v-370b296e"]]);const KO=z({props:{vertical:{type:Boolean,default:!1},inlineTitle:{type:Boolean,default:!0},large:{type:Boolean,default:!1}}}),HO={key:0,class:"wrapper"},WO={key:0,class:"type-text"},GO=["aria-orientation"];function JO(e,t,n,l,i,u){return p(),I("div",{class:se(["v-divider",{vertical:e.vertical,inlineTitle:e.inlineTitle,large:e.large}])},[e.$slots.icon||e.$slots.default?(p(),I("span",HO,[ye(e.$slots,"icon",{class:"icon"}),!e.vertical&&e.$slots.default?(p(),I("span",WO,[ye(e.$slots,"default")])):R("",!0)])):R("",!0),S("hr",{role:"separator","aria-orientation":e.vertical?"vertical":"horizontal"},null,8,GO)],2)}var QO=q(KO,[["render",JO],["__scopeId","data-v-70aa2cf8"]]);const XO=z({props:{showSidebarToggle:{type:Boolean,default:!1}},emits:["toggle:sidebar"],setup(){return{active:E(!1)}}}),ZO={class:"action-buttons"};function YO(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-button");return p(),I("div",{class:se(["actions",{active:e.active}])},[o(s,{class:"expand",icon:"",rounded:"",secondary:"",outlined:"",onClick:t[0]||(t[0]=r=>e.active=!e.active)},{default:d(()=>[o(a,{name:"arrow_left"})]),_:1}),S("div",ZO,[e.showSidebarToggle?(p(),C(s,{key:0,class:"sidebar-toggle",icon:"",rounded:"",secondary:"",outlined:"",onClick:t[1]||(t[1]=r=>e.$emit("toggle:sidebar"))},{default:d(()=>[o(a,{name:"info",outline:""})]),_:1})):R("",!0),ye(e.$slots,"default",{},void 0,!0)])],2)}var xO=q(XO,[["render",YO],["__scopeId","data-v-352239c0"]]);const eL=z({components:{HeaderBarActions:xO},props:{title:{type:String,default:null},showSidebarToggle:{type:Boolean,default:!1},primaryActionIcon:{type:String,default:"menu"},small:{type:Boolean,default:!1}},emits:["primary","toggle:sidebar"],setup(){const e=E(),t=E(!1),n=new IntersectionObserver(([l])=>{t.value=l.boundingClientRect.y===-1},{threshold:[1]});return it(()=>{n.observe(e.value)}),St(()=>{n.disconnect()}),{headerEl:e,collapsed:t}}}),tL=e=>(We("data-v-c54480fe"),e=e(),Ge(),e),nL={key:0,class:"title-outer-prepend"},lL={class:"headline"},oL={class:"title"},aL={class:"type-title"},iL=tL(()=>S("div",{class:"spacer"},null,-1));function sL(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-button"),r=c("header-bar-actions");return p(),I("header",{ref:"headerEl",class:se(["header-bar",{collapsed:e.collapsed,small:e.small}])},[o(s,{secondary:"",class:"nav-toggle",icon:"",rounded:"",onClick:t[0]||(t[0]=m=>e.$emit("primary"))},{default:d(()=>[o(a,{name:e.primaryActionIcon},null,8,["name"])]),_:1}),e.$slots["title-outer:prepend"]?(p(),I("div",nL,[ye(e.$slots,"title-outer:prepend",{},void 0,!0)])):R("",!0),S("div",{class:se(["title-container",{full:!e.$slots["title-outer:append"]}])},[S("div",lL,[ye(e.$slots,"headline",{},void 0,!0)]),S("div",oL,[ye(e.$slots,"title",{},()=>[ye(e.$slots,"title:prepend",{},void 0,!0),S("h1",aL,b(e.title),1),ye(e.$slots,"title:append",{},void 0,!0)],!0)]),ye(e.$slots,"title-outer:append",{},void 0,!0)],2),iL,ye(e.$slots,"actions:prepend",{},void 0,!0),o(r,{"show-sidebar-toggle":e.showSidebarToggle,"onToggle:sidebar":t[1]||(t[1]=m=>e.$emit("toggle:sidebar"))},{default:d(()=>[ye(e.$slots,"actions",{},void 0,!0)]),_:3},8,["show-sidebar-toggle"]),ye(e.$slots,"actions:append",{},void 0,!0)],2)}var rL=q(eL,[["render",sL],["__scopeId","data-v-c54480fe"]]);const dL=z({components:{HeaderBar:rL},props:{title:{type:String,required:!0},subtitle:{type:String,default:null},modelValue:{type:Boolean,default:void 0},persistent:{type:Boolean,default:!1},icon:{type:String,default:"box"},sidebarLabel:{type:String,default:qe.global.t("sidebar")},cancelable:{type:Boolean,default:!0}},emits:["cancel","update:modelValue"],setup(e,{emit:t}){const{t:n}=Y(),l=E(!1),i=E();Yt("main-element",i);const u=V({get(){return e.modelValue===void 0?l.value:e.modelValue},set(a){l.value=a,t("update:modelValue",a)}});return{t:n,internalActive:u,mainEl:i}}}),uL={class:"v-drawer"},cL={class:"content"},pL={key:1,class:"sidebar"},mL={ref:"mainEl",class:"main"},fL={key:0,class:"subtitle"};function vL(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-button"),r=c("v-overlay"),m=c("header-bar"),f=c("v-detail"),v=c("v-dialog"),_=Se("tooltip");return p(),C(v,{modelValue:e.internalActive,"onUpdate:modelValue":t[3]||(t[3]=y=>e.internalActive=y),persistent:e.persistent,placement:"right",onEsc:t[4]||(t[4]=y=>e.$emit("cancel"))},{activator:d(({on:y})=>[ye(e.$slots,"activator",He(Xe({on:y})),void 0,!0)]),default:d(()=>[S("article",uL,[e.cancelable?x((p(),C(s,{key:0,class:"cancel",icon:"",rounded:"",secondary:"",onClick:t[0]||(t[0]=y=>e.$emit("cancel"))},{default:d(()=>[o(a,{name:"close"})]),_:1},512)),[[_,e.t("cancel"),void 0,{bottom:!0}]]):R("",!0),S("div",cL,[e.$slots.sidebar?(p(),C(r,{key:0,absolute:"",onClick:t[1]||(t[1]=y=>e.sidebarActive=!1)})):R("",!0),e.$slots.sidebar?(p(),I("nav",pL,[ye(e.$slots,"sidebar",{},void 0,!0)])):R("",!0),S("main",mL,[o(m,{title:e.title,"primary-action-icon":"close",onPrimary:t[2]||(t[2]=y=>e.$emit("cancel"))},{title:d(()=>[ye(e.$slots,"title",{},void 0,!0)]),headline:d(()=>[ye(e.$slots,"subtitle",{},()=>[e.subtitle?(p(),I("p",fL,b(e.subtitle),1)):R("",!0)],!0)]),"title-outer:prepend":d(()=>[ye(e.$slots,"title-outer:prepend",{},()=>[o(s,{class:"header-icon",rounded:"",icon:"",secondary:"",disabled:""},{default:d(()=>[o(a,{name:e.icon},null,8,["name"])]),_:1})],!0)]),"actions:prepend":d(()=>[ye(e.$slots,"actions:prepend",{},void 0,!0)]),actions:d(()=>[ye(e.$slots,"actions",{},void 0,!0)]),"title:append":d(()=>[ye(e.$slots,"header:append",{},void 0,!0)]),_:3},8,["title"]),e.$slots.sidebar?(p(),C(f,{key:0,class:"mobile-sidebar",label:e.sidebarLabel},{default:d(()=>[S("nav",null,[ye(e.$slots,"sidebar",{},void 0,!0)])]),_:3},8,["label"])):R("",!0),ye(e.$slots,"default",{},void 0,!0)],512)])])]),_:3},8,["modelValue","persistent"])}var _L=q(dL,[["render",vL],["__scopeId","data-v-4ea29c7f"]]);const yL=z({props:{error:{type:[Object,Error],required:!0}},setup(e){const{t}=Y(),n=V(()=>{var s,r,m,f,v,_,y,g;return((_=(v=(f=(m=(r=(s=e.error)==null?void 0:s.response)==null?void 0:r.data)==null?void 0:m.errors)==null?void 0:f[0])==null?void 0:v.extensions)==null?void 0:_.code)||((g=(y=e.error)==null?void 0:y.extensions)==null?void 0:g.code)||"UNKNOWN"}),l=V(()=>{var r,m,f,v,_,y;let s=((_=(v=(f=(m=(r=e.error)==null?void 0:r.response)==null?void 0:m.data)==null?void 0:f.errors)==null?void 0:v[0])==null?void 0:_.message)||((y=e.error)==null?void 0:y.message);return s.length>200&&(s=s.substring(0,197)+"..."),s}),i=E(!1),u=V(()=>{var s;return!!((s=navigator.clipboard)==null?void 0:s.writeText)});return{t,code:n,copyError:a,showCopy:u,copied:i,message:l};async function a(){var r,m;const s=((m=(r=e.error)==null?void 0:r.response)==null?void 0:m.data)||e.error;await navigator.clipboard.writeText(JSON.stringify(s,U.exports.isPlainObject(s)?null:Object.getOwnPropertyNames(s),2)),i.value=!0}}}),gL={class:"v-error selectable"};function hL(e,t,n,l,i,u){const a=c("v-icon"),s=Se("tooltip");return p(),I("div",gL,[S("output",null,"["+b(e.code)+"] "+b(e.message),1),e.showCopy?x((p(),C(a,{key:0,small:"",class:"copy-error",name:e.copied?"check":"content_copy",clickable:"",onClick:e.copyError},null,8,["name","onClick"])),[[s,e.t("copy_details")]]):R("",!0)])}var bL=q(yL,[["render",hL],["__scopeId","data-v-7ea421c6"]]);const $L=z({props:{items:{type:Array,required:!0},modelValue:{type:[String,Number],default:null},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const n=V(()=>e.modelValue===null?e.items:e.items.filter(i=>i.value===e.modelValue));return{toggle:l,visibleItems:n};function l(i){e.disabled!==!0&&(e.modelValue===i.value?t("update:modelValue",null):t("update:modelValue",i.value))}}}),wL={class:"v-fancy-select"},kL=["onClick"],SL={class:"icon"},CL={class:"content"},VL={class:"text"},FL={class:"description"};function AL(e,t,n,l,i,u){const a=c("v-divider"),s=c("v-icon");return p(),I("div",wL,[o(zl,{tag:"div",name:"option"},{default:d(()=>[(p(!0),I(ie,null,he(e.visibleItems,(r,m)=>(p(),I(ie,{key:m},[r.divider===!0?(p(),C(a,{key:0})):(p(),I("div",{key:1,class:se(["v-fancy-select-option",{active:r.value===e.modelValue,disabled:e.disabled}]),style:ze({"--index":m}),onClick:f=>e.toggle(r)},[S("div",SL,[o(s,{name:r.icon},null,8,["name"])]),S("div",CL,[S("div",VL,b(r.text),1),S("div",FL,b(r.description),1)]),e.modelValue===r.value&&e.disabled===!1?(p(),C(s,{key:0,name:"cancel",onClick:Fe(f=>e.toggle(r),["stop"])},null,8,["onClick"])):r.iconRight?(p(),C(s,{key:1,class:"icon-right",name:r.iconRight},null,8,["name"])):R("",!0)],14,kL))],64))),128))]),_:1})])}var IL=q($L,[["render",AL],["__scopeId","data-v-70a5597b"]]);const EL=z({name:"FieldListItem",props:{field:{type:Object,required:!0},depth:{type:Number,default:void 0}},emits:["add"],setup(){return{formatTitle:Ft}}});function DL(e,t,n,l,i,u){const a=c("v-list-item-content"),s=c("v-list-item"),r=c("field-list-item",!0),m=c("v-list-group");return e.field.children===void 0||e.depth===0?(p(),C(s,{key:0,disabled:e.field.disabled,clickable:"",onClick:t[0]||(t[0]=f=>e.$emit("add",e.field.key))},{default:d(()=>[o(a,null,{default:d(()=>[D(b(e.field.name||e.formatTitle(e.field.field)),1)]),_:1})]),_:1},8,["disabled"])):(p(),C(m,{key:1,value:e.field.key,clickable:"",onClick:t[2]||(t[2]=f=>e.$emit("add",e.field.key))},{activator:d(()=>[D(b(e.field.name||e.formatTitle(e.field.field)),1)]),default:d(()=>[(p(!0),I(ie,null,he(e.field.children,f=>(p(),C(r,{key:f.key,field:f,depth:e.depth-1,onAdd:t[1]||(t[1]=v=>e.$emit("add",v))},null,8,["field","depth"]))),128))]),_:1},8,["value"]))}var Rs=q(EL,[["render",DL]]);function il(e,t,n=()=>!0){const l=Pe(),i=ut(),u=E([]),a=E(new Set);return _e(()=>e.value,s,{immediate:!0}),{treeList:u,loadFieldRelations:y};function s(g){var $;a.value=new Set,u.value=($=r(g))!=null?$:[];for(const h of u.value)h.children=r(h.relatedCollection,h)}function r(g,$){var A;const h=(A=t==null?void 0:t.value)==null?void 0:A.fields.filter(F=>F.collection===g),k=l.getFieldsForCollection(g).concat(h||[]).filter(F=>{var P,O,T,N;return!((O=(P=F.meta)==null?void 0:P.special)==null?void 0:O.includes("alias"))&&!((N=(T=F.meta)==null?void 0:T.special)==null?void 0:N.includes("no-data"))}).filter(n).flatMap(F=>m(F,$));return k.length>0?k:void 0}function m(g,$){const h=f(g),k=$?$.key+".":"";return h.length<=1?{name:g.name,field:g.field,collection:g.collection,relatedCollection:h[0],key:k+g.field}:h.map(A=>({name:`${g.name} (${A})`,field:`${g.field}:${A}`,collection:g.collection,relatedCollection:A,key:k+`${g.field}:${A}`}))}function f(g){const $=v(g);if(!($==null?void 0:$.meta))return[];switch(Zd({relation:$,collection:g.collection,field:g.field})){case"o2m":return[$.meta.many_collection];case"m2o":return[$.meta.one_collection];case"m2a":return $.meta.one_allowed_collections;default:return[]}}function v(g){var h;return[...i.getRelationsForField(g.collection,g.field),...((h=t==null?void 0:t.value)==null?void 0:h.relations)||[]].find(k=>{var A;return k.collection===g.collection&&k.field===g.field||k.related_collection===g.collection&&((A=k.meta)==null?void 0:A.one_field)===g.field})}function _([g,...$],h){for(const k of h||[])if(k.field===g)return $.length?_($,k.children):k}function y(g){if(!a.value.has(g)){a.value.add(g);const $=_(g.split("."),u.value);for(const h of($==null?void 0:$.children)||[])h.children=r(h.relatedCollection,h)}}}const TL=z({components:{FieldListItem:Rs,Draggable:Ct},props:{disabled:{type:Boolean,default:!1},modelValue:{type:Array,default:null},collection:{type:String,required:!0},depth:{type:Number,default:void 0},inject:{type:Object,default:()=>({fields:[],collections:[],relations:[]})}},emits:["update:modelValue"],setup(e,{emit:t}){const{t:n}=Y(),l=E(!1),{collection:i,inject:u}=Re(e),{info:a}=at(i),{treeList:s,loadFieldRelations:r}=il(i,u),m=V({get(){return e.modelValue||[]},set(h){t("update:modelValue",h)}}),f=V({get(){return m.value.map(h=>{var k;return{field:h,name:(k=_(s.value,h.split(".")))==null?void 0:k.name}})},set(h){m.value=h.map(k=>k.field)}}),v=V(()=>y(s.value));return{t:n,menuActive:l,addField:$,removeField:g,availableFields:v,selectedFields:f,hideDragImage:Bt,treeList:s,loadFieldRelations:r,collectionInfo:a};function _(h,k){if(h===void 0)return;const A=h.find(F=>F.field===k[0]);if(A!==void 0)return k.length===1?A:_(A.children,k.slice(1))}function y(h,k=""){if(h===void 0)return;const A=h.map(F=>({name:F.name,field:F.field,key:F.key,disabled:m.value.includes(k+F.field),children:y(F.children,k+F.field+".")}));return A.length===0?void 0:A}function g(h){m.value=m.value.filter(k=>k!==h)}function $(h){const k=m.value;k.push(h),m.value=[...new Set(k)]}}});function PL(e,t,n,l,i,u){const a=c("v-notice"),s=c("v-chip"),r=c("v-icon"),m=c("v-button"),f=c("field-list-item"),v=c("v-list"),_=c("v-menu"),y=c("draggable"),g=Se("tooltip");return!e.availableFields||e.availableFields.length===0?(p(),C(a,{key:0},{default:d(()=>[D(b(e.t("no_fields_in_collection",{collection:e.collectionInfo&&e.collectionInfo.name||e.collection})),1)]),_:1})):(p(),C(y,{key:1,modelValue:e.selectedFields,"onUpdate:modelValue":t[2]||(t[2]=$=>e.selectedFields=$),"force-fallback":!0,"item-key":"field",draggable:".draggable","set-data":e.hideDragImage,class:"v-field-select"},{item:d(({element:$})=>[x(o(s,{clickable:"",class:"field draggable",onClick:h=>e.removeField($.field)},{default:d(()=>[D(b($.name),1)]),_:2},1032,["onClick"]),[[g,$.field]])]),footer:d(()=>[o(_,{modelValue:e.menuActive,"onUpdate:modelValue":t[1]||(t[1]=$=>e.menuActive=$),"show-arrow":"",class:"add",placement:"bottom"},{activator:d(({toggle:$})=>[o(m,{small:"",onClick:$},{default:d(()=>[D(b(e.t("add_field"))+" ",1),o(r,{small:"",name:"add"})]),_:2},1032,["onClick"])]),default:d(()=>[o(v,{mandatory:!1,onToggle:t[0]||(t[0]=$=>e.loadFieldRelations($.value))},{default:d(()=>[(p(!0),I(ie,null,he(e.availableFields,$=>(p(),C(f,{key:$.key,field:$,depth:e.depth,onAdd:e.addField},null,8,["field","depth","onAdd"]))),128))]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue","set-data"]))}var OL=q(TL,[["render",PL],["__scopeId","data-v-21e81fb0"]]);const LL=z({components:{FieldListItem:Rs},props:{disabled:{type:Boolean,default:!1},modelValue:{type:String,default:null},nullable:{type:Boolean,default:!0},collection:{type:String,default:null},depth:{type:Number,default:void 0},placeholder:{type:String,default:null},inject:{type:Object,default:null}},emits:["update:modelValue"],setup(e,{emit:t}){const n=E(null),l=E(!1),{collection:i,inject:u}=Re(e),{treeList:a,loadFieldRelations:s}=il(i,u);return _e(()=>e.modelValue,k,{immediate:!0}),it(()=>{n.value&&(n.value.addEventListener("selectstart",v),k())}),St(()=>{n.value&&n.value.removeEventListener("selectstart",v)}),{menuActive:l,treeList:a,addField:_,onInput:r,contentEl:n,onClick:m,loadFieldRelations:s,onKeyDown:f};function r(){if(!n.value)return;const A=h();t("update:modelValue",A)}function m(A){var N;const F=A.target;if(F.tagName.toLowerCase()!=="button")return;const P=F.dataset.field;t("update:modelValue",e.modelValue.replace(`{{${P}}}`,""));const O=F.previousElementSibling,T=F.nextElementSibling;!O||!T||!(O instanceof HTMLElement)||!(T instanceof HTMLElement)||(F.remove(),g(O,T),(N=window.getSelection())==null||N.removeAllRanges(),r())}function f(A){var F;(A.key==="{"||A.key==="}")&&(A.preventDefault(),l.value=!0),((F=n.value)==null?void 0:F.innerHTML)===""&&(n.value.innerHTML='<span class="text"></span>')}function v(){var O;if(!n.value)return;const A=window.getSelection();if(!A||A.rangeCount<=0)return;const F=A.getRangeAt(0);if(!F)return;const P=F.startContainer;if(!(P instanceof HTMLElement&&P.classList.contains("text"))&&!((O=P.parentElement)==null?void 0:O.classList.contains("text"))){A.removeAllRanges();const T=new Range;let N=null;for(let L=0;L<n.value.childNodes.length||!N;L++){const M=n.value.children[L];M.classList.contains("text")&&(N=M)}N||(N=document.createElement("span"),N.classList.add("text"),n.value.appendChild(N)),T.setStart(N,0),A.addRange(T)}}function _(A){var N,L,M,B;if(!n.value)return;const F=y(a.value,A.split("."));if(!F)return;const P=document.createElement("button");if(P.dataset.field=A,P.setAttribute("contenteditable","false"),P.innerText=String(F.name),((N=window.getSelection())==null?void 0:N.rangeCount)==0){const K=document.createRange();K.selectNodeContents(n.value.children[0]),(L=window.getSelection())==null||L.addRange(K)}const O=(M=window.getSelection())==null?void 0:M.getRangeAt(0);if(!O)return;O.deleteContents();const T=$();if(T)n.value.insertBefore(P,T),(B=window.getSelection())==null||B.removeAllRanges();else{n.value.appendChild(P);const K=document.createElement("span");K.classList.add("text"),n.value.appendChild(K)}r()}function y(A,F){if(A===void 0)return;const P=A.find(O=>O.field===F[0]);if(P!==void 0)return F.length===1?P:y(P.children,F.slice(1))}function g(A,F){A.innerText+=F.innerText,F.remove()}function $(){var M,B,K,W;const A=(M=window.getSelection())==null?void 0:M.getRangeAt(0);if(!A)return;const F=A.startContainer;if(F.nodeType!==Node.TEXT_NODE)return;const P=F.parentElement;if(!P||!(P instanceof HTMLSpanElement)||!P.classList.contains("text"))return;const O=A.startOffset,T=((B=P.textContent)==null?void 0:B.substr(0,O))||"",N=((K=P.textContent)==null?void 0:K.substr(O))||"";P.innerText=T;const L=document.createElement("span");return L.classList.add("text"),L.innerText=N,(W=n.value)==null||W.insertBefore(L,P.nextSibling),L}function h(){if(!n.value)return null;const A=Array.from(n.value.childNodes).reduce((F,P)=>{const O=P,T=O.tagName;return T&&T.toLowerCase()==="button"?F+=`{{${O.dataset.field}}}`:"textContent"in O?F+=O.textContent:F+=""},"");return e.nullable===!0&&A===""?null:A}function k(){if(!!n.value){if(e.modelValue===null||e.modelValue===""){n.value.innerHTML='<span class="text"></span>';return}if(e.modelValue!==h()){const A=/({{.*?}})/g,F=e.modelValue.split(A).map(P=>{if(P.startsWith("{{")===!1)return`<span class="text">${P}</span>`;const O=P.replace(/({|})/g,"").trim(),T=O.split(".");for(let L=0;L<T.length;L++)s(T.slice(0,L).join("."));const N=y(a.value,T);return N?`<button contenteditable="false" data-field="${O}" ${e.disabled?"disabled":""}>${N.name}</button>`:""}).join("");n.value.innerHTML=F}}}}}),jL=e=>(We("data-v-4b6d5b31"),e=e(),Ge(),e),RL=["contenteditable"],ML=jL(()=>S("span",{class:"text"},null,-1)),UL=[ML],NL={key:0,class:"placeholder"};function BL(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-input"),r=c("field-list-item"),m=c("v-list"),f=c("v-menu");return p(),C(f,{modelValue:e.menuActive,"onUpdate:modelValue":t[4]||(t[4]=v=>e.menuActive=v),attached:""},{activator:d(({toggle:v})=>[o(s,{disabled:e.disabled},{input:d(()=>[S("span",{ref:"contentEl",class:"content",contenteditable:!e.disabled,onKeydown:t[0]||(t[0]=(..._)=>e.onKeyDown&&e.onKeyDown(..._)),onInput:t[1]||(t[1]=(..._)=>e.onInput&&e.onInput(..._)),onClick:t[2]||(t[2]=(..._)=>e.onClick&&e.onClick(..._))},UL,40,RL),e.placeholder&&!e.modelValue?(p(),I("span",NL,b(e.placeholder),1)):R("",!0)]),append:d(()=>[o(a,{name:"add_box",outline:"",clickable:"",disabled:e.disabled,onClick:v},null,8,["disabled","onClick"])]),_:2},1032,["disabled"])]),default:d(()=>[e.disabled?R("",!0):(p(),C(m,{key:0,mandatory:!1,onToggle:t[3]||(t[3]=v=>e.loadFieldRelations(v.value))},{default:d(()=>[(p(!0),I(ie,null,he(e.treeList,v=>(p(),C(r,{key:v.field,field:v,depth:e.depth,onAdd:e.addField},null,8,["field","depth","onAdd"]))),128))]),_:1}))]),_:1},8,["modelValue"])}var qL=q(LL,[["render",BL],["__scopeId","data-v-4b6d5b31"]]);const zL=z({props:{batchMode:{type:Boolean,default:!1},batchActive:{type:Boolean,default:!1},field:{type:Object,required:!0},disabled:{type:Boolean,default:!1},toggle:{type:Function,required:!0},active:{type:Boolean,default:!1},edited:{type:Boolean,default:!1},hasError:{type:Boolean,default:!1},badge:{type:String,default:null},loading:{type:Boolean,default:!1}},emits:["toggle-batch"],setup(){const{t:e}=Y();return{t:e}}});function KL(e,t,n,l,i,u){var f;const a=c("v-checkbox"),s=c("v-icon"),r=c("v-chip"),m=Se("tooltip");return p(),I("div",{class:se(["label type-label",{disabled:e.disabled,edited:e.edited&&!e.batchMode&&!e.hasError&&!e.loading}])},[e.batchMode?(p(),C(a,{key:0,"model-value":e.batchActive,value:e.field.field,"onUpdate:modelValue":t[0]||(t[0]=v=>e.$emit("toggle-batch",e.field))},null,8,["model-value","value"])):R("",!0),x(S("span",{class:"field-name",onClick:t[1]||(t[1]=(...v)=>e.toggle&&e.toggle(...v))},[D(b(e.field.name)+" ",1),((f=e.field.meta)==null?void 0:f.required)===!0?(p(),C(s,{key:0,class:"required",sup:"",name:"star"})):R("",!0),e.disabled?R("",!0):(p(),C(s,{key:1,class:se(["ctx-arrow",{active:e.active}]),name:"arrow_drop_down"},null,8,["class"]))],512),[[m,e.edited?e.t("edited"):null]]),e.badge?(p(),C(r,{key:1,"x-small":""},{default:d(()=>[D(b(e.badge),1)]),_:1})):R("",!0)],2)}var HL=q(zL,[["render",KL],["__scopeId","data-v-792c5ca7"]]);const WL=z({props:{field:{type:Object,required:!0},modelValue:{type:[String,Number,Object,Array,Boolean],default:null},initialValue:{type:[String,Number,Object,Array,Boolean],default:null}},emits:["update:modelValue","unset","edit-raw"],setup(e){const{t}=Y(),n=V(()=>{var u,a;const i=(a=(u=e.field)==null?void 0:u.schema)==null?void 0:a.default_value;return i!==void 0?i:null}),l=V(()=>{var i,u;return((u=(i=e.field)==null?void 0:i.schema)==null?void 0:u.is_nullable)===!1});return{t,defaultValue:n,isRequired:l}}});function GL(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-list-item-icon"),r=c("v-list-item-content"),m=c("v-list-item"),f=c("v-list");return p(),C(f,null,{default:d(()=>[e.defaultValue===null||!e.isRequired?(p(),C(m,{key:0,disabled:e.modelValue===null,clickable:"",onClick:t[0]||(t[0]=v=>e.$emit("update:modelValue",null))},{default:d(()=>[o(s,null,{default:d(()=>[o(a,{name:"delete_outline"})]),_:1}),o(r,null,{default:d(()=>[D(b(e.t("clear_value")),1)]),_:1})]),_:1},8,["disabled"])):R("",!0),e.defaultValue!==null?(p(),C(m,{key:1,disabled:e.modelValue===e.defaultValue,clickable:"",onClick:t[1]||(t[1]=v=>e.$emit("update:modelValue",e.defaultValue))},{default:d(()=>[o(s,null,{default:d(()=>[o(a,{name:"settings_backup_restore"})]),_:1}),o(r,null,{default:d(()=>[D(b(e.t("reset_to_default")),1)]),_:1})]),_:1},8,["disabled"])):R("",!0),e.initialValue?(p(),C(m,{key:2,disabled:e.initialValue===void 0||e.modelValue===e.initialValue,clickable:"",onClick:t[2]||(t[2]=v=>e.$emit("unset",e.field))},{default:d(()=>[o(s,null,{default:d(()=>[o(a,{name:"undo"})]),_:1}),o(r,null,{default:d(()=>[D(b(e.t("undo_changes")),1)]),_:1})]),_:1},8,["disabled"])):R("",!0),o(m,{clickable:"",onClick:t[3]||(t[3]=v=>e.$emit("edit-raw"))},{default:d(()=>[o(s,null,{default:d(()=>[o(a,{name:"code"})]),_:1}),o(r,null,{default:d(()=>[D(b(e.t("raw_value")),1)]),_:1})]),_:1})]),_:1})}var JL=q(WL,[["render",GL]]);const QL=z({props:{field:{type:Object,required:!0},batchMode:{type:Boolean,default:!1},batchActive:{type:Boolean,default:!1},primaryKey:{type:[Number,String],default:null},modelValue:{type:[String,Number,Object,Array,Boolean],default:void 0},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e){const{t}=Y(),n=V(()=>{var l,i;return!!Dt(((i=(l=e.field)==null?void 0:l.meta)==null?void 0:i.interface)||"input")});return{t,interfaceExists:n,getDefaultInterfaceForType:bs}}});function XL(e,t,n,l,i,u){var r;const a=c("v-skeleton-loader"),s=c("v-notice");return p(),I("div",{class:se(["interface",{subdued:e.batchMode&&e.batchActive===!1}])},[e.loading&&e.field.hideLoader!==!0?(p(),C(a,{key:0})):R("",!0),e.interfaceExists?(p(),C(Ue(e.field.meta&&e.field.meta.interface?`interface-${e.field.meta.interface}`:`interface-${e.getDefaultInterfaceForType(e.field.type)}`),dt({key:1},e.field.meta&&e.field.meta.options||{},{autofocus:e.disabled!==!0&&e.autofocus,disabled:e.disabled,loading:e.loading,value:e.modelValue===void 0?(r=e.field.schema)==null?void 0:r.default_value:e.modelValue,width:e.field.meta&&e.field.meta.width||"full",type:e.field.type,collection:e.field.collection,field:e.field.field,"field-data":e.field,"primary-key":e.primaryKey,length:e.field.schema&&e.field.schema.max_length,onInput:t[0]||(t[0]=m=>e.$emit("update:modelValue",m))}),null,16,["autofocus","disabled","loading","value","width","type","collection","field","field-data","primary-key","length"])):(p(),C(s,{key:2,type:"warning"},{default:d(()=>[D(b(e.t("interface_not_found",{interface:e.field.meta&&e.field.meta.interface})),1)]),_:1}))],2)}var ZL=q(QL,[["render",XL],["__scopeId","data-v-6f93e439"]]);function YL(e){var t;return["bigInteger","integer","float","decimal"].includes(e.type)?"number":["string","text","uuid","hash"].includes(e.type)?"string":["boolean"].includes(e.type)?"boolean":["time","timestamp","date","dateTime"].includes(e.type)?"string":["json","csv"].includes(e.type)||Array.isArray((t=e.meta)==null?void 0:t.special)&&e.meta.special.some(n=>["o2m","m2m","m2a","files","translations"].includes(n))?"object":"undefined"}const xL=z({components:{FormFieldLabel:HL,FormFieldMenu:JL,FormFieldInterface:ZL},props:{field:{type:Object,required:!0},batchMode:{type:Boolean,default:!1},batchActive:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},modelValue:{type:[String,Number,Object,Array,Boolean],default:void 0},initialValue:{type:[String,Number,Object,Array,Boolean],default:void 0},primaryKey:{type:[String,Number],default:null},loading:{type:Boolean,default:!1},validationError:{type:Object,default:null},autofocus:{type:Boolean,default:!1},badge:{type:String,default:null}},emits:["toggle-batch","unset","update:modelValue"],setup(e,{emit:t}){const{t:n}=Y(),l=V(()=>{var _,y;return!!(e.disabled||((y=(_=e.field)==null?void 0:_.meta)==null?void 0:y.readonly)===!0||e.batchMode&&e.batchActive===!1)}),i=V(()=>{var y,g;const _=(g=(y=e.field)==null?void 0:y.schema)==null?void 0:g.default_value;if(_!==void 0)return _}),u=V(()=>e.modelValue!==void 0?e.modelValue:e.initialValue!==void 0?e.initialValue:i.value),a=V(()=>e.modelValue!==void 0&&U.exports.isEqual(e.modelValue,e.initialValue)===!1),{showRaw:s,rawValue:r}=v(),m=V(()=>e.validationError?e.validationError.code==="RECORD_NOT_UNIQUE"?n("validationError.unique"):n(`validationError.${e.validationError.type}`,e.validationError):null);return{t:n,isDisabled:l,internalValue:u,emitValue:f,showRaw:s,rawValue:r,validationMessage:m,isEdited:a};function f(_){(U.exports.isEqual(_,e.initialValue)||e.initialValue===void 0&&U.exports.isEqual(_,i.value))&&e.batchMode===!1?t("unset",e.field):t("update:modelValue",_)}function v(){const _=E(!1),y=V(()=>YL(e.field)),g=V({get(){switch(y.value){case"object":return JSON.stringify(u.value,null,"	");case"string":case"number":case"boolean":default:return u.value}},set($){switch(y.value){case"string":t("update:modelValue",$);break;case"number":t("update:modelValue",Number($));break;case"boolean":t("update:modelValue",$==="true");break;case"object":t("update:modelValue",JSON.parse($));break;default:t("update:modelValue",$);break}}});return{showRaw:_,rawValue:g}}}}),ej={key:1,class:"label-spacer"},tj={key:2,class:"type-note"},nj={key:3,class:"validation-error"};function lj(e,t,n,l,i,u){var A;const a=c("form-field-label"),s=c("form-field-menu"),r=c("v-menu"),m=c("form-field-interface"),f=c("v-card-title"),v=c("v-textarea"),_=c("v-card-text"),y=c("v-button"),g=c("v-card-actions"),$=c("v-card"),h=c("v-dialog"),k=Se("md");return p(),I("div",{key:e.field.field,class:se(["field",[((A=e.field.meta)==null?void 0:A.width)||"full",{invalid:e.validationError}]])},[e.field.hideLabel!==!0?(p(),C(r,{key:0,placement:"bottom-start","show-arrow":"",disabled:e.isDisabled},{activator:d(({toggle:F,active:P})=>[o(a,{field:e.field,toggle:F,active:P,disabled:e.isDisabled,"batch-mode":e.batchMode,"batch-active":e.batchActive,edited:e.isEdited,"has-error":!!e.validationError,badge:e.badge,loading:e.loading,onToggleBatch:t[0]||(t[0]=O=>e.$emit("toggle-batch",O))},null,8,["field","toggle","active","disabled","batch-mode","batch-active","edited","has-error","badge","loading"])]),default:d(()=>[o(s,{field:e.field,"model-value":e.internalValue,"initial-value":e.initialValue,"onUpdate:modelValue":t[1]||(t[1]=F=>e.emitValue(F)),onUnset:t[2]||(t[2]=F=>e.$emit("unset",F)),onEditRaw:t[3]||(t[3]=F=>e.showRaw=!0)},null,8,["field","model-value","initial-value"])]),_:1},8,["disabled"])):["full","fill"].includes(e.field.meta&&e.field.meta.width)===!1?(p(),I("div",ej)):R("",!0),o(m,{autofocus:e.autofocus,"model-value":e.internalValue,field:e.field,loading:e.loading,"batch-mode":e.batchMode,"batch-active":e.batchActive,disabled:e.isDisabled,"primary-key":e.primaryKey,"onUpdate:modelValue":t[4]||(t[4]=F=>e.emitValue(F))},null,8,["autofocus","model-value","field","loading","batch-mode","batch-active","disabled","primary-key"]),o(h,{modelValue:e.showRaw,"onUpdate:modelValue":t[7]||(t[7]=F=>e.showRaw=F),onEsc:t[8]||(t[8]=F=>e.showRaw=!1)},{default:d(()=>[o($,null,{default:d(()=>[o(f,null,{default:d(()=>[D(b(e.t("edit_raw_value")),1)]),_:1}),o(_,null,{default:d(()=>[o(v,{modelValue:e.rawValue,"onUpdate:modelValue":t[5]||(t[5]=F=>e.rawValue=F),class:"raw-value",placeholder:e.t("enter_raw_value")},null,8,["modelValue","placeholder"])]),_:1}),o(g,null,{default:d(()=>[o(y,{onClick:t[6]||(t[6]=F=>e.showRaw=!1)},{default:d(()=>[D(b(e.t("done")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e.field.meta&&e.field.meta.note?x((p(),I("small",tj,null,512)),[[k,e.field.meta.note]]):R("",!0),e.validationError?(p(),I("small",nj,b(e.validationMessage),1)):R("",!0)],2)}var oj=q(xL,[["render",lj],["__scopeId","data-v-8b7a0738"]]);const aj=z({name:"VForm",components:{FormField:oj},props:{collection:{type:String,default:void 0},fields:{type:Array,default:void 0},initialValues:{type:Object,default:null},modelValue:{type:Object,default:null},loading:{type:Boolean,default:!1},batchMode:{type:Boolean,default:!1},primaryKey:{type:[String,Number],default:null},disabled:{type:Boolean,default:!1},validationErrors:{type:Array,default:()=>[]},autofocus:{type:Boolean,default:!1},group:{type:String,default:null},badge:{type:String,default:null}},emits:["update:modelValue"],setup(e,{emit:t}){const{t:n}=Y(),l=Pe(),i=V(()=>Object.assign({},e.initialValues,e.modelValue)),u=E(),{width:a}=Zn(u),s=V(()=>u.value===null?null:a.value>792?"grid with-fill":"grid"),{formFields:r,getFieldsForGroup:m,fieldsForGroup:f,isDisabled:v}=h(),{toggleBatchField:_,batchActiveFields:y}=P(),g=V(()=>{var O,T;for(let N=0;N<r.value.length;N++)if(r.value[N].meta&&!((O=r.value[N].meta)==null?void 0:O.readonly)&&!((T=r.value[N].meta)==null?void 0:T.hidden))return N;return null}),$=V(()=>{const O=m(e.group),T=O.map(L=>L.field),N=r.value.map(L=>L.field);return e.validationErrors.filter(L=>{var B,K;let M=N.includes(L.field)===!1&&T.includes(L.field);return e.group===null&&(M=M&&((K=(B=O.find(W=>W.field===L.field))==null?void 0:B.meta)==null?void 0:K.group)===null),M})});return Yt("values",i),{t:n,formFields:r,values:i,setValue:k,batchActiveFields:y,toggleBatchField:_,unsetValue:F,unknownValidationErrors:$,firstEditableFieldIndex:g,isNil:U.exports.isNil,apply:A,el:u,gridClass:s,omit:U.exports.omit,getFieldsForGroup:m,fieldsForGroup:f,isDisabled:v};function h(){const O=V(()=>{if(e.collection)return l.getFieldsForCollection(e.collection);if(e.fields)return e.fields;throw new Error("[v-form]: You need to pass either the collection or fields prop.")}),T=V(()=>O.value.reduce(function(le,G){var Q,fe;return((Q=G.schema)==null?void 0:Q.default_value)!==void 0&&!(G.schema.is_primary_key&&G.schema.data_type==="integer"&&typeof G.schema.default_value=="string")&&(le[G.field]=(fe=G.schema)==null?void 0:fe.default_value),le},{})),N=V(()=>{if(e.group!==null)return O.value;const le=Q=>{var fe,ue;if(((fe=Q.schema)==null?void 0:fe.has_auto_increment)===!0||((ue=Q.schema)==null?void 0:ue.is_primary_key)===!0&&e.primaryKey!=="+"){const ne=U.exports.cloneDeep(Q);return ne.meta||(ne.meta={}),ne.meta.readonly=!0,ne}return Q},G=Object.assign({},T.value,i.value);return O.value.map(Q=>Oa(G,le(Q)))}),L=V(()=>N.value.filter(le=>{var G,Q;return((G=le.meta)==null?void 0:G.group)===e.group||e.group===null&&U.exports.isNil((Q=le.meta)==null?void 0:Q.group)})),{formFields:M}=$s(L),B=V(()=>M.value.map(le=>W(le.meta.field)));return{formFields:M,isDisabled:K,getFieldsForGroup:W,fieldsForGroup:B};function K(le){var G,Q;return e.loading||e.disabled===!0||((G=le.meta)==null?void 0:G.readonly)===!0||((Q=le.schema)==null?void 0:Q.is_generated)===!0||e.batchMode&&y.value.includes(le.field)===!1}function W(le){var Q,fe;const G=N.value.filter(ue=>{var ne;return((ne=ue.meta)==null?void 0:ne.group)===le||le===null&&U.exports.isNil(ue.meta)});for(const ue of G)((fe=(Q=ue.meta)==null?void 0:Q.special)==null?void 0:fe.includes("group"))&&G.push(...W(ue.meta.field));return G}}function k(O,T){const N=e.modelValue?U.exports.cloneDeep(e.modelValue):{};N[O.field]=T,t("update:modelValue",N)}function A(O){t("update:modelValue",U.exports.pick(U.exports.assign({},e.modelValue,O),Object.keys(O)))}function F(O){if(O.field in(e.modelValue||{})){const T=pe({},e.modelValue);delete T[O.field],t("update:modelValue",T)}}function P(){const O=E([]);return{batchActiveFields:O,toggleBatchField:T};function T(N){var L;O.value.includes(N.field)?(O.value=O.value.filter(M=>M!==N.field),F(N)):(O.value=[...O.value,N.field],k(N,(L=N.schema)==null?void 0:L.default_value))}}}}),ij={key:0};function sj(e,t,n,l,i,u){const a=c("v-notice"),s=c("form-field");return p(),I("div",{ref:"el",class:se(["v-form",e.gridClass])},[e.unknownValidationErrors.length>0?(p(),C(a,{key:0,type:"danger",class:"full"},{default:d(()=>[S("div",null,[S("p",null,b(e.t("unknown_validation_errors")),1),S("ul",null,[(p(!0),I(ie,null,he(e.unknownValidationErrors,(r,m)=>(p(),I("li",{key:m},[r.field?(p(),I("strong",ij,b(r.field)+":",1)):R("",!0),r.code==="RECORD_NOT_UNIQUE"?(p(),I(ie,{key:1},[D(b(e.t("validationError.unique",r)),1)],64)):(p(),I(ie,{key:2},[D(b(e.t(`validationError.${r.code}`,r)),1)],64))]))),128))])])]),_:1})):R("",!0),(p(!0),I(ie,null,he(e.formFields,(r,m)=>{var f,v,_,y,g,$,h;return p(),I(ie,null,[((v=(f=r.meta)==null?void 0:f.special)==null?void 0:v.includes("group"))?x((p(),C(Ue(`interface-${((_=r.meta)==null?void 0:_.interface)||"group-standard"}`),dt({key:0,key:r.field,class:((y=r.meta)==null?void 0:y.width)||"full",field:r,fields:e.fieldsForGroup[m],values:e.modelValue||{},"initial-values":e.initialValues||{},disabled:e.disabled,"batch-mode":e.batchMode,"batch-active-fields":e.batchActiveFields,"primary-key":e.primaryKey,loading:e.loading,"validation-errors":e.validationErrors},((g=r.meta)==null?void 0:g.options)||{},{onApply:e.apply}),null,16,["class","field","fields","values","initial-values","disabled","batch-mode","batch-active-fields","primary-key","loading","validation-errors","onApply"])),[[Et,!(($=r.meta)==null?void 0:$.hidden)]]):x((p(),C(s,{key:r.field,field:r,autofocus:m===e.firstEditableFieldIndex&&e.autofocus,"model-value":(e.values||{})[r.field],"initial-value":(e.initialValues||{})[r.field],disabled:e.isDisabled(r),"batch-mode":e.batchMode,"batch-active":e.batchActiveFields.includes(r.field),"primary-key":e.primaryKey,loading:e.loading,"validation-error":e.validationErrors.find(k=>k.field===r.field),badge:e.badge,"onUpdate:modelValue":k=>e.setValue(r,k),onUnset:k=>e.unsetValue(r),onToggleBatch:k=>e.toggleBatchField(r)},null,8,["field","autofocus","model-value","initial-value","disabled","batch-mode","batch-active","primary-key","loading","validation-error","badge","onUpdate:modelValue","onUnset","onToggleBatch"])),[[Et,!((h=r.meta)==null?void 0:h.hidden)]])],64)}),256))],2)}var rj=q(aj,[["render",sj],["__scopeId","data-v-0429ddc3"]]);const dj=z({props:{closeDelay:{type:Number,default:0},openDelay:{type:Number,default:0},disabled:{type:Boolean,default:!1},tag:{type:String,default:"div"}},setup(e){const t=E(!1);return{hover:t,onMouseEnter:n,onMouseLeave:l};function n(){e.disabled!==!0&&setTimeout(()=>{t.value=!0},e.openDelay)}function l(){e.disabled!==!0&&setTimeout(()=>{t.value=!1},e.closeDelay)}}});function uj(e,t,n,l,i,u){return p(),C(Ue(e.tag),{onMouseenter:e.onMouseEnter,onMouseleave:e.onMouseLeave},{default:d(()=>[ye(e.$slots,"default",He(Xe({hover:e.hover})))]),_:3},8,["onMouseenter","onMouseleave"])}var cj=q(dj,[["render",uj]]);const pj=z({name:"VHighlight",props:{query:{type:[String,Array],default:null},text:{type:String,default:""}},setup(e){return{parts:V(()=>{let n=ua(e.text.toLowerCase());const l=vl(e.query);if(l.length===0)return[{highlighted:!1,text:e.text}];const i=U.exports.flatten(l.filter(f=>f).map(f=>{f=ua(f.toLowerCase());const v=[];let _=0,y=n.indexOf(f,_);for(;y>-1;)_=y+f.length,v.push([y,_]),y=n.indexOf(f,y+1);return v}));if(i.sort((f,v)=>f[0]!==v[0]?f[0]-v[0]:f[1]-v[1]),i.length===0)return[{highlighted:!1,text:e.text}];const u=[];let a=i[0][0],s=i[0][1];i.shift();for(const[f,v]of i)f>=s?(u.push([a,s]),a=f,s=v):v>s&&(s=v);u.push([a,s]);let r=0;const m=[];for(const[f,v]of u)r!==f&&m.push({highlighted:!1,text:e.text.slice(r,f)}),m.push({highlighted:!0,text:e.text.slice(f,v)}),r=v;return r!==n.length&&m.push({highlighted:!1,text:e.text.slice(r)}),m})}}});function mj(e,t,n,l,i,u){return p(!0),I(ie,null,he(e.parts,({highlighted:a,text:s},r)=>(p(),I(ie,null,[a?(p(),I("mark",{key:r,class:"highlight"},b(s),1)):(p(),I(ie,{key:1},[D(b(s),1)],64))],64))),256)}var fj=q(pj,[["render",mj],["__scopeId","data-v-40e82be6"]]);const vj={},_j={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},yj=S("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M19.2 14.15a1.8 1.8 0 01-.35-.12c-.1-.05-.14-.18-.13-.3.02-.41-.01-.78.03-1.2.18-1.85 1.38-1.26 2.46-1.57.58-.16 1.17-.47 1.42-1.06.07-.16.02-.35-.1-.48a13.66 13.66 0 00-2.27-1.98 14.25 14.25 0 00-9.85-2.31.2.2 0 00-.15.32A5.17 5.17 0 0011.93 7c.1.06.06.2-.06.18-.3-.06-.68-.18-1.06-.4a.43.43 0 00-.38-.05l-.44.18a.2.2 0 00-.05.34 5.32 5.32 0 006.14.42c.1-.06.25.07.22.18-.07.21-.15.52-.23.95-.48 2.37-1.87 2.18-3.58 1.59-3.36-1.19-5.3-.22-7-2.1-.19-.21-.5-.29-.7-.09a1.55 1.55 0 00.1 2.29c.15.12.36.07.5-.06.07-.06.13-.1.21-.14.1-.04.16.11.07.18-.4.33-.51.7-.76 1.48-.38 1.16-.22 2.36-1.98 2.67-.93.04-.91.66-1.25 1.58A5.2 5.2 0 01.3 18.27c-.4.41-.44 1.18.14 1.23.18 0 .36-.03.55-.1.99-.4 1.75-1.65 2.47-2.46.8-.9 2.72-.51 4.17-1.4.82-.48 1.3-1.1 1.08-2.07-.02-.12.12-.2.18-.09.1.2.18.41.23.63.05.22.25.39.47.4 1.36.1 3.02 1.3 4.63 1.88.32.11.56-.26.43-.57-.1-.24-.18-.48-.23-.7-.02-.13.16-.16.22-.05a3.5 3.5 0 002.88 1.88c.46.03.97-.02 1.5-.18.63-.18 1.22-.42 1.91-.3.52.1 1 .36 1.3.79.36.5 1.04.7 1.54.38.28-.19.29-.58.13-.87-1.14-2.08-3.61-2.25-4.7-2.52z"},null,-1),gj=[yj];function hj(e,t,n,l,i,u){return p(),I("svg",_j,gj)}var bj=q(vj,[["render",hj]]);const $j={},wj={viewBox:"0 0 24 24",width:"24",height:"24",fill:"none","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2",xmlns:"http://www.w3.org/2000/svg"},kj=S("path",{d:"M18.38 3.6c-.38-.4-.83-.6-1.36-.6H6.98c-.53 0-1 .2-1.4.6-.38.42-.56.88-.56 1.42V21L12 18l6.98 3V5.02c0-.54-.2-1-.6-1.41zm-8.05 11.5l6.7-6.7-1.4-1.4-5.3 5.3-1.92-1.93L7 11.79l3.33 3.33z"},null,-1),Sj=[kj];function Cj(e,t,n,l,i,u){return p(),I("svg",wj,Sj)}var Vj=q($j,[["render",Cj]]);const Fj={},Aj={viewBox:"0 0 22 22",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},Ij=S("path",{d:"M2.036 16.961l8.578 3.944a.886.886 0 00.772 0l8.576-3.944c.357-.164.536-.443.536-.836V5.875a.924.924 0 00-.016-.166v-.048a.95.95 0 00-.037-.118l-.014-.039a.91.91 0 00-.073-.138l-.021-.03a1.067 1.067 0 00-.081-.097l-.043-.03a.901.901 0 00-.102-.083l-.025-.018a1.003 1.003 0 00-.124-.069l-8.578-3.944a.886.886 0 00-.772 0L2.036 5.039a.935.935 0 00-.124.069l-.025.018a.901.901 0 00-.102.083l-.03.032a.915.915 0 00-.08.097l-.021.03a.916.916 0 00-.074.138l-.025.037a1.006 1.006 0 00-.037.118v.048a.924.924 0 00-.016.166v10.25c0 .393.178.671.534.836zm1.306-9.646l6.735 3.102v8.223l-6.735-3.104V7.315zm8.578 11.323v-8.221l6.735-3.102v8.223l-6.735 3.1zm-.921-15.7l6.376 2.937-6.376 2.937-6.376-2.937 6.376-2.937z"},null,-1),Ej=[Ij];function Dj(e,t,n,l,i,u){return p(),I("svg",Aj,Ej)}var Tj=q(Fj,[["render",Dj]]);const Pj={},Oj={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},Lj=S("path",{d:"M10.588 13.412c.408.408.879.611 1.412.611.533 0 1.004-.203 1.412-.611.408-.408.611-.879.611-1.412 0-.533-.203-1.004-.611-1.412-.408-.408-.879-.612-1.412-.612-.533 0-1.004.204-1.412.612-.408.408-.612.879-.612 1.412 0 .533.204 1.004.612 1.412zM9.176 9.176C9.961 8.392 10.902 8 12 8c1.098 0 2.04.392 2.823 1.176C15.608 9.961 16 10.902 16 12c0 1.098-.392 2.04-1.177 2.823C14.04 15.608 13.098 16 12 16c-1.098 0-2.04-.392-2.824-1.177C8.392 14.04 8 13.098 8 12c0-1.098.392-2.04 1.176-2.824z"},null,-1),jj=S("path",{d:"M13 3v6h-2V3h2zM13 15v6h-2v-6h2z"},null,-1),Rj=[Lj,jj];function Mj(e,t,n,l,i,u){return p(),I("svg",Oj,Rj)}var Uj=q(Pj,[["render",Mj]]);const Nj={},Bj={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},qj=S("path",{d:"M3 3h18v18H3z"},null,-1),zj=[qj];function Kj(e,t,n,l,i,u){return p(),I("svg",Bj,zj)}var Hj=q(Nj,[["render",Kj]]);const Wj={},Gj={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},Jj=S("path",{d:"M11 2H2v9h9V2zm0 11H2v9h9v-9zm2-11h9v9h-9V2zm9 11h-9v9h9v-9z"},null,-1),Qj=[Jj];function Xj(e,t,n,l,i,u){return p(),I("svg",Gj,Qj)}var Zj=q(Wj,[["render",Xj]]);const Yj={},xj={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},eR=S("path",{d:"M1 1h6v6H1V1zm0 8h6v6H1V9zm6 8H1v6h6v-6zM9 1h6v6H9V1zm6 8H9v6h6V9zm-6 8h6v6H9v-6zM23 1h-6v6h6V1zm-6 8h6v6h-6V9zm6 8h-6v6h6v-6z"},null,-1),tR=[eR];function nR(e,t,n,l,i,u){return p(),I("svg",xj,tR)}var lR=q(Yj,[["render",nR]]);const oR={},aR={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},iR=S("path",{d:"M6 3H3v3h3V3zm0 5H3v3h3V8zm-3 5h3v3H3v-3zm3 5H3v3h3v-3zM8 3h3v3H8V3zm3 5H8v3h3V8zm-3 5h3v3H8v-3zm3 5H8v3h3v-3zm2-15h3v3h-3V3zm3 5h-3v3h3V8zm-3 5h3v3h-3v-3zm3 5h-3v3h3v-3zm2-15h3v3h-3V3zm3 5h-3v3h3V8zm-3 5h3v3h-3v-3zm3 5h-3v3h3v-3z"},null,-1),sR=[iR];function rR(e,t,n,l,i,u){return p(),I("svg",aR,sR)}var dR=q(oR,[["render",rR]]);const uR={},cR={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},pR=S("path",{d:"M3 3h2v2H3V3zm4 0h2v2H7V3zm0 4h2v2H7V7zm2 4H7v2h2v-2zm-2 4h2v2H7v-2zm2 4H7v2h2v-2zM5 7H3v2h2V7zm-2 4h2v2H3v-2zm2 4H3v2h2v-2zm-2 4h2v2H3v-2zM13 3h-2v2h2V3zm-2 4h2v2h-2V7zm2 4h-2v2h2v-2zm-2 4h2v2h-2v-2zm2 4h-2v2h2v-2zm2-16h2v2h-2V3zm2 4h-2v2h2V7zm-2 4h2v2h-2v-2zm2 4h-2v2h2v-2zm-2 4h2v2h-2v-2zm6-16h-2v2h2V3zm-2 4h2v2h-2V7zm2 4h-2v2h2v-2zm-2 4h2v2h-2v-2zm2 4h-2v2h2v-2z"},null,-1),mR=[pR];function fR(e,t,n,l,i,u){return p(),I("svg",cR,mR)}var vR=q(uR,[["render",fR]]);const _R={},yR={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},gR=S("path",{d:"M5 4H4v1h1V4zm0 6H4v1h1v-1zm-1 6h1v1H4v-1zm1-9H4v1h1V7zm-1 6h1v1H4v-1zm1 6H4v1h1v-1zM7 4h1v1H7V4zm1 6H7v1h1v-1zm-1 6h1v1H7v-1zm1-9H7v1h1V7zm-1 6h1v1H7v-1zm1 6H7v1h1v-1zm2-15h1v1h-1V4zm1 6h-1v1h1v-1zm-1 6h1v1h-1v-1zm1-9h-1v1h1V7zm-1 6h1v1h-1v-1zm1 6h-1v1h1v-1zm2-15h1v1h-1V4zm1 6h-1v1h1v-1zm-1 6h1v1h-1v-1zm1-9h-1v1h1V7zm-1 6h1v1h-1v-1zm1 6h-1v1h1v-1zm2-15h1v1h-1V4zm1 6h-1v1h1v-1zm-1 6h1v1h-1v-1zm1-9h-1v1h1V7zm-1 6h1v1h-1v-1zm1 6h-1v1h1v-1zm2-15h1v1h-1V4zm1 6h-1v1h1v-1zm-1 6h1v1h-1v-1zm1-9h-1v1h1V7zm-1 6h1v1h-1v-1zm1 6h-1v1h1v-1z"},null,-1),hR=[gR];function bR(e,t,n,l,i,u){return p(),I("svg",yR,hR)}var $R=q(_R,[["render",bR]]);const wR={},kR={viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},SR=S("path",{"fill-opacity":".3",d:"M24.02 42.98L47.28 14c-.9-.68-9.85-8-23.28-8S1.62 13.32.72 14l23.26 28.98.02.02.02-.02z"},null,-1),CR=S("path",{d:"M0 0h48v48H0z",fill:"none"},null,-1),VR=S("path",{d:"M13.34 29.72l10.65 13.27.01.01.01-.01 10.65-13.27C34.13 29.31 30.06 26 24 26s-10.13 3.31-10.66 3.72z"},null,-1),FR=[SR,CR,VR];function AR(e,t,n,l,i,u){return p(),I("svg",kR,FR)}var IR=q(wR,[["render",AR]]);const ER={},DR={viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},TR=S("path",{"fill-opacity":".3",d:"M24.02 42.98L47.28 14c-.9-.68-9.85-8-23.28-8S1.62 13.32.72 14l23.26 28.98.02.02.02-.02z"},null,-1),PR=S("path",{d:"M0 0h48v48H0z",fill:"none"},null,-1),OR=S("path",{d:"M7.07 21.91l16.92 21.07.01.02.02-.02 16.92-21.07C40.08 21.25 33.62 16 24 16c-9.63 0-16.08 5.25-16.93 5.91z"},null,-1),LR=[TR,PR,OR];function jR(e,t,n,l,i,u){return p(),I("svg",DR,LR)}var RR=q(ER,[["render",jR]]);const MR={},UR={viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},NR=S("path",{"fill-opacity":".3",d:"M24.02 42.98L47.28 14c-.9-.68-9.85-8-23.28-8S1.62 13.32.72 14l23.26 28.98.02.02.02-.02z"},null,-1),BR=S("path",{d:"M0 0h48v48H0z",fill:"none"},null,-1),qR=S("path",{d:"M9.58 25.03l14.41 17.95.01.02.01-.02 14.41-17.95C37.7 24.47 32.2 20 24 20s-13.7 4.47-14.42 5.03z"},null,-1),zR=[NR,BR,qR];function KR(e,t,n,l,i,u){return p(),I("svg",UR,zR)}var HR=q(MR,[["render",KR]]);const WR={},GR={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},JR=S("path",{d:"M 3 2 L 3 11 L 21 11 L 3 2 z M 5 5.2363281 L 12.527344 9 L 5 9 L 5 5.2363281 z M 3 13 L 3 22 L 21 13 L 3 13 z"},null,-1),QR=[JR];function XR(e,t,n,l,i,u){return p(),I("svg",GR,QR)}var ZR=q(WR,[["render",XR]]);const YR={},xR={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},e7=S("path",{d:"M3,2 L3,11 L21,11 L3,2 Z M5,5.2363281 L12.527344,9 L5,9 L5,5.2363281 Z M3,13 L3,22 L21,13 L3,13 Z",transform:"translate(12.000000, 12.000000) rotate(-90.000000) translate(-12.000000, -12.000000) "},null,-1),t7=[e7];function n7(e,t,n,l,i,u){return p(),I("svg",xR,t7)}var l7=q(YR,[["render",n7]]);const o7={},a7={viewBox:"0 0 24 24",width:"24",height:"24",fill:"none","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2",xmlns:"http://www.w3.org/2000/svg"},i7=S("path",{d:"M11.17 8l-2-2H4v12h16V8h-8.83zM4 4h6l2 2h8a2 2 0 012 2v10a2 2 0 01-2 2H4a2 2 0 01-2-2l.01-12A2 2 0 014 4zm10.44 5l4 4-4 4v-3H11v-2h3.44V9z"},null,-1),s7=[i7];function r7(e,t,n,l,i,u){return p(),I("svg",a7,s7)}var d7=q(o7,[["render",r7]]);const u7={},c7={viewBox:"0 0 24 24",width:"24",height:"24",fill:"none","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2",xmlns:"http://www.w3.org/2000/svg"},p7=td('<path d="M9.1875 6L11.1562 8.01562H20.0156V18H3.98438V6H9.1875ZM9.98438 3.98438H3.98438C2.90625 3.98438 2.01562 4.92188 2.01562 6V18C2.01562 19.0781 2.90625 20.0156 3.98438 20.0156H20.0156C21.0938 20.0156 21.9844 19.0781 21.9844 18V8.01562C21.9844 6.89062 21.0938 6 20.0156 6H12L9.98438 3.98438Z"></path><rect x="13" y="12" width="6" height="5" rx="1"></rect><rect x="17" y="11" width="1" height="1"></rect><rect x="14" y="11" width="1" height="1"></rect><path d="M17 11H18C18 9.89543 17.1046 9 16 9C14.8954 9 14 9.89543 14 11H15C15 10.4477 15.4477 10 16 10C16.5523 10 17 10.4477 17 11Z"></path>',5),m7=[p7];function f7(e,t,n,l,i,u){return p(),I("svg",c7,m7)}var v7=q(u7,[["render",f7]]);const _7={},y7={viewBox:"0 0 24 24",width:"24",height:"24",fill:"none","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2",xmlns:"http://www.w3.org/2000/svg"},g7=S("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),h7=S("path",{d:"M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4a2 2 0 00-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"},null,-1),b7=[g7,h7];function $7(e,t,n,l,i,u){return p(),I("svg",y7,b7)}var w7=q(_7,[["render",$7]]);const k7=z({props:{name:{type:String,required:!0}},render(){const e=nd(ld({prefix:"fab",iconName:this.name}));return ea({template:e==null?void 0:e.html[0]})}});od.add(ad);const S7=["directus","bookmark_save","box","commit_node","grid_1","grid_2","grid_3","grid_4","grid_5","grid_6","signal_wifi_1_bar","signal_wifi_2_bar","signal_wifi_3_bar","flip_horizontal","flip_vertical","folder_move","folder_lock","logout"],C7=["500px","accessible_icon","accusoft","acquisitions_incorporated","adn","adversal","affiliatetheme","airbnb","algolia","alipay","amazon","amazon_pay","amilia","android","angellist","angrycreative","angular","app_store","app_store_ios","apper","apple","apple_pay","artstation","asymmetrik","atlassian","audible","autoprefixer","avianex","aviato","aws","bandcamp","battle_net","behance","behance_square","bimobject","bitbucket","bitcoin","bity","black_tie","blackberry","blogger","blogger_b","bluetooth","bluetooth_b","bootstrap","btc","buffer","buromobelexperte","buy_n_large","buysellads","canadian_maple_leaf","cc_amazon_pay","cc_amex","cc_apple_pay","cc_diners_club","cc_discover","cc_jcb","cc_mastercard","cc_paypal","cc_stripe","cc_visa","centercode","centos","chrome","chromecast","cloudflare","cloudscale","cloudsmith","cloudversify","codepen","codiepie","confluence","connectdevelop","contao","cotton_bureau","cpanel","creative_commons","creative_commons_by","creative_commons_nc","creative_commons_nc_eu","creative_commons_nc_jp","creative_commons_nd","creative_commons_pd","creative_commons_pd_alt","creative_commons_remix","creative_commons_sa","creative_commons_sampling","creative_commons_sampling_plus","creative_commons_share","creative_commons_zero","critical_role","css3","css3_alt","cuttlefish","d_and_d","d_and_d_beyond","dailymotion","dashcube","deezer","delicious","deploydog","deskpro","dev","deviantart","dhl","diaspora","digg","digital_ocean","discord","discourse","dochub","docker","draft2digital","dribbble","dribbble_square","dropbox","drupal","dyalog","earlybirds","ebay","edge","edge_legacy","elementor","ello","ember","empire","envira","erlang","ethereum","etsy","evernote","expeditedssl","facebook","facebook_f","facebook_messenger","facebook_square","fantasy_flight_games","fedex","fedora","figma","firefox","firefox_browser","first_order","first_order_alt","firstdraft","flickr","flipboard","fly","font_awesome","font_awesome_alt","font_awesome_flag","fonticons","fonticons_fi","fort_awesome","fort_awesome_alt","forumbee","foursquare","free_code_camp","freebsd","fulcrum","galactic_republic","galactic_senate","get_pocket","gg","gg_circle","git","git_alt","git_square","github","github_alt","github_square","gitkraken","gitlab","gitter","glide","glide_g","gofore","goodreads","goodreads_g","google","google_drive","google_pay","google_play","google_plus","google_plus_g","google_plus_square","google_wallet","gratipay","grav","gripfire","grunt","guilded","gulp","hacker_news","hacker_news_square","hackerrank","hips","hire_a_helper","hive","hooli","hornbill","hotjar","houzz","html5","hubspot","ideal","imdb","innosoft","instagram","instagram_square","instalod","intercom","internet_explorer","invision","ioxhost","itch_io","itunes","itunes_note","java","jedi_order","jenkins","jira","joget","joomla","js","js_square","jsfiddle","kaggle","keybase","keycdn","kickstarter","kickstarter_k","korvue","laravel","lastfm","lastfm_square","leanpub","less","line","linkedin","linkedin_in","linode","linux","lyft","magento","mailchimp","mandalorian","markdown","mastodon","maxcdn","mdb","medapps","medium","medium_m","medrt","meetup","megaport","mendeley","microblog","microsoft","mix","mixcloud","mixer","mizuni","modx","monero","napster","neos","nimblr","node","node_js","npm","ns8","nutritionix","octopus_deploy","odnoklassniki","odnoklassniki_square","old_republic","opencart","openid","opera","optin_monster","orcid","osi","page4","pagelines","palfed","patreon","paypal","penny_arcade","perbyte","periscope","phabricator","phoenix_framework","phoenix_squadron","php","pied_piper","pied_piper_alt","pied_piper_hat","pied_piper_pp","pied_piper_square","pinterest","pinterest_p","pinterest_square","playstation","product_hunt","pushed","python","qq","quinscape","quora","r_project","raspberry_pi","ravelry","react","reacteurope","readme","rebel","red_river","reddit","reddit_alien","reddit_square","redhat","renren","replyd","researchgate","resolving","rev","rocketchat","rockrms","rust","safari","salesforce","sass","schlix","scribd","searchengin","sellcast","sellsy","servicestack","shirtsinbulk","shopify","shopware","simplybuilt","sistrix","sith","sketch","skyatlas","skype","slack","slack_hash","slideshare","snapchat","snapchat_ghost","snapchat_square","soundcloud","sourcetree","speakap","speaker_deck","spotify","squarespace","stack_exchange","stack_overflow","stackpath","staylinked","steam","steam_square","steam_symbol","sticker_mule","strava","stripe","stripe_s","studiovinari","stumbleupon","stumbleupon_circle","superpowers","supple","suse","swift","symfony","teamspeak","telegram","telegram_plane","tencent_weibo","the_red_yeti","themeco","themeisle","think_peaks","tiktok","trade_federation","trello","tumblr","tumblr_square","twitch","twitter","twitter_square","typo3","uber","ubuntu","uikit","umbraco","uncharted","uniregistry","unity","unsplash","untappd","ups","usb","usps","ussunnah","vaadin","viacoin","viadeo","viadeo_square","viber","vimeo","vimeo_square","vimeo_v","vine","vk","vnv","vuejs","watchman_monitoring","waze","weebly","weibo","weixin","whatsapp","whatsapp_square","whmcs","wikipedia_w","windows","wix","wizards_of_the_coast","wodu","wolf_pack_battalion","wordpress","wordpress_simple","wpbeginner","wpexplorer","wpforms","wpressr","xbox","xing","xing_square","y_combinator","yahoo","yammer","yandex","yandex_international","yarn","yelp","yoast","youtube","youtube_square","zhihu"],V7=z({components:{CustomIconDirectus:bj,CustomIconBookmarkSave:Vj,CustomIconBox:Tj,CustomIconCommitNode:Uj,CustomIconGrid1:Hj,CustomIconGrid2:Zj,CustomIconGrid3:lR,CustomIconGrid4:dR,CustomIconGrid5:vR,CustomIconGrid6:$R,CustomIconSignalWifi1Bar:IR,CustomIconSignalWifi2Bar:RR,CustomIconSignalWifi3Bar:HR,CustomIconFlipHorizontal:ZR,CustomIconFlipVertical:l7,CustomIconFolderMove:d7,CustomIconFolderLock:v7,CustomIconLogout:w7,SocialIcon:k7},props:pe({name:{type:String,required:!0},filled:{type:Boolean,default:!1},sup:{type:Boolean,default:!1},left:{type:Boolean,default:!1},right:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},clickable:{type:Boolean,default:!1},color:{type:String,default:null}},ol),emits:["click"],setup(e,{emit:t}){const n=V(()=>e.sup?"sup":al(e).value),l=V(()=>S7.includes(e.name)?`custom-icon-${e.name}`.replace(/_/g,"-"):null),i=V(()=>C7.includes(e.name)?e.name.replace(/_/g,"-"):null);return{sizeClass:n,customIconName:l,socialIconName:i,emitClick:u};function u(a){e.disabled||t("click",a)}}}),F7=["role","tabindex"];function A7(e,t,n,l,i,u){const a=c("socialIcon");return p(),I("span",{class:se(["v-icon",[e.sizeClass,{"has-click":!e.disabled&&e.clickable,left:e.left,right:e.right}]]),role:e.clickable?"button":null,tabindex:e.clickable?0:null,style:ze({"--v-icon-color":e.color}),onClick:t[0]||(t[0]=(...s)=>e.emitClick&&e.emitClick(...s))},[e.customIconName?(p(),C(Ue(e.customIconName),{key:0})):e.socialIconName?(p(),C(a,{key:1,name:e.socialIconName},null,8,["name"])):(p(),I("i",{key:2,class:se({filled:e.filled})},b(e.name),3))],14,F7)}var I7=q(V7,[["render",A7],["__scopeId","data-v-73a3c90f"]]);const E7=z({props:{icon:{type:String,default:"box"},title:{type:String,required:!0},type:{type:String,default:"info"},center:{type:Boolean,default:!1}}}),D7={class:"icon"},T7={class:"title type-title"},P7={class:"content"};function O7(e,t,n,l,i,u){const a=c("v-icon");return p(),I("div",{class:se(["v-info",[e.type,{center:e.center}]])},[S("div",D7,[o(a,{large:"",name:e.icon,outline:""},null,8,["name"])]),S("h2",T7,b(e.title),1),S("p",P7,[ye(e.$slots,"default",{},void 0,!0)]),ye(e.$slots,"append",{},void 0,!0)],2)}var L7=q(E7,[["render",O7],["__scopeId","data-v-0b8e46a0"]]);const j7=z({inheritAttrs:!1,props:{autofocus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},clickable:{type:Boolean,default:!1},prefix:{type:String,default:null},suffix:{type:String,default:null},fullWidth:{type:Boolean,default:!0},placeholder:{type:[String,Number],default:null},modelValue:{type:[String,Number],default:null},nullable:{type:Boolean,default:!0},slug:{type:Boolean,default:!1},slugSeparator:{type:String,default:"-"},type:{type:String,default:"text"},hideArrows:{type:Boolean,default:!1},max:{type:Number,default:null},min:{type:Number,default:null},step:{type:Number,default:1},active:{type:Boolean,default:!1},dbSafe:{type:Boolean,default:!1},trim:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"}},emits:["click","keydown","update:modelValue","focus"],setup(e,{emit:t,attrs:n}){const l=E(null),i=V(()=>({input:v,keydown:m,blur:g=>{f(),typeof n.onBlur=="function"&&n.onBlur(g)},focus:g=>t("focus",g)})),u=V(()=>U.exports.omit(n,["class"])),a=V(()=>[{"full-width":e.fullWidth,"has-click":e.clickable,disabled:e.disabled},...(n.class||"").split(" ")]),s=V(()=>e.disabled===!1&&(e.max===null||parseInt(String(e.modelValue),10)<e.max)),r=V(()=>e.disabled===!1&&(e.min===null||parseInt(String(e.modelValue),10)>e.min));return{listeners:i,attributes:u,classes:a,stepUp:_,stepDown:y,isStepUpAllowed:s,isStepDownAllowed:r,input:l};function m(g){if(!g.key)return;const $=g.key.toLowerCase(),h=["meta","shift","alt","backspace","delete","tab"],k=g.target.value;e.slug===!0&&(("abcdefghijklmnopqrstuvwxyz01234567890-_~ ".split("").includes($)||h.includes($)||$.startsWith("arrow"))===!1&&g.preventDefault(),$===" "&&k.endsWith(e.slugSeparator)&&g.preventDefault()),e.dbSafe===!0&&(("abcdefghijklmnopqrstuvwxyz01234567890_ ".split("").includes($)||h.includes($)||$.startsWith("arrow"))===!1&&g.preventDefault(),k.length===0&&"0123456789".split("").includes($)&&g.preventDefault()),t("keydown",g)}function f(){e.modelValue&&e.trim&&["string","text"].includes(e.type)&&t("update:modelValue",String(e.modelValue).trim())}function v(g){let $=g.target.value;if(e.nullable===!0&&$===""){t("update:modelValue",null);return}if(e.type==="number")t("update:modelValue",Number($));else{if(e.slug===!0){const h=$.endsWith(" ");$=id($,{separator:e.slugSeparator,preserveTrailingDash:!0}),h&&($+=e.slugSeparator)}e.dbSafe===!0&&($=$.replace(/\s/g,"_"),$=$.normalize("NFD").replace(/[\u0300-\u036f]/g,"")),t("update:modelValue",$)}}function _(){if(!!l.value&&s.value!==!1&&(l.value.stepUp(),l.value.value!=null))return t("update:modelValue",Number(l.value.value))}function y(){if(!!l.value&&r.value!==!1)return l.value.stepDown(),l.value.value?t("update:modelValue",Number(l.value.value)):t("update:modelValue",e.min||0)}}}),R7={key:0,class:"prepend-outer"},M7={key:0,class:"prepend"},U7={key:1,class:"prefix"},N7=["placeholder","autocomplete","type","min","max","step","disabled","value"],B7={key:2,class:"suffix"},q7={key:3},z7={key:4,class:"append"},K7={key:1,class:"append-outer"};function H7(e,t,n,l,i,u){const a=c("v-icon"),s=Se("focus");return p(),I("div",{class:se(["v-input",e.classes]),onClick:t[0]||(t[0]=r=>e.$emit("click",r))},[e.$slots["prepend-outer"]?(p(),I("div",R7,[ye(e.$slots,"prepend-outer",{value:e.modelValue,disabled:e.disabled},void 0,!0)])):R("",!0),S("div",{class:se(["input",{disabled:e.disabled,active:e.active}])},[e.$slots.prepend?(p(),I("div",M7,[ye(e.$slots,"prepend",{value:e.modelValue,disabled:e.disabled},void 0,!0)])):R("",!0),e.prefix?(p(),I("span",U7,b(e.prefix),1)):R("",!0),ye(e.$slots,"input",{},()=>[x(S("input",dt({ref:"input"},e.attributes,{placeholder:e.placeholder,autocomplete:e.autocomplete,type:e.type,min:e.min,max:e.max,step:e.step,disabled:e.disabled,value:e.modelValue===null?"":String(e.modelValue)},Kl(e.listeners)),null,16,N7),[[s,e.autofocus]])],!0),e.suffix?(p(),I("span",B7,b(e.suffix),1)):R("",!0),e.type==="number"&&!e.hideArrows?(p(),I("span",q7,[o(a,{class:se([{disabled:!e.isStepUpAllowed},"step-up"]),name:"keyboard_arrow_up",tabindex:"-1",clickable:"",disabled:!e.isStepUpAllowed,onClick:e.stepUp},null,8,["class","disabled","onClick"]),o(a,{class:se([{disabled:!e.isStepDownAllowed},"step-down"]),name:"keyboard_arrow_down",tabindex:"-1",clickable:"",disabled:!e.isStepDownAllowed,onClick:e.stepDown},null,8,["class","disabled","onClick"])])):R("",!0),e.$slots.append?(p(),I("div",z7,[ye(e.$slots,"append",{value:e.modelValue,disabled:e.disabled},void 0,!0)])):R("",!0)],2),e.$slots["append-outer"]?(p(),I("div",K7,[ye(e.$slots,"append-outer",{value:e.modelValue,disabled:e.disabled},void 0,!0)])):R("",!0)],2)}var W7=q(j7,[["render",H7],["__scopeId","data-v-51dac078"]]);const G7=z({props:{mandatory:{type:Boolean,default:!1},max:{type:Number,default:-1},multiple:{type:Boolean,default:!1},modelValue:{type:Array,default:void 0},scope:{type:String,default:"item-group"}},emits:["update:modelValue"],setup(e,{emit:t}){const{modelValue:n,multiple:l,max:i,mandatory:u}=Re(e);return qo({selection:n,onSelectionChange:a=>t("update:modelValue",a)},{multiple:l,max:i,mandatory:u},e.scope),{}}}),J7={class:"v-item-group"};function Q7(e,t,n,l,i,u){return p(),I("div",J7,[ye(e.$slots,"default")])}var X7=q(G7,[["render",Q7]]);const Z7=z({props:{value:{type:String,default:null},scope:{type:String,default:"item-group"},active:{type:Boolean,default:void 0},watch:{type:Boolean,default:!0}},setup(e){const{active:t}=Re(e),{active:n,toggle:l}=yn({value:e.value,group:e.scope,watch:e.watch,active:t});return{isActive:n,toggle:l}}}),Y7={class:"v-item"};function x7(e,t,n,l,i,u){return p(),I("div",Y7,[ye(e.$slots,"default",He(Xe({active:e.isActive,toggle:e.toggle})))])}var eM=q(Z7,[["render",x7]]);const tM=z({props:{multiple:{type:Boolean,default:!0},to:{type:String,default:""},active:{type:Boolean,default:void 0},exact:{type:Boolean,default:!1},query:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},clickable:{type:Boolean,default:!1},scope:{type:String,default:"v-list"},value:{type:[String,Number],default:void 0},dense:{type:Boolean,default:!1},open:{type:Boolean,default:!1},arrowPlacement:{type:[String,Boolean],default:"after",validator:e=>["before","after",!1].includes(e)}},emits:["click"],setup(e,{emit:t}){const{active:n,toggle:l}=yn({group:e.scope,value:e.value});return{groupActive:V(()=>n.value||e.open),toggle:l,onClick:u};function u(a){if(e.to)return null;if(e.clickable)return t("click",a);a.stopPropagation(),l()}}}),nM={class:"v-list-group"},lM={key:0,class:"items"};function oM(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-list-item-icon"),r=c("v-list-item");return p(),I("li",nM,[o(r,{class:"activator",active:e.active,to:e.to,exact:e.exact,query:e.query,disabled:e.disabled,dense:e.dense,clickable:"",onClick:e.onClick},{default:d(()=>[e.$slots.default&&e.arrowPlacement&&e.arrowPlacement==="before"?(p(),C(s,{key:0,class:se(["activator-icon",{active:e.groupActive}])},{default:d(()=>[o(a,{name:"chevron_right",disabled:e.disabled,onClick:Fe(e.toggle,["stop","prevent"])},null,8,["disabled","onClick"])]),_:1},8,["class"])):R("",!0),ye(e.$slots,"activator",{active:e.groupActive},void 0,!0),e.$slots.default&&e.arrowPlacement&&e.arrowPlacement==="after"?(p(),C(s,{key:1,class:se(["activator-icon",{active:e.groupActive}])},{default:d(()=>[o(a,{name:"chevron_right",disabled:e.disabled,onClick:Fe(e.toggle,["stop","prevent"])},null,8,["disabled","onClick"])]),_:1},8,["class"])):R("",!0)]),_:3},8,["active","to","exact","query","disabled","dense","onClick"]),e.groupActive?(p(),I("ul",lM,[ye(e.$slots,"default",{},void 0,!0)])):R("",!0)])}var aM=q(tM,[["render",oM],["__scopeId","data-v-2419d436"]]);const iM={},sM={class:"v-list-item-content"};function rM(e,t){return p(),I("div",sM,[ye(e.$slots,"default")])}var dM=q(iM,[["render",rM],["__scopeId","data-v-275e8d1e"]]);const uM=z({props:{center:{type:Boolean,default:!1}}});function cM(e,t,n,l,i,u){return p(),I("div",{class:se(["v-list-item-hint",{center:e.center}])},[ye(e.$slots,"default",{},void 0,!0)],2)}var pM=q(uM,[["render",cM],["__scopeId","data-v-13faae5b"]]);const mM=z({props:{center:{type:Boolean,default:!1}}});function fM(e,t,n,l,i,u){return p(),I("div",{class:se(["v-list-item-icon",{center:e.center}])},[ye(e.$slots,"default")],2)}var vM=q(mM,[["render",fM],["__scopeId","data-v-3a2c81de"]]);const _M=z({props:{block:{type:Boolean,default:!1},dense:{type:Boolean,default:!1},to:{type:[String,Object],default:""},href:{type:String,default:void 0},disabled:{type:Boolean,default:!1},clickable:{type:Boolean,default:!1},active:{type:Boolean,default:void 0},dashed:{type:Boolean,default:!1},exact:{type:Boolean,default:!1},query:{type:Boolean,default:!1},download:{type:String,default:void 0},value:{type:[String,Number],default:void 0},nav:{type:Boolean,default:!1},scope:{type:String,default:"v-list"}},emits:["click"],setup(e,{emit:t}){const n=xt(),{route:l,isActive:i,isExactActive:u}=da(e),a=V(()=>e.to?"router-link":e.href?"a":"li");yn({value:e.value,group:e.scope});const s=V(()=>Boolean(e.to||e.href||e.clickable)),r=V(()=>{if(e.active!==void 0)return e.active;if(e.to){const f=!e.query||U.exports.isEqual(n.query,l.value.query);return e.exact?u.value&&f:i.value&&f}return!1});return{component:a,isLink:s,isActiveRoute:r,onClick:m};function m(f){e.disabled!==!0&&t("click",f)}}});function yM(e,t,n,l,i,u){return p(),C(Ue(e.component),{class:se(["v-list-item",{active:e.isActiveRoute,dense:e.dense,link:e.isLink,disabled:e.disabled,dashed:e.dashed,block:e.block,nav:e.nav,clickable:e.clickable}]),to:e.to!==""?e.to:void 0,href:e.href,download:e.download,target:e.component==="a"?"_blank":void 0,onClick:e.onClick},{default:d(()=>[ye(e.$slots,"default")]),_:3},8,["to","class","href","download","target","onClick"])}var gM=q(_M,[["render",yM],["__scopeId","data-v-0c4fd7f4"]]);const hM=z({props:{modelValue:{type:Array,default:null},nav:{type:Boolean,default:!1},dense:{type:Boolean,default:!1},multiple:{type:Boolean,default:!0},mandatory:{type:Boolean,default:!0},scope:{type:String,default:"v-list"}},emits:["update:modelValue","toggle"],setup(e,{emit:t}){const{modelValue:n,multiple:l,mandatory:i}=Re(e);return qo({selection:n,onSelectionChange:u=>{t("update:modelValue",u)},onToggle:u=>{t("toggle",u)}},{mandatory:i,multiple:l},e.scope),{}}});function bM(e,t,n,l,i,u){return p(),I("ul",{class:se(["v-list",{nav:e.nav,dense:e.dense}])},[ye(e.$slots,"default")],2)}var $M=q(hM,[["render",bM],["__scopeId","data-v-b97aaa68"]]);function wM(e,t,n){const l=E(null),i=E({}),u=E({}),a=E(n.value.placement);St(()=>{m()}),_e(n,()=>{var v;(v=l.value)==null||v.setOptions({placement:n.value.attached?"bottom-start":n.value.placement,modifiers:f()})},{immediate:!0});const s=new MutationObserver(()=>{var v;(v=l.value)==null||v.forceUpdate()});return{popperInstance:l,placement:a,start:r,stop:m,styles:i,arrowStyles:u};function r(){return new Promise(v=>{l.value=sd(e.value,t.value,{placement:n.value.attached?"bottom-start":n.value.placement,modifiers:f(v),strategy:"fixed"}),l.value.forceUpdate(),s.observe(t.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0})})}function m(){var v;(v=l.value)==null||v.destroy(),s.disconnect()}function f(v=()=>{}){var y,g;const _=[rd,Ve(pe({},dd),{options:{offset:n.value.attached?[0,0]:[(y=n.value.offsetX)!=null?y:0,(g=n.value.offsetY)!=null?g:8]}}),Ve(pe({},ud),{options:{padding:8}}),cd,pd,md,{name:"placementUpdater",enabled:!0,phase:"afterWrite",fn({state:$}){a.value=$.placement}},{name:"applyStyles",enabled:!0,phase:"write",fn({state:$}){i.value=$.styles.popper,u.value=$.styles.arrow,v()}}];return n.value.arrow===!0&&_.push(Ve(pe({},fd),{options:{padding:6}})),n.value.attached===!0&&_.push({name:"sameWidth",enabled:!0,fn:({state:$})=>{$.styles.popper.width=`${$.rects.reference.width}px`},phase:"beforeWrite",requires:["computeStyles"]}),_}}const kM=z({props:{placement:{type:String,default:"bottom"},modelValue:{type:Boolean,default:void 0},closeOnClick:{type:Boolean,default:!0},closeOnContentClick:{type:Boolean,default:!0},attached:{type:Boolean,default:!1},showArrow:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},trigger:{type:String,default:null,validator:e=>["hover","click","keyDown"].includes(e)},delay:{type:Number,default:0},offsetY:{type:Number,default:8},offsetX:{type:Number,default:0}},emits:["update:modelValue"],setup(e,{emit:t}){const n=E(null),l=E(null),i=E({getBoundingClientRect(){return{top:0,left:0,bottom:0,right:0,width:0,height:0}}}),u=V(()=>_t()),a=E(null),{start:s,stop:r,styles:m,arrowStyles:f,placement:v}=wM(l,a,V(()=>({placement:e.placement,attached:e.attached,arrow:e.showArrow,offsetY:e.offsetY,offsetX:e.offsetX}))),{isActive:_,activate:y,deactivate:g,toggle:$}=P();_e(_,L=>{var M;L===!0&&(l.value=((M=n.value)==null?void 0:M.children[0])||i.value,dl(()=>{a.value=document.getElementById(u.value)}))});const{onClick:h,onPointerEnter:k,onPointerLeave:A}=N(),F=E(!1);return{id:u,activator:n,popper:a,reference:l,isActive:_,toggle:$,deactivate:g,onContentClick:T,onClickOutsideMiddleware:O,styles:m,arrowStyles:f,popperPlacement:v,activate:y,onClick:h,onPointerLeave:A,onPointerEnter:k,hoveringOnPopperContent:F};function P(){const L=E(!1),M=V({get(){return e.modelValue!==void 0?e.modelValue:L.value},async set(le){L.value=le,t("update:modelValue",le)}});return _e(a,async()=>{a.value!==null?await s():r()},{immediate:!0}),{isActive:M,activate:B,deactivate:K,toggle:W};function B(le){le&&(i.value={getBoundingClientRect(){return{top:le.clientY,left:le.clientX,bottom:0,right:0,width:0,height:0}}}),M.value=!0}function K(){M.value=!1}function W(){e.disabled!==!0&&(M.value=!M.value)}}function O(L){var M;return!((M=n.value)==null?void 0:M.contains(L.target))}function T(L){e.closeOnContentClick===!0&&L.target!==L.currentTarget&&g()}function N(){const L=E(!1);return _e(L,U.exports.debounce(W=>{W?_.value||y():g()},e.delay)),{onClick:M,onPointerLeave:K,onPointerEnter:B};function M(){e.trigger==="click"&&$()}function B(){e.trigger==="hover"&&(L.value=!0)}function K(){e.trigger==="hover"&&(L.value=!1)}}}}),SM=["id","data-placement"];function CM(e,t,n,l,i,u){const a=c("transition-bounce"),s=Se("click-outside");return p(),I("div",{class:"v-menu",onClick:t[5]||(t[5]=(...r)=>e.onClick&&e.onClick(...r))},[S("div",{ref:"activator",class:se(["v-menu-activator",{attached:e.attached}]),onPointerenter:t[0]||(t[0]=Fe((...r)=>e.onPointerEnter&&e.onPointerEnter(...r),["stop"])),onPointerleave:t[1]||(t[1]=Fe((...r)=>e.onPointerLeave&&e.onPointerLeave(...r),["stop"]))},[ye(e.$slots,"activator",He(Xe({toggle:e.toggle,active:e.isActive,activate:e.activate,deactivate:e.deactivate})),void 0,!0)],34),(p(),C(ql,{to:"#menu-outlet"},[o(a,null,{default:d(()=>[e.isActive?x((p(),I("div",{id:e.id,key:e.id,class:se(["v-menu-popper",{active:e.isActive,attached:e.attached}]),"data-placement":e.popperPlacement,style:ze(e.styles)},[S("div",{class:se(["arrow",{active:e.showArrow&&e.isActive}]),style:ze(e.arrowStyles),"data-popper-arrow":""},null,6),S("div",{class:"v-menu-content",onClick:t[2]||(t[2]=Fe((...r)=>e.onContentClick&&e.onContentClick(...r),["stop"])),onPointerenter:t[3]||(t[3]=Fe((...r)=>e.onPointerEnter&&e.onPointerEnter(...r),["stop"])),onPointerleave:t[4]||(t[4]=Fe((...r)=>e.onPointerLeave&&e.onPointerLeave(...r),["stop"]))},[ye(e.$slots,"default",He(Xe({toggle:e.toggle,active:e.isActive,activate:e.activate,deactivate:e.deactivate})),void 0,!0)],32)],14,SM)),[[s,{handler:e.deactivate,middleware:e.onClickOutsideMiddleware,disabled:e.isActive===!1||e.closeOnClick===!1,events:["click"]}]]):R("",!0)]),_:3})]))])}var VM=q(kM,[["render",CM],["__scopeId","data-v-6bb45c39"]]);const FM=z({props:{type:{type:String,default:"normal"},icon:{type:[String,Boolean],default:null},center:{type:Boolean,default:!1}},setup(e){return{iconName:V(()=>e.icon!==!1&&typeof e.icon=="string"?e.icon:e.type=="info"?"info":e.type=="success"?"check_circle":e.type=="warning"?"warning":e.type=="danger"?"error":"info")}}});function AM(e,t,n,l,i,u){const a=c("v-icon");return p(),I("div",{class:se(["v-notice",[e.type,{center:e.center}]])},[e.icon!==!1?(p(),C(a,{key:0,name:e.iconName,left:""},null,8,["name"])):R("",!0),ye(e.$slots,"default")],2)}var IM=q(FM,[["render",AM],["__scopeId","data-v-2d5b0a1b"]]);const EM=z({props:{active:{type:Boolean,default:!1},absolute:{type:Boolean,default:!1},clickable:{type:Boolean,default:!0}},emits:["click"],setup(e,{emit:t}){return{onClick:n};function n(l){t("click",l)}}}),DM=e=>(We("data-v-3e74acbb"),e=e(),Ge(),e),TM=DM(()=>S("div",{class:"overlay"},null,-1)),PM={key:0,class:"content"};function OM(e,t,n,l,i,u){return p(),I("div",{class:se(["v-overlay",{active:e.active,absolute:e.absolute,"has-click":e.clickable}]),onClick:t[0]||(t[0]=(...a)=>e.onClick&&e.onClick(...a))},[TM,e.active?(p(),I("div",PM,[ye(e.$slots,"default",{},void 0,!0)])):R("",!0)],2)}var LM=q(EM,[["render",OM],["__scopeId","data-v-3e74acbb"]]);const jM=z({props:{disabled:{type:Boolean,default:!1},length:{type:Number,default:null,required:!0,validator:e=>e%1==0},totalVisible:{type:Number,default:void 0,validator:e=>e>=0},modelValue:{type:Number,default:null},showFirstLast:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const n=V(()=>{if(e.totalVisible===void 0)return[];let a,s;if(Ga(e.totalVisible)||e.length<=e.totalVisible)a=1,s=e.length;else{const r=Math.floor(e.totalVisible/2),m=Math.ceil(e.totalVisible/2)-1;e.modelValue<=r?(a=1,s=e.totalVisible):e.modelValue+m>=e.length?(a=e.length-e.totalVisible+1,s=e.length):(a=e.modelValue-r,s=e.modelValue+m)}return Array.from(Array(s+1-a).keys()).map(r=>a+r)});return{toPage:u,toPrev:l,toNext:i,visiblePages:n};function l(){u(e.modelValue-1)}function i(){u(e.modelValue+1)}function u(a){t("update:modelValue",a)}}}),RM={class:"v-pagination"},MM=D(" 1 "),UM={key:1,class:"gap"},NM={key:2,class:"gap"};function BM(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-button");return p(),I("div",RM,[o(s,{class:"previous",disabled:e.disabled||e.modelValue===1,secondary:"",icon:"",small:"",onClick:e.toPrev},{default:d(()=>[o(a,{name:"chevron_left"})]),_:1},8,["disabled","onClick"]),e.showFirstLast&&e.modelValue>Math.ceil(e.totalVisible/2)+1&&e.length>e.totalVisible?(p(),C(s,{key:0,class:"page",secondary:"",small:"",disabled:e.disabled,onClick:t[0]||(t[0]=r=>e.toPage(1))},{default:d(()=>[MM]),_:1},8,["disabled"])):R("",!0),e.showFirstLast&&e.modelValue>Math.ceil(e.totalVisible/2)+1&&e.length>e.totalVisible+1?(p(),I("span",UM," ... ")):R("",!0),(p(!0),I(ie,null,he(e.visiblePages,r=>(p(),C(s,{key:r,class:se([{active:e.modelValue===r},"page"]),secondary:"",small:"",disabled:e.disabled,onClick:m=>e.toPage(r)},{default:d(()=>[D(b(r),1)]),_:2},1032,["class","disabled","onClick"]))),128)),e.showFirstLast&&e.modelValue<e.length-Math.ceil(e.totalVisible/2)&&e.length>e.totalVisible+1?(p(),I("span",NM," ... ")):R("",!0),e.showFirstLast&&e.modelValue<=e.length-Math.ceil(e.totalVisible/2)&&e.length>e.totalVisible?(p(),C(s,{key:3,class:se([{active:e.modelValue===e.length},"page"]),secondary:"",small:"",disabled:e.disabled,onClick:t[1]||(t[1]=r=>e.toPage(e.length))},{default:d(()=>[D(b(e.length),1)]),_:1},8,["class","disabled"])):R("",!0),o(s,{class:"next",disabled:e.disabled||e.modelValue===e.length,secondary:"",icon:"",small:"",onClick:e.toNext},{default:d(()=>[o(a,{name:"chevron_right"})]),_:1},8,["disabled","onClick"])])}var qM=q(jM,[["render",BM],["__scopeId","data-v-7c59d706"]]);const zM=z({props:pe({indeterminate:{type:Boolean,default:!1},value:{type:Number,default:0}},ol),emits:["animationiteration"],setup(e){const t=al(e),n=V(()=>({"stroke-dasharray":e.value/100*78.5+", 78.5"}));return{sizeClass:t,circleStyle:n}}}),KM=e=>(We("data-v-a75ea6ac"),e=e(),Ge(),e),HM=KM(()=>S("path",{class:"circle-background",d:"M12.5,0A12.5,12.5,0,1,1,0,12.5,12.5,12.5,0,0,1,12.5,0Z",transform:"translate(2.5 2.5)"},null,-1));function WM(e,t,n,l,i,u){return p(),I("div",{class:se(["v-progress-circular",e.sizeClass])},[(p(),I("svg",{class:se(["circle",{indeterminate:e.indeterminate}]),viewBox:"0 0 30 30",onAnimationiteration:t[0]||(t[0]=a=>e.$emit("animationiteration"))},[HM,S("path",{class:"circle-path",style:ze(e.circleStyle),d:"M12.5,0A12.5,12.5,0,1,1,0,12.5,12.5,12.5,0,0,1,12.5,0Z",transform:"translate(2.5 2.5)"},null,4)],34)),ye(e.$slots,"default",{},void 0,!0)],2)}var GM=q(zM,[["render",WM],["__scopeId","data-v-a75ea6ac"]]);const JM=z({props:{absolute:{type:Boolean,default:!1},bottom:{type:Boolean,default:!1},fixed:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},rounded:{type:Boolean,default:!1},top:{type:Boolean,default:!1},value:{type:Number,default:0},colorful:{type:Boolean,default:!1}},emits:["animationiteration"],setup(e){return{color:V(()=>e.value<=33?"danger":e.value<=66?"warning":"success")}}});function QM(e,t,n,l,i,u){return p(),I("div",{class:se(["v-progress-linear",[{absolute:e.absolute,bottom:e.bottom,fixed:e.fixed,indeterminate:e.indeterminate,rounded:e.rounded,top:e.top,colorful:e.colorful},e.color]]),onAnimationiteration:t[0]||(t[0]=a=>e.$emit("animationiteration"))},[S("div",{class:"inner",style:ze({width:e.value+"%"})},null,4),ye(e.$slots,"default",{value:e.value},void 0,!0)],34)}var XM=q(JM,[["render",QM],["__scopeId","data-v-4aeb976a"]]);const ZM=z({props:{value:{type:String,required:!0},modelValue:{type:String,default:null},label:{type:String,default:null},disabled:{type:Boolean,default:!1},iconOn:{type:String,default:"radio_button_checked"},iconOff:{type:String,default:"radio_button_unchecked"},block:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const n=V(()=>e.modelValue===e.value),l=V(()=>n.value?e.iconOn:e.iconOff);return{isChecked:n,emitValue:i,icon:l};function i(){t("update:modelValue",e.value)}}}),YM=["aria-pressed","disabled"],xM={class:"label type-text"};function e9(e,t,n,l,i,u){const a=c("v-icon");return p(),I("button",{class:se(["v-radio",{checked:e.isChecked,block:e.block}]),type:"button","aria-pressed":e.isChecked?"true":"false",disabled:e.disabled,onClick:t[0]||(t[0]=(...s)=>e.emitValue&&e.emitValue(...s))},[o(a,{name:e.icon},null,8,["name"]),S("span",xM,[ye(e.$slots,"label",{},()=>[D(b(e.label),1)],!0)])],10,YM)}var t9=q(ZM,[["render",e9],["__scopeId","data-v-36e4a678"]]);function Ms(e,t,n){const l=E(""),i=V({get(){return l.value||(u.value?e.value:"")},set(a){a===null?(l.value="",n(null)):(l.value=a,n(a))}}),u=V(()=>{if(t.value===null)return!1;const a=t.value.map(s=>s.value);return e.value!==null&&e.value.length>0&&a.includes(e.value)===!1});return{otherValue:i,usesOtherValue:u}}function Us(e,t,n){const l=E([]);return _e(e,a=>{a!==null&&Array.isArray(a)!==!1&&t.value!==null&&a.forEach(s=>{if(t.value===null)return;t.value.map(f=>f.value).includes(s)===!0===!1&&l.value.map(_=>_.value).includes(s)===!0===!1&&i(s)})}),{otherValues:l,addOtherValue:i,setOtherValue:u};function i(a=""){l.value=[...l.value,{key:_t(),value:a}]}function u(a,s){const r=l.value.find(f=>f.key===a),m=(e.value||[]).filter(f=>f!==(r==null?void 0:r.value));if(s===null)l.value=l.value.filter(f=>f.key!==a),m.length===0?n(null):n(m);else{l.value=l.value.map(v=>(v.key===a&&(v.value=s),v));const f=[...m,s];n(f)}}}const n9=z({name:"SelectListItem",props:{item:{type:Object,required:!0},modelValue:{type:[String,Number,Array],default:null},multiple:{type:Boolean,required:!0},allowOther:{type:Boolean,required:!0}},emits:["update:modelValue"]}),l9={key:0,class:"item-text"};function o9(e,t,n,l,i,u){const a=c("v-divider"),s=c("v-icon"),r=c("v-list-item-icon"),m=c("v-checkbox"),f=c("v-list-item-content"),v=c("v-list-item");return e.item.divider===!0?(p(),C(a,{key:0})):(p(),C(v,{key:1,active:e.multiple?(e.modelValue||[]).includes(e.item.value):e.modelValue===e.item.value,disabled:e.item.disabled,clickable:"",value:e.item.value,onClick:t[1]||(t[1]=_=>e.multiple?null:e.$emit("update:modelValue",e.item.value))},{default:d(()=>[e.multiple===!1&&e.allowOther===!1&&e.item.icon?(p(),C(r,{key:0},{default:d(()=>[o(s,{name:e.item.icon},null,8,["name"])]),_:1})):R("",!0),o(f,null,{default:d(()=>[e.multiple===!1||e.item.selectable===!1?(p(),I("span",l9,b(e.item.text),1)):(p(),C(m,{key:1,"model-value":e.modelValue||[],label:e.item.text,value:e.item.value,disabled:e.item.disabled,"onUpdate:modelValue":t[0]||(t[0]=_=>e.$emit("update:modelValue",_.length>0?_:null))},null,8,["model-value","label","value","disabled"]))]),_:1})]),_:1},8,["active","disabled","value"]))}var Ns=q(n9,[["render",o9]]);const a9=z({name:"SelectListItemGroup",components:{SelectListItem:Ns},props:{item:{type:Object,required:!0},modelValue:{type:[String,Number,Array],default:null},multiple:{type:Boolean,required:!0},allowOther:{type:Boolean,required:!0}},emits:["update:modelValue"]}),i9={key:0,class:"item-text"};function s9(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-list-item-icon"),r=c("v-checkbox"),m=c("v-list-item-content"),f=c("select-list-item-group",!0),v=c("select-list-item"),_=c("v-list-group");return p(),C(_,{clickable:e.item.selectable,value:e.item.value},{activator:d(()=>[e.multiple===!1&&e.allowOther===!1&&e.item.icon?(p(),C(s,{key:0},{default:d(()=>[o(a,{name:e.item.icon},null,8,["name"])]),_:1})):R("",!0),o(m,null,{default:d(()=>[e.multiple===!1||e.item.selectable===!1?(p(),I("span",i9,b(e.item.text),1)):(p(),C(r,{key:1,"model-value":e.modelValue||[],label:e.item.text,value:e.item.value,disabled:e.item.disabled,"onUpdate:modelValue":t[0]||(t[0]=y=>e.$emit("update:modelValue",y.length>0?y:null))},null,8,["model-value","label","value","disabled"]))]),_:1})]),default:d(()=>[(p(!0),I(ie,null,he(e.item.children,(y,g)=>(p(),I(ie,{key:g},[y.children?(p(),C(f,{key:0,item:y,"model-value":e.modelValue,multiple:e.multiple,"allow-other":e.allowOther,"onUpdate:modelValue":t[1]||(t[1]=$=>e.$emit("update:modelValue",$))},null,8,["item","model-value","multiple","allow-other"])):(p(),C(v,{key:1,"model-value":e.modelValue,item:y,multiple:e.multiple,"allow-other":e.allowOther,"onUpdate:modelValue":t[2]||(t[2]=$=>e.$emit("update:modelValue",$))},null,8,["model-value","item","multiple","allow-other"]))],64))),128))]),_:1},8,["clickable","value"])}var r9=q(a9,[["render",s9]]);const d9=z({components:{SelectListItemGroup:r9,SelectListItem:Ns},props:{items:{type:Array,required:!0},itemText:{type:String,default:"text"},itemValue:{type:String,default:"value"},itemIcon:{type:String,default:null},itemDisabled:{type:String,default:"disabled"},itemSelectable:{type:String,default:"selectable"},itemChildren:{type:String,default:"children"},modelValue:{type:[Array,String,Number,Boolean],default:null},multiple:{type:Boolean,default:!1},mandatory:{type:Boolean,default:!0},placeholder:{type:String,default:null},fullWidth:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},showDeselect:{type:Boolean,default:!1},allowOther:{type:Boolean,default:!1},closeOnContentClick:{type:Boolean,default:!0},inline:{type:Boolean,default:!1},label:{type:Boolean,default:!1},multiplePreviewThreshold:{type:Number,default:3},placement:{type:String,default:"bottom"}},emits:["update:modelValue","group-toggle"],setup(e,{emit:t}){const{t:n}=Y(),{internalItems:l}=v(),{displayValue:i}=_(),{modelValue:u}=Re(e),{otherValue:a,usesOtherValue:s}=Ms(u,l,y=>t("update:modelValue",y)),{otherValues:r,addOtherValue:m,setOtherValue:f}=Us(u,l,y=>t("update:modelValue",y));return{t:n,internalItems:l,displayValue:i,otherValue:a,usesOtherValue:s,otherValues:r,addOtherValue:m,setOtherValue:f};function v(){return{internalItems:V(()=>{const g=h=>{if(typeof h=="string")return{text:h,value:h};if(h.divider===!0)return{value:null,divider:!0};const k=U.exports.get(h,e.itemChildren)?U.exports.get(h,e.itemChildren).map(g):null;return{text:U.exports.get(h,e.itemText),value:U.exports.get(h,e.itemValue),icon:U.exports.get(h,e.itemIcon),disabled:U.exports.get(h,e.itemDisabled),selectable:U.exports.get(h,e.itemSelectable),children:k}};return e.items.map(g)})}}function _(){return{displayValue:V(()=>{if(Array.isArray(e.modelValue)){if(e.modelValue.length<e.multiplePreviewThreshold)return e.modelValue.map($=>g($)||$).join(", ");{const $=l.value.length+r.value.length,h=e.modelValue.length;return $===h?n("all_items"):n("item_count",h)}}return g(e.modelValue)||e.modelValue})};function g($){return h(l.value);function h(k){var F;let A=(F=k.find(P=>P.value===$))==null?void 0:F.text;for(const P of k)A||P.children&&(A=h(P.children));return A}}}}}),u9=["onClick"],c9=["placeholder"],p9=["value","placeholder","onInput","onBlur"];function m9(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-input"),r=c("v-list-item-icon"),m=c("v-list-item-content"),f=c("v-list-item"),v=c("v-divider"),_=c("select-list-item-group"),y=c("select-list-item"),g=c("v-checkbox"),$=c("v-list"),h=c("v-menu"),k=Se("focus");return p(),C(h,{class:"v-select",disabled:e.disabled,attached:e.inline===!1,"show-arrow":e.inline===!0,"close-on-content-click":e.closeOnContentClick,placement:e.placement},{activator:d(({toggle:A,active:F})=>[e.inline?(p(),I("div",{key:0,class:se(["inline-display",{placeholder:!e.displayValue,label:e.label,active:F}]),onClick:A},[ye(e.$slots,"preview",{},()=>[D(b(e.displayValue||e.placeholder),1)],!0),o(a,{name:"expand_more",class:se({active:F})},null,8,["class"])],10,u9)):ye(e.$slots,"preview",{key:1},()=>[o(s,{"full-width":e.fullWidth,readonly:"","model-value":e.displayValue,clickable:"",placeholder:e.placeholder,disabled:e.disabled,active:F,onClick:A},Ze({append:d(()=>[o(a,{name:"expand_more",class:se({active:F})},null,8,["class"]),ye(e.$slots,"append",{},void 0,!0)]),_:2},[e.$slots.prepend?{name:"prepend",fn:d(()=>[ye(e.$slots,"prepend",{},void 0,!0)])}:void 0]),1032,["full-width","model-value","placeholder","disabled","active","onClick"])],!0)]),default:d(()=>[o($,{class:"list",mandatory:e.mandatory,onToggle:t[9]||(t[9]=A=>e.$emit("group-toggle",A))},{default:d(()=>[e.showDeselect?(p(),I(ie,{key:0},[o(f,{clickable:"",disabled:e.modelValue===null,onClick:t[0]||(t[0]=A=>e.$emit("update:modelValue",null))},{default:d(()=>[e.multiple===!0?(p(),C(r,{key:0},{default:d(()=>[o(a,{name:"close"})]),_:1})):R("",!0),o(m,null,{default:d(()=>[D(b(e.multiple?e.t("deselect_all"):e.t("deselect")),1)]),_:1}),e.multiple===!1?(p(),C(r,{key:1},{default:d(()=>[o(a,{name:"close"})]),_:1})):R("",!0)]),_:1},8,["disabled"]),o(v)],64)):R("",!0),(p(!0),I(ie,null,he(e.internalItems,(A,F)=>(p(),I(ie,{key:F},[A.children?(p(),C(_,{key:0,item:A,"model-value":e.modelValue,multiple:e.multiple,"allow-other":e.allowOther,"onUpdate:modelValue":t[1]||(t[1]=P=>e.$emit("update:modelValue",P))},null,8,["item","model-value","multiple","allow-other"])):(p(),C(y,{key:1,"model-value":e.modelValue,item:A,multiple:e.multiple,"allow-other":e.allowOther,"onUpdate:modelValue":t[2]||(t[2]=P=>e.$emit("update:modelValue",P))},null,8,["model-value","item","multiple","allow-other"]))],64))),128)),e.allowOther&&e.multiple===!1?(p(),C(f,{key:1,active:e.usesOtherValue,onClick:t[5]||(t[5]=Fe(()=>{},["stop"]))},{default:d(()=>[o(m,null,{default:d(()=>[x(S("input",{"onUpdate:modelValue":t[3]||(t[3]=A=>e.otherValue=A),class:"other-input",placeholder:e.t("other"),onFocus:t[4]||(t[4]=A=>e.otherValue?e.$emit("update:modelValue",e.otherValue):null)},null,40,c9),[[Hl,e.otherValue]])]),_:1})]),_:1},8,["active"])):R("",!0),e.allowOther&&e.multiple===!0?(p(),I(ie,{key:2},[(p(!0),I(ie,null,he(e.otherValues,A=>(p(),C(f,{key:A.key,active:(e.modelValue||[]).includes(A.value),onClick:t[7]||(t[7]=Fe(()=>{},["stop"]))},{default:d(()=>[o(r,null,{default:d(()=>[o(g,{"model-value":e.modelValue||[],value:A.value,"onUpdate:modelValue":t[6]||(t[6]=F=>e.$emit("update:modelValue",F.length>0?F:null))},null,8,["model-value","value"])]),_:2},1024),o(m,null,{default:d(()=>[x(S("input",{class:"other-input",value:A.value,placeholder:e.t("other"),onInput:F=>e.setOtherValue(A.key,F.target.value),onBlur:F=>A.value.length===0&&e.setOtherValue(A.key,null)},null,40,p9),[[k]])]),_:2},1024),o(r,null,{default:d(()=>[o(a,{name:"close",clickable:"",onClick:F=>e.setOtherValue(A.key,null)},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["active"]))),128)),o(f,{onClick:t[8]||(t[8]=Fe(A=>e.addOtherValue(),["stop"]))},{default:d(()=>[o(r,null,{default:d(()=>[o(a,{name:"add"})]),_:1}),o(m,null,{default:d(()=>[D(b(e.t("other")),1)]),_:1})]),_:1})],64)):R("",!0)]),_:1},8,["mandatory"])]),_:3},8,["disabled","attached","show-arrow","close-on-content-click","placement"])}var f9=q(d9,[["render",m9],["__scopeId","data-v-a0800880"]]);const v9=z({props:{},setup(){return{}}}),_9={class:"v-sheet"};function y9(e,t,n,l,i,u){return p(),I("div",_9,[ye(e.$slots,"default",{},void 0,!0)])}var g9=q(v9,[["render",y9],["__scopeId","data-v-714b5c50"]]);const h9=z({props:{type:{type:String,default:"input"}}}),Bs=e=>(We("data-v-9bf1f4de"),e=e(),Ge(),e),b9=Bs(()=>S("div",{class:"icon"},null,-1)),$9=Bs(()=>S("div",{class:"text"},null,-1));function w9(e,t,n,l,i,u){return p(),I("div",{class:se([e.type,"v-skeleton-loader"])},[e.type==="list-item-icon"?(p(),I(ie,{key:0},[b9,$9],64)):R("",!0)],2)}var k9=q(h9,[["render",w9],["__scopeId","data-v-9bf1f4de"]]);const S9=z({props:{disabled:{type:Boolean,default:!1},showThumbLabel:{type:Boolean,default:!1},max:{type:Number,default:100},min:{type:Number,default:0},step:{type:Number,default:1},showTicks:{type:Boolean,default:!1},alwaysShowValue:{type:Boolean,default:!1},modelValue:{type:Number,default:0}},emits:["change","update:modelValue"],setup(e,{emit:t}){return{styles:V(()=>{if(e.modelValue===null)return{"--_v-slider-percentage":50};let u=(e.modelValue-e.min)/(e.max-e.min)*100;return isNaN(u)&&(u=0),{"--_v-slider-percentage":u}}),onChange:l,onInput:i};function l(u){const a=u.target;t("change",Number(a.value))}function i(u){const a=u.target;t("update:modelValue",Number(a.value))}}}),C9=e=>(We("data-v-266ebe68"),e=e(),Ge(),e),V9={key:0,class:"prepend"},F9=["disabled","value","max","min","step"],A9=C9(()=>S("div",{class:"fill"},null,-1)),I9={key:0,class:"ticks"},E9={key:1,class:"thumb-label-wrapper"},D9={key:1,class:"append"};function T9(e,t,n,l,i,u){return p(),I("div",{class:"v-slider",style:ze(e.styles)},[e.$slots.prepend?(p(),I("div",V9,[ye(e.$slots,"prepend",{value:e.modelValue},void 0,!0)])):R("",!0),S("div",{class:se(["slider",{disabled:e.disabled}])},[S("input",{disabled:e.disabled,type:"range",value:e.modelValue,max:e.max,min:e.min,step:e.step,onChange:t[0]||(t[0]=(...a)=>e.onChange&&e.onChange(...a)),onInput:t[1]||(t[1]=(...a)=>e.onInput&&e.onInput(...a))},null,40,F9),A9,e.showTicks?(p(),I("div",I9,[(p(!0),I(ie,null,he((e.max-e.min)/e.step+1,a=>(p(),I("span",{key:a,class:"tick"}))),128))])):R("",!0),e.showThumbLabel?(p(),I("div",E9,[S("div",{class:se(["thumb-label",{visible:e.alwaysShowValue}])},[ye(e.$slots,"thumb-label type-text",{value:e.modelValue},()=>[D(b(e.modelValue),1)],!0)],2)])):R("",!0)],2),e.$slots.append?(p(),I("div",D9,[ye(e.$slots,"append",{value:e.modelValue},void 0,!0)])):R("",!0)],4)}var P9=q(S9,[["render",T9],["__scopeId","data-v-266ebe68"]]);const O9=z({props:{value:{type:String,default:null},modelValue:{type:[Boolean,Array],default:!1},label:{type:String,default:null},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const n=V(()=>e.modelValue instanceof Array?e.modelValue.includes(e.value):e.modelValue===!0);return{isChecked:n,toggleInput:l};function l(){if(e.modelValue instanceof Array){const i=[...e.modelValue];n.value===!1?i.push(e.value):i.splice(i.indexOf(e.value),1),t("update:modelValue",i)}else t("update:modelValue",!n.value)}}}),L9=e=>(We("data-v-9eb85040"),e=e(),Ge(),e),j9=["aria-pressed","disabled"],R9=L9(()=>S("span",{class:"switch"},null,-1)),M9={class:"label type-label"};function U9(e,t,n,l,i,u){return p(),I("button",{class:"v-switch",type:"button",role:"switch","aria-pressed":e.isChecked?"true":"false",disabled:e.disabled,onClick:t[0]||(t[0]=(...a)=>e.toggleInput&&e.toggleInput(...a))},[R9,S("span",M9,[ye(e.$slots,"label",{},()=>[D(b(e.label),1)],!0)])],8,j9)}var N9=q(O9,[["render",U9],["__scopeId","data-v-9eb85040"]]);const B9=z({props:{headers:{type:Array,required:!0},sort:{type:Object,required:!0},showSelect:{type:String,default:"none"},showResize:{type:Boolean,default:!1},showManualSort:{type:Boolean,default:!1},someItemsSelected:{type:Boolean,default:!1},allItemsSelected:{type:Boolean,default:!1},fixed:{type:Boolean,default:!1},mustSort:{type:Boolean,default:!1},hasItemAppendSlot:{type:Boolean,default:!1},manualSortKey:{type:String,default:null}},emits:["update:sort","toggle-select-all","update:headers"],setup(e,{emit:t}){const{t:n}=Y(),l=E(!1),i=E(0),u=E(0),a=E(null);return Fn(window,"pointermove",U.exports.throttle(_,40)),Fn(window,"pointerup",y),{t:n,changeSort:m,dragging:l,dragHeader:a,dragStartWidth:u,dragStartX:i,getClassesForHeader:s,onMouseMove:_,onResizeHandleMouseDown:v,toggleManualSort:g,toggleSelectAll:f,getTooltipForSortIcon:r};function s($){const h=[];return $.align&&h.push(`align-${$.align}`),$.sortable&&h.push("sortable"),e.sort.by===$.value&&(e.sort.desc===!1?h.push("sort-asc"):h.push("sort-desc")),h}function r($){return e.sort.by===$.value&&e.sort.desc===!1?"sort_desc":"sort_asc"}function m($){if($.sortable!==!1&&l.value!==!0)return $.value===e.sort.by?e.mustSort?t("update:sort",{by:e.sort.by,desc:!e.sort.desc}):e.sort.desc===!1?t("update:sort",{by:e.sort.by,desc:!0}):t("update:sort",{by:null,desc:!1}):t("update:sort",{by:$.value,desc:!1})}function f(){t("toggle-select-all",!e.allItemsSelected)}function v($,h){const A=h.target.parentElement;l.value=!0,i.value=h.pageX,u.value=A.offsetWidth,a.value=$}function _($){if(l.value===!0){const h=u.value+($.pageX-i.value),A=U.exports.clone(e.headers).map(F=>{var P;return F.value===((P=a.value)==null?void 0:P.value)?Ve(pe({},F),{width:Math.max(32,h)}):F});t("update:headers",A)}}function y(){l.value===!0&&(l.value=!1)}function g(){e.sort.by===e.manualSortKey?t("update:sort",{by:null,desc:!1}):t("update:sort",{by:e.manualSortKey,desc:!1})}}}),q9=e=>(We("data-v-82b0622a"),e=e(),Ge(),e),z9={key:1,class:"select cell",scope:"col"},K9=["onClick"],H9=["onPointerdown"],W9=q9(()=>S("th",{class:"spacer cell",scope:"col"},null,-1)),G9={key:2,class:"spacer cell",scope:"col"};function J9(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-checkbox"),r=Se("tooltip");return p(),I("thead",{class:se(["table-header",{dragging:e.dragging}])},[S("tr",{class:se({fixed:e.fixed})},[e.showManualSort?(p(),I("th",{key:0,class:se(["manual cell",{"sorted-manually":e.sort.by===e.manualSortKey}]),scope:"col",onClick:t[0]||(t[0]=(...m)=>e.toggleManualSort&&e.toggleManualSort(...m))},[x(o(a,{name:"sort",small:""},null,512),[[r,e.t("toggle_manual_sorting")]])],2)):R("",!0),e.showSelect!=="none"?(p(),I("th",z9,[e.showSelect==="multiple"?(p(),C(s,{key:0,"model-value":e.allItemsSelected,indeterminate:e.someItemsSelected,"onUpdate:modelValue":e.toggleSelectAll},null,8,["model-value","indeterminate","onUpdate:modelValue"])):R("",!0)])):R("",!0),(p(!0),I(ie,null,he(e.headers,m=>(p(),I("th",{key:m.value,class:se([e.getClassesForHeader(m),"cell"]),scope:"col"},[S("div",{class:"content",onClick:f=>e.changeSort(m)},[x(S("span",null,[ye(e.$slots,`header.${m.value}`,{header:m},()=>[D(b(m.text),1)],!0)],512),[[Et,m.width>90||m.width===null]]),m.sortable?x((p(),C(a,{key:0,name:"sort",class:"sort-icon",small:""},null,512)),[[r,e.t(e.getTooltipForSortIcon(m)),void 0,{top:!0}]]):R("",!0)],8,K9),e.showResize?(p(),I("span",{key:0,class:"resize-handle",onClick:t[1]||(t[1]=Fe(()=>{},["stop"])),onPointerdown:f=>e.onResizeHandleMouseDown(m,f)},null,40,H9)):R("",!0)],2))),128)),W9,e.hasItemAppendSlot?(p(),I("th",G9)):R("",!0)],2)],2)}var Q9=q(B9,[["render",J9],["__scopeId","data-v-82b0622a"]]);const X9=z({props:{headers:{type:Array,required:!0},item:{type:Object,required:!0},showSelect:{type:String,default:"none"},showManualSort:{type:Boolean,default:!1},isSelected:{type:Boolean,default:!1},subdued:{type:Boolean,default:!1},sortedManually:{type:Boolean,default:!1},hasClickListener:{type:Boolean,default:!1},height:{type:Number,default:48}},emits:["click","item-selected"]}),Z9=e=>(We("data-v-704d39b1"),e=e(),Ge(),e),Y9=Z9(()=>S("td",{class:"spacer cell"},null,-1));function x9(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-checkbox"),r=c("v-text-overflow"),m=c("value-null");return p(),I("tr",{class:se(["table-row",{subdued:e.subdued,clickable:e.hasClickListener}]),style:ze({"--table-row-height":e.height+2+"px","--table-row-line-height":1}),onClick:t[4]||(t[4]=f=>e.$emit("click",f))},[e.showManualSort?(p(),I("td",{key:0,class:"manual cell",onClick:t[0]||(t[0]=Fe(()=>{},["stop"]))},[o(a,{name:"drag_handle",class:se(["drag-handle",{"sorted-manually":e.sortedManually}])},null,8,["class"])])):R("",!0),e.showSelect!=="none"?(p(),I("td",{key:1,class:"select cell",onClick:t[2]||(t[2]=Fe(()=>{},["stop"]))},[o(s,{"icon-on":e.showSelect==="one"?"radio_button_checked":void 0,"icon-off":e.showSelect==="one"?"radio_button_unchecked":void 0,"model-value":e.isSelected,"onUpdate:modelValue":t[1]||(t[1]=f=>e.$emit("item-selected",f))},null,8,["icon-on","icon-off","model-value"])])):R("",!0),(p(!0),I(ie,null,he(e.headers,f=>(p(),I("td",{key:f.value,class:se(["cell",`align-${f.align}`])},[ye(e.$slots,`item.${f.value}`,{item:e.item},()=>[f.value.split(".").reduce((v,_)=>v[_],e.item)?(p(),C(r,{key:0,text:f.value.split(".").reduce((v,_)=>v[_],e.item)},null,8,["text"])):(p(),C(m,{key:1}))],!0)],2))),128)),Y9,e.$slots["item-append"]?(p(),I("td",{key:2,class:"append cell",onClick:t[3]||(t[3]=Fe(()=>{},["stop"]))},[ye(e.$slots,"item-append",{},void 0,!0)])):R("",!0)],6)}var eU=q(X9,[["render",x9],["__scopeId","data-v-704d39b1"]]);const qs={text:"",value:"",align:"left",sortable:!0,width:null},tU=z({components:{TableHeader:Q9,TableRow:eU,Draggable:Ct},props:{headers:{type:Array,required:!0},items:{type:Array,required:!0},itemKey:{type:String,default:"id"},sort:{type:Object,default:null},mustSort:{type:Boolean,default:!1},showSelect:{type:String,default:"none"},showResize:{type:Boolean,default:!1},showManualSort:{type:Boolean,default:!1},manualSortKey:{type:String,default:null},modelValue:{type:Array,default:()=>[]},fixedHeader:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},loadingText:{type:String,default:qe.global.t("loading")},noItemsText:{type:String,default:qe.global.t("no_items")},serverSort:{type:Boolean,default:!1},rowHeight:{type:Number,default:48},selectionUseKeys:{type:Boolean,default:!1},inline:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},clickable:{type:Boolean,default:!0}},emits:["click:row","update:sort","update:items","item-selected","update:modelValue","manual-sort","update:headers"],setup(e,{emit:t,slots:n}){const l=V({get:()=>e.headers.map(h=>pe(pe({},qs),h)).map(h=>(h.width&&h.width<24&&(h.width=24),h)),set:h=>{t("update:headers",h.map(k=>{const A=[];return U.exports.forEach(k,(F,P)=>{F!==qs[P]&&A.push(P)}),U.exports.pick(k,A)}))}}),i=E({by:null,desc:!1}),u=V({get:()=>e.sort||i.value,set:h=>{t("update:sort",h),i.value=h}}),a=V(()=>n["item-append"]!==void 0),s=V(()=>{let h=l.value.length+1;return e.showSelect!=="none"&&h++,e.showManualSort&&h++,a.value&&h++,`1 / span ${h}`}),r=V({get:()=>{if(e.serverSort===!0||u.value.by===e.manualSortKey||u.value.by===null)return e.items;const h=U.exports.sortBy(e.items,[u.value.by]);return u.value.desc===!0?h.reverse():h},set:h=>{t("update:items",h)}}),m=V(()=>e.loading===!1&&e.modelValue.length===e.items.length),f=V(()=>e.modelValue.length>0&&m.value===!1),v=V(()=>{let h=l.value.map(k=>k.width?`${k.width}px`:"160px").reduce((k,A)=>k+=" "+A,"");return e.showSelect!=="none"&&(h="36px "+h),e.showManualSort&&(h="36px "+h),h=h+" 1fr",a.value&&(h+=" auto"),h});return{internalHeaders:l,internalItems:r,internalSort:u,allItemsSelected:m,getSelectedState:y,onItemSelected:_,onToggleSelectAll:g,someItemsSelected:f,onSortChange:$,fullColSpan:s,columnStyle:v,hasItemAppendSlot:a,hideDragImage:Bt};function _(h){if(e.disabled)return;t("item-selected",h);let k=U.exports.clone(e.modelValue);h.value===!0?e.selectionUseKeys?k.push(h.item[e.itemKey]):k.push(h.item):k=k.filter(A=>e.selectionUseKeys?A!==h.item[e.itemKey]:A[e.itemKey]!==h.item[e.itemKey]),t("update:modelValue",k)}function y(h){return(e.selectionUseKeys?e.modelValue:e.modelValue.map(A=>A[e.itemKey])).includes(h[e.itemKey])}function g(h){e.disabled||(h===!0?e.selectionUseKeys?t("update:modelValue",U.exports.clone(e.items).map(k=>k[e.itemKey])):t("update:modelValue",U.exports.clone(e.items)):t("update:modelValue",[]))}function $(h){if(e.disabled)return;const k=r.value[h.oldIndex][e.itemKey],A=r.value[h.newIndex][e.itemKey];t("manual-sort",{item:k,to:A})}}}),nU=["summary"],lU={key:1},oU={class:"loading-text"},aU={key:2},iU={class:"no-items-text"};function sU(e,t,n,l,i,u){const a=c("table-header"),s=c("v-progress-linear"),r=c("table-row"),m=c("draggable");return p(),I("div",{class:se(["v-table",{loading:e.loading,inline:e.inline,disabled:e.disabled}])},[S("table",{summary:e.internalHeaders.map(f=>f.text).join(", "),style:ze({"--grid-columns":e.columnStyle})},[o(a,{headers:e.internalHeaders,"onUpdate:headers":t[0]||(t[0]=f=>e.internalHeaders=f),sort:e.internalSort,"onUpdate:sort":t[1]||(t[1]=f=>e.internalSort=f),"show-select":e.showSelect,"show-resize":e.showResize,"some-items-selected":e.someItemsSelected,"all-items-selected":e.allItemsSelected,fixed:e.fixedHeader,"show-manual-sort":e.showManualSort,"must-sort":e.mustSort,"has-item-append-slot":e.hasItemAppendSlot,"manual-sort-key":e.manualSortKey,onToggleSelectAll:e.onToggleSelectAll},Ze({_:2},[he(e.internalHeaders,f=>({name:`header.${f.value}`,fn:d(()=>[ye(e.$slots,`header.${f.value}`,{header:f},void 0,!0)])}))]),1032,["headers","sort","show-select","show-resize","some-items-selected","all-items-selected","fixed","show-manual-sort","must-sort","has-item-append-slot","manual-sort-key","onToggleSelectAll"]),e.loading?(p(),I("thead",{key:0,class:se(["loading-indicator",{sticky:e.fixedHeader}])},[S("th",{scope:"colgroup",style:ze({gridColumn:e.fullColSpan})},[e.loading?(p(),C(s,{key:0,indeterminate:""})):R("",!0)],4)],2)):R("",!0),e.loading&&e.items.length===0?(p(),I("tbody",lU,[S("tr",oU,[S("td",{style:ze({gridColumn:e.fullColSpan})},b(e.loadingText),5)])])):R("",!0),!e.loading&&e.items.length===0?(p(),I("tbody",aU,[S("tr",iU,[S("td",{style:ze({gridColumn:e.fullColSpan})},b(e.noItemsText),5)])])):(p(),C(m,{key:3,modelValue:e.internalItems,"onUpdate:modelValue":t[2]||(t[2]=f=>e.internalItems=f),"force-fallback":!0,"item-key":e.itemKey,tag:"tbody",handle:".drag-handle",disabled:e.disabled||e.internalSort.by!==e.manualSortKey,"set-data":e.hideDragImage,onEnd:e.onSortChange},{item:d(({element:f})=>[o(r,{headers:e.internalHeaders,item:f,"show-select":!e.disabled&&e.showSelect,"show-manual-sort":!e.disabled&&e.showManualSort,"is-selected":e.getSelectedState(f),subdued:e.loading,"sorted-manually":e.internalSort.by===e.manualSortKey,"has-click-listener":!e.disabled&&e.clickable,height:e.rowHeight,onClick:v=>e.clickable?e.$emit("click:row",{item:f,event:v}):null,onItemSelected:v=>e.onItemSelected({item:f,value:!e.getSelectedState(f)})},Ze({_:2},[he(e.internalHeaders,v=>({name:`item.${v.value}`,fn:d(()=>[ye(e.$slots,`item.${v.value}`,{item:f},void 0,!0)])})),e.hasItemAppendSlot?{name:"item-append",fn:d(()=>[ye(e.$slots,"item-append",{item:f},void 0,!0)])}:void 0]),1032,["headers","item","show-select","show-manual-sort","is-selected","subdued","sorted-manually","has-click-listener","height","onClick","onItemSelected"])]),_:3},8,["modelValue","item-key","disabled","set-data","onEnd"]))],12,nU),ye(e.$slots,"footer",{},void 0,!0)],2)}var rU=q(tU,[["render",sU],["__scopeId","data-v-20cd5b42"]]);const dU=z({props:{value:{type:String,default:null}},setup(e){const{active:t,toggle:n}=yn({value:e.value,group:"v-tabs-items"});return{active:t,toggle:n}}}),uU={key:0,class:"v-tab-item"};function cU(e,t,n,l,i,u){return e.active?(p(),I("div",uU,[ye(e.$slots,"default",He(Xe({active:e.active,toggle:e.toggle})))])):R("",!0)}var pU=q(dU,[["render",cU]]);const mU=z({props:{disabled:{type:Boolean,default:!1},value:{type:String,default:null}},setup(e){const{active:t,toggle:n}=yn({value:e.value,group:"v-tabs"}),l=bt("v-tabs-vertical",E(!1));return{active:t,toggle:n,onClick:i,vertical:l};function i(){e.disabled===!1&&n()}}});function fU(e,t,n,l,i,u){const a=c("v-list-item");return e.vertical?(p(),C(a,{key:0,class:"v-tab vertical",active:e.active,disabled:e.disabled,clickable:"",onClick:e.onClick},{default:d(()=>[ye(e.$slots,"default",He(Xe({active:e.active,toggle:e.toggle})),void 0,!0)]),_:3},8,["active","disabled","onClick"])):(p(),I("div",{key:1,class:se(["v-tab horizontal",{active:e.active,disabled:e.disabled}]),onClick:t[0]||(t[0]=(...s)=>e.onClick&&e.onClick(...s))},[ye(e.$slots,"default",He(Xe({active:e.active,toggle:e.toggle})),void 0,!0)],2))}var vU=q(mU,[["render",fU],["__scopeId","data-v-2c97bb1b"]]);const _U=z({props:{modelValue:{type:Array,default:void 0}},emits:["update:modelValue"],setup(e,{emit:t}){function n(l){t("update:modelValue",l)}return{update:n}}});function yU(e,t,n,l,i,u){const a=c("v-item-group");return p(),C(a,{class:"v-tabs-items","model-value":e.modelValue,scope:"v-tabs-items","onUpdate:modelValue":e.update},{default:d(()=>[ye(e.$slots,"default")]),_:3},8,["model-value","onUpdate:modelValue"])}var gU=q(_U,[["render",yU]]);const hU=z({props:{vertical:{type:Boolean,default:!1},modelValue:{type:Array,default:void 0}},emits:["update:modelValue"],setup(e,{emit:t}){const{modelValue:n,vertical:l}=Re(e);Yt("v-tabs-vertical",l);const{items:i}=qo({selection:n,onSelectionChange:u},{multiple:E(!1),mandatory:E(!0)},"v-tabs");function u(a){t("update:modelValue",a)}return{update:u,items:i}}}),bU={key:1,class:"v-tabs horizontal"};function $U(e,t,n,l,i,u){const a=c("v-list");return e.vertical?(p(),C(a,{key:0,class:"v-tabs vertical alt-colors",nav:""},{default:d(()=>[ye(e.$slots,"default")]),_:3})):(p(),I("div",bU,[ye(e.$slots,"default")]))}var wU=q(hU,[["render",$U],["__scopeId","data-v-c201e160"]]);const kU=z({props:{text:{type:[String,Number,Array,Object,Boolean],required:!0},highlight:{type:String,default:null}},setup(){const e=E(),t=E(!1),{width:n}=Zn(e);return _e(n,()=>{!e.value||(t.value=e.value.offsetWidth<e.value.scrollWidth)},{immediate:!0}),{el:e,hasEllipsis:t}}}),SU={ref:"el",class:"v-text-overflow"};function CU(e,t,n,l,i,u){const a=c("v-highlight"),s=Se("tooltip");return x((p(),I("div",SU,[e.highlight?(p(),C(a,{key:0,query:e.highlight,text:e.text},null,8,["query","text"])):(p(),I(ie,{key:1},[D(b(e.text),1)],64))],512)),[[s,e.hasEllipsis&&e.text]])}var VU=q(kU,[["render",CU],["__scopeId","data-v-2955c167"]]);const FU=z({props:{disabled:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},fullWidth:{type:Boolean,default:!0},modelValue:{type:String,default:null},nullable:{type:Boolean,default:!0},expandOnFocus:{type:Boolean,default:!1},placeholder:{type:String,default:null},trim:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const n=V(()=>({input:i,blur:u})),l=V(()=>e.modelValue&&e.modelValue.length>0);return{listeners:n,hasContent:l};function i(a){const s=a.target.value;e.nullable===!0&&s===""?t("update:modelValue",null):t("update:modelValue",s)}function u(){e.modelValue&&e.trim&&t("update:modelValue",e.modelValue.trim())}}}),AU={key:0,class:"prepend"},IU=["placeholder","disabled","value"],EU={key:1,class:"append"};function DU(e,t,n,l,i,u){const a=Se("focus");return p(),I("div",{class:se(["v-textarea",{disabled:e.disabled,"expand-on-focus":e.expandOnFocus,"full-width":e.fullWidth,"has-content":e.hasContent}])},[e.$slots.prepend?(p(),I("div",AU,[ye(e.$slots,"prepend",{},void 0,!0)])):R("",!0),x(S("textarea",dt(e.$attrs,{placeholder:e.placeholder,disabled:e.disabled,value:e.modelValue},Kl(e.listeners)),null,16,IU),[[a,e.autofocus]]),e.$slots.append?(p(),I("div",EU,[ye(e.$slots,"append",{},void 0,!0)])):R("",!0)],2)}var TU=q(FU,[["render",DU],["__scopeId","data-v-12e4b7cd"]]);const PU=z({components:{SearchInput:kn},props:{active:{type:Boolean,default:!1},selection:{type:Array,default:()=>[]},collection:{type:String,required:!0},multiple:{type:Boolean,default:!1},filter:{type:Object,default:null}},emits:["update:active","input"],setup(e,{emit:t}){const{t:n}=Y(),{save:l,cancel:i}=N(),{internalActive:u}=O(),{internalSelection:a,onSelect:s}=T(),{collection:r}=Re(e),{info:m}=at(r),{layout:f,layoutOptions:v,layoutQuery:_,search:y,filter:g}=wn(r,E(null),!0),$=E(f.value||"tabular"),h=E(v.value),k=E(_.value),A=V({get(){return a.value},set(L){s(L)}}),{layoutWrapper:F}=un(f),P=V({get(){return e.filter?g.value?{_and:[e.filter,g.value]}:e.filter:g.value},set(L){g.value=L}});return{t:n,save:l,cancel:i,internalActive:u,layoutWrapper:F,layoutSelection:A,layoutFilter:P,localLayout:$,localOptions:h,localQuery:k,collectionInfo:m,search:y,presetFilter:g};function O(){const L=E(!1);return{internalActive:V({get(){return e.active===void 0?L.value:e.active},set(B){L.value=B,t("update:active",B)}})}}function T(){const L=E(null),M=V({get(){return L.value===null?e.selection:L.value},set(K){L.value=K}});return _e(()=>e.active,()=>{L.value=null}),{internalSelection:M,onSelect:B};function B(K){if(K.length===0){L.value=[];return}e.multiple===!0?L.value=K:L.value=[K[K.length-1]]}}function N(){return{save:L,cancel:M};function L(){t("input",a.value),u.value=!1}function M(){u.value=!1}}}});function OU(e,t,n,l,i,u){const a=c("v-breadcrumb"),s=c("v-icon"),r=c("v-button"),m=c("search-input"),f=c("v-info"),v=c("v-drawer"),_=Se("tooltip");return p(),C(Ue(e.layoutWrapper),{selection:e.layoutSelection,"onUpdate:selection":t[3]||(t[3]=y=>e.layoutSelection=y),"layout-options":e.localOptions,"onUpdate:layout-options":t[4]||(t[4]=y=>e.localOptions=y),"layout-query":e.localQuery,"onUpdate:layout-query":t[5]||(t[5]=y=>e.localQuery=y),filter:e.layoutFilter,search:e.search,collection:e.collection,"select-mode":"","show-select":e.multiple?"multiple":"one"},{default:d(({layoutState:y})=>[o(v,{modelValue:e.internalActive,"onUpdate:modelValue":t[2]||(t[2]=g=>e.internalActive=g),title:e.t("select_item"),onCancel:e.cancel},{subtitle:d(()=>[o(a,{items:[{name:e.collectionInfo.name,disabled:!0}]},null,8,["items"])]),"title-outer:prepend":d(()=>[o(r,{class:"header-icon",rounded:"",icon:"",secondary:"",disabled:""},{default:d(()=>[o(s,{name:e.collectionInfo.icon,color:e.collectionInfo.color},null,8,["name","color"])]),_:1})]),"actions:prepend":d(()=>[(p(),C(Ue(`layout-actions-${e.localLayout}`),He(Xe(y)),null,16))]),actions:d(()=>[o(m,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=g=>e.search=g),filter:e.presetFilter,"onUpdate:filter":t[1]||(t[1]=g=>e.presetFilter=g),collection:e.collection},null,8,["modelValue","filter","collection"]),x(o(r,{icon:"",rounded:"",onClick:e.save},{default:d(()=>[o(s,{name:"check"})]),_:1},8,["onClick"]),[[_,e.t("save"),void 0,{bottom:!0}]])]),default:d(()=>[(p(),C(Ue(`layout-${e.localLayout}`),dt({class:"layout"},y),{"no-results":d(()=>[o(f,{title:e.t("item_count",0),icon:e.collectionInfo.icon,center:""},null,8,["title","icon"])]),"no-items":d(()=>[o(f,{title:e.t("item_count",0),icon:e.collectionInfo.icon,center:""},null,8,["title","icon"])]),_:2},1040))]),_:2},1032,["modelValue","title","onCancel"])]),_:1},8,["selection","layout-options","layout-query","filter","search","collection","show-select"])}var Qt=q(PU,[["render",OU],["__scopeId","data-v-7347abac"]]);const LU=z({components:{DrawerCollection:Qt},props:{multiple:{type:Boolean,default:!1},preset:{type:Object,default:()=>({})},fileId:{type:String,default:null},fromUrl:{type:Boolean,default:!1},fromLibrary:{type:Boolean,default:!1},folder:{type:String,default:void 0}},emits:["input"],setup(e,{emit:t}){const{t:n}=Y(),{uploading:l,progress:i,upload:u,onBrowseSelect:a,done:s,numberOfFiles:r}=P(),{onDragEnter:m,onDragLeave:f,onDrop:v,dragging:_}=O(),{url:y,isValidURL:g,loading:$,importFromURL:h}=N(),{setSelection:k}=T(),A=E(null),F=V(()=>e.folder?{folder:{id:{_eq:e.folder}}}:null);return{t:n,uploading:l,progress:i,onDragEnter:m,onDragLeave:f,onDrop:v,dragging:_,onBrowseSelect:a,done:s,numberOfFiles:r,activeDialog:A,filterByFolder:F,url:y,isValidURL:g,urlLoading:$,importFromURL:h,setSelection:k};function P(){const L=E(!1),M=E(0),B=E(0),K=E(0);return{uploading:L,progress:M,upload:W,onBrowseSelect:le,numberOfFiles:B,done:K};async function W(G){L.value=!0,M.value=0;const Q={};e.folder&&(Q.folder=e.folder);try{if(B.value=G.length,e.multiple===!0){const fe=await Ka(Array.from(G),{onProgressChange:ue=>{M.value=Math.round(ue.reduce((ne,ee)=>ne+=ee)/G.length),K.value=ue.filter(ne=>ne===100).length},preset:pe(pe({},e.preset),Q)});fe&&t("input",fe)}else{const fe=await za(Array.from(G)[0],{onProgressChange:ue=>{M.value=ue,K.value=ue===100?1:0},fileId:e.fileId,preset:pe(pe({},e.preset),Q)});fe&&t("input",fe)}}catch(fe){Ce(fe)}finally{L.value=!1,K.value=0,B.value=0}}function le(G){var fe;const Q=(fe=G.target)==null?void 0:fe.files;Q&&W(Q)}}function O(){const L=E(!1);let M=0;return{onDragEnter:B,onDragLeave:K,onDrop:W,dragging:L};function B(){M++,M===1&&(L.value=!0)}function K(){M--,M===0&&(L.value=!1)}function W(le){var Q;M=0,L.value=!1;const G=(Q=le.dataTransfer)==null?void 0:Q.files;G&&u(G)}}function T(){return{setSelection:L};async function L(M){if(M[0]){const B=M[0],K=await re.get(`/files/${B}`);t("input",K.data.data)}else t("input",null)}}function N(){const L=E(""),M=E(!1),B=V(()=>{try{return new URL(L.value),!0}catch{return!1}});return{url:L,loading:M,isValidURL:B,importFromURL:K};async function K(){M.value=!0;try{const W=await re.post("/files/import",{url:L.value,data:{folder:e.folder}});Jn.emit(vn.upload),e.multiple?t("input",[W.data.data]):t("input",W.data.data),A.value=null,L.value=""}catch(W){Ce(W)}finally{M.value=!1}}}}}),jU={class:"type-label"},RU={class:"type-text"},MU={class:"type-label"},UU={class:"type-text"},NU={class:"type-label"},BU={class:"type-text"},qU=["multiple"];function zU(e,t,n,l,i,u){const a=c("v-progress-linear"),s=c("v-icon"),r=c("v-list-item-icon"),m=c("v-list-item-content"),f=c("v-list-item"),v=c("v-list"),_=c("v-menu"),y=c("drawer-collection"),g=c("v-card-title"),$=c("v-input"),h=c("v-card-text"),k=c("v-button"),A=c("v-card-actions"),F=c("v-card"),P=c("v-dialog");return p(),I("div",{"data-dropzone":"",class:se(["v-upload",{dragging:e.dragging,uploading:e.uploading}]),onDragenter:t[8]||(t[8]=Fe((...O)=>e.onDragEnter&&e.onDragEnter(...O),["prevent"])),onDragover:t[9]||(t[9]=Fe(()=>{},["prevent"])),onDragleave:t[10]||(t[10]=Fe((...O)=>e.onDragLeave&&e.onDragLeave(...O),["prevent"])),onDrop:t[11]||(t[11]=Fe((...O)=>e.onDrop&&e.onDrop(...O),["stop","prevent"]))},[e.dragging?(p(),I(ie,{key:0},[S("p",jU,b(e.t("drop_to_upload")),1),S("p",RU,b(e.t("upload_pending")),1)],64)):e.uploading?(p(),I(ie,{key:1},[S("p",MU,b(e.progress)+"%",1),S("p",UU,b(e.multiple&&e.numberOfFiles>1?e.t("upload_files_indeterminate",{done:e.done,total:e.numberOfFiles}):e.t("upload_file_indeterminate")),1),o(a,{value:e.progress,rounded:""},null,8,["value"])],64)):(p(),I(ie,{key:2},[S("p",NU,b(e.t("drag_file_here")),1),S("p",BU,b(e.t("click_to_browse")),1),S("input",{class:"browse",type:"file",multiple:e.multiple,onInput:t[0]||(t[0]=(...O)=>e.onBrowseSelect&&e.onBrowseSelect(...O))},null,40,qU),e.fromUrl!==!1||e.fromLibrary!==!1?(p(),I(ie,{key:0},[o(_,{"show-arrow":"",placement:"bottom-end"},{activator:d(({toggle:O})=>[o(s,{clickable:"",class:"options",name:"more_vert",onClick:O},null,8,["onClick"])]),default:d(()=>[o(v,null,{default:d(()=>[e.fromLibrary?(p(),C(f,{key:0,clickable:"",onClick:t[1]||(t[1]=O=>e.activeDialog="choose")},{default:d(()=>[o(r,null,{default:d(()=>[o(s,{name:"folder_open"})]),_:1}),o(m,null,{default:d(()=>[D(b(e.t("choose_from_library")),1)]),_:1})]),_:1})):R("",!0),e.fromUrl?(p(),C(f,{key:1,clickable:"",onClick:t[2]||(t[2]=O=>e.activeDialog="url")},{default:d(()=>[o(r,null,{default:d(()=>[o(s,{name:"link"})]),_:1}),o(m,null,{default:d(()=>[D(b(e.t("import_from_url")),1)]),_:1})]),_:1})):R("",!0)]),_:1})]),_:1}),o(y,{collection:"directus_files",active:e.activeDialog==="choose",multiple:e.multiple,filter:e.filterByFolder,"onUpdate:active":t[3]||(t[3]=O=>e.activeDialog=null),onInput:e.setSelection},null,8,["active","multiple","filter","onInput"]),o(P,{"model-value":e.activeDialog==="url",persistent:e.urlLoading,onEsc:t[6]||(t[6]=O=>e.activeDialog=null),"onUpdate:modelValue":t[7]||(t[7]=O=>e.activeDialog=null)},{default:d(()=>[o(F,null,{default:d(()=>[o(g,null,{default:d(()=>[D(b(e.t("import_from_url")),1)]),_:1}),o(h,null,{default:d(()=>[o($,{modelValue:e.url,"onUpdate:modelValue":t[4]||(t[4]=O=>e.url=O),autofocus:"",placeholder:e.t("url"),nullable:!1,disabled:e.urlLoading},null,8,["modelValue","placeholder","disabled"])]),_:1}),o(A,null,{default:d(()=>[o(k,{disabled:e.urlLoading,secondary:"",onClick:t[5]||(t[5]=O=>e.activeDialog=null)},{default:d(()=>[D(b(e.t("cancel")),1)]),_:1},8,["disabled"]),o(k,{loading:e.urlLoading,disabled:e.isValidURL===!1,onClick:e.importFromURL},{default:d(()=>[D(b(e.t("import_label")),1)]),_:1},8,["loading","disabled","onClick"])]),_:1})]),_:1})]),_:1},8,["model-value","persistent"])],64)):R("",!0)],64))],34)}var KU=q(LU,[["render",zU],["__scopeId","data-v-25e58ef6"]]);function HU(e){e.component("VAvatar",BP),e.component("VBadge",HP),e.component("VBreadcrumb",XP),e.component("VButton",eO),e.component("VCardActions",oO),e.component("VCardSubtitle",rO),e.component("VCardText",pO),e.component("VCardTitle",_O),e.component("VCard",hO),e.component("VCheckbox",CO),e.component("VCheckboxTree",DO),e.component("VChip",LO),e.component("VDetail",UO),e.component("VDialog",zO),e.component("VDivider",QO),e.component("VError",bL),e.component("VFancySelect",IL),e.component("VFieldTemplate",qL),e.component("VFieldSelect",OL),e.component("VForm",rj),e.component("VHover",cj),e.component("VHighlight",fj),e.component("VIcon",I7),e.component("VInfo",L7),e.component("VInput",W7),e.component("VItemGroup",X7),e.component("VItem",eM),e.component("VListGroup",aM),e.component("VListItemContent",dM),e.component("VListItemHint",pM),e.component("VListItemIcon",vM),e.component("VListItem",gM),e.component("VList",$M),e.component("VMenu",VM),e.component("VDrawer",_L),e.component("VNotice",IM),e.component("VOverlay",LM),e.component("VPagination",qM),e.component("VProgressCircular",GM),e.component("VProgressLinear",XM),e.component("VRadio",t9),e.component("VSelect",f9),e.component("VSheet",g9),e.component("VSkeletonLoader",k9),e.component("VSlider",P9),e.component("VSwitch",N9),e.component("VTabItem",pU),e.component("VTab",vU),e.component("VTable",rU),e.component("VTabsItems",gU),e.component("VTabs",wU),e.component("VTemplateInput",Ta),e.component("VTextarea",TU),e.component("VTextOverflow",VU),e.component("VUpload",KU),e.component("TransitionBounce",DP),e.component("TransitionDialog",OP),e.component("TransitionExpand",MP),e.component("RenderDisplay",tP),e.component("RenderTemplate",uP),e.component("ExportSidebarDetail",Y6),e.component("SidebarDetail",_P),e.component("UserPopover",CP),e.component("ValueNull",tn),e.component("DocsWrapper",AP)}const zs=(e,{value:t})=>{const{handler:n,middleware:l,events:i,disabled:u}=GU(t);_e(()=>t,a=>{JSON.stringify(a)!==JSON.stringify(t)&&Hs(e,{value:a,oldValue:null})}),u!==!0&&(e.$clickOutsideHandlers=i.map(a=>({event:a,handler:s=>JU({event:s,el:e,handler:n,middleware:l})})),e.$clickOutsideHandlers.forEach(({event:a,handler:s})=>{setTimeout(()=>{!e.$clickOutsideHandlers||document.documentElement.addEventListener(a,s,!1)})}))},Ks=e=>{(e.$clickOutsideHandlers||[]).forEach(({event:n,handler:l})=>{document.documentElement.removeEventListener(n,l,!1)})},Hs=(e,{value:t,oldValue:n})=>{JSON.stringify(t)!==JSON.stringify(n)&&(Ks(e),zs(e,{value:t}))},WU={beforeMount:zs,unmounted:Ks,updated:Hs};function GU(e){const t=typeof e=="function";let n;if(t)n={handler:e,middleware:()=>!0,events:["pointerdown"],disabled:!1};else{const l=e;n={handler:l.handler||(()=>{}),middleware:l.middleware||(()=>!0),events:l.events||["pointerdown"],disabled:l.disabled!==void 0?!!l.disabled:!1}}return n}function JU({el:e,event:t,handler:n,middleware:l}){t.stopPropagation();const i=t.composedPath();(i?i.indexOf(e)<0:e.contains(t.target)===!1)!==!1&&l(t)&&n(t)}function QU(e,t){var l;const n=(l=t.instance)==null?void 0:l.$refs[t.value];e.addEventListener("contextmenu",Ws(n)),e.addEventListener("focusout",Gs(n))}function XU(e,t){var l;const n=(l=t.instance)==null?void 0:l.$refs[t.value];e.removeEventListener("contextmenu",Ws(n)),e.removeEventListener("focusout",Gs(n))}const ZU={mounted:QU,unmounted:XU};function Ws(e){return t=>{t.stopPropagation(),t.preventDefault(),e&&e.activate(t)}}function Gs(e){return t=>{e&&e.deactivate(t)}}const YU={mounted(e,t){t.value?e.focus():e.blur()}},xU=300,El={};function zo(e,t){t.value&&(e.dataset.tooltip=_t(),El[e.dataset.tooltip]=tN(e,t),e.addEventListener("mouseenter",El[e.dataset.tooltip]),e.addEventListener("mouseleave",Js))}function Ko(e){e.removeEventListener("mouseenter",El[e.dataset.tooltip]),e.removeEventListener("mouseleave",Js),clearTimeout(Dl),Ho().classList.remove("visible"),delete El[e.dataset.tooltip]}const eN={beforeMount:zo,unmounted:Ko,updated(e,t){t.value&&!t.oldValue?zo(e,t):!t.value&&t.oldValue?Ko(e):(Ko(e),zo(e,t))}};let Dl;function tN(e,t){return()=>{const n=Ho();t.modifiers.instant?(Xs(n),Qs(e,t,n)):(clearTimeout(Dl),Dl=window.setTimeout(()=>{Xs(n),Qs(e,t,n)},xU))}}function Js(){const e=Ho();clearTimeout(Dl),nN(e)}function Qs(e,t,n){const l=10,i=20,u=e.getBoundingClientRect();let a=u.top+pageYOffset,s=u.left+pageXOffset,r;n.innerText=t.value,n.classList.remove("top","bottom","left","right","start","end"),t.modifiers.inverted?n.classList.add("inverted"):n.classList.remove("inverted"),t.modifiers.monospace&&n.classList.add("monospace"),t.modifiers.bottom?(t.modifiers.start?(s+=i,r=100,n.classList.add("start")):t.modifiers.end?(s+=u.width-i,r=0,n.classList.add("end")):(s+=u.width/2,r=50),a+=u.height+l,n.style.transform=`translate(calc(${s}px - ${r}%), ${a}px)`,n.classList.add("bottom")):t.modifiers.left?(t.modifiers.start?(a+=i,r=100,n.classList.add("start")):t.modifiers.end?(a+=u.height-i,r=0,n.classList.add("end")):(a+=u.height/2,r=50),s-=l,n.style.transform=`translate(calc(${s}px - 100%), calc(${a}px - ${r}%))`,n.classList.add("left")):t.modifiers.right?(t.modifiers.start?(a+=i,r=100,n.classList.add("start")):t.modifiers.end?(a+=u.height-i,r=0,n.classList.add("end")):(a+=u.height/2,r=50),s+=u.width+l,n.style.transform=`translate(${s}px, calc(${a}px - ${r}%))`,n.classList.add("right")):(t.modifiers.start?(s+=i,r=100,n.classList.add("start")):t.modifiers.end?(s+=u.width-i,r=0,n.classList.add("end")):(s+=u.width/2,r=50),a-=l,n.style.transform=`translate(calc(${s}px - ${r}%), calc(${a}px - 100%))`,n.classList.add("top"))}function Xs(e){e.classList.add("visible","enter"),e.classList.remove("leave","leave-active"),setTimeout(()=>{e.classList.contains("enter")!==!1&&(e.classList.add("enter-active"),e.classList.remove("enter"))},1),setTimeout(()=>{e.classList.remove("enter-active")},200)}function nN(e){e.classList.contains("visible")!==!1&&(e.classList.add("visible","leave"),e.classList.remove("enter","enter-active"),setTimeout(()=>{e.classList.contains("leave")!==!1&&(e.classList.add("leave-active"),e.classList.remove("leave"))},1),setTimeout(()=>{e.classList.contains("leave-active")!==!1&&(e.classList.remove("leave-active"),e.classList.remove("visible"))},200))}function Ho(){let e=document.getElementById("tooltip");return e instanceof HTMLElement||(e=document.createElement("div"),e.id="tooltip",document.body.appendChild(e)),e}const lN={beforeMount(e,t){var n;e.innerHTML=Cl((n=t.value)!=null?n:"")},updated(e,t){var n;e.innerHTML=Cl((n=t.value)!=null?n:"")}};function oN(e){e.directive("click-outside",WU),e.directive("context-menu",ZU),e.directive("focus",YU),e.directive("tooltip",eN),e.directive("md",lN)}const aN=z({props:{showHeader:{type:Boolean,default:!1},text:{type:String,default:""},color:{type:String,default:void 0}}});function iN(e,t,n,l,i,u){return p(),I("div",{class:se(["label type-title selectable",{"has-header":e.showHeader}]),style:ze({color:e.color})},b(e.text),7)}var sN=q(aN,[["render",iN],["__scopeId","data-v-b5689fe6"]]),rN=ul({id:"label",name:"$t:panels.label.name",description:"$t:panels.label.description",icon:"title",component:sN,options:[{field:"text",name:"$t:label",type:"string",meta:{interface:"input",width:"half"}},{field:"color",name:"$t:color",type:"string",meta:{interface:"select-color",width:"half",options:{placeholder:"$t:automatic"}}}],minWidth:12,minHeight:8}),dN=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:rN});const uN=z({components:{FilePreview:vo},props:{active:{type:Boolean,default:!1},collection:{type:String,required:!0},primaryKey:{type:[String,Number],required:!0},edits:{type:Object,default:void 0},junctionField:{type:String,default:null},relatedPrimaryKey:{type:[String,Number],default:"+"},circularField:{type:String,default:null}},emits:["update:active","input"],setup(e,{emit:t}){const{t:n,te:l}=Y(),i=Pe(),u=ut(),{internalActive:a}=Q(),{junctionFieldInfo:s,junctionRelatedCollection:r,junctionRelatedCollectionInfo:m,setJunctionEdits:f}=ue(),{internalEdits:v,loading:_,item:y}=fe(),{save:g,cancel:$}=ne(),{collection:h}=Re(e),{info:k}=at(h),A=V(()=>{const ee=(m==null?void 0:m.value)||k.value,de=e.primaryKey==="+";return l(`collection_names_singular.${ee.collection}`)?de?n("creating_unit",{unit:n(`collection_names_singular.${ee.collection}`)}):n("editing_unit",{unit:n(`collection_names_singular.${ee.collection}`)}):de?n("creating_in",{collection:ee.name}):n("editing_in",{collection:ee.name})}),F=V(()=>i.getFieldsForCollection(e.collection).filter(ee=>{var de;return((de=ee.meta)==null?void 0:de.hidden)!==!0}).length>0),{fields:P}=Kn(r,V(()=>y.value&&y.value[e.junctionField]),V(()=>e.primaryKey==="+")),{fields:O}=Kn(h,y,V(()=>e.primaryKey==="+")),T=V(()=>e.circularField?O.value.filter(ee=>ee.field!==e.circularField):O.value),N=V(()=>s.value?String(e.relatedPrimaryKey):String(e.primaryKey)),L=V(()=>m.value||k.value),{templateData:M,loading:B}=Ra(L,N),K=V(()=>{var ee,de,ce,H;return((de=(ee=m.value)==null?void 0:ee.meta)==null?void 0:de.display_template)||((H=(ce=k.value)==null?void 0:ce.meta)==null?void 0:H.display_template)||null}),{file:W,isDirectusFiles:le}=G();return{t:n,internalActive:a,internalEdits:v,loading:_,item:y,save:g,cancel:$,title:A,junctionFieldInfo:s,junctionRelatedCollection:r,setJunctionEdits:f,showDivider:F,junctionRelatedCollectionFields:P,fields:T,template:K,templateCollection:L,templatePrimaryKey:N,templateData:M,templateDataLoading:B,collectionInfo:k,file:W,isDirectusFiles:le};function G(){const ee=V(()=>r.value==="directus_files");return{file:V(()=>{var Z;if(ee.value===!1||!y.value)return null;const ce=(Z=y.value)==null?void 0:Z[e.junctionField];if(!ce)return null;const H=st(Qe()+`assets/${ce.id}?key=system-large-contain`);return Ve(pe({},ce),{src:H})}),isDirectusFiles:ee}}function Q(){const ee=E(!1);return{internalActive:V({get(){return e.active===void 0?ee.value:e.active},set(ce){ee.value=ce,t("update:active",ce)}})}}function fe(){const ee=E({}),de=V({get(){return e.edits!==void 0?pe(pe({},e.edits),ee.value):ee.value},set(te){ee.value=te}}),ce=E(!1),H=E(null);return _e(()=>e.active,te=>{te===!0?(e.primaryKey!=="+"&&Z(),e.relatedPrimaryKey!=="+"&&X()):(ce.value=!1,H.value=null,ee.value={})},{immediate:!0}),{internalEdits:de,loading:ce,item:H,fetchItem:Z};async function Z(){ce.value=!0;const te=e.collection.startsWith("directus_")?`/${e.collection.substring(9)}/${e.primaryKey}`:`/items/${e.collection}/${encodeURIComponent(e.primaryKey)}`;let ve="*";e.junctionField&&(ve=`*,${e.junctionField}.*`);try{const J=await re.get(te,{params:{fields:ve}});H.value=J.data.data}catch(J){Ce(J)}finally{ce.value=!1}}async function X(){ce.value=!0;const te=r.value,ve=te.startsWith("directus_")?`/${te.substring(9)}/${e.relatedPrimaryKey}`:`/items/${te}/${encodeURIComponent(e.relatedPrimaryKey)}`;try{const J=await re.get(ve);H.value=Ve(pe({},H.value||{}),{[s.value.field]:J.data.data})}catch(J){Ce(J)}finally{ce.value=!1}}}function ue(){const ee=V(()=>e.junctionField?i.getField(e.collection,e.junctionField):null),de=V(()=>{var te,ve;if(!e.junctionField)return null;const X=u.getRelationsForField(e.collection,e.junctionField).find(J=>J.collection===e.collection&&J.field===e.junctionField);return X.related_collection?X.related_collection:((te=X.meta)==null?void 0:te.one_collection_field)?e.edits[X.meta.one_collection_field]||((ve=y.value)==null?void 0:ve[X.meta.one_collection_field]):null}),{info:ce}=at(de);return{junctionFieldInfo:ee,junctionRelatedCollection:de,junctionRelatedCollectionInfo:ce,setJunctionEdits:H};function H(Z){!e.junctionField||(v.value=Ve(pe({},v.value),{[e.junctionField]:Z}))}}function ne(){return{save:ee,cancel:de};function ee(){t("input",v.value),a.value=!1,v.value={}}function de(){a.value=!1,v.value={}}}}}),cN={key:1,class:"type-title"},pN={class:"drawer-item-content"};function mN(e,t,n,l,i,u){const a=c("v-skeleton-loader"),s=c("render-template"),r=c("v-breadcrumb"),m=c("v-icon"),f=c("v-button"),v=c("file-preview"),_=c("v-form"),y=c("v-divider"),g=c("v-drawer"),$=Se("tooltip");return p(),C(g,{modelValue:e.internalActive,"onUpdate:modelValue":t[1]||(t[1]=h=>e.internalActive=h),title:e.title,persistent:"",onCancel:e.cancel},Ze({subtitle:d(()=>[o(r,{items:[{name:e.collectionInfo.name,disabled:!0}]},null,8,["items"])]),actions:d(()=>[ye(e.$slots,"actions",{},void 0,!0),x(o(f,{icon:"",rounded:"",onClick:e.save},{default:d(()=>[o(m,{name:"check"})]),_:1},8,["onClick"]),[[$,e.t("save"),void 0,{bottom:!0}]])]),default:d(()=>[S("div",pN,[e.junctionField?(p(),I(ie,{key:0},[e.file?(p(),C(v,{key:0,src:e.file.src,mime:e.file.type,width:e.file.width,height:e.file.height,title:e.file.title,"in-modal":!0},null,8,["src","mime","width","height","title"])):R("",!0),o(_,{loading:e.loading,"initial-values":e.item&&e.item[e.junctionField],"primary-key":e.relatedPrimaryKey,"model-value":e.internalEdits[e.junctionField],fields:e.junctionRelatedCollectionFields,autofocus:"","onUpdate:modelValue":e.setJunctionEdits},null,8,["loading","initial-values","primary-key","model-value","fields","onUpdate:modelValue"]),e.showDivider?(p(),C(y,{key:1})):R("",!0)],64)):R("",!0),o(_,{modelValue:e.internalEdits,"onUpdate:modelValue":t[0]||(t[0]=h=>e.internalEdits=h),loading:e.loading,"initial-values":e.item,"primary-key":e.primaryKey,fields:e.fields},null,8,["modelValue","loading","initial-values","primary-key","fields"])])]),_:2},[e.template!==null&&e.templateData&&e.primaryKey!=="+"?{name:"title",fn:d(()=>[e.loading||e.templateDataLoading?(p(),C(a,{key:0,class:"title-loader",type:"text"})):(p(),I("h1",cN,[o(s,{collection:e.templateCollection.collection,item:e.templateData,template:e.template},null,8,["collection","item","template"])]))])}:void 0]),1032,["modelValue","title","onCancel"])}var qt=q(uN,[["render",mN],["__scopeId","data-v-13e1ca41"]]);function Xt(e,t){const n=Pe();return e.map(i=>{var r,m,f;const u=n.getField(t,i);if(!u||((r=u.meta)==null?void 0:r.display)===null)return i;const a=Bn((m=u.meta)==null?void 0:m.display);if(!a||!(a==null?void 0:a.fields))return i;let s=null;return Array.isArray(a.fields)&&(s=a.fields.map(v=>`${i}.${v}`)),typeof a.fields=="function"&&(s=a.fields((f=u.meta)==null?void 0:f.display_options,{collection:u.collection,field:u.field,type:u.type}).map(v=>`${i}.${v}`)),s?s.map(v=>v.includes("$thumbnail")&&u.collection==="directus_files"?v.split(".").filter(_=>_!=="$thumbnail").join("."):v):i}).flat()}const fN=z({components:{DrawerItem:qt},props:{showHeader:{type:Boolean,default:!1},displayTemplate:{type:String,default:""},sortField:{type:String,default:void 0},sortDirection:{type:String,default:"desc"},collection:{type:String,required:!0},limit:{type:Number,default:5},filter:{type:Object,default:()=>({})}},setup(e){const{t}=Y(),n=E(),l=E(),i=Pe(),u=E([]),a=E(!1),s=E(),r=V(()=>u.value&&u.value.length>0),m=V(()=>e.displayTemplate),f=V(()=>i.getPrimaryKeyFieldForCollection(e.collection));return v(),_e(()=>e,($,h)=>{U.exports.isEqual($,h)||v()},{deep:!0,immediate:!0}),{list:u,loading:a,renderTemplate:m,primaryKeyField:f,startEditing:_,saveEdits:y,cancelEdit:g,currentlyEditing:n,editsAtStart:l,hasData:r,t};async function v(){var $;if(!!e){a.value=!0;try{const h=e.sortField,k=await re.get(Gt(e.collection),{params:{fields:[f.value.field,...Xt(yt(m.value),e.collection)],filter:e.filter,sort:e.sortDirection==="desc"?`-${h}`:h,limit:($=e.limit)!=null?$:5}});u.value=k.data.data}catch(h){s.value=h,Ce(h)}finally{a.value=!1}}}function _($){n.value=$[f.value.field],l.value=$}async function y($){try{await re.patch(`/items/${e.collection}/${n.value}`,$)}catch(h){Ce(h)}await v()}function g(){l.value=void 0,n.value=void 0}}}),vN=e=>(We("data-v-55018d78"),e=e(),Ge(),e),_N={key:1,class:"type-note"},yN={key:2},gN=vN(()=>S("div",{class:"spacer"},null,-1));function hN(e,t,n,l,i,u){var v;const a=c("v-progress-circular"),s=c("render-template"),r=c("v-list-item"),m=c("v-list"),f=c("drawer-item");return p(),I("div",{class:se(["list",{"has-header":e.showHeader,loading:e.loading,"no-data":!e.hasData}])},[e.loading?(p(),C(a,{key:0,indeterminate:""})):e.hasData?(p(),I("div",yN,[o(m,null,{default:d(()=>[(p(!0),I(ie,null,he(e.list,_=>(p(),C(r,{key:_[e.primaryKeyField.field],class:"selectable",clickable:"",onClick:y=>e.startEditing(_)},{default:d(()=>[o(s,{item:_,collection:e.collection,template:e.renderTemplate},null,8,["item","collection","template"]),gN]),_:2},1032,["onClick"]))),128))]),_:1})])):(p(),I("span",_N,b(e.t("no_data")),1)),o(f,{active:!!e.currentlyEditing,collection:e.collection,"primary-key":(v=e.currentlyEditing)!=null?v:"+",edits:e.editsAtStart,onInput:e.saveEdits,"onUpdate:active":e.cancelEdit},null,8,["active","collection","primary-key","edits","onInput","onUpdate:active"])],2)}var bN=q(fN,[["render",hN],["__scopeId","data-v-55018d78"]]),$N=ul({id:"list",name:"$t:panels.list.name",description:"$t:panels.list.description",icon:"list",component:bN,options:[{field:"collection",type:"string",name:"$t:collection",meta:{interface:"system-collection",options:{includeSystem:!0},width:"half"}},{field:"limit",type:"integer",name:"$t:limit",schema:{default_value:5},meta:{interface:"input",width:"half"}},{field:"sortField",type:"string",name:"$t:sort_field",meta:{interface:"system-field",options:{collectionField:"collection",allowPrimaryKey:!0,placeholder:"$t:primary_key"},width:"half"}},{field:"sortDirection",type:"string",name:"$t:sort_direction",schema:{default_value:"desc"},meta:{interface:"select-dropdown",options:{choices:[{text:"$t:sort_asc",value:"asc"},{text:"$t:sort_desc",value:"desc"}]},width:"half"}},{field:"displayTemplate",name:"$t:display_template",type:"string",meta:{interface:"system-display-template",width:"full",options:{collectionField:"collection",placeholder:"{{ field }}"}}},{field:"filter",type:"json",name:"$t:filter",meta:{interface:"system-filter",options:{collectionField:"collection"}}}],minWidth:16,minHeight:12}),wN=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:$N});const kN=z({props:{showHeader:{type:Boolean,default:!1},abbreviate:{type:Boolean,default:!1},sortField:{type:String,default:void 0},collection:{type:String,required:!0},field:{type:String,required:!0},function:{type:String,required:!0},filter:{type:Object,default:()=>({})},decimals:{type:Number,default:0},conditionalFormatting:{type:Array,default:()=>[]},prefix:{type:String,default:null},suffix:{type:String,default:null}},setup(e){const{n:t}=Y(),n=E(),l=E(!1);a(),_e(()=>e,(s,r)=>{U.exports.isEqual(s,r)||a()},{deep:!0});const i=V(()=>{var s,r,m;return U.exports.isNil(n.value)?null:e.abbreviate?io(n.value,(s=e.decimals)!=null?s:0):t(Number(n.value),"decimal",{minimumFractionDigits:(r=e.decimals)!=null?r:0,maximumFractionDigits:(m=e.decimals)!=null?m:0})}),u=V(()=>{if(U.exports.isNil(n.value))return null;let s=null;for(const m of e.conditionalFormatting||[])r(m)&&(s=m);return s?s.color||"#00C897":null;function r(m){var _;const f=Number(n.value),v=Number((_=m.value)!=null?_:0);switch(m.operator||">="){case"=":return f===v;case"!=":return f!==v;case">":return f>v;case">=":return f>=v;case"<":return f<v;case"<=":return f<v}}});return{metric:n,loading:l,displayValue:i,color:u};async function a(){if(!e)return;const s=["first","last"].includes(e.function);l.value=!0;try{const r=e.sortField&&`${e.function==="last"?"-":""}${e.sortField}`,m=s?void 0:{[e.function]:[e.field||"*"]},f=await re.get(Gt(e.collection),{params:{aggregate:m,filter:e.filter,sort:r,limit:1,fields:[e.field]}});e.field?e.function==="first"||e.function==="last"?n.value=Number(f.data.data[0][e.field]):n.value=Number(f.data.data[0][e.function][e.field]):n.value=Number(f.data.data[0][e.function])}catch{}finally{l.value=!1}}}}),SN={class:"prefix"},CN={class:"value"},VN={class:"suffix"};function FN(e,t,n,l,i,u){const a=c("v-progress-circular");return p(),I("div",{class:se(["metric type-title selectable",{"has-header":e.showHeader}])},[e.loading?(p(),C(a,{key:0,indeterminate:""})):(p(),I("div",{key:1,style:ze({color:e.color})},[S("span",SN,b(e.prefix),1),S("span",CN,b(e.displayValue),1),S("span",VN,b(e.suffix),1)],4))],2)}var AN=q(kN,[["render",FN],["__scopeId","data-v-f27ebf0c"]]),IN=ul({id:"metric",name:"$t:panels.metric.name",description:"$t:panels.metric.description",icon:"functions",component:AN,options:[{field:"collection",type:"string",name:"$t:collection",meta:{interface:"system-collection",options:{includeSystem:!0},width:"half"}},{field:"field",type:"string",name:"$t:panels.metric.field",meta:{interface:"system-field",options:{collectionField:"collection",typeAllowList:["integer","bigInteger","float","decimal"],allowPrimaryKey:!0,allowNone:!0},width:"half"}},{field:"function",type:"string",name:"$t:aggregate_function",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"Count",value:"count"},{text:"Count (Distinct)",value:"count_distinct"},{text:"Average",value:"avg"},{text:"Average (Distinct)",value:"avg_distinct"},{text:"Sum",value:"sum"},{text:"Sum (Distinct)",value:"sum_distinct"},{text:"Minimum",value:"min"},{text:"Maximum",value:"max"},{text:"First",value:"first"},{text:"Last",value:"last"}]}}},{field:"sortField",type:"string",name:"$t:sort_field",meta:{interface:"system-field",options:{collectionField:"collection",allowPrimaryKey:!0,placeholder:"$t:primary_key"},width:"half"}},{field:"filter",type:"json",name:"$t:filter",meta:{interface:"system-filter",options:{collectionField:"collection"}}},{field:"styleDivider",type:"alias",meta:{interface:"presentation-divider",options:{icon:"style",title:"Style & Format"},special:["alias","no-data"]}},{field:"abbreviate",type:"boolean",name:"$t:abbreviate_value",schema:{default_value:!1},meta:{interface:"boolean",width:"half"}},{field:"decimals",type:"integer",name:"$t:decimals",meta:{interface:"input",width:"half",options:{placeholder:"$t:decimals_placeholder"}},schema:{default_value:0}},{field:"prefix",type:"string",name:"$t:prefix",meta:{interface:"input",width:"half",options:{placeholder:"$t:prefix_placeholder",trim:!1}}},{field:"suffix",type:"string",name:"$t:suffix",meta:{interface:"input",width:"half",options:{placeholder:"$t:suffix_placeholder",trim:!1}}},{field:"conditionalFormatting",type:"json",name:"$t:conditional_styles",meta:{interface:"list",width:"full",options:{template:"{{color}} {{operator}} {{value}}",fields:[{field:"operator",name:"$t:operator",type:"string",schema:{default_value:">="},meta:{interface:"select-dropdown",options:{choices:[{text:"$t:operators.eq",value:"="},{text:"$t:operators.neq",value:"!="},{text:"$t:operators.gt",value:">"},{text:"$t:operators.gte",value:">="},{text:"$t:operators.lt",value:"<"},{text:"$t:operators.lte",value:"<="}]},width:"half"}},{field:"value",name:"$t:value",type:"integer",schema:{default_value:0},meta:{interface:"input",width:"half"}},{field:"color",name:"$t:color",type:"string",schema:{default_value:"#00C897"},meta:{interface:"select-color",display:"color"}}]}}}],minWidth:8,minHeight:6}),EN=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:IN});function DN(e,t){e=U.exports.clone(e);const n=t.startsWith("-");(n||t.startsWith("+"))&&(t=t.substring(1));const l=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|months?|mth|mo|years?|yrs?|y)?$/i.exec(t);if(!l)return;const i=parseFloat(l[1]);switch((l[2]||"days").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n?Fd(e,i):Ad(e,i);case"months":case"month":case"mth":case"mo":return n?Cd(e,i):Vd(e,i);case"weeks":case"week":case"w":return n?Sd(e,i):ca(e,i);case"days":case"day":case"d":return n?sa(e,i):kd(e,i);case"hours":case"hour":case"hrs":case"hr":case"h":return n?$d(e,i):wd(e,i);case"minutes":case"minute":case"mins":case"min":case"m":return n?hd(e,i):bd(e,i);case"seconds":case"second":case"secs":case"sec":case"s":return n?yd(e,i):gd(e,i);case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n?vd(e,i):_d(e,i);default:return}}const TN=z({props:{height:{type:Number,required:!0},showHeader:{type:Boolean,default:!1},id:{type:String,required:!0},dashboard:{type:String,required:!0},now:{type:Date,required:!0},collection:{type:String,required:!0},dateField:{type:String,required:!0},valueField:{type:String,required:!0},function:{type:String,required:!0},precision:{type:String,default:"hour"},range:{type:String,default:"1 week"},color:{type:String,default:"#00C897"},fillType:{type:String,default:"gradient"},curveType:{type:String,default:"smooth"},decimals:{type:Number,default:0},min:{type:Number,default:void 0},max:{type:Number,default:void 0},filter:{type:Object,default:()=>({})},showXAxis:{type:Boolean,default:!0},showYAxis:{type:Boolean,default:!0}},setup(e){const{d:t,t:n,n:l}=Y(),i=Pe(),u=E([]),a=E(!1),s=E(),r=E(),m=E(),f=V(()=>{const y=i.getField(e.collection,e.valueField),g=n(e.function);return`${y.name} (${g})`});return _e(()=>e,()=>{var y;v(),(y=m.value)==null||y.destroy(),_()},{deep:!0}),v(),it(_),St(()=>{var y;(y=m.value)==null||y.destroy()}),{chartEl:r,metrics:u,loading:a,error:s};async function v(){var $;a.value=!0;try{const h=await re.get(Gt(e.collection),{params:{groupBy:g(),aggregate:{[e.function]:[e.valueField]},filter:{_and:[{[e.dateField]:{_gte:`$NOW(-${e.range||"1 week"})`}},{[e.dateField]:{_lte:"$NOW"}},e.filter||{}]},limit:-1}});u.value=h.data.data,($=m.value)==null||$.updateSeries([{name:e.collection,data:u.value.map(k=>{var A;return{x:y(k),y:Number(Number(k[e.function][e.valueField]).toFixed((A=e.decimals)!=null?A:0))}})}])}catch(h){s.value=h}finally{a.value=!1}function y(h){var B,K,W,le,G;const k=h[`${e.dateField}_year`],A=L((B=h[`${e.dateField}_month`])!=null?B:1),F=h[`${e.dateField}_week`],P=L(F?M(F,k):(K=h[`${e.dateField}_day`])!=null?K:1),O=L((W=h[`${e.dateField}_hour`])!=null?W:0),T=L((le=h[`${e.dateField}_minute`])!=null?le:0),N=L((G=h[`${e.dateField}_second`])!=null?G:0);return`${k}-${A}-${P}T${O}:${T}:${N}`;function L(Q){return String(Q).padStart(2,"0")}function M(Q,fe){return ca(new Date(fe,0,1),Q).getDate()}}function g(){let h=[];switch(e.precision||"hour"){case"year":h=["year"];break;case"month":h=["year","month"];break;case"week":h=["year","month","week"];break;case"day":h=["year","month","day"];break;case"hour":h=["year","month","day","hour"];break;case"minute":h=["year","month","day","hour","minute"];break;case"second":h=["year","month","day","hour","minute","second"];break;default:h=["year","month","day","hour"];break}return h.map(k=>`${k}(${e.dateField})`)}}function _(){var y,g;m.value=new Id(r.value,{colors:[e.color?e.color:"#00C897"],chart:{type:e.fillType==="disabled"?"line":"area",height:"100%",toolbar:{show:!1},selection:{enabled:!1},zoom:{enabled:!1},fontFamily:"var(--family-sans-serif)",foreColor:"var(--foreground-subdued)"},series:[],stroke:{curve:e.curveType,width:2,lineCap:"round"},markers:{hover:{size:void 0,sizeOffset:4}},fill:{type:e.fillType==="disabled"?"solid":e.fillType,gradient:{colorStops:[[{offset:0,color:e.color?e.color:"#00C897",opacity:.25},{offset:100,color:e.color?e.color:"#00C897",opacity:0}]]}},grid:{borderColor:"var(--border-subdued)",padding:{top:e.showHeader?-20:-4,bottom:0,left:8}},dataLabels:{enabled:!1},tooltip:{marker:{show:!1},x:{show:!0,formatter($){return t(new Date($),"long")}},y:{title:{formatter:()=>f.value+": "},formatter($){return l($)}}},xaxis:{type:"datetime",tooltip:{enabled:!1},axisTicks:{show:!1},axisBorder:{show:!1},range:e.now.getTime()-DN(e.now,`-${e.range}`).getTime(),max:e.now.getTime(),labels:{show:(y=e.showXAxis)!=null?y:!0,offsetY:-4,style:{fontFamily:"var(--family-sans-serif)",foreColor:"var(--foreground-subdued)",fontWeight:600,fontSize:"10px"}},crosshairs:{stroke:{color:"var(--border-normal)"}}},yaxis:{show:(g=e.showYAxis)!=null?g:!0,forceNiceScale:!0,min:U.exports.isNil(e.min)?void 0:Number(e.min),max:U.exports.isNil(e.max)?void 0:Number(e.max),tickAmount:e.height-4,labels:{offsetY:1,offsetX:-4,formatter:$=>{var h,k;return $>1e4?io($,1):l($,"decimal",{minimumFractionDigits:(h=e.decimals)!=null?h:0,maximumFractionDigits:(k=e.decimals)!=null?k:0})},style:{fontFamily:"var(--family-sans-serif)",foreColor:"var(--foreground-subdued)",fontWeight:600,fontSize:"10px"}}}}),m.value.render()}}}),PN={ref:"chartEl",class:"time-series"};function ON(e,t,n,l,i,u){return p(),I("div",PN,null,512)}var LN=q(TN,[["render",ON],["__scopeId","data-v-26013503"]]),jN=ul({id:"time-series",name:"$t:panels.time_series.name",description:"$t:panels.time_series.description",icon:"show_chart",component:LN,options:[{field:"collection",type:"string",name:"$t:collection",meta:{interface:"system-collection",options:{includeSystem:!0},width:"half"}},{field:"color",name:"$t:color",type:"string",schema:{default_value:"#00C897"},meta:{interface:"select-color",width:"half"}},{field:"function",type:"string",name:"$t:group_aggregation",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"Count",value:"count"},{text:"Count (Distinct)",value:"count_distinct"},{text:"Average",value:"avg"},{text:"Average (Distinct)",value:"avg_distinct"},{text:"Sum",value:"sum"},{text:"Sum (Distinct)",value:"sum_distinct"},{text:"Minimum",value:"min"},{text:"Maximum",value:"max"}]}}},{field:"precision",type:"string",name:"$t:group_precision",meta:{interface:"select-dropdown",width:"half",options:{choices:[{text:"Second",value:"second"},{text:"Minute",value:"minute"},{text:"Hour",value:"hour"},{text:"Day",value:"day"},{text:"Week",value:"week"},{text:"Month",value:"month"},{text:"Year",value:"year"}]}},schema:{default_value:"hour"}},{field:"dateField",type:"string",name:"$t:panels.time_series.date_field",meta:{interface:"system-field",options:{collectionField:"collection",typeAllowList:["date","dateTime","timestamp"]},width:"half"}},{field:"range",type:"dropdown",name:"$t:date_range",schema:{default_value:"1 week"},meta:{interface:"select-dropdown",width:"half",options:{choices:[{text:"Past 5 Minutes",value:"5 minutes"},{text:"Past 15 Minutes",value:"15 minutes"},{text:"Past 30 Minutes",value:"30 minutes"},{text:"Past 1 Hour",value:"1 hour"},{text:"Past 4 Hours",value:"4 hours"},{text:"Past 1 Day",value:"1 day"},{text:"Past 2 Days",value:"2 days"},{text:"Past 1 Week",value:"1 week"},{text:"Past 1 Month",value:"1 month"},{text:"Past 3 Months",value:"3 months"}],allowOther:!0}}},{field:"valueField",type:"string",name:"$t:panels.time_series.value_field",meta:{interface:"system-field",options:{collectionField:"collection",typeAllowList:["integer","bigInteger","float","decimal"]},width:"half"}},{field:"decimals",type:"integer",name:"$t:value_decimals",meta:{interface:"input",width:"half",options:{placeholder:"$t:decimals_placeholder"}},schema:{default_value:0}},{field:"min",type:"integer",name:"$t:min_value",meta:{interface:"input",width:"half",options:{placeholder:"$t:automatic"}}},{field:"max",type:"integer",name:"$t:max_value",meta:{interface:"input",width:"half",options:{placeholder:"$t:automatic"}}},{field:"curveType",type:"string",name:"$t:panels.time_series.curve_type",meta:{interface:"select-dropdown",width:"half",options:{choices:[{text:"Smooth",value:"smooth"},{text:"Straight",value:"straight"},{text:"Stepline",value:"stepline"}]}},schema:{default_value:"smooth"}},{field:"fillType",type:"string",name:"$t:panels.time_series.fill_type",meta:{interface:"select-dropdown",width:"half",options:{choices:[{text:"Gradient",value:"gradient"},{text:"Solid",value:"solid"},{text:"Disabled",value:"disabled"}]}},schema:{default_value:"gradient"}},{field:"filter",type:"json",name:"$t:filter",meta:{interface:"system-filter",options:{collectionField:"collection"}}},{field:"showXAxis",type:"boolean",name:"$t:show_x_axis",meta:{interface:"boolean",width:"half"},schema:{default_value:!0}},{field:"showYAxis",type:"boolean",name:"$t:show_y_axis",meta:{interface:"boolean",width:"half"},schema:{default_value:!0}}],minWidth:16,minHeight:8}),RN=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:jN});const{panelsRaw:Zs}=ml();async function MN(e){const n=Object.values({"./label/index.ts":dN,"./list/index.ts":wN,"./metric/index.ts":EN,"./time-series/index.ts":RN}).map(l=>l.default);try{const l=await j(()=>import(`${Qe()}extensions/panels/index.js`),[]);n.push(...l.default)}catch(l){console.warn("Couldn't load custom panels"),console.warn(l)}Zs.value=n,Zs.value.forEach(l=>{e.component(`panel-${l.id}`,l.component),typeof l.options!="function"&&Array.isArray(l.options)===!1&&l.options!==null&&e.component(`panel-options-${l.id}`,l.options)})}const UN=z({props:{value:{type:Boolean,default:!1},labelOn:{type:String,default:null},labelOff:{type:String,default:null},iconOn:{type:String,default:"check"},iconOff:{type:String,default:"close"},colorOn:{type:String,default:"var(--primary)"},colorOff:{type:String,default:"var(--foreground-subdued)"}},setup(e){return{styles:V(()=>{const n={};return e.colorOn!==null&&e.colorOff!==null&&(n.color=e.value?e.colorOn:e.colorOff,n["--v-icon-color"]=e.value?e.colorOn:e.colorOff),n})}}}),NN={key:1};function BN(e,t,n,l,i,u){const a=c("value-null"),s=c("v-icon");return p(),I("div",{class:"boolean",style:ze(e.styles)},[e.value===null?(p(),C(a,{key:0})):(p(),I(ie,{key:1},[e.iconOn!==null&&e.iconOff!==null?(p(),C(s,{key:0,name:e.value?e.iconOn:e.iconOff},null,8,["name"])):R("",!0),e.labelOn!==null&&e.labelOff!==null?(p(),I("span",NN,b(e.value?e.labelOn:e.labelOff),1)):R("",!0)],64))],4)}var qN=q(UN,[["render",BN],["__scopeId","data-v-f75cb4b2"]]),zN=gt({id:"boolean",name:"$t:displays.boolean.boolean",description:"$t:displays.boolean.description",types:["boolean"],icon:"check_box",component:qN,options:[{field:"labelOn",name:"$t:displays.boolean.label_on",type:"string",meta:{interface:"input",width:"half",options:{placeholder:"$t:displays.boolean.label_on_placeholder"}}},{field:"labelOff",name:"$t:displays.boolean.label_off",type:"string",meta:{interface:"input",width:"half",options:{placeholder:"$t:displays.boolean.label_off_placeholder"}}},{field:"iconOn",name:"$t:displays.boolean.icon_on",type:"string",meta:{interface:"select-icon",width:"half"},schema:{default_value:"check"}},{field:"iconOff",name:"$t:displays.boolean.icon_off",type:"string",meta:{interface:"select-icon",width:"half"},schema:{default_value:"close"}},{field:"colorOn",name:"$t:displays.boolean.color_on",type:"string",meta:{interface:"select-color",width:"half"}},{field:"colorOff",name:"$t:displays.boolean.color_off",type:"string",meta:{interface:"select-color",width:"half"}}]}),KN=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:zN});const HN=z({props:{value:{type:String,default:null},icon:{type:Boolean,default:!1}},setup(e){const t=Re(e).value,{info:n}=at(t);return{info:n}}}),WN={key:1};function GN(e,t,n,l,i,u){const a=c("value-null"),s=c("v-icon");return e.value===null||!e.info?(p(),C(a,{key:0})):(p(),I("div",WN,[e.icon?(p(),C(s,{key:0,name:e.info.icon,left:"",small:""},null,8,["name"])):R("",!0),D(" "+b(e.info.name),1)]))}var JN=q(HN,[["render",GN]]),QN=gt({id:"collection",name:"$t:displays.collection.collection",description:"$t:displays.collection.description",types:["string"],icon:"label",component:JN,options:[{field:"icon",name:"$t:icon",type:"boolean",meta:{interface:"boolean",options:{label:"$t:displays.collection.icon_label"}},schema:{default_value:!1}}]}),XN=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:QN});function Tl(e){return/^#(([a-f\d]{2}){3,4})$/i.test(e)}const ZN=z({props:{value:{type:String,default:null},defaultColor:{type:String,default:"#B0BEC5",validator:e=>e===null||Tl(e)||e.startsWith("var(--")}},setup(e){const t=V(()=>e.value),n=V(()=>{var f,v;const i=((f=e.defaultColor)==null?void 0:f.startsWith("var("))?l(e.defaultColor):e.defaultColor,u=((v=e.value)==null?void 0:v.startsWith("var("))?l(e.value):e.value,a={"background-color":i};u!==null&&(a["background-color"]=u);const s=l("var(--background-page)"),r=zt(s);return(u===null?zt(i):zt(u)).contrast(r)<1.1&&(a.border="1px solid var(--border-normal)"),a});return{displayValue:t,styles:n};function l(i){return getComputedStyle(document.body).getPropertyValue(i.slice(4,-1)).trim()}}}),YN={class:"color-dot"};function xN(e,t,n,l,i,u){const a=c("value-null");return p(),I("div",YN,[e.value===null&&e.defaultColor===null?(p(),C(a,{key:0})):R("",!0),S("div",{class:"dot",style:ze(e.styles)},null,4)])}var eB=q(ZN,[["render",xN],["__scopeId","data-v-37c4bfe4"]]),tB=gt({id:"color",name:"$t:displays.color.color",description:"$t:displays.color.description",types:["string"],icon:"flag",component:eB,options:[{field:"defaultColor",name:"$t:displays.color.default_color",type:"string",meta:{interface:"select-color",width:"half"},schema:{default_value:"#B0BEC5"}}]}),nB=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:tB});const lB=async(e,t,n)=>Ed(e,t,Ve(pe({},n),{locale:await Ea()}));const oB=z({props:{value:{type:String,required:!0},type:{type:String,required:!0,validator:e=>["dateTime","date","time","timestamp"].includes(e)},format:{type:String,default:"long"},relative:{type:Boolean,default:!1}},setup(e){const{t}=Y(),n=V(()=>e.value?e.type==="timestamp"?pa(e.value):e.type==="dateTime"?rn(e.value,"yyyy-MM-dd'T'HH:mm:ss",new Date):e.type==="date"?rn(e.value,"yyyy-MM-dd",new Date):e.type==="time"?rn(e.value,"HH:mm:ss",new Date):null:null),l=E(null);return _e(n,async i=>{if(i===null){l.value=null;return}if(e.relative)l.value=await lB(i,new Date,{addSuffix:!0});else{let u;e.format==="long"?(u=`${t("date-fns_date")} ${t("date-fns_time")}`,e.type==="date"&&(u=String(t("date-fns_date"))),e.type==="time"&&(u=String(t("date-fns_time")))):e.format==="short"?(u=`${t("date-fns_date_short")} ${t("date-fns_time_short")}`,e.type==="date"&&(u=String(t("date-fns_date_short"))),e.type==="time"&&(u=String(t("date-fns_time_short")))):u=e.format,l.value=await Rt(i,u)}},{immediate:!0}),{displayValue:l}}}),aB={class:"datetime"};function iB(e,t,n,l,i,u){return p(),I("span",aB,b(e.displayValue),1)}var sB=q(oB,[["render",iB],["__scopeId","data-v-7df33e0f"]]),rB=gt({id:"datetime",name:"$t:displays.datetime.datetime",description:"$t:displays.datetime.description",icon:"query_builder",component:sB,options:[{field:"format",name:"$t:displays.datetime.format",type:"string",meta:{interface:"select-dropdown",width:"half",options:{choices:[{text:"$t:displays.datetime.long",value:"long"},{text:"$t:displays.datetime.short",value:"short"}],allowOther:!0},note:"$t:displays.datetime.format_note"},schema:{default_value:"long"}},{field:"relative",name:"$t:displays.datetime.relative",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:displays.datetime.relative_label"}},schema:{default_value:!1}}],types:["dateTime","date","time","timestamp"]}),dB=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:rB});const uB=z({props:{value:{type:Object,default:null}},setup(e){const t=E(),n=E(!1),l=V(()=>e.value?Xn(e.value.type,!0):null),i=V(()=>e.value?e.value.type.includes("svg")?st(Qe()+`assets/${e.value.id}`):e.value.type.includes("image")===!1?null:st(Qe()+`assets/${e.value.id}?key=system-small-cover`):null),{height:u}=Zn(t);return{fileExtension:l,imageThumbnail:i,previewEl:t,height:u,imgError:n}}}),cB=["src","alt"],pB={key:1,ref:"previewEl",class:"preview"},mB={key:0,class:"extension"};function fB(e,t,n,l,i,u){const a=c("v-icon");return e.imageThumbnail&&!e.imgError?(p(),I("img",{key:0,src:e.imageThumbnail,class:se({"is-svg":e.value&&e.value.type.includes("svg")}),alt:e.value.title,onError:t[0]||(t[0]=s=>e.imgError=!0)},null,42,cB)):(p(),I("div",pB,[e.fileExtension?(p(),I("span",mB,b(e.fileExtension),1)):(p(),C(a,{key:1,name:"folder_open"}))],512))}var vB=q(uB,[["render",fB],["__scopeId","data-v-3d2d9adb"]]),_B=gt({id:"file",name:"$t:displays.file.file",description:"$t:displays.file.description",icon:"insert_drive_file",component:vB,types:["uuid"],localTypes:["file"],options:[],fields:["id","type","title"]}),yB=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:_B}),gB=gt({id:"filesize",name:"$t:displays.filesize.filesize",description:"$t:displays.filesize.description",icon:"description",component:({value:e})=>Sl(e),options:[],types:["integer","bigInteger"]}),hB=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:gB});const bB=z({props:{value:{type:[Object,Array],default:null},format:{type:String,default:null}},setup(e){const{t}=Y(),n=V(()=>{if(!e.value)return null;try{return Array.isArray(e.value)?e.value.map(i=>l(i)):[l(e.value)]}catch{return null}});function l(i){return e.format?Un(e.format,i):Un("{{ value }}",{value:i})}return{displayValue:n,t}}}),$B=["onClick"],wB={class:"label"},kB={key:2};function SB(e,t,n,l,i,u){const a=c("value-null"),s=c("v-list-item-content"),r=c("v-list-item"),m=c("v-list"),f=c("v-menu");return e.displayValue?e.displayValue.length>1?(p(),C(f,{key:1,"show-arrow":""},{activator:d(({toggle:v})=>[S("span",{class:"toggle",onClick:Fe(v,["stop"])},[S("span",wB,b(e.displayValue.length)+" "+b(e.t("items")),1)],8,$B)]),default:d(()=>[o(m,{class:"links"},{default:d(()=>[(p(!0),I(ie,null,he(e.displayValue,(v,_)=>(p(),C(r,{key:_},{default:d(()=>[o(s,null,{default:d(()=>[D(b(v),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):(p(),I("span",kB,b(e.displayValue[0]),1)):(p(),C(a,{key:0}))}var CB=q(bB,[["render",SB]]),VB=gt({id:"formatted-json-value",name:"$t:displays.formatted-json-value.formatted-json-value",description:"$t:displays.formatted-json-value.description",types:["json","geometry"],icon:"settings_ethernet",component:CB,options:[{field:"format",name:"$t:display_template",type:"string",meta:{width:"full",interface:"input",options:{placeholder:"{{ field }}"}}}]}),FB=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:VB});const AB=z({props:{value:{type:[String,Number],default:null},formatTitle:{type:Boolean,default:!1},bold:{type:Boolean,default:!1},color:{type:String,default:null},font:{type:String,default:"sans-serif",validator:e=>["sans-serif","serif","monospace"].includes(e)}},setup(e){const{n:t}=Y();return{displayValue:V(()=>{if(U.exports.isNil(e.value)||e.value==="")return null;if(typeof e.value=="number")return t(e.value);let l=String(e.value);return l=l.replace(/(<([^>]+)>)/gi,""),l=Dd(l),e.formatTitle&&(l=Ft(l)),l})}}});function IB(e,t,n,l,i,u){const a=c("value-null");return e.displayValue===null||e.displayValue===void 0?(p(),C(a,{key:0})):(p(),I("span",{key:1,class:se(["display-formatted-text",[{bold:e.bold},e.font]]),style:ze({color:e.color})},b(e.displayValue),7))}var EB=q(AB,[["render",IB],["__scopeId","data-v-593bd82c"]]),DB=gt({id:"formatted-value",name:"$t:displays.formatted-value.formatted-value",description:"$t:displays.formatted-value.description",types:["string","text","integer","float","decimal","bigInteger"],icon:"text_format",component:EB,options:[{field:"formatTitle",name:"$t:displays.formatted-value.format_title",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:displays.formatted-value.format_title_label"}},schema:{default_value:!1}},{field:"bold",name:"$t:bold",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:displays.formatted-value.bold_label"}},schema:{default_value:!1}},{field:"color",name:"$t:color",meta:{width:"half",interface:"select-color"}},{field:"font",name:"$t:font",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:sans_serif",value:"sans-serif"},{text:"$t:serif",value:"serif"},{text:"$t:monospace",value:"monospace"}]}},schema:{default_value:"sans-serif"}}]}),TB=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:DB});const PB=z({name:"DisplayIcon",props:{value:{type:String,default:null},color:{type:String,default:null},filled:{type:Boolean,default:!1}},setup(e){return{style:V(()=>Tl(e.color)?{"--v-icon-color":e.color}:{})}}});function OB(e,t,n,l,i,u){const a=c("v-icon");return p(),C(a,{small:"",name:e.value,style:ze(e.style),filled:e.filled},null,8,["name","style","filled"])}var LB=q(PB,[["render",OB]]),jB=gt({id:"icon",name:"$t:displays.icon.icon",description:"$t:displays.icon.description",icon:"insert_emoticon",component:LB,options:[{field:"filled",name:"$t:displays.icon.filled",type:"boolean",meta:{interface:"boolean",width:"half",options:{label:"$t:displays.icon.filled_label"}},schema:{default_value:!1}},{field:"color",name:"$t:color",type:"string",meta:{interface:"select-color",width:"half"}}],types:["string"]}),RB=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:jB});const MB=z({components:{ValueNull:tn},props:{value:{type:Object,default:null},circle:{type:Boolean,default:!1}},setup(e){const t=E(!1);return{src:V(()=>{if(e.value===null)return null;const l=Qe()+`assets/${e.value.id}?key=system-small-cover`;return st(l)}),imageError:t}}}),UB=["src","alt"];function NB(e,t,n,l,i,u){const a=c("v-icon"),s=c("value-null");return e.imageError?(p(),C(a,{key:0,name:"image"})):e.src?(p(),I("img",{key:1,src:e.src,role:"presentation",alt:e.value&&e.value.title,class:se({circle:e.circle}),onError:t[0]||(t[0]=r=>e.imageError=!0)},null,42,UB)):(p(),C(s,{key:2}))}var BB=q(MB,[["render",NB],["__scopeId","data-v-e3df0200"]]),qB=gt({id:"image",name:"$t:displays.image.image",description:"$t:displays.image.description",types:["uuid"],localTypes:["file"],icon:"insert_photo",component:BB,options:[{field:"circle",name:"$t:displays.image.circle",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:displays.image.circle_label"}},schema:{default_value:!1}}],fields:["id","type","title"]}),zB=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:qB});const KB=z({props:{value:{type:[String,Array],required:!0},format:{type:Boolean,default:!0},showAsDot:{type:Boolean,default:!1},choices:{type:Array,default:()=>[]},type:{type:String,required:!0,validator:e=>["text","string","json","csv"].includes(e)}},setup(e){return{items:V(()=>{let n;return U.exports.isEmpty(e.value)?n=[]:e.type==="string"?n=[e.value]:n=e.value,n.map(l=>{const i=(e.choices||[]).find(a=>a.value===l);let u;return typeof l=="object"?u=JSON.stringify(l):e.format?u=Ft(l):u=l,i===void 0?{value:l,text:u,foreground:"var(--foreground-normal)",background:"var(--background-normal)"}:Vt({value:l,text:i.text||u,foreground:i.foreground||"var(--foreground-normal)",background:i.background||"var(--background-normal)"})})})}}}),HB={class:"display-labels"};function WB(e,t,n,l,i,u){const a=c("v-chip"),s=c("display-color"),r=Se("tooltip");return p(),I("div",HB,[e.showAsDot?(p(!0),I(ie,{key:1},he(e.items,m=>x((p(),C(s,{key:m.value,value:m.background},null,8,["value"])),[[r,m.text]])),128)):(p(!0),I(ie,{key:0},he(e.items,m=>(p(),C(a,{key:m.value,style:ze({"--v-chip-color":m.foreground,"--v-chip-background-color":m.background}),small:"",disabled:"",label:""},{default:d(()=>[D(b(m.text),1)]),_:2},1032,["style"]))),128))])}var GB=q(KB,[["render",WB],["__scopeId","data-v-4d34a4f3"]]),JB=gt({id:"labels",name:"$t:displays.labels.labels",description:"$t:displays.labels.description",types:["string","json","csv"],icon:"flag",component:GB,options:[{field:"format",name:"$t:format_text",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:displays.labels.format_label"}},schema:{default_value:!0}},{field:"showAsDot",name:"$t:displays.labels.show_as_dot",type:"boolean",meta:{width:"half",interface:"boolean"},schema:{default_value:!1}},{field:"choices",name:"$t:choices",type:"json",meta:{interface:"list",options:{template:"{{text}}",fields:[{field:"text",name:"$t:text",type:"string",meta:{interface:"input",width:"half",options:{placeholder:"$t:displays.labels.choices_text_placeholder"}}},{field:"value",name:"$t:value",type:"string",meta:{interface:"input",options:{font:"monospace",placeholder:"$t:displays.labels.choices_value_placeholder"},width:"half"}},{field:"foreground",name:"$t:foreground_color",type:"string",meta:{interface:"select-color",width:"half"}},{field:"background",name:"$t:background_color",type:"string",meta:{interface:"select-color",width:"half"}}]}}}]}),QB=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:JB}),XB=gt({id:"mime-type",name:"$t:displays.mime-type.mime-type",description:"$t:displays.mime-type.description",icon:"picture_as_pdf",options:[{field:"showAsExtension",name:"$t:displays.mime-type.extension_only",type:"boolean",meta:{interface:"boolean",options:{label:"$t:displays.mime-type.extension_only_label"}},schema:{default_value:!1}}],types:["string"],component:({value:e,showAsExtension:t})=>t?Td.getExtension(e):Xn(e)}),ZB=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:XB});const YB=z({props:{value:{type:[String,Number],default:null},simple:{type:Boolean,default:!1},interfaceOptions:{type:Object,default:null}},setup(e){const t=V(()=>e.interfaceOptions===null?5:Math.ceil(e.interfaceOptions.maxValue)),n=V(()=>({width:Number(e.value)/t.value*100+"%"}));return{starCount:t,ratingPercentage:n}}}),xB={key:0,class:"rating simple"},eq={key:1,class:"rating detailed"},tq={class:"inactive"};function nq(e,t,n,l,i,u){const a=c("v-icon"),s=Se("tooltip");return e.simple?(p(),I("span",xB,[o(a,{small:"",name:"star"}),D(" "+b(e.value),1)])):x((p(),I("div",eq,[S("div",{class:"active",style:ze(e.ratingPercentage)},[(p(!0),I(ie,null,he(e.starCount,r=>(p(),C(a,{key:r,small:"",name:"star"}))),128))],4),S("div",tq,[(p(!0),I(ie,null,he(e.starCount,r=>(p(),C(a,{key:r,small:"",name:"star"}))),128))])],512)),[[s,e.value,void 0,{bottom:!0,start:!0}]])}var lq=q(YB,[["render",nq],["__scopeId","data-v-7e2f8bb2"]]),oq=gt({id:"rating",name:"$t:displays.rating.rating",description:"$t:displays.rating.description",icon:"star",component:lq,options:[{field:"simple",name:"$t:displays.rating.simple",type:"boolean",meta:{interface:"boolean",width:"half",options:{label:"$t:displays.rating.simple_label"}},schema:{default_value:!1}}],types:["integer","decimal","float"]}),aq=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:oq}),iq=gt({id:"raw",name:"$t:displays.raw.raw",icon:"code",component:({value:e})=>typeof e=="string"?e:JSON.stringify(e),options:[],types:O$,localTypes:L$}),sq=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:iq});function Ys(e,t){const l=ut().getRelationsForField(e,t),i=Yn(e,t);return i&&["o2m","m2m","m2a","translations","files"].includes(i)?i=="m2m"&&l.length>1?{relatedCollection:l[1].related_collection,junctionCollection:l[0].collection,path:[l[1].field]}:{relatedCollection:l[0].collection}:{relatedCollection:l[0].related_collection}}const rq=z({components:{ValueNull:tn},props:{collection:{type:String,required:!0},field:{type:String,required:!0},value:{type:[Array,Object],default:null},template:{type:String,default:null}},setup(e){const{t,te:n}=Y(),l=V(()=>Ys(e.collection,e.field)),i=V(()=>l.value.relatedCollection),u=V(()=>l.value.junctionCollection),a=V(()=>Yn(e.collection,e.field)),{primaryKeyField:s}=at(i),r=V(()=>{var _,y;return l.value.path?[...l.value.path,(_=s.value)==null?void 0:_.field].join("."):(y=s.value)==null?void 0:y.field}),m=V(()=>e.template||`{{ ${r.value} }}`),f=V(()=>Array.isArray(e.value)?e.value.length===1?n(`collection_names_singular.${i.value}`)?t(`collection_names_singular.${i.value}`):t("item"):n(`collection_names_plural.${i.value}`)?t(`collection_names_plural.${i.value}`):t("items"):null);return{relatedCollection:i,junctionCollection:u,primaryKeyFieldPath:r,getLinkForItem:v,internalTemplate:m,unit:f,localType:a};function v(_){if(!l.value||!r.value)return null;const y=U.exports.get(_,r.value);return`/content/${i.value}/${encodeURIComponent(y)}`}}}),dq=["onClick"],uq={class:"label"},cq=D("+");function pq(e,t,n,l,i,u){const a=c("value-null"),s=c("render-template"),r=c("v-list-item-content"),m=c("v-icon"),f=c("router-link"),v=c("v-list-item-icon"),_=c("v-list-item"),y=c("v-list"),g=c("v-menu");return e.relatedCollection?["o2m","m2m","m2a","translations","files"].includes(e.localType.toLowerCase())?(p(),C(g,{key:1,"show-arrow":"",disabled:e.value.length===0},{activator:d(({toggle:$})=>[S("span",{class:se(["toggle",{subdued:e.value.length===0}]),onClick:Fe($,["stop"])},[S("span",uq,[D(b(e.value.length)+" ",1),e.value.length>=100?(p(),I(ie,{key:0},[cq],64)):R("",!0),D(" "+b(e.unit),1)])],10,dq)]),default:d(()=>[o(y,{class:"links"},{default:d(()=>[(p(!0),I(ie,null,he(e.value,$=>(p(),C(_,{key:$[e.primaryKeyFieldPath]},{default:d(()=>[o(r,null,{default:d(()=>{var h;return[o(s,{template:e.internalTemplate,item:$,collection:(h=e.junctionCollection)!=null?h:e.relatedCollection},null,8,["template","item","collection"])]}),_:2},1024),o(v,null,{default:d(()=>[o(f,{to:e.getLinkForItem($)},{default:d(()=>[o(m,{name:"launch",small:""})]),_:2},1032,["to"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1},8,["disabled"])):(p(),C(s,{key:2,template:e.internalTemplate,item:e.value,collection:e.relatedCollection},null,8,["template","item","collection"])):(p(),C(a,{key:0}))}var mq=q(rq,[["render",pq],["__scopeId","data-v-4f1bc30a"]]),fq=gt({id:"related-values",name:"$t:displays.related-values.related-values",description:"$t:displays.related-values.description",icon:"settings_ethernet",component:mq,options:({relations:e})=>{var n,l,i;const t=(i=(n=e.o2m)==null?void 0:n.collection)!=null?i:(l=e.m2o)==null?void 0:l.related_collection;return[{field:"template",name:"$t:display_template",meta:{interface:"system-display-template",options:{collectionName:t},width:"full"}}]},types:["alias","string","uuid","integer","bigInteger","json"],localTypes:["m2m","m2o","o2m","translations","m2a","file","files"],fields:(e,{field:t,collection:n})=>{const{relatedCollection:l,path:i}=Ys(n,t),a=Pe().getPrimaryKeyFieldForCollection(l);if(!l)return[];const s=(e==null?void 0:e.template)?Xt(yt(e.template),l):[];if(a){const r=i?[...i,a.field].join("."):a.field;s.includes(r)||s.push(r)}return s}}),vq=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:fq});function Pl(e,t){const n=ut(),l=Ke(),i=V(()=>n.getRelationsForField(e.value,t.value)),u=V(()=>i.value.find(g=>{var $;return g.related_collection===e.value&&(($=g.meta)==null?void 0:$.one_field)===t.value})),a=V(()=>i.value.find(g=>{var $;return g.collection===u.value.collection&&g.field===(($=u.value.meta)==null?void 0:$.junction_field)})),s=V(()=>l.getCollection(u.value.collection)),r=V(()=>l.getCollection(a.value.related_collection)),{primaryKeyField:m,fields:f}=at(s.value.collection),{primaryKeyField:v,fields:_}=at(r.value.collection),y=V(()=>{var g,$,h,k;return{junctionPkField:(g=m.value)==null?void 0:g.field,relationPkField:($=v.value)==null?void 0:$.field,junctionField:(h=u.value.meta)==null?void 0:h.junction_field,sortField:(k=u.value.meta)==null?void 0:k.sort_field,junctionCollection:s.value.collection,relationCollection:r.value.collection}});return{junction:u,junctionCollection:s,relation:a,relationCollection:r,relationInfo:y,junctionPrimaryKeyField:m,relationPrimaryKeyField:v,junctionFields:f,relationFields:_}}const _q=z({components:{ValueNull:tn},props:{collection:{type:String,required:!0},field:{type:String,required:!0},value:{type:[Array],default:null},template:{type:String,default:null},userLanguage:{type:Boolean,default:!1},defaultLanguage:{type:String,default:null},languageField:{type:String,default:null},type:{type:String,required:!0}},setup(e){const{collection:t,field:n}=Re(e),{junctionPrimaryKeyField:l,junctionCollection:i,relation:u,junctionFields:a,relationPrimaryKeyField:s}=Pl(t,n),r=V(()=>{var _,y;return e.template||((y=(_=i.value)==null?void 0:_.meta)==null?void 0:y.display_template)||`{{ ${l.value.field} }}`}),m=V(()=>{var g,$,h;const _=(g=s.value)==null?void 0:g.field;if(!_)return{};let y=($=e.value.find(k=>{var A;return((A=k==null?void 0:k[u.value.field])==null?void 0:A[_])===e.defaultLanguage}))!=null?$:e.value[0];if(e.userLanguage){const k=Je();y=(h=e.value.find(A=>{var F,P;return((F=A==null?void 0:A[u.value.field])==null?void 0:F[_])===((P=k.currentUser)==null?void 0:P.language)}))!=null?h:y}return y!=null?y:{}}),f=V(()=>a.value.filter(_=>{var y;return _.type!=="alias"&&((y=_.meta)==null?void 0:y.hidden)===!1&&_.meta.readonly===!1})),v=V(()=>e.value.map(_=>{var g,$,h,k,A;const y=f.value.filter(F=>F.field in _&&Nt(_==null?void 0:_[F.field])).length;return{id:_==null?void 0:_[($=(g=l.value)==null?void 0:g.field)!=null?$:"id"],lang:(A=_==null?void 0:_[u.value.field])==null?void 0:A[(k=e.languageField)!=null?k:(h=s.value)==null?void 0:h.field],progress:Math.round(y/f.value.length*100),item:_}}));return{primaryKeyField:l,internalTemplate:r,junctionCollection:i,displayItem:m,translations:v}}}),yq={class:"header"},gq={class:"lang"};function hq(e,t,n,l,i,u){const a=c("value-null"),s=c("render-template"),r=c("v-icon"),m=c("v-progress-linear"),f=c("v-list-item-content"),v=c("v-list-item"),_=c("v-list"),y=c("v-menu"),g=Se("tooltip");return e.junctionCollection.collection?(p(),C(y,{key:1,"show-arrow":"",disabled:e.value.length===0},{activator:d(({toggle:$})=>[o(s,{template:e.internalTemplate,item:e.displayItem,collection:e.junctionCollection.collection,onClick:Fe($,["stop"])},null,8,["template","item","collection","onClick"])]),default:d(()=>[o(_,{class:"links"},{default:d(()=>[(p(!0),I(ie,null,he(e.translations,$=>(p(),C(v,{key:$.id},{default:d(()=>[o(f,null,{default:d(()=>[S("div",yq,[S("div",gq,[o(r,{name:"translate",small:""}),D(" "+b($.lang),1)]),x(o(m,{value:$.progress,colorful:""},null,8,["value"]),[[g,`${$.progress}%`]])]),o(s,{template:e.internalTemplate,item:$.item,collection:e.junctionCollection.collection},null,8,["template","item","collection"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1},8,["disabled"])):(p(),C(a,{key:0}))}var bq=q(_q,[["render",hq],["__scopeId","data-v-6056eccc"]]),$q=gt({id:"translations",name:"$t:displays.translations.translations",description:"$t:displays.translations.description",icon:"translate",component:bq,options:({relations:e})=>{var u,a;const t=Pe(),n=(u=e.o2m)==null?void 0:u.collection,l=(a=e.m2o)==null?void 0:a.related_collection,i=l?t.getFieldsForCollection(l):[];return[{field:"template",name:"$t:display_template",meta:{interface:"system-display-template",options:{collectionName:n},width:"half"}},{field:"languageField",name:"$t:displays.translations.language_field",meta:{interface:"select-dropdown",options:{choices:i.map(({field:s,name:r})=>({text:r,value:s}))},width:"half"}},{field:"defaultLanguage",name:"$t:displays.translations.default_language",meta:{interface:"input",width:"half",options:{placeholder:"$t:primary_key"}}},{field:"userLanguage",name:"$t:displays.translations.user_language",type:"string",schema:{default_value:!1},meta:{interface:"boolean",options:{label:"$t:displays.translations.enable"},width:"half"}}]},types:["alias"],localTypes:["translations"],fields:(e,{field:t,collection:n})=>{const l=Pe(),u=ut().getRelationsForField(n,t),a=u.find(y=>{var g;return y.related_collection===n&&((g=y.meta)==null?void 0:g.one_field)===t}),s=u.find(y=>y!==a),r=a==null?void 0:a.related_collection,m=s==null?void 0:s.related_collection;if(!r||!m)return[];const f=l.getPrimaryKeyFieldForCollection(r),v=l.getPrimaryKeyFieldForCollection(m),_=(e==null?void 0:e.template)?Xt(yt(e.template),r):[];return f&&!_.includes(f.field)&&_.push(f.field),s&&v&&!_.includes(s.field)&&(_.push(`${s.field}.${v.field}`),(e==null?void 0:e.languageField)&&_.push(`${s.field}.${e.languageField}`)),_}}),wq=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:$q}),kq="assets/avatar-placeholder.446bf113.svg";const Sq=z({props:{value:{type:Object,default:null},display:{type:String,default:"both"},circle:{type:Boolean,default:!1}},setup(e){return{src:V(()=>{var n;if(e.value===null)return null;if((n=e.value.avatar)==null?void 0:n.id){const l=`${Qe()}assets/${e.value.avatar.id}?key=system-small-cover`;return st(l)}return null}),userName:ht}}}),Cq=["src","alt"],Vq=["alt"],Fq={key:2};function Aq(e,t,n,l,i,u){const a=c("user-popover");return e.value?(p(),C(a,{key:0,user:e.value.id},{default:d(()=>[S("div",{class:se(["user",e.display])},[(e.display==="avatar"||e.display==="both")&&e.src?(p(),I("img",{key:0,src:e.src,role:"presentation",alt:e.value&&e.userName(e.value),class:se({circle:e.circle})},null,10,Cq)):(e.display==="avatar"||e.display==="both")&&e.src===null?(p(),I("img",{key:1,src:kq,role:"presentation",alt:e.value&&e.userName(e.value),class:se({circle:e.circle})},null,10,Vq)):R("",!0),e.display==="name"||e.display==="both"?(p(),I("span",Fq,b(e.userName(e.value)),1)):R("",!0)],2)]),_:1},8,["user"])):R("",!0)}var Iq=q(Sq,[["render",Aq],["__scopeId","data-v-1e6e7370"]]),Eq=gt({id:"user",name:"$t:displays.user.user",description:"$t:displays.user.description",types:["uuid"],icon:"person",component:Iq,options:[{field:"display",name:"$t:display",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:displays.user.avatar",value:"avatar"},{text:"$t:displays.user.name",value:"name"},{text:"$t:displays.user.both",value:"both"}]}},schema:{default_value:"both"}},{field:"circle",name:"$t:circle",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:displays.user.circle_label"}},schema:{default_value:!1}}],fields:["id","avatar.id","email","first_name","last_name"]}),Dq=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Eq});const{displaysRaw:xs}=Gl();async function Tq(e){const n=Object.values({"./boolean/index.ts":KN,"./collection/index.ts":XN,"./color/index.ts":nB,"./datetime/index.ts":dB,"./file/index.ts":yB,"./filesize/index.ts":hB,"./formatted-json-value/index.ts":FB,"./formatted-value/index.ts":TB,"./icon/index.ts":RB,"./image/index.ts":zB,"./labels/index.ts":QB,"./mime-type/index.ts":ZB,"./rating/index.ts":aq,"./raw/index.ts":sq,"./related-values/index.ts":vq,"./translations/index.ts":wq,"./user/index.ts":Dq}).map(l=>l.default);try{const l=await j(()=>import(`${Qe()}extensions/displays/index.js`),[]);n.push(...l.default)}catch(l){console.warn("Couldn't load custom displays"),console.warn(l)}xs.value=n,xs.value.forEach(l=>{e.component(`display-${l.id}`,l.component),typeof l.options!="function"&&Array.isArray(l.options)===!1&&l.options!==null&&e.component(`display-options-${l.id}`,l.options)})}const Pq=z({props:{value:{type:Boolean,default:null},disabled:{type:Boolean,default:!1},label:{type:String,default:()=>qe.global.t("enabled")},iconOn:{type:String,default:"check_box"},iconOff:{type:String,default:"check_box_outline_blank"},colorOn:{type:String,default:"var(--primary)"},colorOff:{type:String,default:"var(--foreground-subdued)"}},emits:["input"]});function Oq(e,t,n,l,i,u){const a=c("v-checkbox");return p(),C(a,{block:"","icon-on":e.iconOn,"icon-off":e.iconOff,label:e.label,"model-value":e.value,indeterminate:e.value===null,disabled:e.disabled,style:ze({"--v-checkbox-color":e.colorOn,"--v-checkbox-unchecked-color":e.colorOff}),"onUpdate:modelValue":t[0]||(t[0]=s=>e.$emit("input",s))},null,8,["icon-on","icon-off","label","model-value","indeterminate","disabled","style"])}var Lq=q(Pq,[["render",Oq]]),jq=Me({id:"boolean",name:"$t:interfaces.boolean.toggle",description:"$t:interfaces.boolean.description",icon:"check_box",component:Lq,types:["boolean"],group:"selection",recommendedDisplays:["boolean"],options:[{field:"iconOn",name:"$t:icon_on",type:"string",meta:{width:"half",interface:"select-icon"},schema:{default_value:"check_box"}},{field:"iconOff",name:"$t:icon_off",type:"string",meta:{width:"half",interface:"select-icon"},schema:{default_value:"check_box_outline_blank"}},{field:"colorOn",name:"$t:interfaces.boolean.color_on",type:"string",meta:{interface:"select-color",width:"half"}},{field:"colorOff",name:"$t:interfaces.boolean.color_off",type:"string",meta:{interface:"select-color",width:"half"}},{field:"label",name:"$t:label",type:"string",meta:{width:"half",interface:"input",options:{placeholder:"$t:interfaces.boolean.label_placeholder"}},schema:{default_value:"$t:interfaces.boolean.label_default"}}]}),Rq=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:jq});const Mq=z({props:{disabled:{type:Boolean,default:!1},value:{type:String,default:null},type:{type:String,required:!0,validator:e=>["dateTime","date","time","timestamp"].includes(e)},includeSeconds:{type:Boolean,default:!1},use24:{type:Boolean,default:!0}},emits:["input"],setup(e,{emit:t}){const{t:n}=Y(),{internalValue:l,year:i,month:u,date:a,hours:s,minutes:r,seconds:m,period:f}=A(),{yearItems:v,monthItems:_,dateItems:y,hourItems:g,minutesSecondItems:$}=O(),{displayValue:h}=P();return{t:n,year:i,month:u,date:a,hours:s,minutes:r,seconds:m,period:f,setToNow:F,yearItems:v,monthItems:_,dateItems:y,hourItems:g,minutesSecondItems:$,displayValue:h,unsetValue:k};function k(){t("input",null)}function A(){const T=V({get(){return e.value?e.type==="timestamp"?pa(e.value):e.type==="dateTime"?rn(e.value,"yyyy-MM-dd'T'HH:mm:ss",new Date):e.type==="date"?rn(e.value,"yyyy-MM-dd",new Date):e.type==="time"?rn(e.value,"HH:mm:ss",new Date):null:null},set(G){if(G===null)return t("input",null);e.type==="timestamp"?t("input",Nn(G)):e.type==="dateTime"?t("input",sn(G,"yyyy-MM-dd'T'HH:mm:ss")):e.type==="date"?t("input",sn(G,"yyyy-MM-dd")):e.type==="time"&&t("input",sn(G,"HH:mm:ss"))}}),N=V({get(){return T.value?T.value.getFullYear():null},set(G){const Q=T.value?new Date(T.value):new Date(0);Q.setFullYear(G||0),T.value=Q}}),L=V({get(){return T.value?T.value.getMonth():null},set(G){const Q=T.value?new Date(T.value):new Date;Q.setMonth(G||0),T.value=Q}}),M=V({get(){return T.value?T.value.getDate():null},set(G){const Q=T.value?new Date(T.value):new Date;Q.setDate(G||1),T.value=Q}}),B=V({get(){if(!T.value)return null;const G=T.value.getHours();return e.use24===!1?G%12:G},set(G){const Q=T.value?new Date(T.value):new Date;Q.setHours(G||0),T.value=Q}}),K=V({get(){return T.value?T.value.getMinutes():null},set(G){const Q=T.value?new Date(T.value):new Date;Q.setMinutes(G||0),T.value=Q}}),W=V({get(){return T.value?T.value.getSeconds():null},set(G){const Q=T.value?new Date(T.value):new Date;Q.setSeconds(G||0),T.value=Q}}),le=V({get(){return T.value?T.value.getHours()>=12?"pm":"am":null},set(G){const Q=T.value?new Date(T.value):new Date;(Q.getHours()>=12?"pm":"am")!==G&&(G==="am"?Q.setHours(Q.getHours()-12):Q.setHours(Q.getHours()+12)),T.value=Q}});return{internalValue:T,year:N,month:L,date:M,hours:B,minutes:K,seconds:W,period:le}}function F(){l.value=e.includeSeconds?new Date:Pd(new Date,0)}function P(){const T=E(null);return _e(l,N,{immediate:!0}),{displayValue:T};async function N(){if(!e.value||!l.value){T.value=null;return}const L=e.includeSeconds?"date-fns_time":"date-fns_time_no_seconds";let M=`${n("date-fns_date")} ${n(L)}`;e.type==="date"&&(M=String(n("date-fns_date"))),e.type==="time"&&(M=String(n(L))),T.value=await Rt(l.value,M)}}function O(){const T=V(()=>{var le;const K=((le=l.value)==null?void 0:le.getFullYear())||new Date().getFullYear(),W=[];for(let G=K-5;G<=K+5;G++)W.push({text:String(G),value:G});return W}),N=V(()=>[n("months.january"),n("months.february"),n("months.march"),n("months.april"),n("months.may"),n("months.june"),n("months.july"),n("months.august"),n("months.september"),n("months.october"),n("months.november"),n("months.december")].map((K,W)=>({text:K,value:W}))),L=V(()=>{const K=[];for(let W=1;W<=31;W++)K.push(`${W}`);return K}),M=V(()=>{const K=[],W=e.use24?24:12;for(let le=0;le<W;le++){let G=String(le);G.length===1&&(G="0"+G),K.push({text:G,value:le})}return K}),B=V(()=>{const K=[];for(let W=0;W<60;W++){let le=String(W);le.length===1&&(le="0"+le),K.push({text:le,value:W})}return K});return{yearItems:T,monthItems:N,dateItems:L,hourItems:M,minutesSecondItems:B}}}}),Uq={key:0,class:"date-selects"},Nq={class:"month"},Bq={class:"date"},qq={class:"year"},zq={class:"hour"},Kq={class:"minutes"},Hq={key:0,class:"seconds"},Wq={key:1,class:"period"};function Gq(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-input"),r=c("v-select"),m=c("v-divider"),f=c("v-menu");return p(),C(f,{"close-on-content-click":!1,attached:"",disabled:e.disabled},{activator:d(({toggle:v,active:_})=>[o(s,{active:_,clickable:"",readonly:"","model-value":e.displayValue,disabled:e.disabled,placeholder:e.t("enter_a_value"),onClick:v},Ze({_:2},[e.disabled?void 0:{name:"append",fn:d(()=>[o(a,{name:e.value?"close":"today",class:se({active:_}),onClick:Fe(e.unsetValue,["stop"])},null,8,["name","class","onClick"])])}]),1032,["active","model-value","disabled","placeholder","onClick"])]),default:d(()=>[e.type==="timestamp"||e.type==="dateTime"||e.type==="date"?(p(),I("div",Uq,[S("div",Nq,[o(r,{modelValue:e.month,"onUpdate:modelValue":t[0]||(t[0]=v=>e.month=v),placeholder:e.t("month"),items:e.monthItems},null,8,["modelValue","placeholder","items"])]),S("div",Bq,[o(r,{modelValue:e.date,"onUpdate:modelValue":t[1]||(t[1]=v=>e.date=v),placeholder:e.t("date"),items:e.dateItems},null,8,["modelValue","placeholder","items"])]),S("div",qq,[o(r,{modelValue:e.year,"onUpdate:modelValue":t[2]||(t[2]=v=>e.year=v),placeholder:e.t("year"),items:e.yearItems,"allow-other":""},null,8,["modelValue","placeholder","items"])])])):R("",!0),e.type==="timestamp"||e.type==="dateTime"?(p(),C(m,{key:1})):R("",!0),e.type==="timestamp"||e.type==="dateTime"||e.type==="time"?(p(),I("div",{key:2,class:se(["time-selects",{seconds:e.includeSeconds,"use-24":e.use24}])},[S("div",zq,[o(r,{modelValue:e.hours,"onUpdate:modelValue":t[3]||(t[3]=v=>e.hours=v),placeholder:e.t("hours"),items:e.hourItems},null,8,["modelValue","placeholder","items"])]),S("div",Kq,[o(r,{modelValue:e.minutes,"onUpdate:modelValue":t[4]||(t[4]=v=>e.minutes=v),placeholder:e.t("minutes"),items:e.minutesSecondItems},null,8,["modelValue","placeholder","items"])]),e.includeSeconds?(p(),I("div",Hq,[o(r,{modelValue:e.seconds,"onUpdate:modelValue":t[5]||(t[5]=v=>e.seconds=v),items:e.minutesSecondItems},null,8,["modelValue","items"])])):R("",!0),e.use24===!1?(p(),I("div",Wq,[o(r,{modelValue:e.period,"onUpdate:modelValue":t[6]||(t[6]=v=>e.period=v),items:["am","pm"]},null,8,["modelValue"])])):R("",!0)],2)):R("",!0),o(m),S("button",{class:"to-now",onClick:t[7]||(t[7]=(...v)=>e.setToNow&&e.setToNow(...v))},b(e.t("interfaces.datetime.set_to_now")),1)]),_:1},8,["disabled"])}var Jq=q(Mq,[["render",Gq],["__scopeId","data-v-2fb57ac6"]]),Qq=`<svg width="156" height="96" viewBox="0 0 156 96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="29" y="10" width="98" height="77" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="30" y="11" width="96" height="75" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="39" y="20" width="30" height="5.03704" rx="2" fill="var(--primary)" />
	<rect x="39" y="41" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="39" y="51" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="39" y="61" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="39" y="71" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="51" y="41" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="51" y="61" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="51" y="71" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="87" y="71" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.1" />
	<rect x="63" y="31" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="39" y="31" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.1" />
	<rect x="63" y="41" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="63" y="51" width="6" height="6" rx="2" fill="var(--primary)" />
	<rect x="63" y="61" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="63" y="71" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="99" y="71" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.1" />
	<rect x="75" y="31" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="51" y="31" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.1" />
	<rect x="75" y="41" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="75" y="51" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="75" y="61" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="75" y="71" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="111" y="71" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.1" />
	<rect x="87" y="31" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="87" y="41" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="87" y="51" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="87" y="61" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="99" y="31" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="99" y="41" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="99" y="51" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="99" y="61" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="111" y="31" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="111" y="41" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="111" y="51" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="111" y="61" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="51" y="51" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
</svg>
`,Xq=Me({id:"datetime",name:"$t:interfaces.datetime.datetime",description:"$t:interfaces.datetime.description",icon:"today",component:Jq,types:["dateTime","date","time","timestamp"],group:"selection",options:({field:e})=>{var t;return e.type==="date"?(((t=e.meta)==null?void 0:t.options)&&(e.meta.options={}),[]):[{field:"includeSeconds",name:"$t:interfaces.datetime.include_seconds",type:"boolean",meta:{width:"half",interface:"boolean"},schema:{default_value:!1}},{field:"use24",name:"$t:interfaces.datetime.use_24",type:"boolean",meta:{width:"half",interface:"boolean"},schema:{default_value:!0}}]},recommendedDisplays:["datetime"],preview:Qq}),Zq=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Xq});const Yq=z({components:{DrawerCollection:Qt,DrawerItem:qt},props:{value:{type:[String,Object],default:null},disabled:{type:Boolean,default:!1},folder:{type:String,default:void 0}},emits:["input"],setup(e,{emit:t}){const{t:n}=Y(),l=E(null),{loading:i,file:u,fetchFile:a}=k();_e(()=>e.value,a,{immediate:!0});const s=V(()=>u.value===null?null:Xn(u.value.type,!0)),r=V(()=>{var N;const T=typeof e.value=="string"?e.value:(N=e.value)==null?void 0:N.id;return st(Qe()+`assets/${T}`)}),m=V(()=>u.value===null||e.value===null?null:u.value.type.includes("svg")?r.value:u.value.type.includes("image")===!1?null:eo(r.value,{key:"system-small-cover"})),{edits:f,stageEdits:v}=O(),{url:_,isValidURL:y,loading:g,importFromURL:$}=P(),h=E(!1);return{t:n,activeDialog:l,setSelection:A,loading:i,file:u,fileExtension:s,imageThumbnail:m,onUpload:F,url:_,urlLoading:g,importFromURL:$,isValidURL:y,assetURL:r,editDrawerActive:h,edits:f,stageEdits:v};function k(){const T=E(!1),N=E(null);return{loading:T,file:N,fetchFile:L};async function L(){var M;if(e.value===null){N.value=null,T.value=!1;return}T.value=!0;try{const B=typeof e.value=="string"?e.value:(M=e.value)==null?void 0:M.id,K=await re.get(`/files/${B}`,{params:{fields:["id","title","type","filename_download"]}});e.value!==null&&typeof e.value=="object"?N.value=pe(pe({},K.data.data),e.value):N.value=K.data.data}catch(B){Ce(B)}finally{T.value=!1}}}function A(T){T[0]?t("input",T[0]):t("input",null)}function F(T){u.value=T,l.value=null,t("input",T.id)}function P(){const T=E(""),N=E(!1),L=V(()=>{try{return new URL(T.value),!0}catch{return!1}});return{url:T,loading:N,isValidURL:L,importFromURL:M};async function M(){var B;N.value=!0;try{const K=await re.post("/files/import",{url:T.value,data:{folder:e.folder}});u.value=K.data.data,l.value=null,T.value="",t("input",(B=u.value)==null?void 0:B.id)}catch(K){Ce(K)}finally{N.value=!1}}}function O(){return{edits:V(()=>e.value&&typeof e.value=="object"?e.value:{}),stageEdits:N};function N(L){!u.value||t("input",pe({id:u.value.id},L))}}}}),xq={class:"file"},ez=["src","alt"],tz={key:1,class:"extension"};function nz(e,t,n,l,i,u){const a=c("v-skeleton-loader"),s=c("v-icon"),r=c("v-input"),m=c("v-list-item-icon"),f=c("v-list-item-content"),v=c("v-list-item"),_=c("v-divider"),y=c("v-list"),g=c("v-menu"),$=c("drawer-item"),h=c("v-card-title"),k=c("v-upload"),A=c("v-card-text"),F=c("v-button"),P=c("v-card-actions"),O=c("v-card"),T=c("v-dialog"),N=c("drawer-collection"),L=Se("tooltip");return p(),I("div",xq,[o(g,{attached:"",disabled:e.loading},{activator:d(({toggle:M})=>[S("div",null,[e.loading?(p(),C(a,{key:0,type:"input"})):(p(),C(r,{key:1,clickable:"",readonly:"",placeholder:e.t("no_file_selected"),"model-value":e.file&&e.file.title,onClick:M},{prepend:d(()=>{var B,K;return[S("div",{class:se(["preview",{"has-file":e.file,"is-svg":(K=(B=e.file)==null?void 0:B.type)==null?void 0:K.includes("svg")}])},[e.imageThumbnail?(p(),I("img",{key:0,src:e.imageThumbnail,alt:e.file.title},null,8,ez)):e.fileExtension?(p(),I("span",tz,b(e.fileExtension),1)):(p(),C(s,{key:2,name:"folder_open"}))],2)]}),append:d(()=>[e.file?(p(),I(ie,{key:0},[x(o(s,{name:"open_in_new",class:"edit",onClick:t[0]||(t[0]=Fe(B=>e.editDrawerActive=!0,["stop"]))},null,512),[[L,e.t("edit")]]),e.disabled?R("",!0):x((p(),C(s,{key:0,class:"deselect",name:"close",onClick:t[1]||(t[1]=Fe(B=>e.$emit("input",null),["stop"]))},null,512)),[[L,e.t("deselect")]])],64)):(p(),C(s,{key:1,name:"attach_file"}))]),_:2},1032,["placeholder","model-value","onClick"]))])]),default:d(()=>[o(y,null,{default:d(()=>[e.file?(p(),I(ie,{key:0},[o(v,{download:e.file.filename_download,href:e.assetURL},{default:d(()=>[o(m,null,{default:d(()=>[o(s,{name:"get_app"})]),_:1}),o(f,null,{default:d(()=>[D(b(e.t("download_file")),1)]),_:1})]),_:1},8,["download","href"]),e.disabled?R("",!0):(p(),C(_,{key:0}))],64)):R("",!0),e.disabled?R("",!0):(p(),I(ie,{key:1},[o(v,{clickable:"",onClick:t[2]||(t[2]=M=>e.activeDialog="upload")},{default:d(()=>[o(m,null,{default:d(()=>[o(s,{name:"phonelink"})]),_:1}),o(f,null,{default:d(()=>[D(b(e.t(e.file?"replace_from_device":"upload_from_device")),1)]),_:1})]),_:1}),o(v,{clickable:"",onClick:t[3]||(t[3]=M=>e.activeDialog="choose")},{default:d(()=>[o(m,null,{default:d(()=>[o(s,{name:"folder_open"})]),_:1}),o(f,null,{default:d(()=>[D(b(e.t(e.file?"replace_from_library":"choose_from_library")),1)]),_:1})]),_:1}),o(v,{clickable:"",onClick:t[4]||(t[4]=M=>e.activeDialog="url")},{default:d(()=>[o(m,null,{default:d(()=>[o(s,{name:"link"})]),_:1}),o(f,null,{default:d(()=>[D(b(e.t(e.file?"replace_from_url":"import_from_url")),1)]),_:1})]),_:1})],64))]),_:1})]),_:1},8,["disabled"]),e.file?(p(),C($,{key:0,active:e.editDrawerActive,"onUpdate:active":t[5]||(t[5]=M=>e.editDrawerActive=M),collection:"directus_files","primary-key":e.file.id,edits:e.edits,onInput:e.stageEdits},null,8,["active","primary-key","edits","onInput"])):R("",!0),o(T,{"model-value":e.activeDialog==="upload",onEsc:t[7]||(t[7]=M=>e.activeDialog=null),"onUpdate:modelValue":t[8]||(t[8]=M=>e.activeDialog=null)},{default:d(()=>[o(O,null,{default:d(()=>[o(h,null,{default:d(()=>[D(b(e.t("upload_from_device")),1)]),_:1}),o(A,null,{default:d(()=>[o(k,{"from-url":"",folder:e.folder,onInput:e.onUpload},null,8,["folder","onInput"])]),_:1}),o(P,null,{default:d(()=>[o(F,{secondary:"",onClick:t[6]||(t[6]=M=>e.activeDialog=null)},{default:d(()=>[D(b(e.t("cancel")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"]),e.activeDialog==="choose"?(p(),C(N,{key:1,collection:"directus_files",active:e.activeDialog==="choose","onUpdate:active":t[9]||(t[9]=M=>e.activeDialog=null),onInput:e.setSelection},null,8,["active","onInput"])):R("",!0),o(T,{"model-value":e.activeDialog==="url",persistent:e.urlLoading,"onUpdate:modelValue":t[12]||(t[12]=M=>e.activeDialog=null),onEsc:t[13]||(t[13]=M=>e.activeDialog=null)},{default:d(()=>[o(O,null,{default:d(()=>[o(h,null,{default:d(()=>[D(b(e.t("import_from_url")),1)]),_:1}),o(A,null,{default:d(()=>[o(r,{modelValue:e.url,"onUpdate:modelValue":t[10]||(t[10]=M=>e.url=M),autofocus:"",placeholder:e.t("url"),nullable:!1,disabled:e.urlLoading},null,8,["modelValue","placeholder","disabled"])]),_:1}),o(P,null,{default:d(()=>[o(F,{disabled:e.urlLoading,secondary:"",onClick:t[11]||(t[11]=M=>e.activeDialog=null)},{default:d(()=>[D(b(e.t("cancel")),1)]),_:1},8,["disabled"]),o(F,{loading:e.urlLoading,disabled:e.isValidURL===!1,onClick:e.importFromURL},{default:d(()=>[D(b(e.t("import_label")),1)]),_:1},8,["loading","disabled","onClick"])]),_:1})]),_:1})]),_:1},8,["model-value","persistent"])])}var lz=q(Yq,[["render",nz],["__scopeId","data-v-169e8c9e"]]),oz=Me({id:"file",name:"$t:interfaces.file.file",description:"$t:interfaces.file.description",icon:"note_add",component:lz,types:["uuid"],localTypes:["file"],group:"relational",relational:!0,options:[{field:"folder",name:"$t:interfaces.system-folder.folder",type:"uuid",meta:{width:"full",interface:"system-folder",note:"$t:interfaces.system-folder.field_hint"},schema:{default_value:void 0}}],recommendedDisplays:["file"]}),az=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:oz});const iz=z({components:{FilePreview:vo},props:{id:{type:String,required:!0},modelValue:{type:Boolean,default:void 0}},emits:["update:modelValue"],setup(e,{emit:t}){const n=E(!1),l=V({get(){return e.modelValue===void 0?n.value:e.modelValue},set(m){n.value=m,t("update:modelValue",m)}}),i=E(!1),u=E(null),a=E(_t()),s=V(()=>st(Qe()+`assets/${e.id}?cache-buster=${a.value}`));return _e([()=>e.id,l],([m,f])=>{f&&m&&r()},{immediate:!0}),{internalActive:l,cacheBuster:a,loading:i,file:u,fileSrc:s};async function r(){a.value=_t(),i.value=!0;try{const m=await re.get(`/files/${e.id}`,{params:{fields:["type","width","height","title"]}});u.value=m.data.data}catch(m){Ce(m)}finally{i.value=!1}}}});function sz(e,t,n,l,i,u){const a=c("v-progress-circular"),s=c("file-preview"),r=c("v-icon"),m=c("v-button"),f=c("v-dialog");return p(),C(f,{modelValue:e.internalActive,"onUpdate:modelValue":t[2]||(t[2]=v=>e.internalActive=v),onEsc:t[3]||(t[3]=v=>e.internalActive=!1)},{activator:d(v=>[ye(e.$slots,"activator",He(Xe(v)),void 0,!0)]),default:d(()=>[e.loading?(p(),C(a,{key:0,indeterminate:""})):e.file?(p(),C(s,{key:1,src:e.fileSrc,mime:e.file.type,width:e.file.width,height:e.file.height,title:e.file.title,"in-modal":"",onClick:t[0]||(t[0]=v=>e.internalActive=!1)},null,8,["src","mime","width","height","title"])):R("",!0),o(m,{class:"close",icon:"",rounded:"",onClick:t[1]||(t[1]=v=>e.internalActive=!1)},{default:d(()=>[o(r,{name:"close"})]),_:1})]),_:3},8,["modelValue"])}var rz=q(iz,[["render",sz],["__scopeId","data-v-8070885a"]]);const dz=z({components:{FileLightbox:rz,DrawerItem:qt},props:{value:{type:[String,Object],default:null},disabled:{type:Boolean,default:!1},folder:{type:String,default:void 0},width:{type:String,required:!0},crop:{type:Boolean,default:!0}},emits:["input"],setup(e,{emit:t}){const{t:n,n:l,te:i}=Y(),u=E(!1),a=E(null),s=E(!1),r=E(!1),m=E(null),f=E(_t()),v=V(()=>{if(!a.value)return null;if(a.value.type.includes("svg"))return st(Qe()+`assets/${a.value.id}`);if(a.value.type.includes("image")){const T=e.crop?"cover":"contain",N=Qe()+`assets/${a.value.id}?key=system-large-${T}&cache-buster=${f.value}`;return st(N)}return null}),_=V(()=>a.value?st(Qe()+`assets/${a.value.id}`):null),y=V(()=>{if(!a.value)return null;const{filesize:T,width:N,height:L,type:M}=a.value;return N&&L?`${l(N)}x${l(L)} \u2022 ${Sl(T)} \u2022 ${M}`:`${Sl(T)} \u2022 ${M}`});_e(()=>e.value,(T,N)=>{T!==N&&(T&&h(),N&&T===null&&P())},{immediate:!0});const{edits:g,stageEdits:$}=O();return{t:n,loading:u,image:a,src:v,imageError:m,imageErrorHandler:k,meta:y,lightboxActive:s,editDrawerActive:r,changeCacheBuster:A,setImage:F,deselect:P,downloadSrc:_,edits:g,stageEdits:$};async function h(){var T;u.value=!0;try{const N=typeof e.value=="string"?e.value:(T=e.value)==null?void 0:T.id,L=await re.get(`/files/${N}`,{params:{fields:["id","title","width","height","filesize","type","filename_download"]}});e.value!==null&&typeof e.value=="object"?a.value=pe(pe({},L.data.data),e.value):a.value=L.data.data}catch(N){Ce(N)}finally{u.value=!1}}async function k(){var T,N,L,M;if(!!v.value)try{await re.get(v.value)}catch(B){m.value=(M=(L=(N=(T=B.response)==null?void 0:T.data)==null?void 0:N.errors[0])==null?void 0:L.extensions)==null?void 0:M.code,(!m.value||!i("errors."+m.value))&&(m.value="UNKNOWN")}}function A(){f.value=_t()}function F(T){a.value=T,t("input",T.id)}function P(){t("input",null),u.value=!1,a.value=null,s.value=!1,r.value=!1}function O(){return{edits:V(()=>e.value&&typeof e.value=="object"?e.value:{}),stageEdits:N};function N(L){!a.value||t("input",pe({id:a.value.id},L))}}}}),uz=e=>(We("data-v-74391a16"),e=e(),Ge(),e),cz={key:0,class:"image-error"},pz={class:"message"},mz=["src"],fz=uz(()=>S("div",{class:"shadow"},null,-1)),vz={key:2,class:"actions"},_z={class:"info"},yz={class:"title"},gz={class:"meta"};function hz(e,t,n,l,i,u){const a=c("v-skeleton-loader"),s=c("v-notice"),r=c("v-icon"),m=c("v-button"),f=c("drawer-item"),v=c("file-lightbox"),_=c("v-upload"),y=Se("tooltip");return p(),I("div",{class:se(["image",[e.width,{crop:e.crop}]])},[e.loading?(p(),C(a,{key:0,type:"input-tall"})):e.disabled&&!e.image?(p(),C(s,{key:1,class:"disabled-placeholder",center:"",icon:"block"},{default:d(()=>[D(b(e.t("disabled")),1)]),_:1})):e.image?(p(),I("div",{key:2,class:se(["image-preview",{"is-svg":e.image.type&&e.image.type.includes("svg")}])},[e.imageError?(p(),I("div",cz,[o(r,{large:"",name:e.imageError==="UNKNOWN"?"error_outline":"info_outline"},null,8,["name"]),S("span",pz,b(e.t(`errors.${e.imageError}`)),1)])):(p(),I("img",{key:1,src:e.src,alt:"",role:"presentation",onError:t[0]||(t[0]=(...g)=>e.imageErrorHandler&&e.imageErrorHandler(...g))},null,40,mz)),fz,e.disabled?R("",!0):(p(),I("div",vz,[x(o(m,{icon:"",rounded:"",onClick:t[1]||(t[1]=g=>e.lightboxActive=!0)},{default:d(()=>[o(r,{name:"zoom_in"})]),_:1},512),[[y,e.t("zoom")]]),x(o(m,{icon:"",rounded:"",href:e.downloadSrc,download:e.image.filename_download},{default:d(()=>[o(r,{name:"get_app"})]),_:1},8,["href","download"]),[[y,e.t("download")]]),x(o(m,{icon:"",rounded:"",onClick:t[2]||(t[2]=g=>e.editDrawerActive=!0)},{default:d(()=>[o(r,{name:"open_in_new"})]),_:1},512),[[y,e.t("edit")]]),x(o(m,{icon:"",rounded:"",onClick:e.deselect},{default:d(()=>[o(r,{name:"close"})]),_:1},8,["onClick"]),[[y,e.t("deselect")]])])),S("div",_z,[S("div",yz,b(e.image.title),1),S("div",gz,b(e.meta),1)]),!e.disabled&&e.image?(p(),C(f,{key:3,active:e.editDrawerActive,"onUpdate:active":t[3]||(t[3]=g=>e.editDrawerActive=g),collection:"directus_files","primary-key":e.image.id,edits:e.edits,onInput:e.stageEdits},null,8,["active","primary-key","edits","onInput"])):R("",!0),o(v,{id:e.image.id,modelValue:e.lightboxActive,"onUpdate:modelValue":t[4]||(t[4]=g=>e.lightboxActive=g)},null,8,["id","modelValue"])],2)):(p(),C(_,{key:3,"from-library":"","from-url":"",folder:e.folder,onInput:e.setImage},null,8,["folder","onInput"]))],2)}var bz=q(dz,[["render",hz],["__scopeId","data-v-74391a16"]]),$z=Me({id:"file-image",name:"$t:interfaces.file-image.image",description:"$t:interfaces.file-image.description",icon:"insert_photo",component:bz,types:["uuid"],localTypes:["file"],group:"relational",relational:!0,options:[{field:"folder",name:"$t:interfaces.system-folder.folder",type:"uuid",meta:{width:"half",interface:"system-folder",note:"$t:interfaces.system-folder.field_hint"},schema:{default_value:void 0}},{field:"crop",name:"$t:interfaces.file-image.crop",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.file-image.crop_label"}},schema:{default_value:!0}}],recommendedDisplays:["image"]}),wz=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:$z});function er(e,t,n){function l(_){const{junctionPkField:y}=t.value;return e.value===null?null:e.value.find(g=>U.exports.get(g,y)===_||g===_)||null}function i(){const{junctionField:_}=t.value;return e.value===null||_===null?[]:e.value.filter(y=>typeof y=="object"&&_ in y&&typeof y[_]!="object")}function u(){const{junctionField:_,relationPkField:y}=t.value;return e.value===null||_===null?[]:e.value.filter(g=>typeof U.exports.get(g,_)=="object"&&U.exports.has(g,[_,y])===!1)}function a(){const{junctionField:_,relationPkField:y}=t.value;return e.value===null||_===null?[]:e.value.filter(g=>U.exports.has(g,[_,y]))}function s(){return e.value===null?[]:e.value.filter(_=>["string","number"].includes(typeof _))}function r(){const{junctionPkField:_}=t.value;return e.value===null?[]:e.value.reduce((y,g)=>{const $=U.exports.get(g,[_]);return["string","number"].includes(typeof g)?y.push(g):$!==void 0&&y.push($),y},[])}function m(){if(e.value===null)return[];const{junctionField:_,relationPkField:y}=t.value;return e.value.reduce((g,$)=>{const h=U.exports.get($,_),k=U.exports.get($,[_,y]);return h!==void 0?g.push(h):k!==void 0&&g.push(k),g},[])}function f(_,y){const{relationPkField:g,junctionField:$}=t.value;return y.find(h=>U.exports.get(h,[$,g])===_)||null}function v(_){if(e.value===null)return;const{junctionField:y,relationPkField:g,junctionPkField:$}=t.value,h=U.exports.get(_,$),k=U.exports.get(_,[y,g]),A=e.value.filter(F=>{if(h!==void 0)return typeof F=="object"?U.exports.get(F,[$])!==h:F!==h;if(k!==void 0){const P=U.exports.get(F,[y,g]);if(["string","number"].includes(typeof P))return P!==k;const O=U.exports.get(F,[y]);if(["string","number"].includes(typeof O))return O!==k}return U.exports.isEqual(F,_)===!1});n(A)}return{getJunctionItem:l,getNewSelectedItems:i,getNewItems:u,getUpdatedItems:a,getExistingItems:s,getPrimaryKeys:r,getRelatedPrimaryKeys:m,getJunctionFromRelatedId:f,deleteItem:v}}function tr(e,t){var i;if(!(t==null?void 0:t.length))return[];const n=Pe(),l=[];for(const u of t){if(l.push(u),!u.includes("."))continue;const a=u.split("."),s=n.getField(e,u),r=n.getPrimaryKeyFieldForCollection((i=s==null?void 0:s.collection)!=null?i:""),m=r&&a.slice(0,-1).concat(r.field).join(".");m&&!l.includes(m)&&l.push(m)}return l}function nr(e,t,n,l,i,u,a){const s=Pe(),r=E([]),m=E(!1),f=E([]),v=E([]),_=E(null);return _e(()=>e.value,async A=>{if(A===null){v.value=[];return}m.value=!0;const{junctionField:F,relationPkField:P,junctionPkField:O,relationCollection:T}=n.value;if(F===null)return;const N=await $(),L=N.reduce((B,K)=>{const W=U.exports.get(K,F);return W!==null&&B.push(W),B},[]),M=[...t.value.length>0?y(t.value):k()];M.includes(P)===!1&&M.push(P);try{let B=[];L.length>0&&(B=await h(T,M,P,L)),B=B.map(le=>{const G=U.exports.get(le,P),Q=N.find(ue=>ue[F]===G);if(Q===void 0||G===void 0)return;const fe=U.exports.cloneDeep(Q);return fe[F]=le,fe});const K=i(),W=u();B=B.map(le=>{const G=K.find(Q=>U.exports.get(Q,[F,O])===U.exports.get(le,[F,O]));return G!==void 0?U.exports.merge(le,G):le}).concat(...W),f.value.length||(f.value=B),v.value=B}catch(B){_.value=B}finally{m.value=!1}},{immediate:!0}),_e(()=>t.value,()=>{const{junctionField:A,junctionCollection:F}=n.value;r.value=(t.value.length>0?t.value:k().map(P=>`${A}.${P}`)).map(P=>{var N,L,M,B;const O=s.getField(F,P);return O?{text:O.name,value:P,align:"left",sortable:!0,width:null,field:{display:(N=O.meta)==null?void 0:N.display,displayOptions:(L=O.meta)==null?void 0:L.display_options,interface:(M=O.meta)==null?void 0:M.interface,interfaceOptions:(B=O.meta)==null?void 0:B.options,type:O.type,field:O.field}}:null}).filter(P=>P)},{immediate:!0}),{tableHeaders:r,items:v,initialItems:f,loading:m,error:_};function y(A){const{junctionField:F}=n.value;return A.reduce((P,O)=>{const T=O.split(".");return F===T[0]&&T.length>=2&&P.push(T.slice(1).join(".")),P},[])}function g(){return(t.value||[]).filter(A=>A.includes(".")===!1)}async function $(){const{junctionPkField:A,junctionField:F,relationPkField:P,junctionCollection:O}=n.value;try{let T=[];const N=a();if(N.length>0){const M=g();M.includes(A)===!1&&M.push(A),M.includes(F)===!1&&M.push(F),n.value.sortField!==null&&M.includes(n.value.sortField)===!1&&M.push(n.value.sortField),T=await h(O,M,A,N)}const L=i().map(M=>({[F]:M[F][P]}));return T.concat(...l(),...L)}catch(T){_.value=T}return[]}async function h(A,F,P,O){if(F===null||F.length===0||O===null||O.length===0)return[];const T=tr(A,F),N=await re.get(Gt(A),{params:{fields:T,[`filter[${P}][_in]`]:O.join(",")}});return N==null?void 0:N.data.data}function k(){return s.getFieldsForCollection(n.value.relationCollection).slice(0,3).map(F=>F.field)}}function lr(e,t,n){const l=E(!1),i=E(null),u=E(null),a=E({});function s(f){const{relationPkField:v,junctionField:_,junctionPkField:y}=t.value;l.value=!0,a.value=f,i.value=U.exports.get(f,[y],null),u.value=U.exports.get(f,[_,v],null)}function r(f){const{relationPkField:v,junctionField:_,junctionPkField:y}=t.value,g=(e.value||[]).map($=>{if(i.value!==null){const h=i.value;if(typeof $=="object"&&y in $){if($[y]===h)return f}else if(["number","string"].includes(typeof $)&&$===h)return f}if(u.value!=null){const h=u.value;if(U.exports.get($,[_],null)===h||U.exports.get($,[_,v],null)===h)return f}return U.exports.isEqual(a.value,$)?f:$});u.value===null&&i.value===null&&g.includes(f)===!1&&g.push(f),g.length===0?n(null):n(g),m()}function m(){l.value=!1,a.value={},i.value=null,u.value=null}return{currentlyEditing:i,editItem:s,editsAtStart:a,stageEdits:r,cancelEdit:m,relatedPrimaryKey:u,editModalActive:l}}function or(e,t,n,l){const i=E(!1),u=V(()=>{if(e.value===null)return[];const{relationPkField:s,junctionField:r}=n.value;return e.value.reduce((f,v)=>{const _=U.exports.get(v,[r,s]);return _!==void 0&&f.push(_),f},[])});function a(s){const{junctionField:r,junctionPkField:m}=n.value,f=s.map(v=>{const _=t.value.find(g=>g[r][m]===v),y=e.value.find(g=>g[r][m]===v);return Ve(pe(pe({},_),y),{[r]:Ve(pe(pe({},_==null?void 0:_[m]),y==null?void 0:y[m]),{[m]:v})})});f.length===0?l(null):l(f)}return{stageSelection:a,selectModalActive:i,selectedPrimaryKeys:u}}function ar(e,t,n,l){const i=E({by:e.value.sortField||t.value[0],desc:!1}),u=V(()=>{const s=e.value.sortField;if(s===null||i.value.by!==s)return n.value;const r=i.value.desc,m=U.exports.sortBy(n.value,[s]);return r?m.reverse():m});return{sort:i,sortItems:a,sortedItems:u};function a(s){const r=e.value.sortField;if(r===null)return;const m=s.map((f,v)=>(f[r]=v,f));l(m)}}function ir(e,t){const n=Tt(),l=Je(),i=V(()=>{var m;if(((m=l.currentUser)==null?void 0:m.role.admin_access)===!0)return!0;const s=!!n.permissions.find(f=>f.action==="create"&&f.collection===e.value.collection),r=!!n.permissions.find(f=>f.action==="create"&&f.collection===t.value.collection);return s&&r}),u=V(()=>{var r;return((r=l.currentUser)==null?void 0:r.role.admin_access)===!0?!0:!!n.permissions.find(m=>m.action==="create"&&m.collection===e.value.collection)});return{createAllowed:i,selectAllowed:u}}const kz=z({components:{DrawerItem:qt,DrawerCollection:Qt,Draggable:Ct},props:{value:{type:Array,default:null},primaryKey:{type:[Number,String],required:!0},collection:{type:String,required:!0},field:{type:String,required:!0},template:{type:String,default:null},disabled:{type:Boolean,default:!1},enableCreate:{type:Boolean,default:!0},enableSelect:{type:Boolean,default:!0},folder:{type:String,default:void 0}},emits:["input"],setup(e,{emit:t}){const{t:n}=Y(),{value:l,collection:i,field:u}=Re(e),{junction:a,junctionCollection:s,relation:r,relationCollection:m,relationInfo:f}=Pl(i,u),v=V(()=>{var J,oe;if(e.template)return e.template;if((J=s.value.meta)==null?void 0:J.display_template)return s.value.meta.display_template;let ve=(oe=m.value.meta)==null?void 0:oe.display_template;if(ve){const ae=/({{.*?}})/g,me=ve.split(ae).filter(ge=>ge);for(const ge of me){if(ge.startsWith("{{")===!1)continue;const $e=ge.replace(/{{/g,"").replace(/}}/g,"").trim(),ke=`{{${r.value.field}.${$e}}}`;ve=ve.replace(ge,ke)}return ve}return`{{${r.value.field}.${f.value.relationPkField}}}`}),_=V(()=>Xt(yt(v.value),s.value.collection)),{deleteItem:y,getUpdatedItems:g,getNewItems:$,getPrimaryKeys:h,getNewSelectedItems:k}=er(l,f,X),{tableHeaders:A,items:F,initialItems:P,loading:O}=nr(l,_,f,k,g,$,h),{currentlyEditing:T,editItem:N,editsAtStart:L,stageEdits:M,cancelEdit:B,relatedPrimaryKey:K,editModalActive:W}=lr(l,f,X),{stageSelection:le,selectModalActive:G,selectedPrimaryKeys:Q}=or(F,P,f,X),{sort:fe,sortItems:ue,sortedItems:ne}=ar(f,_,F,X),{createAllowed:ee,selectAllowed:de}=ir(s,m),{showUpload:ce,onUpload:H}=te(),Z=V(()=>{if(!(K.value===null||m.value.collection!=="directus_files"))return st(Qe()+`assets/${K.value}`)});return{t:n,junction:a,relation:r,tableHeaders:A,loading:O,currentlyEditing:T,editItem:N,junctionCollection:s,relationCollection:m,editsAtStart:L,stageEdits:M,cancelEdit:B,stageSelection:le,selectModalActive:G,deleteItem:y,selectedPrimaryKeys:Q,items:F,relationInfo:f,relatedPrimaryKey:K,get:U.exports.get,editModalActive:W,sort:fe,sortItems:ue,sortedItems:ne,templateWithDefaults:v,createAllowed:ee,selectAllowed:de,onUpload:H,showUpload:ce,downloadUrl:Z};function X(ve){t("input",ve)}function te(){const ve=E(!1);return{showUpload:ve,onUpload:J};function J(oe){if(ve.value=!1,oe.length===0)return;const{junctionField:ae}=f.value,me=oe.map(ge=>({[ae]:ge.id}));t("input",[...e.value||[],...me])}}}}),Sz=e=>(We("data-v-c43e7886"),e=e(),Ge(),e),Cz={key:1,class:"many-to-many"},Vz=Sz(()=>S("div",{class:"spacer"},null,-1)),Fz={key:3,class:"actions"};function Az(e,t,n,l,i,u){const a=c("v-notice"),s=c("v-skeleton-loader"),r=c("v-icon"),m=c("render-template"),f=c("v-list-item"),v=c("draggable"),_=c("v-list"),y=c("v-button"),g=c("drawer-item"),$=c("drawer-collection"),h=c("v-card-title"),k=c("v-upload"),A=c("v-card-text"),F=c("v-card-actions"),P=c("v-card"),O=c("v-dialog");return!e.junction||!e.relation?(p(),C(a,{key:0,type:"warning"},{default:d(()=>[D(b(e.t("relationship_not_setup")),1)]),_:1})):(p(),I("div",Cz,[e.loading?(p(!0),I(ie,{key:0},he((e.value||[]).length||3,T=>(p(),C(s,{key:T,type:(e.value||[]).length>4?"block-list-item-dense":"block-list-item"},null,8,["type"]))),128)):e.sortedItems.length===0?(p(),C(a,{key:1},{default:d(()=>[D(b(e.t("no_items")),1)]),_:1})):(p(),C(_,{key:2},{default:d(()=>[o(v,{"force-fallback":!0,"model-value":e.sortedItems,"item-key":"id",handle:".drag-handle",disabled:!e.junction.meta.sort_field,"onUpdate:modelValue":t[1]||(t[1]=T=>e.sortItems(T))},{item:d(({element:T})=>[o(f,{dense:e.sortedItems.length>4,block:"",clickable:"",onClick:N=>e.editItem(T)},{default:d(()=>[e.junction.meta.sort_field?(p(),C(r,{key:0,name:"drag_handle",class:"drag-handle",left:"",onClick:t[0]||(t[0]=Fe(()=>{},["stop"]))})):R("",!0),o(m,{collection:e.junctionCollection.collection,item:T,template:e.templateWithDefaults},null,8,["collection","item","template"]),Vz,e.disabled?R("",!0):(p(),C(r,{key:1,name:"close",onClick:Fe(N=>e.deleteItem(T),["stop"])},null,8,["onClick"]))]),_:2},1032,["dense","onClick"])]),_:1},8,["model-value","disabled"])]),_:1})),e.disabled?R("",!0):(p(),I("div",Fz,[e.enableCreate&&e.createAllowed?(p(),C(y,{key:0,onClick:t[2]||(t[2]=T=>e.showUpload=!0)},{default:d(()=>[D(b(e.t("upload_file")),1)]),_:1})):R("",!0),e.enableSelect&&e.selectAllowed?(p(),C(y,{key:1,onClick:t[3]||(t[3]=T=>e.selectModalActive=!0)},{default:d(()=>[D(b(e.t("add_existing")),1)]),_:1})):R("",!0)])),e.disabled?R("",!0):(p(),C(g,{key:4,active:e.editModalActive,collection:e.relationInfo.junctionCollection,"primary-key":e.currentlyEditing||"+","related-primary-key":e.relatedPrimaryKey||"+","junction-field":e.relationInfo.junctionField,edits:e.editsAtStart,"circular-field":e.junction.field,onInput:e.stageEdits,"onUpdate:active":e.cancelEdit},{actions:d(()=>[e.currentlyEditing!=="+"&&e.relationCollection.collection==="directus_files"?(p(),C(y,{key:0,secondary:"",rounded:"",icon:"",download:"",href:e.downloadUrl},{default:d(()=>[o(r,{name:"download"})]),_:1},8,["href"])):R("",!0)]),_:1},8,["active","collection","primary-key","related-primary-key","junction-field","edits","circular-field","onInput","onUpdate:active"])),e.disabled?R("",!0):(p(),C($,{key:5,active:e.selectModalActive,"onUpdate:active":t[4]||(t[4]=T=>e.selectModalActive=T),collection:e.relationCollection.collection,selection:e.selectedPrimaryKeys,multiple:"",onInput:e.stageSelection},null,8,["active","collection","selection","onInput"])),e.disabled?R("",!0):(p(),C(O,{key:6,modelValue:e.showUpload,"onUpdate:modelValue":t[6]||(t[6]=T=>e.showUpload=T)},{default:d(()=>[o(P,null,{default:d(()=>[o(h,null,{default:d(()=>[D(b(e.t("upload_file")),1)]),_:1}),o(A,null,{default:d(()=>[o(k,{multiple:"","from-url":"",folder:e.folder,onInput:e.onUpload},null,8,["folder","onInput"])]),_:1}),o(F,null,{default:d(()=>[o(y,{onClick:t[5]||(t[5]=T=>e.showUpload=!1)},{default:d(()=>[D(b(e.t("done")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]))]))}var Iz=q(kz,[["render",Az],["__scopeId","data-v-c43e7886"]]),Ez=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="19" y="9" width="56" height="36" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="20" y="10" width="54" height="34" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="25" y="15" width="44" height="24" rx="4" fill="var(--primary)" fill-opacity=".25" />
	<path d="M36.695 27.2L45.39 35H28l8.695-7.8z" fill="var(--primary)" />
	<path d="M52.153 23L66 35H38.305l13.848-12z" fill="var(--primary)" />
	<rect x="81" y="9" width="56" height="36" rx="6" fill="var(--background-page)" />
	<rect x="82" y="10" width="54" height="34" rx="5" stroke="var(--primary)" stroke-opacity=".25" stroke-width="2" />
	<rect x="87" y="15" width="44" height="24" rx="4" fill="var(--primary)" fill-opacity=".25" />
	<path d="M98.695 27.2l8.695 7.8H90l8.695-7.8z" fill="var(--primary)" />
	<path d="M114.153 23L128 35h-27.695l13.848-12z" fill="var(--primary)" />
	<rect x="19" y="51" width="56" height="36" rx="6" fill="var(--background-page)" />
	<rect x="20" y="52" width="54" height="34" rx="5" stroke="var(--primary)" stroke-opacity=".25" stroke-width="2" />
	<rect x="25" y="57" width="44" height="24" rx="4" fill="var(--primary)" fill-opacity=".25" />
	<path d="M36.695 69.2L45.39 77H28l8.695-7.8z" fill="var(--primary)" />
	<path d="M52.153 65L66 77H38.305l13.848-12z" fill="var(--primary)" />
	<rect x="81" y="51" width="56" height="36" rx="6" fill="var(--background-page)" />
	<rect x="82" y="52" width="54" height="34" rx="5" stroke="var(--primary)" stroke-opacity=".25" stroke-width="2" />
	<rect x="87" y="57" width="44" height="24" rx="4" fill="var(--primary)" fill-opacity=".25" />
	<path d="M98.695 69.2l8.695 7.8H90l8.695-7.8z" fill="var(--primary)" />
	<path d="M114.153 65L128 77h-27.695l13.848-12z" fill="var(--primary)" />
</svg>
`,Dz=Me({id:"files",name:"$t:interfaces.files.files",description:"$t:interfaces.files.description",icon:"note_add",component:Iz,relational:!0,types:["alias"],localTypes:["files"],group:"relational",options:({relations:e})=>{var t;return[{field:"folder",name:"$t:interfaces.system-folder.folder",type:"uuid",meta:{width:"full",interface:"system-folder",note:"$t:interfaces.system-folder.field_hint"},schema:{default_value:void 0}},{field:"template",name:"$t:display_template",meta:{interface:"system-display-template",options:{collectionName:(t=e.o2m)==null?void 0:t.collection}}},{field:"enableCreate",name:"$t:creating_items",schema:{default_value:!0},meta:{interface:"boolean",options:{label:"$t:enable_create_button"},width:"half"}},{field:"enableSelect",name:"$t:selecting_items",schema:{default_value:!0},meta:{interface:"boolean",options:{label:"$t:enable_select_button"},width:"half"}}]},recommendedDisplays:["related-values"],preview:Ez}),Tz=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Dz});const Pz=z({name:"AccordionSection",props:{field:{type:Object,required:!0},fields:{type:Array,required:!0},values:{type:Object,required:!0},initialValues:{type:Object,required:!0},disabled:{type:Boolean,default:!1},batchMode:{type:Boolean,default:!1},batchActiveFields:{type:Array,default:()=>[]},primaryKey:{type:[Number,String],required:!0},loading:{type:Boolean,default:!1},validationErrors:{type:Array,default:()=>[]},group:{type:String,required:!0},multiple:{type:Boolean,default:!1}},emits:["apply","toggleAll"],setup(e,{emit:t}){const{t:n}=Y(),l=V(()=>e.fields.filter(s=>{var r,m,f;return!(((r=s.meta)==null?void 0:r.group)===e.group&&((m=s.meta)==null?void 0:m.id)!==((f=e.field.meta)==null?void 0:f.id))}).map(s=>{var r,m;return((r=s.meta)==null?void 0:r.id)===((m=e.field.meta)==null?void 0:m.id)?U.exports.merge({},s,{hideLabel:!0}):s})),i=V(()=>{if(!e.values)return!1;const s=Object.keys(e.values);return!!l.value.some(r=>s.includes(r.field))}),u=V(()=>{const s=e.validationErrors.find(r=>r.field===e.field.field);if(s!==void 0)return s.code==="RECORD_NOT_UNIQUE"?n("validationError.unique"):n(`validationError.${s.type}`,s)});return{fieldsInSection:l,edited:i,handleModifier:a,validationMessage:u};function a(s,r){if(e.multiple===!1){r();return}s.shiftKey?t("toggleAll"):r()}}}),Oz=["onClick"],Lz={key:0,class:"fields"};function jz(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-form"),r=c("transition-expand"),m=c("v-item"),f=Se("tooltip");return p(),C(m,{value:e.field.field,scope:"group-accordion",class:"accordion-section"},{default:d(({active:v,toggle:_})=>[S("div",{class:se(["label type-title",{active:v,edited:e.edited}]),onClick:y=>e.handleModifier(y,_)},[o(a,{class:se(["icon",{active:v}]),name:"expand_more"},null,8,["class"]),D(" "+b(e.field.name)+" ",1),!v&&e.validationMessage?x((p(),C(a,{key:0,class:"warning",name:"error_outline",small:""},null,512)),[[f,e.validationMessage]]):R("",!0)],10,Oz),o(r,null,{default:d(()=>[v?(p(),I("div",Lz,[o(s,{"initial-values":e.initialValues,fields:e.fieldsInSection,"model-value":e.values,"primary-key":e.primaryKey,group:e.group,"validation-errors":e.validationErrors,loading:e.loading,"batch-mode":e.batchMode,"onUpdate:modelValue":t[0]||(t[0]=y=>e.$emit("apply",y))},null,8,["initial-values","fields","model-value","primary-key","group","validation-errors","loading","batch-mode"])])):R("",!0)]),_:2},1024)]),_:1},8,["value"])}var Rz=q(Pz,[["render",jz],["__scopeId","data-v-4a23feae"]]);const Mz=z({name:"InterfaceGroupAccordion",components:{AccordionSection:Rz},props:{field:{type:Object,required:!0},fields:{type:Array,required:!0},values:{type:Object,required:!0},initialValues:{type:Object,required:!0},disabled:{type:Boolean,default:!1},batchMode:{type:Boolean,default:!1},batchActiveFields:{type:Array,default:()=>[]},primaryKey:{type:[Number,String],required:!0},loading:{type:Boolean,default:!1},validationErrors:{type:Array,default:()=>[]},accordionMode:{type:Boolean,default:!0},start:{type:String,enum:["opened","closed","first"],default:"closed"}},emits:["apply"],setup(e){const t=V(()=>e.fields.filter(i=>{var u,a;return((u=i.meta)==null?void 0:u.group)===((a=e.field.meta)==null?void 0:a.field)})),n=E([]);return _e(()=>e.start,i=>{i==="opened"&&(n.value=t.value.map(u=>u.field)),i==="first"&&(n.value=[t.value[0].field])},{immediate:!0}),{rootFields:t,selection:n,toggleAll:l};function l(){e.accordionMode!==!0&&(n.value.length===t.value.length?n.value=[]:n.value=t.value.map(i=>i.field))}}});function Uz(e,t,n,l,i,u){const a=c("accordion-section"),s=c("v-item-group");return p(),C(s,{modelValue:e.selection,"onUpdate:modelValue":t[1]||(t[1]=r=>e.selection=r),scope:"group-accordion",class:"group-accordion",multiple:e.accordionMode===!1},{default:d(()=>[(p(!0),I(ie,null,he(e.rootFields,r=>(p(),C(a,{key:r.field,field:r,fields:e.fields,values:e.values,"initial-values":e.initialValues,disabled:e.disabled,"batch-mode":e.batchMode,"batch-active-fields":e.batchActiveFields,"primary-key":e.primaryKey,loading:e.loading,"validation-errors":e.validationErrors,group:e.field.meta.field,multiple:e.accordionMode===!1,onApply:t[0]||(t[0]=m=>e.$emit("apply",m)),onToggleAll:e.toggleAll},null,8,["field","fields","values","initial-values","disabled","batch-mode","batch-active-fields","primary-key","loading","validation-errors","group","multiple","onToggleAll"]))),128))]),_:1},8,["modelValue","multiple"])}var Nz=q(Mz,[["render",Uz]]),Bz=Me({id:"group-accordion",name:"$t:interfaces.group-accordion.name",description:"$t:interfaces.group-accordion.description",icon:"horizontal_split",component:Nz,hideLabel:!0,hideLoader:!0,types:["alias"],localTypes:["group"],group:"group",options:[{field:"accordionMode",type:"boolean",name:"$t:interfaces.group-accordion.accordion_mode",meta:{interface:"boolean",options:{label:"$t:interfaces.group-accordion.max_one_section_open"},width:"half"},schema:{default_value:!0}},{field:"start",type:"string",name:"$t:start",schema:{default_value:"closed"},meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:interfaces.group-accordion.all_closed",value:"closed"},{text:"$t:interfaces.group-accordion.first_opened",value:"first"}]},conditions:[{rule:{accordionMode:{_eq:!1}},options:{choices:[{text:"$t:interfaces.group-accordion.all_closed",value:"closed"},{text:"$t:interfaces.group-accordion.first_opened",value:"first"},{text:"$t:interfaces.group-accordion.all_opened",value:"opened"}]}}]}}]}),qz=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Bz});const zz=z({name:"InterfaceGroupDetail",props:{field:{type:Object,required:!0},fields:{type:Array,required:!0},values:{type:Object,required:!0},initialValues:{type:Object,required:!0},disabled:{type:Boolean,default:!1},batchMode:{type:Boolean,default:!1},batchActiveFields:{type:Array,default:()=>[]},primaryKey:{type:[Number,String],required:!0},loading:{type:Boolean,default:!1},validationErrors:{type:Array,default:()=>[]},start:{type:String,enum:["open","closed"],default:"open"},headerIcon:{type:String,default:null},headerColor:{type:String,default:null}},emits:["apply"],setup(e){const{t}=Y(),n=V(()=>{if(!e.values)return!1;const i=Object.keys(e.values);return!!e.fields.some(u=>i.includes(u.field))}),l=V(()=>{if(!e.validationErrors)return;const i=e.fields.map(a=>a.field),u=e.validationErrors.reduce((a,s)=>(i.includes(s.field)===!1||(s.code==="RECORD_NOT_UNIQUE"?a.push(`${Ft(s.field)} ${t("validationError.unique").toLowerCase()}`):a.push(`${Ft(s.field)} ${t(`validationError.${s.type}`,s).toLowerCase()}`)),a),[]);if(u.length!==0)return u.join(`
`)});return{edited:n,validationMessages:l}}}),Kz={key:0,class:"title"};function Hz(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-divider"),r=c("v-form"),m=c("v-detail"),f=Se("tooltip");return p(),C(m,{"start-open":e.start==="open",class:"group-detail"},{activator:d(({toggle:v,active:_})=>[o(s,{style:ze({"--v-divider-label-color":e.headerColor}),class:se({active:_,edited:e.edited}),"inline-title":!1,large:"",onClick:v},Ze({default:d(()=>[e.field.name?(p(),I("span",Kz,b(e.field.name),1)):R("",!0),!_&&e.validationMessages?x((p(),C(a,{key:1,class:"warning",name:"error_outline",small:""},null,512)),[[f,e.validationMessages]]):R("",!0),o(a,{class:"expand-icon",name:"expand_more"})]),_:2},[e.headerIcon?{name:"icon",fn:d(()=>[o(a,{name:e.headerIcon,class:"header-icon"},null,8,["name"])])}:void 0]),1032,["style","class","onClick"])]),default:d(()=>[o(r,{"initial-values":e.initialValues,fields:e.fields,"model-value":e.values,"primary-key":e.primaryKey,group:e.field.meta.field,"validation-errors":e.validationErrors,loading:e.loading,"batch-mode":e.batchMode,"onUpdate:modelValue":t[0]||(t[0]=v=>e.$emit("apply",v))},null,8,["initial-values","fields","model-value","primary-key","group","validation-errors","loading","batch-mode"])]),_:1},8,["start-open"])}var Wz=q(zz,[["render",Hz],["__scopeId","data-v-67848f9c"]]),Gz=Me({id:"group-detail",name:"$t:interfaces.group-detail.name",description:"$t:interfaces.group-detail.description",icon:"menu_open",component:Wz,localTypes:["group"],group:"group",types:["alias"],options:[{field:"start",name:"$t:start",type:"string",schema:{default_value:"open"},meta:{interface:"select-dropdown",width:"full",options:{choices:[{text:"$t:interfaces.group-detail.start_open",value:"open"},{text:"$t:interfaces.group-detail.start_closed",value:"closed"}]}}},{field:"headerIcon",name:"$t:interfaces.group-detail.header_icon",type:"string",meta:{interface:"select-icon",width:"half"}},{field:"headerColor",name:"$t:interfaces.group-detail.header_color",type:"string",meta:{interface:"select-color",width:"half"}}]}),Jz=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Gz});const Qz=z({name:"InterfaceGroupRaw",props:{field:{type:Object,required:!0},fields:{type:Array,required:!0},values:{type:Object,required:!0},initialValues:{type:Object,required:!0},disabled:{type:Boolean,default:!1},batchMode:{type:Boolean,default:!1},batchActiveFields:{type:Array,default:()=>[]},primaryKey:{type:[Number,String],required:!0},loading:{type:Boolean,default:!1},validationErrors:{type:Array,default:()=>[]}},emits:["apply"]}),Xz={class:"group-raw"};function Zz(e,t,n,l,i,u){const a=c("v-form");return p(),I("div",Xz,[o(a,{"initial-values":e.initialValues,fields:e.fields,"model-value":e.values,"primary-key":e.primaryKey,group:e.field.meta.field,"validation-errors":e.validationErrors,loading:e.loading,"onUpdate:modelValue":t[0]||(t[0]=s=>e.$emit("apply",s))},null,8,["initial-values","fields","model-value","primary-key","group","validation-errors","loading"])])}var Yz=q(Qz,[["render",Zz]]),xz=Me({id:"group-raw",name:"$t:interfaces.group-raw.name",description:"$t:interfaces.group-raw.description",icon:"view_in_ar",component:Yz,localTypes:["group"],group:"group",types:["alias"],options:[]}),eK=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:xz});const tK=z({props:{value:{type:[String,Number],default:null},type:{type:String,default:null},clear:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:null},masked:{type:Boolean,default:!1},iconLeft:{type:String,default:null},iconRight:{type:String,default:null},trim:{type:Boolean,default:!0},font:{type:String,default:"sans-serif"},length:{type:Number,default:null},dbSafe:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},slug:{type:Boolean,default:!1},min:{type:Number,default:null},max:{type:Number,default:null},step:{type:Number,default:1}},emits:["input"],setup(e){const t=V(()=>typeof e.value=="number"||!e.length||!e.value?null:+e.length-e.value.length),n=V(()=>typeof e.value=="number"||!e.length||!e.value?null:100-e.value.length/+e.length*100);return{inputType:V(()=>e.masked?"password":["bigInteger","integer","float","decimal"].includes(e.type)?"number":"text"),charsRemaining:t,percentageRemaining:n}}});function nK(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-input");return p(),C(s,{autofocus:e.autofocus,"model-value":e.value,nullable:!e.clear,placeholder:e.placeholder,disabled:e.disabled,trim:e.trim,type:e.inputType,class:se(e.font),"db-safe":e.dbSafe,slug:e.slug,min:e.min,max:e.max,step:e.step,"onUpdate:modelValue":t[0]||(t[0]=r=>e.$emit("input",r))},Ze({_:2},[e.iconLeft?{name:"prepend",fn:d(()=>[o(a,{name:e.iconLeft},null,8,["name"])])}:void 0,e.percentageRemaining&&e.percentageRemaining<=20||e.iconRight?{name:"append",fn:d(()=>[e.percentageRemaining&&e.percentageRemaining<=20?(p(),I("span",{key:0,class:se(["remaining",{warning:e.percentageRemaining<10,danger:e.percentageRemaining<5}])},b(e.charsRemaining),3)):R("",!0),e.iconRight?(p(),C(a,{key:1,class:se({hide:e.percentageRemaining&&e.percentageRemaining<=20}),name:e.iconRight},null,8,["class","name"])):R("",!0)])}:void 0]),1032,["autofocus","model-value","nullable","placeholder","disabled","trim","type","class","db-safe","slug","min","max","step"])}var lK=q(tK,[["render",nK],["__scopeId","data-v-2d088068"]]),oK=`<svg width="156" height="96" viewBox="0 0 156 96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="35" width="120" height="26" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="36" width="118" height="24" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="28" y="45" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="82" y="45" width="20" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
</svg>
`,aK=Me({id:"input",name:"$t:interfaces.input.input",description:"$t:interfaces.input.description",icon:"text_fields",component:lK,types:["string","uuid","bigInteger","integer","float","decimal","text"],group:"standard",options:({field:e})=>{const t={standard:[{field:"placeholder",name:"$t:placeholder",meta:{width:"full",interface:"input",options:{placeholder:"$t:enter_a_placeholder"}}},{field:"iconLeft",name:"$t:icon_left",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"iconRight",name:"$t:icon_right",type:"string",meta:{width:"half",interface:"select-icon"}}],advanced:[{field:"font",name:"$t:font",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:sans_serif",value:"sans-serif"},{text:"$t:monospace",value:"monospace"},{text:"$t:serif",value:"serif"}]}},schema:{default_value:"sans-serif"}},{field:"trim",name:"$t:interfaces.input.trim",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.input.trim_label"}},schema:{default_value:!1}},{field:"masked",name:"$t:interfaces.input.mask",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.input.mask_label"}},schema:{default_value:!1}},{field:"clear",name:"$t:interfaces.input.clear",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.input.clear_label"}},schema:{default_value:!1}},{field:"slug",name:"$t:interfaces.input.slug",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.input.slug_label"}},schema:{default_value:!1}}]},n=[{field:"min",name:"$t:interfaces.input.minimum_value",type:"integer",meta:{width:"half",interface:"input"}},{field:"max",name:"$t:interfaces.input.maximum_value",type:"integer",meta:{width:"half",interface:"input"}},{field:"step",name:"$t:interfaces.input.step_interval",type:"integer",meta:{width:"half",interface:"input"},schema:{default_value:1}},{field:"placeholder",name:"$t:placeholder",type:"string",meta:{width:"half",interface:"input",options:{placeholder:"$t:enter_a_placeholder"}}},{field:"iconLeft",name:"$t:icon_left",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"iconRight",name:"$t:icon_right",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"font",name:"$t:font",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:sans_serif",value:"sans-serif"},{text:"$t:monospace",value:"monospace"},{text:"$t:serif",value:"serif"}]}},schema:{default_value:"sans-serif"}}];return e.type&&["bigInteger","integer","float","decimal"].includes(e.type)?n:t},preview:oK}),iK=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:aK});const sK=z({props:{value:{type:[String,Number],default:null},url:{type:String,default:null},resultsPath:{type:String,default:null},textPath:{type:String,default:null},valuePath:{type:String,default:null},trigger:{type:String,default:"throttle"},rate:{type:[Number,String],default:500},placeholder:{type:String,default:null},iconLeft:{type:String,default:null},iconRight:{type:String,default:null},font:{type:String,default:"sans-serif"},disabled:{type:Boolean,default:!1}},emits:["input"],setup(e,{emit:t}){const{t:n}=Y(),l=E([]),i=async r=>{if(!r){l.value=[];return}const m=Un(e.url,{value:r});try{const f=await Ml.get(m),v=e.resultsPath?U.exports.get(f.data,e.resultsPath):f.data;if(Array.isArray(v)===!1){console.warn(`Expected results type of array, "${typeof v}" received`);return}l.value=v.map(_=>e.textPath&&e.valuePath?{text:U.exports.get(_,e.textPath),value:U.exports.get(_,e.valuePath)}:e.valuePath?{value:U.exports.get(_,e.valuePath)}:{value:_})}catch(f){console.warn(f)}},u=e.trigger==="debounce"?U.exports.debounce(i,Number(e.rate)):U.exports.throttle(i,Number(e.rate));return{t:n,results:l,onInput:a,emitValue:s};function a(r){s(r),u(r)}function s(r){t("input",r)}}}),rK={key:1};function dK(e,t,n,l,i,u){const a=c("v-notice"),s=c("v-icon"),r=c("v-input"),m=c("v-list-item-content"),f=c("v-list-item"),v=c("v-list"),_=c("v-menu");return e.url?(p(),I("div",rK,[o(_,{attached:"",disabled:e.disabled},{activator:d(({activate:y,deactivate:g})=>[o(r,{placeholder:e.placeholder,disabled:e.disabled,class:se(e.font),"model-value":e.value,"onUpdate:modelValue":e.onInput,onFocus:y,onBlur:g},Ze({_:2},[e.iconLeft?{name:"prepend",fn:d(()=>[o(s,{name:e.iconLeft},null,8,["name"])])}:void 0,e.iconRight?{name:"append",fn:d(()=>[o(s,{name:e.iconRight},null,8,["name"])])}:void 0]),1032,["placeholder","disabled","class","model-value","onUpdate:modelValue","onFocus","onBlur"])]),default:d(()=>[e.results.length>0?(p(),C(v,{key:0},{default:d(()=>[(p(!0),I(ie,null,he(e.results,y=>(p(),C(f,{key:y.value,onClick:()=>e.emitValue(y.value)},{default:d(()=>[o(m,null,{default:d(()=>[D(b(e.textPath?y.text:y.value),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})):R("",!0)]),_:1},8,["disabled"])])):(p(),C(a,{key:0,type:"warning"},{default:d(()=>[D(b(e.t("one_or_more_options_are_missing")),1)]),_:1}))}var uK=q(sK,[["render",dK],["__scopeId","data-v-56f7b81d"]]),cK=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="35" width="120" height="26" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="36" width="118" height="24" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="28" y="45" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="82" y="45" width="20" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
</svg>
`,pK=Me({id:"input-autocomplete-api",name:"$t:interfaces.input-autocomplete-api.input-autocomplete-api",description:"$t:interfaces.input-autocomplete-api.description",icon:"find_in_page",component:uK,types:["string","text"],localTypes:["standard"],group:"standard",recommendedDisplays:["formatted-value"],options:[{field:"url",name:"$t:url",type:"string",meta:{interface:"input",options:{placeholder:"https://example.com/search?q={{value}}",font:"monospace"},width:"full"}},{field:"resultsPath",name:"$t:interfaces.input-autocomplete-api.results_path",type:"string",meta:{interface:"input",options:{placeholder:"result.predictions",font:"monospace"},width:"full"}},{field:"textPath",name:"$t:interfaces.input-autocomplete-api.text_path",type:"string",meta:{interface:"input",options:{placeholder:"structured_main_text",font:"monospace"},width:"half"}},{field:"valuePath",name:"$t:interfaces.input-autocomplete-api.value_path",type:"string",meta:{interface:"input",options:{placeholder:"structured_main_value",font:"monospace"},width:"half"}},{field:"trigger",name:"$t:interfaces.input-autocomplete-api.trigger",type:"string",schema:{default_value:"throttle"},meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"Throttle",value:"throttle"},{text:"Debounce",value:"debounce"}]}}},{field:"rate",name:"$t:interfaces.input-autocomplete-api.rate",type:"integer",schema:{default_value:500},meta:{width:"half",interface:"input"}},{field:"placeholder",name:"$t:placeholder",meta:{width:"half",interface:"input",options:{placeholder:"$t:enter_a_placeholder"}}},{field:"font",name:"$t:font",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:sans_serif",value:"sans-serif"},{text:"$t:monospace",value:"monospace"},{text:"$t:serif",value:"serif"}]}},schema:{default_value:"sans-serif"}},{field:"iconLeft",name:"$t:icon_left",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"iconRight",name:"$t:icon_right",type:"string",meta:{width:"half",interface:"select-icon"}}],preview:cK}),mK=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:pK});function sr(e){switch(e){case"apl":return j(()=>import("./assets/apl.2c916dd8.js").then(function(t){return t.a}),["assets/apl.2c916dd8.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"asciiarmor":return j(()=>import("./assets/asciiarmor.f4e5f797.js").then(function(t){return t.a}),["assets/asciiarmor.f4e5f797.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"asn.1":return j(()=>import("./assets/asn.1.f23b5553.js").then(function(t){return t.a}),["assets/asn.1.f23b5553.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"asterisk":return j(()=>import("./assets/asterisk.dfdcffe7.js").then(function(t){return t.a}),["assets/asterisk.dfdcffe7.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"brainfuck":return j(()=>import("./assets/brainfuck.80c76211.js").then(function(t){return t.b}),["assets/brainfuck.80c76211.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"clike":return j(()=>import("./assets/clike.021bb1df.js").then(function(t){return t.c}),["assets/clike.021bb1df.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"clojure":return j(()=>import("./assets/clojure.6c6306c6.js").then(function(t){return t.c}),["assets/clojure.6c6306c6.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"cmake":return j(()=>import("./assets/cmake.a3e41ded.js").then(function(t){return t.c}),["assets/cmake.a3e41ded.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"cobol":return j(()=>import("./assets/cobol.5d54099c.js").then(function(t){return t.c}),["assets/cobol.5d54099c.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"coffeescript":return j(()=>import("./assets/coffeescript.23f1d473.js").then(function(t){return t.c}),["assets/coffeescript.23f1d473.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"commonlisp":return j(()=>import("./assets/commonlisp.4a03fa43.js").then(function(t){return t.c}),["assets/commonlisp.4a03fa43.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"crystal":return j(()=>import("./assets/crystal.86d0358e.js").then(function(t){return t.c}),["assets/crystal.86d0358e.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"css":return j(()=>import("./assets/css.aeb96fad.js").then(function(t){return t.c}),["assets/css.aeb96fad.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"cypher":return j(()=>import("./assets/cypher.9a3ba094.js").then(function(t){return t.c}),["assets/cypher.9a3ba094.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"d":return j(()=>import("./assets/d.903703cd.js").then(function(t){return t.d}),["assets/d.903703cd.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"dart":return j(()=>import("./assets/dart.14a060a3.js").then(function(t){return t.d}),["assets/dart.14a060a3.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/clike.021bb1df.js"]);case"diff":return j(()=>import("./assets/diff.0db0ec31.js").then(function(t){return t.d}),["assets/diff.0db0ec31.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"django":return j(()=>import("./assets/django.965e64c8.js").then(function(t){return t.d}),["assets/django.965e64c8.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/htmlmixed.7e3ff200.js","assets/javascript.e2c4d6fd.js","assets/css.aeb96fad.js","assets/overlay.56d3022b.js"]);case"dockerfile":return j(()=>import("./assets/dockerfile.f6b29430.js").then(function(t){return t.d}),["assets/dockerfile.f6b29430.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/simple.1a0ff72b.js"]);case"dtd":return j(()=>import("./assets/dtd.d2dbd5e2.js").then(function(t){return t.d}),["assets/dtd.d2dbd5e2.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"dylan":return j(()=>import("./assets/dylan.ec2b230a.js").then(function(t){return t.d}),["assets/dylan.ec2b230a.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"ebnf":return j(()=>import("./assets/ebnf.90b8dd09.js").then(function(t){return t.e}),["assets/ebnf.90b8dd09.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"ecl":return j(()=>import("./assets/ecl.e3a8f85e.js").then(function(t){return t.e}),["assets/ecl.e3a8f85e.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"eiffel":return j(()=>import("./assets/eiffel.6264eba9.js").then(function(t){return t.e}),["assets/eiffel.6264eba9.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"elm":return j(()=>import("./assets/elm.429267eb.js").then(function(t){return t.e}),["assets/elm.429267eb.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"erlang":return j(()=>import("./assets/erlang.d2414be4.js").then(function(t){return t.e}),["assets/erlang.d2414be4.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"factor":return j(()=>import("./assets/factor.0d586436.js").then(function(t){return t.f}),["assets/factor.0d586436.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/simple.1a0ff72b.js"]);case"fcl":return j(()=>import("./assets/fcl.b585ddd2.js").then(function(t){return t.f}),["assets/fcl.b585ddd2.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"forth":return j(()=>import("./assets/forth.349244ea.js").then(function(t){return t.f}),["assets/forth.349244ea.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"fortran":return j(()=>import("./assets/fortran.2e9a8bf0.js").then(function(t){return t.f}),["assets/fortran.2e9a8bf0.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"gas":return j(()=>import("./assets/gas.640b6bdb.js").then(function(t){return t.g}),["assets/gas.640b6bdb.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"gfm":return j(()=>import("./assets/gfm.61e9bc5c.js").then(function(t){return t.g}),["assets/gfm.61e9bc5c.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/overlay.56d3022b.js"]);case"gherkin":return j(()=>import("./assets/gherkin.a3628f6b.js").then(function(t){return t.g}),["assets/gherkin.a3628f6b.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"go":return j(()=>import("./assets/go.088cafcb.js").then(function(t){return t.g}),["assets/go.088cafcb.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"groovy":return j(()=>import("./assets/groovy.73d2bb8b.js").then(function(t){return t.g}),["assets/groovy.73d2bb8b.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"haml":return j(()=>import("./assets/haml.8a0e9aba.js").then(function(t){return t.h}),["assets/haml.8a0e9aba.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/htmlmixed.7e3ff200.js","assets/javascript.e2c4d6fd.js","assets/css.aeb96fad.js","assets/ruby.4f7b81cf.js"]);case"handlebars":return j(()=>import("./assets/handlebars.775135f1.js").then(function(t){return t.h}),["assets/handlebars.775135f1.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/simple.1a0ff72b.js","assets/multiplex.317d78e5.js"]);case"haskell":return j(()=>import("./assets/haskell.9b7f0557.js").then(function(t){return t.h}),["assets/haskell.9b7f0557.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"haskell-literate":return j(()=>import("./assets/haskell-literate.89d2e181.js").then(function(t){return t.h}),["assets/haskell-literate.89d2e181.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/haskell.9b7f0557.js"]);case"haxe":return j(()=>import("./assets/haxe.f0bccdb4.js").then(function(t){return t.h}),["assets/haxe.f0bccdb4.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"htmlembedded":return j(()=>import("./assets/htmlembedded.91da33a4.js").then(function(t){return t.h}),["assets/htmlembedded.91da33a4.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/htmlmixed.7e3ff200.js","assets/javascript.e2c4d6fd.js","assets/css.aeb96fad.js","assets/multiplex.317d78e5.js"]);case"htmlmixed":return j(()=>import("./assets/htmlmixed.7e3ff200.js").then(function(t){return t.h}),["assets/htmlmixed.7e3ff200.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/javascript.e2c4d6fd.js","assets/css.aeb96fad.js"]);case"http":return j(()=>import("./assets/http.7a7a78c2.js").then(function(t){return t.h}),["assets/http.7a7a78c2.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"idl":return j(()=>import("./assets/idl.7841a821.js").then(function(t){return t.i}),["assets/idl.7841a821.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"javascript":return j(()=>import("./assets/javascript.e2c4d6fd.js").then(function(t){return t.j}),["assets/javascript.e2c4d6fd.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"jinja2":return j(()=>import("./assets/jinja2.9b858d22.js").then(function(t){return t.j}),["assets/jinja2.9b858d22.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"jsx":return j(()=>import("./assets/jsx.f7b61cb3.js").then(function(t){return t.j}),["assets/jsx.f7b61cb3.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/javascript.e2c4d6fd.js"]);case"julia":return j(()=>import("./assets/julia.eac271c8.js").then(function(t){return t.j}),["assets/julia.eac271c8.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"livescript":return j(()=>import("./assets/livescript.75ddf998.js").then(function(t){return t.l}),["assets/livescript.75ddf998.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"lua":return j(()=>import("./assets/lua.a97dd510.js").then(function(t){return t.l}),["assets/lua.a97dd510.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"markdown":return j(()=>import("./assets/vendor.764dd834.js").then(function(t){return t.a}),["assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"mathematica":return j(()=>import("./assets/mathematica.42680664.js").then(function(t){return t.m}),["assets/mathematica.42680664.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"mbox":return j(()=>import("./assets/mbox.5018879c.js").then(function(t){return t.m}),["assets/mbox.5018879c.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"mirc":return j(()=>import("./assets/mirc.9d5ae70f.js").then(function(t){return t.m}),["assets/mirc.9d5ae70f.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"mllike":return j(()=>import("./assets/mllike.6beaa754.js").then(function(t){return t.m}),["assets/mllike.6beaa754.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"modelica":return j(()=>import("./assets/modelica.39b27738.js").then(function(t){return t.m}),["assets/modelica.39b27738.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"mscgen":return j(()=>import("./assets/mscgen.2928ad8f.js").then(function(t){return t.m}),["assets/mscgen.2928ad8f.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"mumps":return j(()=>import("./assets/mumps.ace846f6.js").then(function(t){return t.m}),["assets/mumps.ace846f6.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"nginx":return j(()=>import("./assets/nginx.7d66e95c.js").then(function(t){return t.n}),["assets/nginx.7d66e95c.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"nsis":return j(()=>import("./assets/nsis.18988463.js").then(function(t){return t.n}),["assets/nsis.18988463.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/simple.1a0ff72b.js"]);case"ntriples":return j(()=>import("./assets/ntriples.7c68fe76.js").then(function(t){return t.n}),["assets/ntriples.7c68fe76.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"octave":return j(()=>import("./assets/octave.e9c5af62.js").then(function(t){return t.o}),["assets/octave.e9c5af62.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"oz":return j(()=>import("./assets/oz.f0e17e6e.js").then(function(t){return t.o}),["assets/oz.f0e17e6e.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"pascal":return j(()=>import("./assets/pascal.4c8de90b.js").then(function(t){return t.p}),["assets/pascal.4c8de90b.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"pegjs":return j(()=>import("./assets/pegjs.adb455f9.js").then(function(t){return t.p}),["assets/pegjs.adb455f9.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/javascript.e2c4d6fd.js"]);case"perl":return j(()=>import("./assets/perl.e9919756.js").then(function(t){return t.p}),["assets/perl.e9919756.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"php":return j(()=>import("./assets/php.34aad5e9.js").then(function(t){return t.p}),["assets/php.34aad5e9.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/htmlmixed.7e3ff200.js","assets/javascript.e2c4d6fd.js","assets/css.aeb96fad.js","assets/clike.021bb1df.js"]);case"pig":return j(()=>import("./assets/pig.14fcfbd8.js").then(function(t){return t.p}),["assets/pig.14fcfbd8.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"powershell":return j(()=>import("./assets/powershell.7835da2c.js").then(function(t){return t.p}),["assets/powershell.7835da2c.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"properties":return j(()=>import("./assets/properties.265f3ecf.js").then(function(t){return t.p}),["assets/properties.265f3ecf.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"protobuf":return j(()=>import("./assets/protobuf.f33088f5.js").then(function(t){return t.p}),["assets/protobuf.f33088f5.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"pug":return j(()=>import("./assets/pug.a5974515.js").then(function(t){return t.p}),["assets/pug.a5974515.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/javascript.e2c4d6fd.js","assets/css.aeb96fad.js","assets/htmlmixed.7e3ff200.js"]);case"puppet":return j(()=>import("./assets/puppet.01791221.js").then(function(t){return t.p}),["assets/puppet.01791221.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"python":return j(()=>import("./assets/python.e86c1b0d.js").then(function(t){return t.p}),["assets/python.e86c1b0d.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"q":return j(()=>import("./assets/q.4f4ee7a2.js").then(function(t){return t.q}),["assets/q.4f4ee7a2.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"r":return j(()=>import("./assets/r.bdb61495.js").then(function(t){return t.r}),["assets/r.bdb61495.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"rpm":return j(()=>import("./assets/rpm.3f139b52.js").then(function(t){return t.r}),["assets/rpm.3f139b52.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"rst":return j(()=>import("./assets/rst.85a6aa5e.js").then(function(t){return t.r}),["assets/rst.85a6aa5e.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/python.e86c1b0d.js","assets/stex.548cdc29.js","assets/overlay.56d3022b.js"]);case"ruby":return j(()=>import("./assets/ruby.4f7b81cf.js").then(function(t){return t.r}),["assets/ruby.4f7b81cf.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"rust":return j(()=>import("./assets/rust.90f7c59d.js").then(function(t){return t.r}),["assets/rust.90f7c59d.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/simple.1a0ff72b.js"]);case"sas":return j(()=>import("./assets/sas.6bab46e6.js").then(function(t){return t.s}),["assets/sas.6bab46e6.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"sass":return j(()=>import("./assets/sass.82d78b0d.js").then(function(t){return t.s}),["assets/sass.82d78b0d.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/css.aeb96fad.js"]);case"scheme":return j(()=>import("./assets/scheme.d070321b.js").then(function(t){return t.s}),["assets/scheme.d070321b.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"shell":return j(()=>import("./assets/shell.3a02eee7.js").then(function(t){return t.s}),["assets/shell.3a02eee7.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"sieve":return j(()=>import("./assets/sieve.f502823d.js").then(function(t){return t.s}),["assets/sieve.f502823d.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"slim":return j(()=>import("./assets/slim.2102014c.js").then(function(t){return t.s}),["assets/slim.2102014c.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/htmlmixed.7e3ff200.js","assets/javascript.e2c4d6fd.js","assets/css.aeb96fad.js","assets/ruby.4f7b81cf.js"]);case"smalltalk":return j(()=>import("./assets/smalltalk.7cfe4f46.js").then(function(t){return t.s}),["assets/smalltalk.7cfe4f46.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"smarty":return j(()=>import("./assets/smarty.3e50cd7a.js").then(function(t){return t.s}),["assets/smarty.3e50cd7a.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"solr":return j(()=>import("./assets/solr.bfc84b28.js").then(function(t){return t.s}),["assets/solr.bfc84b28.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"soy":return j(()=>import("./assets/soy.83eb6f2e.js").then(function(t){return t.s}),["assets/soy.83eb6f2e.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/htmlmixed.7e3ff200.js","assets/javascript.e2c4d6fd.js","assets/css.aeb96fad.js"]);case"sparql":return j(()=>import("./assets/sparql.97261c23.js").then(function(t){return t.s}),["assets/sparql.97261c23.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"spreadsheet":return j(()=>import("./assets/spreadsheet.82d00fdd.js").then(function(t){return t.s}),["assets/spreadsheet.82d00fdd.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"sql":return j(()=>import("./assets/sql.0a386e3a.js").then(function(t){return t.s}),["assets/sql.0a386e3a.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"stex":return j(()=>import("./assets/stex.548cdc29.js").then(function(t){return t.s}),["assets/stex.548cdc29.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"stylus":return j(()=>import("./assets/stylus.eafb69cf.js").then(function(t){return t.s}),["assets/stylus.eafb69cf.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"swift":return j(()=>import("./assets/swift.2e52740c.js").then(function(t){return t.s}),["assets/swift.2e52740c.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"tcl":return j(()=>import("./assets/tcl.e53cc407.js").then(function(t){return t.t}),["assets/tcl.e53cc407.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"textile":return j(()=>import("./assets/textile.6fa47aff.js").then(function(t){return t.t}),["assets/textile.6fa47aff.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"tiddlywiki":return j(()=>import("./assets/tiddlywiki.fa524efd.js").then(function(t){return t.t}),["assets/tiddlywiki.fa524efd.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"tiki":return j(()=>import("./assets/tiki.5740efcd.js").then(function(t){return t.t}),["assets/tiki.5740efcd.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"toml":return j(()=>import("./assets/toml.063a2ad8.js").then(function(t){return t.t}),["assets/toml.063a2ad8.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"tornado":return j(()=>import("./assets/tornado.858ecf05.js").then(function(t){return t.t}),["assets/tornado.858ecf05.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/htmlmixed.7e3ff200.js","assets/javascript.e2c4d6fd.js","assets/css.aeb96fad.js","assets/overlay.56d3022b.js"]);case"troff":return j(()=>import("./assets/troff.272ecea7.js").then(function(t){return t.t}),["assets/troff.272ecea7.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"ttcn":return j(()=>import("./assets/ttcn.2aed8f7d.js").then(function(t){return t.t}),["assets/ttcn.2aed8f7d.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"ttcn-cfg":return j(()=>import("./assets/ttcn-cfg.c6c1cb29.js").then(function(t){return t.t}),["assets/ttcn-cfg.c6c1cb29.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"turtle":return j(()=>import("./assets/turtle.6667a82d.js").then(function(t){return t.t}),["assets/turtle.6667a82d.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"twig":return j(()=>import("./assets/twig.ed6b9ed7.js").then(function(t){return t.t}),["assets/twig.ed6b9ed7.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/multiplex.317d78e5.js"]);case"vb":return j(()=>import("./assets/vb.c1454dff.js").then(function(t){return t.v}),["assets/vb.c1454dff.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"vbscript":return j(()=>import("./assets/vbscript.428db01c.js").then(function(t){return t.v}),["assets/vbscript.428db01c.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"velocity":return j(()=>import("./assets/velocity.3e30f7b1.js").then(function(t){return t.v}),["assets/velocity.3e30f7b1.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"verilog":return j(()=>import("./assets/verilog.64ec1410.js").then(function(t){return t.v}),["assets/verilog.64ec1410.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"vhdl":return j(()=>import("./assets/vhdl.ced33605.js").then(function(t){return t.v}),["assets/vhdl.ced33605.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"vue":return j(()=>import("./assets/vue.a86895a8.js").then(function(t){return t.v}),["assets/vue.a86895a8.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/overlay.56d3022b.js","assets/javascript.e2c4d6fd.js","assets/coffeescript.23f1d473.js","assets/css.aeb96fad.js","assets/sass.82d78b0d.js","assets/stylus.eafb69cf.js","assets/pug.a5974515.js","assets/htmlmixed.7e3ff200.js","assets/handlebars.775135f1.js","assets/simple.1a0ff72b.js","assets/multiplex.317d78e5.js"]);case"wast":return j(()=>import("./assets/wast.1c1d5324.js").then(function(t){return t.w}),["assets/wast.1c1d5324.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/simple.1a0ff72b.js"]);case"webidl":return j(()=>import("./assets/webidl.b6341879.js").then(function(t){return t.w}),["assets/webidl.b6341879.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"xml":return j(()=>import("./assets/vendor.764dd834.js").then(function(t){return t.x}),["assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"xquery":return j(()=>import("./assets/xquery.bd933661.js").then(function(t){return t.x}),["assets/xquery.bd933661.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"yacas":return j(()=>import("./assets/yacas.6dc91e85.js").then(function(t){return t.y}),["assets/yacas.6dc91e85.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"yaml":return j(()=>import("./assets/yaml.5ff064d1.js").then(function(t){return t.y}),["assets/yaml.5ff064d1.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);case"yaml-frontmatter":return j(()=>import("./assets/yaml-frontmatter.b21a0efb.js").then(function(t){return t.y}),["assets/yaml-frontmatter.b21a0efb.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/yaml.5ff064d1.js"]);case"z80":return j(()=>import("./assets/z80.7c4207dc.js").then(function(t){return t.z}),["assets/z80.7c4207dc.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);default:return Promise.resolve()}}const fK=z({props:{disabled:{type:Boolean,default:!1},value:{type:[String,Object,Array],default:null},altOptions:{type:Object,default:null},template:{type:String,default:null},lineNumber:{type:Boolean,default:!0},lineWrapping:{type:Boolean,default:!1},placeholder:{type:String,default:null},language:{type:String,default:"plaintext"},type:{type:String,default:null}},emits:["input"],setup(e,{emit:t}){const{t:n}=Y(),l=E(null);let i;it(async()=>{l.value&&(await s(f.value),await sr(f.value.mode),i=hn(l.value,Ve(pe({},f.value),{value:u.value})),i.setOption("mode",{name:"javascript "}),await a(),i.on("change",(_,{origin:y})=>{if(y==="setValue")return;const g=_.getValue();if(e.type==="json"){if(g.length===0)return t("input",null);try{t("input",JSON.parse(g))}catch{}}else t("input",g)}))});const u=V(()=>e.value===null?"":typeof e.value=="object"?JSON.stringify(e.value,null,4):e.value);_e(()=>e.language,()=>{a()}),_e(u,()=>{(i==null?void 0:i.getValue())!==u.value&&(i==null||i.setValue(u.value||""))});async function a(){if(i){const _=e.language.toLowerCase();if(e.type==="json"||_==="json"){await j(()=>import("./assets/javascript.e2c4d6fd.js").then(function(g){return g.j}),["assets/javascript.e2c4d6fd.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]);const y=await j(()=>import("./assets/jsonlint.09bf5bab.js").then(function(g){return g.j}),[]);i.setOption("mode",{name:"javascript",json:!0}),hn.registerHelper("lint","json",g=>{const $=[],h=y.parser;if(h.parseError=(k,A)=>{const F=A.loc;$.push({from:hn.Pos(F.first_line-1,F.first_column),to:hn.Pos(F.last_line-1,F.last_column),message:k})},g.length>0)try{y.parse(g)}catch{}return $})}else _==="plaintext"?i.setOption("mode",{name:"plaintext"}):(await sr(_),i.setOption("mode",{name:_}))}}async function s(_){const y=[];_&&_.size>0&&(_.styleActiveLine&&y.push(j(()=>import("./assets/active-line.e11ef347.js").then(function(g){return g.a}),["assets/active-line.e11ef347.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])),_.markSelection&&y.push(j(()=>import("./assets/mark-selection.f76626a4.js").then(function(g){return g.m}),["assets/mark-selection.f76626a4.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])),_.highlightSelectionMatches&&y.push(j(()=>import("./assets/match-highlighter.a84a6cd0.js").then(function(g){return g.m}),["assets/match-highlighter.a84a6cd0.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])),_.autoRefresh&&y.push(j(()=>import("./assets/autorefresh.7ea9d5bb.js").then(function(g){return g.a}),["assets/autorefresh.7ea9d5bb.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])),_.matchBrackets&&y.push(j(()=>import("./assets/vendor.764dd834.js").then(function(g){return g.m}),["assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])),(_.hintOptions||_.showHint)&&(y.push(j(()=>import("./assets/show-hint.4d773b37.js").then(function(g){return g.s}),["assets/show-hint.4d773b37.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"])),y.push(j(()=>Promise.resolve({}),["assets/show-hint.a1d6f238.css"])),y.push(j(()=>import("./assets/javascript-hint.2396559d.js").then(function(g){return g.j}),["assets/javascript-hint.2396559d.js","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css"]))),await Promise.all(y))}const r=V(()=>i?i.lineCount():0),m={tabSize:4,autoRefresh:!0,indentUnit:4,styleActiveLine:!0,highlightSelectionMatches:{showToken:/\w/,annotateScrollbar:!0,delay:100},hintOptions:{completeSingle:!0,hint:()=>{}},matchBrackets:!0,showCursorWhenSelecting:!0,theme:"default",extraKeys:{Ctrl:"autocomplete"},lint:!0,gutters:["CodeMirror-lint-markers"]},f=V(()=>Object.assign({},m,{lineNumbers:e.lineNumber,lineWrapping:e.lineWrapping,readOnly:e.disabled?"nocursor":!1,mode:e.language,placeholder:e.placeholder},e.altOptions?e.altOptions:{}));return _e(()=>e.disabled,_=>{i==null||i.setOption("readOnly",_?"nocursor":!1)},{immediate:!0}),_e(()=>e.altOptions,async _=>{if(!(!_||_.size===0)){await s(_);for(const y in _)i==null||i.setOption(y,_[y])}}),_e(()=>e.lineNumber,_=>{i==null||i.setOption("lineNumbers",_)}),{t:n,cmOptions:f,lineCount:r,codemirrorEl:l,stringValue:u,fillTemplate:v,formatTitle:Ft};function v(){if(e.type==="json")try{t("input",JSON.parse(e.template))}finally{}else t("input",e.template)}}}),vK={ref:"codemirrorEl"};function _K(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-button"),r=Se("tooltip");return p(),I("div",{class:se(["input-code codemirror-custom-styles",{disabled:e.disabled}])},[S("div",vK,null,512),e.template?x((p(),C(s,{key:0,small:"",icon:"",secondary:"",onClick:e.fillTemplate},{default:d(()=>[o(a,{name:"playlist_add"})]),_:1},8,["onClick"])),[[r,e.t("fill_template"),void 0,{left:!0}]]):R("",!0)],2)}var yK=q(fK,[["render",_K],["__scopeId","data-v-022b668a"]]),gK=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="15" width="120" height="66" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="16" width="118" height="64" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="28" y="25" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="45.148" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="55.222" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="65.296" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="35.074" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="42" y="25" width="10" height="6" rx="2" fill="var(--primary)" />
	<rect x="46" y="35" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="46" y="45" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="46" y="55" width="40" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="42" y="65" width="10" height="6" rx="2" fill="var(--primary)" />
</svg>
`;const hK=hn.modeInfo.reduce((e,t)=>["JSON","JSON-LD"].includes(t.name)?(e.JSON="JSON",e):((t.mode==null||t.mode=="null")&&(t.mode="plaintext"),t.mode in e?e[t.mode]+=" / "+t.name:e[t.mode]=t.name,e),{}),bK=Object.entries(hK).map(([e,t])=>({text:t,value:e}));var $K=Me({id:"input-code",name:"$t:interfaces.input-code.code",description:"$t:interfaces.input-code.description",icon:"code",component:yK,types:["string","json","text","geometry"],group:"standard",preview:gK,options:({field:e})=>{const t=[{field:"lineNumber",name:"$t:interfaces.input-code.line_number",type:"boolean",meta:{width:"half",interface:"boolean"},schema:{default_value:!0}},{field:"lineWrapping",name:"$t:interfaces.input-code.line_wrapping",type:"boolean",meta:{width:"half",interface:"boolean"},schema:{default_value:!1}},{field:"template",name:"$t:template",type:"text",meta:{width:"full",interface:"input-code",options:{placeholder:"$t:interfaces.input-code.placeholder"}},schema:{default_value:null}}],n=[{field:"language",name:"$t:language",type:"string",meta:{width:"full",interface:"select-dropdown",options:{choices:bK}}},...t],l=[...t];return(e==null?void 0:e.type)==="json"?l:n}}),wK=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:$K});const kK=z({props:{value:{type:String,default:null},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:null},masked:{type:Boolean,default:!1}},emits:["input"],setup(e,{emit:t}){const{t:n}=Y(),l=E(!1),i=E(null),u=V(()=>l.value?n("value_hashed"):e.placeholder);return _e(()=>e.value,()=>{l.value=!!(e.value&&e.value.length>0)},{immediate:!0}),{internalPlaceholder:u,isHashed:l,localValue:i,emitValue:a};function a(s){t("input",s),i.value=s}}});function SK(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-input");return p(),C(s,{placeholder:e.internalPlaceholder,disabled:e.disabled,type:e.masked?"password":"text","model-value":e.localValue,class:se({hashed:e.isHashed&&!e.localValue}),"onUpdate:modelValue":e.emitValue},{append:d(()=>[o(a,{class:"lock",name:e.isHashed&&!e.localValue?"lock":"lock_open"},null,8,["name"])]),_:1},8,["placeholder","disabled","type","model-value","class","onUpdate:modelValue"])}var CK=q(kK,[["render",SK],["__scopeId","data-v-f5661292"]]),VK=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="35" width="120" height="26" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="36" width="118" height="24" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="28" y="45" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="82" y="45" width="20" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
</svg>
`,FK=Me({id:"input-hash",name:"$t:interfaces.input-hash.hash",description:"$t:interfaces.input-hash.description",icon:"fingerprint",component:CK,types:["hash"],group:"other",preview:VK,options:[{field:"placeholder",name:"$t:placeholder",type:"string",meta:{width:"half",interface:"input",options:{placeholder:"$t:enter_a_placeholder"}}},{field:"masked",name:"$t:interfaces.input-hash.masked",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.input-hash.masked_label"}},schema:{default_value:!1}}]}),AK=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:FK});const IK=z({props:{value:{type:String,default:null},clear:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:null},trim:{type:Boolean,default:!0},font:{type:String,default:"sans-serif"}},emits:["input"]});function EK(e,t,n,l,i,u){const a=c("v-textarea");return p(),C(a,dt({placeholder:e.placeholder,trim:e.trim},{"model-value":e.value,nullable:!e.clear,disabled:e.disabled,class:e.font,"onUpdate:modelValue":t[0]||(t[0]=s=>e.$emit("input",s))}),null,16,["model-value","nullable","disabled","class"])}var DK=q(IK,[["render",EK],["__scopeId","data-v-9aaedf94"]]),TK=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="18" width="120" height="60" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="19" width="118" height="58" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="28" y="28" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="48" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="38" width="40" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="92" y="28" width="30" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="72" y="38" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
</svg>
`,PK=Me({id:"input-multiline",name:"$t:interfaces.input-multiline.textarea",description:"$t:interfaces.input-multiline.description",icon:"text_fields",component:DK,types:["text"],group:"standard",options:[{field:"placeholder",name:"$t:placeholder",type:"string",meta:{width:"full",interface:"input-multiline",options:{placeholder:"$t:enter_a_placeholder"}}},{field:"trim",name:"$t:interfaces.input.trim",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.input.trim_label"}},schema:{default_value:!1}},{field:"font",name:"$t:font",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:sans_serif",value:"sans-serif"},{text:"$t:monospace",value:"monospace"},{text:"$t:serif",value:"serif"}]}},schema:{default_value:"sans-serif"}},{field:"clear",name:"$t:interfaces.input.clear",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.input.clear_label"}},schema:{default_value:!1}}],preview:TK}),OK=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:PK}),LK=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="15" width="120" height="66" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="16" width="118" height="64" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="28" y="25" width="8" height="8" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="42" y="25" width="8" height="8" rx="2" fill="var(--primary)" />
	<rect x="56" y="25" width="8" height="8" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="70" y="25" width="8" height="8" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="84" y="25" width="8" height="8" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="98" y="25" width="8" height="8" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="39" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="59" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="49" width="40" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="92" y="39" width="30" height="6" rx="2" fill="var(--primary)" />
	<rect x="72" y="49" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
</svg>
`;const jK=ma(()=>j(()=>import("./assets/input-rich-text-html.5c9d23de.js"),["assets/input-rich-text-html.5c9d23de.js","assets/input-rich-text-html.f15deff9.css","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/use-sync.03a52ddb.js"]));var RK=Me({id:"input-rich-text-html",name:"$t:interfaces.input-rich-text-html.wysiwyg",description:"$t:interfaces.input-rich-text-html.description",icon:"format_quote",component:jK,types:["text"],group:"standard",preview:LK,options:[{field:"toolbar",name:"$t:interfaces.input-rich-text-html.toolbar",type:"json",schema:{default_value:["bold","italic","underline","removeformat","customLink","bullist","numlist","blockquote","h1","h2","h3","customImage","customMedia","hr","code","fullscreen"]},meta:{width:"half",interface:"select-multiple-dropdown",options:{choices:[{value:"aligncenter",text:"$t:wysiwyg_options.aligncenter"},{value:"alignjustify",text:"$t:wysiwyg_options.alignjustify"},{value:"alignleft",text:"$t:wysiwyg_options.alignleft"},{value:"alignnone",text:"$t:wysiwyg_options.alignnone"},{value:"alignright",text:"$t:wysiwyg_options.alignright"},{value:"forecolor",text:"$t:wysiwyg_options.forecolor"},{value:"backcolor",text:"$t:wysiwyg_options.backcolor"},{value:"bold",text:"$t:wysiwyg_options.bold"},{value:"italic",text:"$t:wysiwyg_options.italic"},{value:"underline",text:"$t:wysiwyg_options.underline"},{value:"strikethrough",text:"$t:wysiwyg_options.strikethrough"},{value:"subscript",text:"$t:wysiwyg_options.subscript"},{value:"superscript",text:"$t:wysiwyg_options.superscript"},{value:"blockquote",text:"$t:wysiwyg_options.blockquote"},{value:"bullist",text:"$t:wysiwyg_options.bullist"},{value:"numlist",text:"$t:wysiwyg_options.numlist"},{value:"hr",text:"$t:wysiwyg_options.hr"},{value:"customLink",text:"$t:wysiwyg_options.link"},{value:"unlink",text:"$t:wysiwyg_options.unlink"},{value:"customMedia",text:"$t:wysiwyg_options.media"},{value:"customImage",text:"$t:wysiwyg_options.image"},{value:"copy",text:"$t:wysiwyg_options.copy"},{value:"cut",text:"$t:wysiwyg_options.cut"},{value:"paste",text:"$t:wysiwyg_options.paste"},{value:"h1",text:"$t:wysiwyg_options.h1"},{value:"h2",text:"$t:wysiwyg_options.h2"},{value:"h3",text:"$t:wysiwyg_options.h3"},{value:"h4",text:"$t:wysiwyg_options.h4"},{value:"h5",text:"$t:wysiwyg_options.h5"},{value:"h6",text:"$t:wysiwyg_options.h6"},{value:"fontselect",text:"$t:wysiwyg_options.fontselect"},{value:"fontsizeselect",text:"$t:wysiwyg_options.fontsizeselect"},{value:"indent",text:"$t:wysiwyg_options.indent"},{value:"outdent",text:"$t:wysiwyg_options.outdent"},{value:"undo",text:"$t:wysiwyg_options.undo"},{value:"redo",text:"$t:wysiwyg_options.redo"},{value:"remove",text:"$t:wysiwyg_options.remove"},{value:"removeformat",text:"$t:wysiwyg_options.removeformat"},{value:"selectall",text:"$t:wysiwyg_options.selectall"},{value:"table",text:"$t:wysiwyg_options.table"},{value:"visualaid",text:"$t:wysiwyg_options.visualaid"},{value:"code",text:"$t:wysiwyg_options.source_code"},{value:"fullscreen",text:"$t:wysiwyg_options.fullscreen"},{value:"ltr rtl",text:"$t:wysiwyg_options.directionality"}]}}},{field:"font",name:"$t:font",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:sans_serif",value:"sans-serif"},{text:"$t:monospace",value:"monospace"},{text:"$t:serif",value:"serif"}]}},schema:{default_value:"sans-serif"}},{field:"customFormats",name:"$t:interfaces.input-rich-text-html.custom_formats",type:"json",meta:{interface:"code",options:{language:"json",template:JSON.stringify([{title:"My Custom Format",inline:"span",classes:"custom-wrapper",styles:{color:"#00ff00","font-size":"20px"},attributes:{title:"My Custom Wrapper"}}],null,4)}}},{field:"tinymceOverrides",name:"$t:interfaces.input-rich-text-html.options_override",type:"json",meta:{interface:"code",options:{language:"json"}}},{field:"imageToken",name:"$t:interfaces.input-rich-text-md.imageToken",type:"string",meta:{note:"$t:interfaces.input-rich-text-md.imageToken_label",width:"full",interface:"input"}}]}),MK=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:RK});const UK={heading(e,{cursorTo:t},n){const l=(n==null?void 0:n.level)||3;let i=e;const u=t,a="#".repeat(l)+" ";return e.startsWith(a)?i=e.substring(a.length):(i=`${a}${e}`,u.ch=u.ch+a.length),{newSelection:i,newCursor:u}},bold(e,{cursorTo:t}){let n=e;const l=t;return e.startsWith("**")&&e.endsWith("**")?n=e.substring(2,e.length-2):(n=`**${e}**`,l.ch=l.ch+2),{newSelection:n,newCursor:l}},italic(e,{cursorTo:t}){let n=e;const l=t;return e.startsWith("*")&&e.endsWith("*")?n=e.substring(1,e.length-1):(n=`*${e}*`,l.ch=l.ch+1),{newSelection:n,newCursor:l}},strikethrough(e,{cursorTo:t}){let n=e;const l=t;return e.startsWith("~~")&&e.endsWith("~~")?n=e.substring(2,e.length-2):(n=`~~${e}~~`,l.ch=l.ch+2),{newSelection:n,newCursor:l}},listBulleted(e,{cursorTo:t}){let n=e;const l=t,i=e.split(`
`);return i.every(a=>a.startsWith("- "))?n=i.map(a=>a.substring(2)).join(`
`):n=i.map(a=>`- ${a}`).join(`
`),e||(l.ch=l.ch+2),{newSelection:n,newCursor:l}},listNumbered(e,{cursorTo:t}){let n=e;const l=t,i=e.split(`
`);return i.every((a,s)=>a.startsWith(`${s+1}.`))?n=i.map(a=>a.substring(3)).join(`
`):n=i.map((a,s)=>`${s+1}. ${a}`).join(`
`),e||(l.ch=l.ch+2),{newSelection:n,newCursor:l}},blockquote(e,{cursorTo:t}){let n=e;const l=t,i=e.split(`
`);return i.every(a=>a.startsWith("> "))?n=i.map(a=>a.substring(2)).join(`
`):n=i.map(a=>`> ${a}`).join(`
`),e||(l.ch=l.ch+2),{newSelection:n,newCursor:l}},code(e,{cursorTo:t}){if(e.includes(`
`)){let n=e;const l=t;return e.startsWith("```")&&e.endsWith("```")?n=e.substring(3,e.length-3):(n="```\n"+n+"\n```",l.line=l.line+1),{newSelection:n,newCursor:l}}else{let n=e;const l=t;return e.startsWith("`")&&e.endsWith("`")?n=e.substring(1,e.length-1):(n=`\`${e}\``,l.ch=l.ch+1),{newSelection:n,newCursor:l}}},link(e,{cursorFrom:t,cursorTo:n}){let l=e;const i=n;let u;return e.endsWith("](url)")?l=e.substring(1,e.length-6):e.startsWith("http")?(l=`[](${e})`,i.ch=t.ch+1):(l=`[${e}](url)`,e?u={from:Ve(pe({},U.exports.cloneDeep(i)),{ch:i.ch+3}),to:Ve(pe({},U.exports.cloneDeep(i)),{ch:i.ch+6})}:i.ch=t.ch+1),{newSelection:l,newCursor:i,highlight:u}},table(e,t,n){if(!n)return{newSelection:e,newCursor:t.cursorFrom};let l="";const i=[];for(let u=0;u<n.columns;u++)i.push("Header");l+=`| ${i.join(" | ")} |`,l+=`
| ${i.map(()=>"------").join(" | ")} |`;for(let u=0;u<n.rows;u++)l+=`
| ${i.map(()=>"Cell").join("   | ")}   |`;return{newSelection:l,newCursor:t.cursorFrom}},custom(e,{cursorTo:t,cursorHead:n},l){if(!l)return{newSelection:e,newCursor:n};if(l.box==="block"){let i=e;const u=t;return e.startsWith(l.prefix)&&e.endsWith(l.suffix)?i=e.substring(l.prefix.length,e.length-l.suffix.length):(i=`${l.prefix}
${i}
${l.suffix}`,u.line=u.line+1),{newSelection:i,newCursor:u}}else{let i=e;const u=t;return e.startsWith(l.prefix)&&e.endsWith(l.suffix)?i=e.substring(1,e.length-1):(i=`${l.prefix}${e}${l.suffix}`,u.ch=u.ch+1),{newSelection:i,newCursor:u}}}};function NK(e,t,n){if(e){const l=e.getCursor("head"),i=e.getCursor("from"),u=e.getCursor("to"),a=e.findWordAt(l),s=e.getRange(a.anchor,a.head).trim(),r=e.getSelection(),{newSelection:m,newCursor:f,highlight:v}=UK[t](r||s,{cursorFrom:U.exports.cloneDeep(r?i:a.anchor),cursorTo:U.exports.cloneDeep(r?u:a.head),cursorHead:l},n);s&&!r?e.replaceRange(m,a.anchor,a.head):e.replaceSelection(m),e.setCursor(f),v&&e.setSelection(v.from,v.to),e.focus()}}const Wo=z({props:{value:{type:String,default:null},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:null},editorFont:{type:String,default:"sans-serif"},previewFont:{type:String,default:"sans-serif"},toolbar:{type:Array,default:()=>["heading","bold","italic","strikethrough","bullist","numlist","blockquote","code","link","table","image","link","empty"]},customSyntax:{type:Array,default:()=>[]},imageToken:{type:String,default:void 0}},emits:["input"],setup(e,{emit:t}){const{t:n}=Y(),l=E(),i=E();let u=null;const a=E(["editor"]),s=E(!1);it(async()=>{i.value&&(u=hn(i.value,{mode:"markdown",configureMouse:()=>({addNew:!1}),lineWrapping:!0,placeholder:e.placeholder,value:e.value||""}),u.on("change",(g,{origin:$})=>{if($==="setValue")return;const h=g.getValue();t("input",h)}))}),_e(()=>e.value,g=>{if(!u)return;u.getValue()!==g&&(u.setValue(""),u.clearHistory(),u.setValue(g!=null?g:""),u.refresh())});const r=V(()=>`var(--family-${e.editorFont})`),m=V(()=>`var(--family-${e.previewFont})`),f=V(()=>{let g=e.value||"";if(!e.imageToken){const $=Da()+"assets/",h=new RegExp(`\\]\\((${Ld($)}[^\\s\\)]*)`,"gm"),k=Array.from(g.matchAll(h));for(const A of k)g=g.replace(A[1],st(A[1]))}return g}),v=Zt({rows:4,columns:4});return nt("meta+b",()=>y("bold"),l),nt("meta+i",()=>y("italic"),l),nt("meta+k",()=>y("link"),l),nt("meta+alt+d",()=>y("strikethrough"),l),nt("meta+alt+q",()=>y("blockquote"),l),nt("meta+alt+c",()=>y("code"),l),nt("meta+alt+1",()=>y("heading",{level:1}),l),nt("meta+alt+2",()=>y("heading",{level:2}),l),nt("meta+alt+3",()=>y("heading",{level:3}),l),nt("meta+alt+4",()=>y("heading",{level:4}),l),nt("meta+alt+5",()=>y("heading",{level:5}),l),nt("meta+alt+6",()=>y("heading",{level:6}),l),{t:n,codemirrorEl:i,edit:y,view:a,markdownString:f,table:v,onImageUpload:_,imageDialogOpen:s,useShortcut:nt,translateShortcut:La,markdownInterface:l,editFamily:r,previewFamily:m};function _(g){if(!u)return;let $=Da()+"assets/"+g.id;e.imageToken&&($+="?access_token="+e.imageToken),u.replaceSelection(`![](${$})`),s.value=!1}function y(g,$){u&&NK(u,g,$)}}}),rr=()=>{Od(e=>({"21b488f2":e.previewFamily,"646bbc9a":e.editFamily}))},dr=Wo.setup;Wo.setup=dr?(e,t)=>(rr(),dr(e,t)):rr;const BK=Wo,qK=e=>(We("data-v-1852c240"),e=e(),Ge(),e),zK={class:"toolbar"},KK={class:"table-options"},HK={class:"field half"},WK={class:"type-label"},GK={class:"field half"},JK={class:"type-label"},QK={class:"field full"},XK=D(" Create "),ZK=qK(()=>S("div",{class:"spacer"},null,-1)),YK={ref:"codemirrorEl"},xK={key:0,class:"preview-box"};function eH(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-button"),r=c("v-text-overflow"),m=c("v-list-item-content"),f=c("v-list-item-hint"),v=c("v-list-item"),_=c("v-list"),y=c("v-menu"),g=c("v-input"),$=c("v-item-group"),h=c("v-card-title"),k=c("v-upload"),A=c("v-card-text"),F=c("v-card-actions"),P=c("v-card"),O=c("v-dialog"),T=Se("tooltip"),N=Se("md");return p(),I("div",{ref:"markdownInterface",class:se(["interface-input-rich-text-md",e.view[0]])},[S("div",zK,[e.view[0]!=="preview"?(p(),I(ie,{key:0},[e.toolbar.includes("heading")?(p(),C(y,{key:0,"show-arrow":"",placement:"bottom-start",class:se([{active:e.view[0]!=="preview"}])},{activator:d(({toggle:L})=>[x(o(s,{small:"",icon:"",onClick:L},{default:d(()=>[o(a,{name:"format_size"})]),_:2},1032,["onClick"]),[[T,e.t("wysiwyg_options.heading")]])]),default:d(()=>[o(_,null,{default:d(()=>[(p(),I(ie,null,he(6,L=>o(v,{key:L,clickable:"",onClick:M=>e.edit("heading",{level:L})},{default:d(()=>[o(m,null,{default:d(()=>[o(r,{text:e.t(`wysiwyg_options.h${L}`)},null,8,["text"])]),_:2},1024),o(f,null,{default:d(()=>[D(b(e.translateShortcut(["meta","alt"]))+" "+b(L),1)]),_:2},1024)]),_:2},1032,["onClick"])),64))]),_:1})]),_:1},8,["class"])):R("",!0),e.toolbar.includes("bold")?x((p(),C(s,{key:1,small:"",icon:"",onClick:t[0]||(t[0]=L=>e.edit("bold"))},{default:d(()=>[o(a,{name:"format_bold"})]),_:1},512)),[[T,e.t("wysiwyg_options.bold")+" - "+e.translateShortcut(["meta","b"])]]):R("",!0),e.toolbar.includes("italic")?x((p(),C(s,{key:2,small:"",icon:"",onClick:t[1]||(t[1]=L=>e.edit("italic"))},{default:d(()=>[o(a,{name:"format_italic"})]),_:1},512)),[[T,e.t("wysiwyg_options.italic")+" - "+e.translateShortcut(["meta","i"])]]):R("",!0),e.toolbar.includes("strikethrough")?x((p(),C(s,{key:3,small:"",icon:"",onClick:t[2]||(t[2]=L=>e.edit("strikethrough"))},{default:d(()=>[o(a,{name:"format_strikethrough"})]),_:1},512)),[[T,e.t("wysiwyg_options.strikethrough")+" - "+e.translateShortcut(["meta","alt","d"])]]):R("",!0),e.toolbar.includes("bullist")?x((p(),C(s,{key:4,small:"",icon:"",onClick:t[3]||(t[3]=L=>e.edit("listBulleted"))},{default:d(()=>[o(a,{name:"format_list_bulleted"})]),_:1},512)),[[T,e.t("wysiwyg_options.bullist")]]):R("",!0),e.toolbar.includes("numlist")?x((p(),C(s,{key:5,small:"",icon:"",onClick:t[4]||(t[4]=L=>e.edit("listNumbered"))},{default:d(()=>[o(a,{name:"format_list_numbered"})]),_:1},512)),[[T,e.t("wysiwyg_options.numlist")]]):R("",!0),e.toolbar.includes("blockquote")?x((p(),C(s,{key:6,small:"",icon:"",onClick:t[5]||(t[5]=L=>e.edit("blockquote"))},{default:d(()=>[o(a,{name:"format_quote"})]),_:1},512)),[[T,e.t("wysiwyg_options.blockquote")+" - "+e.translateShortcut(["meta","alt","q"])]]):R("",!0),e.toolbar.includes("code")?x((p(),C(s,{key:7,small:"",icon:"",onClick:t[6]||(t[6]=L=>e.edit("code"))},{default:d(()=>[o(a,{name:"code"})]),_:1},512)),[[T,e.t("wysiwyg_options.codeblock")+" - "+e.translateShortcut(["meta","alt","c"])]]):R("",!0),e.toolbar.includes("link")?x((p(),C(s,{key:8,small:"",icon:"",onClick:t[7]||(t[7]=L=>e.edit("link"))},{default:d(()=>[o(a,{name:"insert_link"})]),_:1},512)),[[T,e.t("wysiwyg_options.link")+" - "+e.translateShortcut(["meta","k"])]]):R("",!0),e.toolbar.includes("table")?(p(),C(y,{key:9,"show-arrow":"","close-on-content-click":!1},{activator:d(({toggle:L})=>[x(o(s,{small:"",icon:"",onClick:L},{default:d(()=>[o(a,{name:"table_chart"})]),_:2},1032,["onClick"]),[[T,e.t("wysiwyg_options.table")]])]),default:d(({deactivate:L})=>[S("div",KK,[S("div",HK,[S("p",WK,b(e.t("rows")),1),o(g,{modelValue:e.table.rows,"onUpdate:modelValue":t[8]||(t[8]=M=>e.table.rows=M),min:1,type:"number"},null,8,["modelValue"])]),S("div",GK,[S("p",JK,b(e.t("columns")),1),o(g,{modelValue:e.table.columns,"onUpdate:modelValue":t[9]||(t[9]=M=>e.table.columns=M),min:1,type:"number"},null,8,["modelValue"])]),S("div",QK,[o(s,{"full-width":"",onClick:()=>{e.edit("table",e.table),L()}},{default:d(()=>[XK]),_:2},1032,["onClick"])])])]),_:1})):R("",!0),e.toolbar.includes("image")?x((p(),C(s,{key:10,small:"",icon:"",onClick:t[10]||(t[10]=L=>e.imageDialogOpen=!0)},{default:d(()=>[o(a,{name:"insert_photo"})]),_:1},512)),[[T,e.t("wysiwyg_options.image")]]):R("",!0),(p(!0),I(ie,null,he(e.customSyntax,L=>x((p(),C(s,{key:L.name,small:"",icon:"",onClick:M=>e.edit("custom",L)},{default:d(()=>[o(a,{name:L.icon},null,8,["name"])]),_:2},1032,["onClick"])),[[T,L.name]])),128))],64)):R("",!0),ZK,o($,{modelValue:e.view,"onUpdate:modelValue":t[11]||(t[11]=L=>e.view=L),class:"view",mandatory:"",rounded:""},{default:d(()=>[o(s,{"x-small":"",value:"editor",class:se([{active:e.view[0]!=="preview"}])},{default:d(()=>[D(b(e.t("interfaces.input-rich-text-md.edit")),1)]),_:1},8,["class"]),o(s,{"x-small":"",value:"preview",class:se([{active:e.view[0]==="preview"}])},{default:d(()=>[D(b(e.t("interfaces.input-rich-text-md.preview")),1)]),_:1},8,["class"])]),_:1},8,["modelValue"])]),S("div",YK,null,512),e.view[0]==="preview"?x((p(),I("div",xK,null,512)),[[N,e.markdownString]]):R("",!0),o(O,{"model-value":e.imageDialogOpen,onEsc:t[13]||(t[13]=L=>e.imageDialogOpen=null),"onUpdate:modelValue":t[14]||(t[14]=L=>e.imageDialogOpen=null)},{default:d(()=>[o(P,null,{default:d(()=>[o(h,null,{default:d(()=>[D(b(e.t("upload_from_device")),1)]),_:1}),o(A,null,{default:d(()=>[o(k,{"from-url":"","from-library":"",onInput:e.onImageUpload},null,8,["onInput"])]),_:1}),o(F,null,{default:d(()=>[o(s,{secondary:"",onClick:t[12]||(t[12]=L=>e.imageDialogOpen=null)},{default:d(()=>[D(b(e.t("cancel")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])],2)}var tH=q(BK,[["render",eH],["__scopeId","data-v-1852c240"]]),nH=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="15" width="120" height="66" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="16" width="118" height="64" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="28" y="25" width="8" height="8" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="42" y="25" width="8" height="8" rx="2" fill="var(--primary)" />
	<rect x="56" y="25" width="8" height="8" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="70" y="25" width="8" height="8" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="84" y="25" width="8" height="8" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="98" y="25" width="8" height="8" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="39" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="59" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="49" width="40" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="92" y="39" width="30" height="6" rx="2" fill="var(--primary)" />
	<rect x="72" y="49" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
</svg>
`,lH=Me({id:"input-rich-text-md",name:"$t:interfaces.input-rich-text-md.markdown",description:"$t:interfaces.input-rich-text-md.description",icon:"functions",component:tH,types:["text"],group:"standard",preview:nH,options:[{field:"placeholder",name:"$t:placeholder",type:"string",meta:{width:"full",interface:"input-multiline",options:{placeholder:"$t:enter_a_placeholder"}}},{field:"editorFont",name:"$t:interfaces.input-rich-text-md.editorFont",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:sans_serif",value:"sans-serif"},{text:"$t:monospace",value:"monospace"},{text:"$t:serif",value:"serif"}]}},schema:{default_value:"sans-serif"}},{field:"previewFont",name:"$t:interfaces.input-rich-text-md.previewFont",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:sans_serif",value:"sans-serif"},{text:"$t:monospace",value:"monospace"},{text:"$t:serif",value:"serif"}]}},schema:{default_value:"sans-serif"}},{field:"toolbar",name:"$t:interfaces.input-rich-text-html.toolbar",type:"json",schema:{default_value:["heading","bold","italic","strikethrough","bullist","numlist","blockquote","code","link","table","image","empty"]},meta:{width:"half",interface:"select-multiple-dropdown",options:{choices:[{value:"heading",text:"$t:wysiwyg_options.heading"},{value:"bold",text:"$t:wysiwyg_options.bold"},{value:"italic",text:"$t:wysiwyg_options.italic"},{value:"strikethrough",text:"$t:wysiwyg_options.strikethrough"},{value:"blockquote",text:"$t:wysiwyg_options.blockquote"},{value:"bullist",text:"$t:wysiwyg_options.bullist"},{value:"numlist",text:"$t:wysiwyg_options.numlist"},{value:"table",text:"$t:wysiwyg_options.table"},{value:"code",text:"$t:wysiwyg_options.source_code"},{value:"image",text:"$t:wysiwyg_options.image"},{value:"link",text:"$t:wysiwyg_options.link"}]}}},{field:"customSyntax",name:"$t:interfaces.input-rich-text-md.customSyntax",type:"json",meta:{note:"$t:interfaces.input-rich-text-md.customSyntax_label",width:"full",interface:"list",options:{addLabel:"$t:interfaces.input-rich-text-md.customSyntax_add",template:"{{ name }}",fields:[{field:"name",type:"string",name:"$t:name",meta:{interface:"input",width:"half",options:{placeholder:"$t:name",default:null}}},{field:"icon",type:"string",name:"$t:icon",meta:{interface:"select-icon",width:"half"}},{field:"prefix",type:"string",name:"$t:prefix",meta:{interface:"input",width:"half",options:{placeholder:"$t:prefix",default:null}}},{field:"suffix",type:"string",name:"$t:suffix",meta:{interface:"input",width:"half",options:{placeholder:"$t:suffix",default:null}}},{field:"box",type:"string",name:"$t:interfaces.input-rich-text-md.box",meta:{interface:"select-radio",width:"half",options:{choices:[{text:"$t:inline",value:"inline"},{text:"$t:block",value:"block"}]}},schema:{default_value:"inline"}}]}}},{field:"imageToken",name:"$t:interfaces.input-rich-text-md.imageToken",type:"string",meta:{note:"$t:interfaces.input-rich-text-md.imageToken_label",width:"full",interface:"input"}}]}),oH=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:lH});const aH=z({components:{Draggable:Ct},props:{value:{type:Array,default:null},fields:{type:Array,default:()=>[]},template:{type:String,default:null},addLabel:{type:String,default:()=>qe.global.t("create_new")},limit:{type:Number,default:null},disabled:{type:Boolean,default:!1},headerPlaceholder:{type:String,default:()=>qe.global.t("empty_item")},collection:{type:String,default:null},placeholder:{type:String,default:()=>qe.global.t("no_items")}},emits:["input"],setup(e,{emit:t}){const{t:n}=Y(),l=E(null),i=V(()=>l.value!==null),{value:u}=Re(e),a=V(()=>{var B,K;return((K=(B=e.fields)==null?void 0:B[0])==null?void 0:K.field)?e.template||`{{${e.fields[0].field}}}`:""}),s=V(()=>e.disabled?!1:!!(e.value===null||e.limit===null||Array.isArray(e.value)&&e.value.length<e.limit)),r=V(()=>l.value!==null?y.value:null),{displayValue:m}=ja(a,r),f=V(()=>{var K,W;const B={};for(const le of e.fields)((K=le.schema)==null?void 0:K.default_value)!==void 0&&((W=le.schema)==null?void 0:W.default_value)!==null&&(B[le.field]=le.schema.default_value);return B}),v=V(()=>{var B;return(B=e.fields)==null?void 0:B.map(K=>{var W;return Ve(pe({},K),{name:Ft((W=K.name)!=null?W:K.field)})})}),_=E(!1),y=E({}),g=E(!1);return{t:n,updateValues:P,removeItem:O,addNew:T,showAddNew:s,hideDragImage:Bt,active:l,drawerOpen:i,displayValue:m,activeItem:r,closeDrawer:M,onSort:L,templateWithDefaults:a,defaults:f,fieldsWithNames:v,isNewItem:_,edits:y,confirmDiscard:g,openItem:$,saveItem:h,trackEdits:k,checkDiscard:A,discardAndLeave:F};function $(B){_.value=!1,y.value=pe({},e.value[B]),l.value=B}function h(B){_.value=!1,P(B,y.value),M()}function k(B){const K=Object.assign({},f.value,B);Object.assign(y.value,K)}function A(){l.value!==null&&!U.exports.isEqual(y.value,e.value[l.value])?g.value=!0:M()}function F(){M(),g.value=!1}function P(B,K){N(e.value.map((W,le)=>le===B?K:W))}function O(B){u.value?N(e.value.filter(K=>K!==B)):N(null)}function T(){_.value=!0;const B={};e.fields.forEach(K=>{var W;B[K.field]=(W=K.schema)==null?void 0:W.default_value}),e.value!==null?N([...e.value,B]):N([B]),y.value=pe({},B),l.value=(e.value||[]).length}function N(B){return!B||B.length===0?t("input",null):t("input",B)}function L(B){return B===null||B.length===0?t("input",null):t("input",B)}function M(){_.value&&N(e.value.slice(0,-1)),y.value={},l.value=null}}}),iH=e=>(We("data-v-db4d11ba"),e=e(),Ge(),e),sH={class:"repeater"},rH=iH(()=>S("div",{class:"spacer"},null,-1)),dH={class:"type-title"},uH={class:"drawer-item-content"};function cH(e,t,n,l,i,u){const a=c("v-notice"),s=c("v-icon"),r=c("render-template"),m=c("v-list-item"),f=c("draggable"),v=c("v-list"),_=c("v-button"),y=c("v-form"),g=c("v-drawer"),$=c("v-card-title"),h=c("v-card-text"),k=c("v-card-actions"),A=c("v-card"),F=c("v-dialog"),P=Se("tooltip");return p(),I("div",sH,[!e.value||e.value.length===0?(p(),C(a,{key:0},{default:d(()=>[D(b(e.placeholder),1)]),_:1})):R("",!0),e.value&&e.value.length>0?(p(),C(v,{key:1},{default:d(()=>[o(f,{disabled:e.disabled,"force-fallback":!0,"model-value":e.value,"item-key":"id",handle:".drag-handle","onUpdate:modelValue":t[1]||(t[1]=O=>e.$emit("input",O))},{item:d(({element:O,index:T})=>[o(m,{dense:e.value.length>4,block:"",onClick:N=>e.openItem(T)},{default:d(()=>[e.disabled?R("",!0):(p(),C(s,{key:0,name:"drag_handle",class:"drag-handle",left:"",onClick:t[0]||(t[0]=Fe(()=>{},["stop"]))})),o(r,{fields:e.fields,item:pe(pe({},e.defaults),O),template:e.templateWithDefaults},null,8,["fields","item","template"]),rH,e.disabled?R("",!0):(p(),C(s,{key:1,name:"close",onClick:Fe(N=>e.removeItem(O),["stop"])},null,8,["onClick"]))]),_:2},1032,["dense","onClick"])]),_:1},8,["disabled","model-value"])]),_:1})):R("",!0),e.showAddNew?(p(),C(_,{key:2,class:"add-new",onClick:e.addNew},{default:d(()=>[D(b(e.addLabel),1)]),_:1},8,["onClick"])):R("",!0),o(g,{"model-value":e.drawerOpen,title:e.displayValue||e.headerPlaceholder,persistent:"","onUpdate:modelValue":t[4]||(t[4]=O=>e.checkDiscard()),onCancel:t[5]||(t[5]=O=>e.checkDiscard())},{title:d(()=>[S("h1",dH,[o(r,{fields:e.fields,item:e.activeItem,template:e.templateWithDefaults},null,8,["fields","item","template"])])]),actions:d(()=>[x(o(_,{icon:"",rounded:"",onClick:t[2]||(t[2]=O=>e.saveItem(e.active))},{default:d(()=>[o(s,{name:"check"})]),_:1},512),[[P,e.t("save"),void 0,{bottom:!0}]])]),default:d(()=>[S("div",uH,[o(y,{disabled:e.disabled,fields:e.fieldsWithNames,"model-value":e.activeItem,"primary-key":"+","onUpdate:modelValue":t[3]||(t[3]=O=>e.trackEdits(O))},null,8,["disabled","fields","model-value"])])]),_:1},8,["model-value","title"]),o(F,{modelValue:e.confirmDiscard,"onUpdate:modelValue":t[8]||(t[8]=O=>e.confirmDiscard=O),onEsc:t[9]||(t[9]=O=>e.confirmDiscard=!1)},{default:d(()=>[o(A,null,{default:d(()=>[o($,null,{default:d(()=>[D(b(e.t("unsaved_changes")),1)]),_:1}),o(h,null,{default:d(()=>[D(b(e.t("unsaved_changes_copy")),1)]),_:1}),o(k,null,{default:d(()=>[o(_,{secondary:"",onClick:t[6]||(t[6]=O=>e.discardAndLeave())},{default:d(()=>[D(b(e.t("discard_changes")),1)]),_:1}),o(_,{onClick:t[7]||(t[7]=O=>e.confirmDiscard=!1)},{default:d(()=>[D(b(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}var ur=q(aH,[["render",cH],["__scopeId","data-v-db4d11ba"]]);const pH=z({components:{Repeater:ur},props:{value:{type:Object,default:null}},emits:["input"],setup(e,{emit:t}){const{t:n}=Y(),l=V({get(){var s,r;return(r=(s=e.value)==null?void 0:s.fields)==null?void 0:r.map(m=>m.meta)},set(s){const r=(s||[]).map(m=>({field:m.field,name:m.name||m.field,type:m.type,meta:m}));t("input",Ve(pe({},e.value||{}),{fields:r}))}}),i=[{name:n("field",1),field:"field",type:"string",meta:{interface:"input",width:"half",sort:2,options:{dbSafe:!0,font:"monospace",placeholder:n("interfaces.list.field_name_placeholder")}},schema:null},{name:n("field_width"),field:"width",type:"string",meta:{interface:"select-dropdown",width:"half",sort:3,options:{choices:[{value:"half",text:n("half_width")},{value:"full",text:n("full_width")}]}},schema:null},{name:n("type"),field:"type",type:"string",meta:{interface:"select-dropdown",width:"half",sort:4,options:{choices:Vt(Jw)}},schema:null},{name:n("interface_label"),field:"interface",type:"string",meta:{interface:"system-interface",width:"half",sort:5,options:{typeField:"type"}},schema:null},{name:n("note"),field:"note",type:"string",meta:{interface:"input",width:"full",sort:6,options:{placeholder:n("interfaces.list.field_note_placeholder")}},schema:null},{name:n("options"),field:"options",type:"string",meta:{interface:"system-interface-options",width:"full",sort:7,options:{interfaceField:"interface"}}}],u=V({get(){var s;return(s=e.value)==null?void 0:s.template},set(s){t("input",Ve(pe({},e.value||{}),{template:s}))}}),a=V({get(){var s;return(s=e.value)==null?void 0:s.addLabel},set(s){t("input",Ve(pe({},e.value||{}),{addLabel:s}))}});return{t:n,repeaterValue:l,repeaterFields:i,template:u,addLabel:a}}}),mH={class:"grid"},fH={class:"grid-element half"},vH={class:"type-label"},_H={class:"grid-element half"},yH={class:"type-label"},gH={class:"grid-element full"},hH={class:"type-label"};function bH(e,t,n,l,i,u){const a=c("v-input"),s=c("repeater");return p(),I("div",mH,[S("div",fH,[S("p",vH,b(e.t("template")),1),o(a,{modelValue:e.template,"onUpdate:modelValue":t[0]||(t[0]=r=>e.template=r),class:"input",placeholder:"{{ field }}"},null,8,["modelValue"])]),S("div",_H,[S("p",yH,b(e.t("interfaces.list.add_label")),1),o(a,{modelValue:e.addLabel,"onUpdate:modelValue":t[1]||(t[1]=r=>e.addLabel=r),class:"input",placeholder:e.t("create_new")},null,8,["modelValue","placeholder"])]),S("div",gH,[S("p",hH,b(e.t("interfaces.list.edit_fields")),1),o(s,{value:e.repeaterValue,template:"{{ field }} \u2014 {{ interface }}",fields:e.repeaterFields,onInput:t[2]||(t[2]=r=>e.repeaterValue=r)},null,8,["value","fields"])])])}var $H=q(pH,[["render",bH],["__scopeId","data-v-5bedb58b"]]),wH=`<svg width="156" height="96" viewBox="0 0 156 96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18.4443" y="9" width="120" height="22" rx="6" fill="var(--background-page)" />
	<rect x="19.4443" y="10" width="118" height="20" rx="5" stroke="var(--primary)" stroke-opacity="0.25"
		stroke-width="2" />
	<rect x="46" y="17" width="10" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="60" y="17" width="40" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path opacity="0.5" d="M38 18H28V19.2691H38V18ZM28 21.7778H38V20.5087H28V21.7778Z" fill="var(--primary)" />
	<rect x="18" y="65" width="120" height="22" rx="6" fill="var(--background-page)" />
	<rect x="19" y="66" width="118" height="20" rx="5" stroke="var(--primary)" stroke-opacity="0.25" stroke-width="2" />
	<rect x="46" y="73" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path opacity="0.5" d="M38 74H28V75.2691H38V74ZM28 77.7778H38V76.5087H28V77.7778Z" fill="var(--primary)" />
	<rect x="18" y="37" width="120" height="22" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="38" width="118" height="20" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="46" y="45" width="30" height="6" rx="2" fill="var(--primary)" />
	<rect x="80" y="45" width="10" height="6" rx="2" fill="var(--primary)" />
	<path d="M38 46H28V47.2691H38V46ZM28 49.7778H38V48.5087H28V49.7778Z" fill="var(--primary)" />
	<path
		d="M127.074 52.0742H118.926V43.9258H123V42.75H118.926C118.27 42.75 117.75 43.2695 117.75 43.9258V52.0742C117.75 52.7305 118.27 53.25 118.926 53.25H127.074C127.73 53.25 128.25 52.7305 128.25 52.0742V48H127.074V52.0742ZM124.176 42.75V43.9258H126.254L120.539 49.6406L121.359 50.4609L127.074 44.7461V46.8242H128.25V42.75H124.176Z"
		fill="var(--primary)" />
</svg>
`,kH=Me({id:"list",name:"$t:interfaces.list.repeater",description:"$t:interfaces.list.description",icon:"replay",component:ur,types:["json"],group:"selection",options:$H,preview:wH}),SH=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:kH});const CH=z({components:{DrawerCollection:Qt,DrawerItem:qt,Draggable:Ct},props:{collection:{type:String,required:!0},field:{type:String,required:!0},value:{type:Array,default:null},disabled:{type:Boolean,default:!1},primaryKey:{type:[String,Number],required:!0},enableCreate:{type:Boolean,default:!0},enableSelect:{type:Boolean,default:!0}},emits:["input"],setup(e,{emit:t}){const{t:n}=Y(),l=ut(),i=Pe(),u=Ke(),{o2mRelation:a,anyRelation:s,allowedCollections:r,o2mRelationPrimaryKeyField:m}=le(),{fetchValues:f,previewValues:v,loading:_,junctionRowMap:y,relatedItemValues:g}=Q(),{collections:$,templates:h,primaryKeys:k}=G(),{selectingFrom:A,stageSelection:F,deselect:P}=fe(),{currentlyEditing:O,relatedPrimaryKey:T,editsAtStart:N,stageEdits:L,cancelEdit:M,editExisting:B,createNew:K}=ue(),{onSort:W}=ne();return _e(e,f,{immediate:!0,deep:!0}),{t:n,previewValues:v,collections:$,selectingFrom:A,stageSelection:F,templates:h,o2mRelation:a,anyRelation:s,currentlyEditing:O,relatedPrimaryKey:T,editsAtStart:N,stageEdits:L,cancelEdit:M,editExisting:B,createNew:K,previewLoading:_,deselect:P,relatedItemValues:g,hideDragImage:Bt,onSort:W,allowedCollections:r};function le(){const ee=V(()=>l.getRelationsForField(e.collection,e.field)),de=V(()=>ee.value.find(X=>X.related_collection!==null)),ce=V(()=>ee.value.find(X=>X.related_collection===null)),H=V(()=>i.getPrimaryKeyFieldForCollection(de.value.collection).field),Z=V(()=>ce.value.meta.one_allowed_collections);return{relationsForField:ee,o2mRelation:de,anyRelation:ce,allowedCollections:Z,o2mRelationPrimaryKeyField:H}}function G(){const ee=V(()=>{const H={},Z=r.value.map(X=>u.getCollection(X)).filter(X=>X);for(const X of Z)H[X.collection]=X;return H}),de=V(()=>{const H={};for(const Z of Object.values(ee.value))H[Z.collection]=i.getPrimaryKeyFieldForCollection(Z.collection).field;return H}),ce=V(()=>{var Z;const H={};for(const X of Object.values(ee.value)){const te=i.getPrimaryKeyFieldForCollection(X.collection);H[X.collection]=((Z=X.meta)==null?void 0:Z.display_template)||`{{${te.field}}}`}return H});return{collections:ee,primaryKeys:de,templates:ce}}function Q(){const ee=E(!1),de=E({}),ce=E(),H=V(()=>{var te,ve;if(ce.value===void 0)return[];const X=U.exports.cloneDeep(e.value||[]).map((J,oe)=>{const ae=U.exports.isPlainObject(J)?J[m.value]:J,me=(ce.value||[]).find(ge=>ge[m.value]===ae);return U.exports.isPlainObject(J)?Ve(pe(pe({},me),J),{$index:oe}):me===void 0?null:Ve(pe({},me),{$index:oe})}).filter(J=>J).map(J=>{var ge;const oe=J[s.value.meta.one_collection_field],ae=U.exports.isPlainObject(J[s.value.field])?J[s.value.field][k.value[oe]]:J[s.value.field],me=(ge=de.value[oe])==null?void 0:ge.find($e=>$e[k.value[oe]]==ae);return ae&&me&&(U.exports.isPlainObject(J[s.value.field])?J[s.value.field]=pe(pe({},me),J[s.value.field]):J[s.value.field]=U.exports.cloneDeep(me)),J});return((ve=(te=a.value)==null?void 0:te.meta)==null?void 0:ve.sort_field)?[...X.filter(J=>a.value.meta.sort_field in J).sort((J,oe)=>J[a.value.meta.sort_field]-oe[a.value.meta.sort_field]),...X.filter(J=>!(a.value.meta.sort_field in J)).sort((J,oe)=>J.$index-oe.$index)]:[...X.sort((J,oe)=>J.$index-oe.$index)]});return{fetchValues:Z,previewValues:H,loading:ee,junctionRowMap:ce,relatedItemValues:de};async function Z(){var X;if(e.value!==null){ee.value=!0;try{const te=[],ve={};for(const oe of Object.values($.value))ve[oe.collection]=[];for(const oe of e.value||[])if(typeof oe=="string"||typeof oe=="number")te.push(oe);else if(!(s.value.meta.one_collection_field in oe))te.push(oe[m.value]);else{const ae=oe[s.value.meta.one_collection_field],me=k.value[ae],ge=U.exports.isPlainObject(oe[s.value.field])?oe[s.value.field][me]:oe[s.value.field];ge&&ve[ae].push(ge)}if(te.length>0){const oe=await re.get(`/items/${a.value.collection}`,{params:{filter:{[m.value]:{_in:te}},fields:[m.value,s.value.field,s.value.meta.one_collection_field,(X=a.value.meta)==null?void 0:X.sort_field]}});for(const ae of oe.data.data){const me=ae[s.value.meta.one_collection_field];me in ve&&ve[me].push(ae[s.value.field])}ce.value=oe.data.data}else ce.value=[];const J=await Promise.all(Object.entries(ve).map(([oe,ae])=>{if(ae.length===0)return Promise.resolve({data:{data:[]}});const me=yt(h.value[oe]);return me.includes(k.value[oe])===!1&&me.push(k.value[oe]),re.get(Gt(oe),{params:{filter:{[k.value[oe]]:{_in:ae}},fields:me}})}));de.value||(de.value={});for(let oe=0;oe<Object.keys(ve).length;oe++){const ae=Object.keys(ve)[oe];de.value=Ve(pe({},de.value),{[ae]:J[oe].data.data})}}catch(te){Ce(te)}finally{ee.value=!1}}}}function fe(){const ee=E(null);return{selectingFrom:ee,stageSelection:de,deselect:ce};function de(H){const{field:Z}=s.value,X=s.value.meta.one_collection_field,te=e.value||[],ve=H.map(J=>({[X]:ee.value,[Z]:J}));t("input",[...te,...ve])}function ce(H){t("input",(e.value||[]).filter(Z=>Z!==H))}}function ue(){const ee=E(null),de=E(null),ce=E({});return{currentlyEditing:ee,relatedPrimaryKey:de,editsAtStart:ce,stageEdits:H,cancelEdit:Z,editExisting:X,createNew:te};function H(ve){const J=e.value||[],oe=J.includes(ce.value)||J.includes(ee.value);ee.value==="+"&&de.value==="+"&&oe===!1?t("input",[...J,ve]):t("input",J.map(me=>me===ce.value||me==ee.value?ve:me))}function Z(){ee.value=null,de.value=null,ce.value={}}function X(ve){var me,ge,$e;if(typeof ve=="string"||typeof ve=="number"){const ke=(y.value||[]).find(Ne=>Ne[m.value]==ve),Ae=ke[s.value.meta.one_collection_field],De=U.exports.isPlainObject(ke[s.value.field])?ke[s.value.field][k.value[Ae]]:ke[s.value.field];ce.value={[m.value]:ve,[s.value.meta.one_collection_field]:Ae,[s.value.field]:{[k.value[Ae]]:De}},((me=a.value.meta)==null?void 0:me.sort_field)&&(ce.value[(ge=a.value.meta)==null?void 0:ge.sort_field]=ke[($e=a.value.meta)==null?void 0:$e.sort_field]),de.value=De||"+",ee.value=ve;return}const J=ve[m.value],oe=ve[s.value.meta.one_collection_field];let ae=ve[s.value.field];U.exports.isPlainObject(ae)&&(ae=ve[s.value.field][k.value[oe]]),ce.value=ve,de.value=ae||"+",ee.value=J||"+"}function te(ve){var oe,ae;const J={[s.value.meta.one_collection_field]:ve,[s.value.field]:{}};if(v.value&&((ae=(oe=a.value)==null?void 0:oe.meta)==null?void 0:ae.sort_field)){const me=Math.max(-1,...v.value.map(ge=>ge[a.value.meta.sort_field]));J[a.value.meta.sort_field]=me+1}ce.value=J,de.value="+",ee.value="+"}}function ne(){return{onSort:ee};function ee(de){t("input",e.value.map((ce,H)=>{var X,te,ve;if(!((X=a.value.meta)==null?void 0:X.sort_field))return ce;const Z=de.findIndex(J=>J.$index===H);return U.exports.isPlainObject(ce)?Ve(pe({},ce),{[(te=a.value.meta)==null?void 0:te.sort_field]:Z+1}):Ve(pe({},de[Z]),{[m.value]:ce,[(ve=a.value.meta)==null?void 0:ve.sort_field]:Z+1})}))}}}}),cr=e=>(We("data-v-01bcb041"),e=e(),Ge(),e),VH={class:"m2a-builder"},FH={key:0,class:"loader"},AH={class:"collection"},IH={key:1},EH=cr(()=>S("div",{class:"spacer"},null,-1)),DH=cr(()=>S("div",{class:"spacer"},null,-1)),TH={class:"buttons"};function PH(e,t,n,l,i,u){const a=c("v-skeleton-loader"),s=c("v-notice"),r=c("v-icon"),m=c("render-template"),f=c("v-list-item"),v=c("draggable"),_=c("v-list"),y=c("v-button"),g=c("v-list-item-icon"),$=c("v-text-overflow"),h=c("v-menu"),k=c("drawer-collection"),A=c("drawer-item");return p(),I("div",VH,[e.previewLoading&&!e.previewValues?(p(),I("div",FH,[(p(!0),I(ie,null,he((e.value||[]).length,F=>(p(),C(a,{key:F}))),128))])):(p(),C(_,{key:1},{default:d(()=>[e.previewValues.length===0?(p(),C(s,{key:0},{default:d(()=>[D(b(e.t("no_items")),1)]),_:1})):R("",!0),o(v,{"force-fallback":!0,"model-value":e.previewValues,"item-key":"$index","set-data":e.hideDragImage,disabled:!e.o2mRelation.meta||!e.o2mRelation.meta.sort_field,"onUpdate:modelValue":e.onSort},{item:d(({element:F})=>[e.allowedCollections.includes(F[e.anyRelation.meta.one_collection_field])?(p(),C(f,{key:0,block:"",dense:e.previewValues.length>4,clickable:"",onClick:P=>e.editExisting((e.value||[])[F.$index])},{default:d(()=>[e.o2mRelation.meta&&e.o2mRelation.meta.sort_field?(p(),C(r,{key:0,class:"drag-handle",left:"",name:"drag_handle",onClick:t[0]||(t[0]=Fe(()=>{},["stop"]))})):R("",!0),S("span",AH,b(e.collections[F[e.anyRelation.meta.one_collection_field]].name)+":",1),typeof F[e.anyRelation.field]=="number"||typeof F[e.anyRelation.field]=="string"?(p(),I("span",IH,b(F[e.anyRelation.field]),1)):(p(),C(m,{key:2,collection:F[e.anyRelation.meta.one_collection_field],template:e.templates[F[e.anyRelation.meta.one_collection_field]],item:F[e.anyRelation.field]},null,8,["collection","template","item"])),EH,e.disabled?R("",!0):(p(),C(r,{key:3,class:"clear-icon",name:"clear",onClick:Fe(P=>e.deselect((e.value||[])[F.$index]),["stop"])},null,8,["onClick"]))]),_:2},1032,["dense","onClick"])):(p(),C(f,{key:1,block:""},{default:d(()=>[o(r,{class:"invalid-icon",name:"warning",left:""}),S("span",null,b(e.t("invalid_item")),1),DH,e.disabled?R("",!0):(p(),C(r,{key:0,class:"clear-icon",name:"clear",onClick:Fe(P=>e.deselect((e.value||[])[F.$index]),["stop"])},null,8,["onClick"]))]),_:2},1024))]),_:1},8,["model-value","set-data","disabled","onUpdate:modelValue"])]),_:1})),S("div",TH,[e.enableCreate?(p(),C(h,{key:0,"show-arrow":""},{activator:d(({toggle:F})=>[o(y,{onClick:F},{default:d(()=>[D(b(e.t("create_new"))+" ",1),o(r,{name:"arrow_drop_down",right:""})]),_:2},1032,["onClick"])]),default:d(()=>[o(_,null,{default:d(()=>[(p(!0),I(ie,null,he(e.collections,F=>(p(),C(f,{key:F.collection,clickable:"",onClick:P=>e.createNew(F.collection)},{default:d(()=>[o(g,null,{default:d(()=>[o(r,{name:F.icon},null,8,["name"])]),_:2},1024),o($,{text:F.name},null,8,["text"])]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})):R("",!0),e.enableSelect?(p(),C(h,{key:1,"show-arrow":""},{activator:d(({toggle:F})=>[o(y,{class:"existing",onClick:F},{default:d(()=>[D(b(e.t("add_existing"))+" ",1),o(r,{name:"arrow_drop_down",right:""})]),_:2},1032,["onClick"])]),default:d(()=>[o(_,null,{default:d(()=>[(p(!0),I(ie,null,he(e.collections,F=>(p(),C(f,{key:F.collection,clickable:"",onClick:P=>e.selectingFrom=F.collection},{default:d(()=>[o(g,null,{default:d(()=>[o(r,{name:F.icon},null,8,["name"])]),_:2},1024),o($,{text:F.name},null,8,["text"])]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})):R("",!0)]),!e.disabled&&!!e.selectingFrom?(p(),C(k,{key:2,multiple:"",active:!!e.selectingFrom,collection:e.selectingFrom,selection:[],onInput:e.stageSelection,"onUpdate:active":t[1]||(t[1]=F=>e.selectingFrom=null)},null,8,["active","collection","onInput"])):R("",!0),e.disabled?R("",!0):(p(),C(A,{key:3,active:!!e.currentlyEditing,collection:e.o2mRelation.collection,"primary-key":e.currentlyEditing||"+","related-primary-key":e.relatedPrimaryKey||"+","junction-field":e.o2mRelation.meta.junction_field,edits:e.editsAtStart,"circular-field":e.o2mRelation.field,onInput:e.stageEdits,"onUpdate:active":e.cancelEdit},null,8,["active","collection","primary-key","related-primary-key","junction-field","edits","circular-field","onInput","onUpdate:active"]))])}var OH=q(CH,[["render",PH],["__scopeId","data-v-01bcb041"]]),LH=`<svg width="156" height="96" viewBox="0 0 156 96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18.4443" y="9" width="120" height="22" rx="6" fill="var(--background-page)" />
	<rect x="19.4443" y="10" width="118" height="20" rx="5" stroke="var(--primary)" stroke-opacity="0.25"
		stroke-width="2" />
	<rect x="46" y="17" width="10" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="60" y="17" width="40" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path opacity="0.5" d="M38 18H28V19.2691H38V18ZM28 21.7778H38V20.5087H28V21.7778Z" fill="var(--primary)" />
	<rect x="18" y="65" width="120" height="22" rx="6" fill="var(--background-page)" />
	<rect x="19" y="66" width="118" height="20" rx="5" stroke="var(--primary)" stroke-opacity="0.25" stroke-width="2" />
	<rect x="46" y="73" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path opacity="0.5" d="M38 74H28V75.2691H38V74ZM28 77.7778H38V76.5087H28V77.7778Z" fill="var(--primary)" />
	<rect x="18" y="37" width="120" height="22" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="38" width="118" height="20" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="46" y="45" width="30" height="6" rx="2" fill="var(--primary)" />
	<rect x="80" y="45" width="10" height="6" rx="2" fill="var(--primary)" />
	<path d="M38 46H28V47.2691H38V46ZM28 49.7778H38V48.5087H28V49.7778Z" fill="var(--primary)" />
	<path
		d="M127.074 52.0742H118.926V43.9258H123V42.75H118.926C118.27 42.75 117.75 43.2695 117.75 43.9258V52.0742C117.75 52.7305 118.27 53.25 118.926 53.25H127.074C127.73 53.25 128.25 52.7305 128.25 52.0742V48H127.074V52.0742ZM124.176 42.75V43.9258H126.254L120.539 49.6406L121.359 50.4609L127.074 44.7461V46.8242H128.25V42.75H124.176Z"
		fill="var(--primary)" />
</svg>
`,jH=Me({id:"list-m2a",name:"$t:list-m2a",icon:"note_add",component:OH,relational:!0,types:["alias"],localTypes:["m2a"],group:"relational",options:[{field:"enableSelect",name:"$t:selecting_items",schema:{default_value:!0},meta:{interface:"boolean",options:{label:"$t:enable_select_button"},width:"half"}},{field:"enableCreate",name:"$t:creating_items",schema:{default_value:!0},meta:{interface:"boolean",options:{label:"$t:enable_create_button"},width:"half"}}],preview:LH}),RH=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:jH});const MH=z({components:{DrawerItem:qt,DrawerCollection:Qt,Draggable:Ct},props:{value:{type:Array,default:null},primaryKey:{type:[Number,String],required:!0},collection:{type:String,required:!0},field:{type:String,required:!0},template:{type:String,default:null},disabled:{type:Boolean,default:!1},enableCreate:{type:Boolean,default:!0},enableSelect:{type:Boolean,default:!0}},emits:["input"],setup(e,{emit:t}){const{t:n}=Y(),{value:l,collection:i,field:u}=Re(e),{junction:a,junctionCollection:s,relation:r,relationCollection:m,relationInfo:f}=Pl(i,u),v=V(()=>{var Z,X;if(e.template)return e.template;if((Z=s.value.meta)==null?void 0:Z.display_template)return s.value.meta.display_template;let H=(X=m.value.meta)==null?void 0:X.display_template;if(H){const te=/({{.*?}})/g,ve=H.split(te).filter(J=>J);for(const J of ve){if(J.startsWith("{{")===!1)continue;const oe=J.replace(/{{/g,"").replace(/}}/g,"").trim(),ae=`{{${r.value.field}.${oe}}}`;H=H.replace(J,ae)}return H}return`{{${r.value.field}.${f.value.relationPkField}}}`}),_=V(()=>Xt(yt(v.value),s.value.collection)),{deleteItem:y,getUpdatedItems:g,getNewItems:$,getPrimaryKeys:h,getNewSelectedItems:k}=er(l,f,ce),{tableHeaders:A,items:F,initialItems:P,loading:O}=nr(l,_,f,k,g,$,h),{currentlyEditing:T,editItem:N,editsAtStart:L,stageEdits:M,cancelEdit:B,relatedPrimaryKey:K,editModalActive:W}=lr(l,f,ce),{stageSelection:le,selectModalActive:G,selectedPrimaryKeys:Q}=or(F,P,f,ce),{sort:fe,sortItems:ue,sortedItems:ne}=ar(f,_,F,ce),{createAllowed:ee,selectAllowed:de}=ir(s,m);return{t:n,junction:a,relation:r,tableHeaders:A,loading:O,currentlyEditing:T,editItem:N,junctionCollection:s,relationCollection:m,editsAtStart:L,stageEdits:M,cancelEdit:B,stageSelection:le,selectModalActive:G,deleteItem:y,selectedPrimaryKeys:Q,items:F,relationInfo:f,relatedPrimaryKey:K,get:U.exports.get,editModalActive:W,sort:fe,sortItems:ue,sortedItems:ne,templateWithDefaults:v,createAllowed:ee,selectAllowed:de};function ce(H){t("input",H)}}}),UH=e=>(We("data-v-f90dc504"),e=e(),Ge(),e),NH={key:1,class:"many-to-many"},BH=UH(()=>S("div",{class:"spacer"},null,-1)),qH={key:3,class:"actions"};function zH(e,t,n,l,i,u){const a=c("v-notice"),s=c("v-skeleton-loader"),r=c("v-icon"),m=c("render-template"),f=c("v-list-item"),v=c("draggable"),_=c("v-list"),y=c("v-button"),g=c("drawer-item"),$=c("drawer-collection");return!e.junction||!e.relation?(p(),C(a,{key:0,type:"warning"},{default:d(()=>[D(b(e.t("relationship_not_setup")),1)]),_:1})):(p(),I("div",NH,[e.loading?(p(!0),I(ie,{key:0},he((e.value||[]).length||3,h=>(p(),C(s,{key:h,type:(e.value||[]).length>4?"block-list-item-dense":"block-list-item"},null,8,["type"]))),128)):e.sortedItems.length===0?(p(),C(a,{key:1},{default:d(()=>[D(b(e.t("no_items")),1)]),_:1})):(p(),C(_,{key:2},{default:d(()=>[o(v,{"force-fallback":!0,"model-value":e.sortedItems,"item-key":"id",handle:".drag-handle",disabled:!e.junction.meta.sort_field,"onUpdate:modelValue":t[1]||(t[1]=h=>e.sortItems(h))},{item:d(({element:h})=>[o(f,{dense:e.sortedItems.length>4,block:"",clickable:"",onClick:k=>e.editItem(h)},{default:d(()=>[e.junction.meta.sort_field?(p(),C(r,{key:0,name:"drag_handle",class:"drag-handle",left:"",onClick:t[0]||(t[0]=Fe(()=>{},["stop"]))})):R("",!0),o(m,{collection:e.junctionCollection.collection,item:h,template:e.templateWithDefaults},null,8,["collection","item","template"]),BH,e.disabled?R("",!0):(p(),C(r,{key:1,name:"close",onClick:Fe(k=>e.deleteItem(h),["stop"])},null,8,["onClick"]))]),_:2},1032,["dense","onClick"])]),_:1},8,["model-value","disabled"])]),_:1})),e.disabled?R("",!0):(p(),I("div",qH,[e.enableCreate&&e.createAllowed?(p(),C(y,{key:0,onClick:t[2]||(t[2]=h=>e.editModalActive=!0)},{default:d(()=>[D(b(e.t("create_new")),1)]),_:1})):R("",!0),e.enableSelect&&e.selectAllowed?(p(),C(y,{key:1,onClick:t[3]||(t[3]=h=>e.selectModalActive=!0)},{default:d(()=>[D(b(e.t("add_existing")),1)]),_:1})):R("",!0)])),e.disabled?R("",!0):(p(),C(g,{key:4,active:e.editModalActive,collection:e.relationInfo.junctionCollection,"primary-key":e.currentlyEditing||"+","related-primary-key":e.relatedPrimaryKey||"+","junction-field":e.relationInfo.junctionField,edits:e.editsAtStart,"circular-field":e.junction.field,onInput:e.stageEdits,"onUpdate:active":e.cancelEdit},null,8,["active","collection","primary-key","related-primary-key","junction-field","edits","circular-field","onInput","onUpdate:active"])),e.disabled?R("",!0):(p(),C($,{key:5,active:e.selectModalActive,"onUpdate:active":t[4]||(t[4]=h=>e.selectModalActive=h),collection:e.relationCollection.collection,selection:e.selectedPrimaryKeys,multiple:"",onInput:e.stageSelection},null,8,["active","collection","selection","onInput"]))]))}var KH=q(MH,[["render",zH],["__scopeId","data-v-f90dc504"]]),HH=`<svg width="156" height="96" viewBox="0 0 156 96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18.4443" y="9" width="120" height="22" rx="6" fill="var(--background-page)" />
	<rect x="19.4443" y="10" width="118" height="20" rx="5" stroke="var(--primary)" stroke-opacity="0.25"
		stroke-width="2" />
	<rect x="46" y="17" width="10" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="60" y="17" width="40" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path opacity="0.5" d="M38 18H28V19.2691H38V18ZM28 21.7778H38V20.5087H28V21.7778Z" fill="var(--primary)" />
	<rect x="18" y="65" width="120" height="22" rx="6" fill="var(--background-page)" />
	<rect x="19" y="66" width="118" height="20" rx="5" stroke="var(--primary)" stroke-opacity="0.25" stroke-width="2" />
	<rect x="46" y="73" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path opacity="0.5" d="M38 74H28V75.2691H38V74ZM28 77.7778H38V76.5087H28V77.7778Z" fill="var(--primary)" />
	<rect x="18" y="37" width="120" height="22" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="38" width="118" height="20" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="46" y="45" width="30" height="6" rx="2" fill="var(--primary)" />
	<rect x="80" y="45" width="10" height="6" rx="2" fill="var(--primary)" />
	<path d="M38 46H28V47.2691H38V46ZM28 49.7778H38V48.5087H28V49.7778Z" fill="var(--primary)" />
	<path
		d="M127.074 52.0742H118.926V43.9258H123V42.75H118.926C118.27 42.75 117.75 43.2695 117.75 43.9258V52.0742C117.75 52.7305 118.27 53.25 118.926 53.25H127.074C127.73 53.25 128.25 52.7305 128.25 52.0742V48H127.074V52.0742ZM124.176 42.75V43.9258H126.254L120.539 49.6406L121.359 50.4609L127.074 44.7461V46.8242H128.25V42.75H124.176Z"
		fill="var(--primary)" />
</svg>
`,WH=Me({id:"list-m2m",name:"$t:interfaces.list-m2m.many-to-many",description:"$t:interfaces.list-m2m.description",icon:"note_add",component:KH,relational:!0,types:["alias"],localTypes:["m2m"],group:"relational",options:({relations:e})=>{var t;return[{field:"template",name:"$t:display_template",meta:{interface:"system-display-template",options:{collectionName:(t=e.o2m)==null?void 0:t.collection}}},{field:"enableCreate",name:"$t:creating_items",schema:{default_value:!0},meta:{interface:"boolean",options:{label:"$t:enable_create_button"},width:"half"}},{field:"enableSelect",name:"$t:selecting_items",schema:{default_value:!0},meta:{interface:"boolean",options:{label:"$t:enable_select_button"},width:"half"}}]},recommendedDisplays:["related-values"],preview:HH}),GH=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:WH});const JH=z({components:{DrawerItem:qt,DrawerCollection:Qt,Draggable:Ct},props:{value:{type:Array,default:null},primaryKey:{type:[Number,String],required:!0},collection:{type:String,required:!0},field:{type:String,required:!0},template:{type:String,default:null},disabled:{type:Boolean,default:!1},enableCreate:{type:Boolean,default:!0},enableSelect:{type:Boolean,default:!0}},emits:["input"],setup(e,{emit:t}){const{t:n}=Y(),l=ut(),i=Ke(),u=Pe(),a=Tt(),s=Je(),{relation:r,relatedCollection:m,relatedPrimaryKeyField:f}=ue(),v=V(()=>{var Z;return e.template||((Z=m.value.meta)==null?void 0:Z.display_template)||`{{${u.getPrimaryKeyFieldForCollection(r.value.collection).field}}}`}),_=V(()=>Xt(yt(v.value),m.value.collection)),{items:y,loading:g}=ne(),{currentlyEditing:$,editItem:h,editsAtStart:k,stageEdits:A,cancelEdit:F}=ee(),{selectModalActive:P,selectedPrimaryKeys:O}=de(),{sort:T,sortItems:N,sortedItems:L}=fe(),{createAllowed:M,updateAllowed:B}=H();return{t:n,relation:r,loading:g,currentlyEditing:$,editItem:h,relatedCollection:m,editsAtStart:k,stageEdits:A,cancelEdit:F,selectModalActive:P,deleteItem:Q,items:y,sortItems:N,selectedPrimaryKeys:O,sort:T,sortedItems:L,get:U.exports.get,getItemFromIndex:K,templateWithDefaults:v,createAllowed:M,updateAllowed:B};function K(Z){return(L.value||y.value)[Z]}function W(){var X;const Z=(X=f.value)==null?void 0:X.field;return e.value===null||!Z?[]:e.value.filter(te=>typeof te=="object"&&!(Z in te))}function le(){var X;const Z=(X=f.value)==null?void 0:X.field;return e.value===null||!Z?[]:e.value.filter(te=>typeof te=="object"&&Z in te)}function G(){var X;const Z=(X=f.value)==null?void 0:X.field;return e.value===null||!Z?[]:e.value.map(te=>{if(typeof te=="object"){if(Z in te)return te[Z]}else return te}).filter(te=>te)}function Q(Z){var ve;const X=(ve=f.value)==null?void 0:ve.field;if(e.value===null||!X)return;if(!(X in Z)){t("input",e.value.filter(J=>U.exports.isEqual(Z,J)===!1));return}const te=Z[X];t("input",e.value.filter(J=>typeof J=="number"||typeof J=="string"?J!==te:typeof J=="object"&&X in J?J[X]!==te:!0))}function fe(){var ve;const Z=E({by:((ve=r.value.meta)==null?void 0:ve.sort_field)||_.value[0],desc:!1});function X(J){var ae;if(!((ae=r.value.meta)==null?void 0:ae.sort_field))return;const oe=J.map((me,ge)=>(me[r.value.meta.sort_field]=ge,me));t("input",oe)}const te=V(()=>{var ae,me;if(!((ae=r.value.meta)==null?void 0:ae.sort_field)||Z.value.by!==((me=r.value.meta)==null?void 0:me.sort_field))return y.value;const J=Z.value.desc,oe=U.exports.sortBy(y.value,[r.value.meta.sort_field]);return J?oe.reverse():oe});return{sort:Z,sortItems:X,sortedItems:te}}function ue(){const Z=V(()=>{var ve;return(ve=l.getRelationsForField(e.collection,e.field))==null?void 0:ve[0]}),X=V(()=>i.getCollection(Z.value.collection)),{primaryKeyField:te}=at(X.value.collection);return{relation:Z,relatedCollection:X,relatedPrimaryKeyField:te}}function ne(){const Z=E(!1),X=E([]);return _e(()=>e.value,async(te,ve)=>{var me,ge;if(U.exports.isEqual(te,ve))return;Z.value=!0;const J=(me=f.value)==null?void 0:me.field;if(!J)return;const oe=[..._.value.length>0?_.value:ce()];oe.includes(J)===!1&&oe.push(J),((ge=r.value.meta)==null?void 0:ge.sort_field)&&oe.includes(r.value.meta.sort_field)===!1&&oe.push(r.value.meta.sort_field);const ae=tr(m.value.collection,oe);try{const $e=m.value.collection.startsWith("directus_")?`/${m.value.collection.substring(9)}`:`/items/${m.value.collection}`,ke=G();let Ae=[];ke&&ke.length>0&&(Ae=(await re.get($e,{params:{fields:ae,[`filter[${J}][_in]`]:ke.join(",")}})).data.data);const De=le(),Ne=W();X.value=Ae.map(lt=>{const Te=De.find(Oe=>Oe[J]===lt[J]);return Te!==void 0?pe(pe({},lt),Te):lt}).concat(...Ne)}catch($e){Ce($e)}finally{Z.value=!1}},{immediate:!0}),{items:X,loading:Z}}function ee(){const Z=E(null),X=E({});return{currentlyEditing:Z,editItem:te,editsAtStart:X,stageEdits:ve,cancelEdit:J};function te(oe){var $e;const ae=($e=f.value)==null?void 0:$e.field;if(!ae)return;const me=ae in oe,ge=(e.value||[]).find(ke=>{var Ae,De,Ne;return typeof ke=="object"&&((Ae=f.value)==null?void 0:Ae.field)&&ke[(De=f.value)==null?void 0:De.field]===oe[(Ne=f.value)==null?void 0:Ne.field]});X.value=ge||{[ae]:oe[ae]||{}},Z.value=me?oe[ae]:"+"}function ve(oe){var ge;const ae=(ge=f.value)==null?void 0:ge.field;if(!ae)return;const me=(e.value||[]).map($e=>$e&&typeof $e=="object"&&ae in $e&&ae in oe&&$e[ae]===oe[ae]||$e===oe[ae]||X.value===$e?oe:$e);me.includes(oe)===!1&&me.push(oe),me.length===0?t("input",null):t("input",me)}function J(){X.value={},Z.value=null}}function de(){const Z=E(!1),X=V(()=>{var ve;const te=(ve=f.value)==null?void 0:ve.field;return y.value===null||!te?[]:y.value.filter(J=>te in J).map(J=>J[te])});return{selectModalActive:Z,selectedPrimaryKeys:X}}function ce(){return u.getFieldsForCollection(m.value.collection).slice(0,3).map(X=>X.field)}function H(){const Z=V(()=>{var ve;return((ve=s.currentUser)==null?void 0:ve.role.admin_access)===!0?!0:!!a.permissions.find(J=>J.action==="create"&&J.collection===m.value.collection)}),X=V(()=>{var ve;return((ve=s.currentUser)==null?void 0:ve.role.admin_access)===!0?!0:!!a.permissions.find(J=>J.action==="update"&&J.collection===m.value.collection)});return{createAllowed:Z,updateAllowed:X}}}}),QH=e=>(We("data-v-785ae440"),e=e(),Ge(),e),XH={key:1,class:"one-to-many"},ZH=QH(()=>S("div",{class:"spacer"},null,-1)),YH={key:3,class:"actions"};function xH(e,t,n,l,i,u){const a=c("v-notice"),s=c("v-skeleton-loader"),r=c("v-icon"),m=c("render-template"),f=c("v-list-item"),v=c("draggable"),_=c("v-list"),y=c("v-button"),g=c("drawer-item"),$=c("drawer-collection");return e.relation?(p(),I("div",XH,[e.loading?(p(!0),I(ie,{key:0},he((e.value||[]).length||3,h=>(p(),C(s,{key:h,type:(e.value||[]).length>4?"block-list-item-dense":"block-list-item"},null,8,["type"]))),128)):e.sortedItems.length===0?(p(),C(a,{key:1},{default:d(()=>[D(b(e.t("no_items")),1)]),_:1})):(p(),C(_,{key:2},{default:d(()=>[o(v,{"force-fallback":!0,"model-value":e.sortedItems,"item-key":"id",handle:".drag-handle",disabled:!e.relation.meta.sort_field,"onUpdate:modelValue":t[1]||(t[1]=h=>e.sortItems(h))},{item:d(({element:h})=>[o(f,{dense:e.sortedItems.length>4,block:"",clickable:"",disabled:e.disabled||e.updateAllowed===!1,onClick:k=>e.editItem(h)},{default:d(()=>[e.relation.meta.sort_field?(p(),C(r,{key:0,name:"drag_handle",class:"drag-handle",left:"",onClick:t[0]||(t[0]=Fe(()=>{},["stop"]))})):R("",!0),o(m,{collection:e.relation.collection,item:h,template:e.templateWithDefaults},null,8,["collection","item","template"]),ZH,!e.disabled&&e.updateAllowed?(p(),C(r,{key:1,name:"close",onClick:Fe(k=>e.deleteItem(h),["stop"])},null,8,["onClick"])):R("",!0)]),_:2},1032,["dense","disabled","onClick"])]),_:1},8,["model-value","disabled"])]),_:1})),e.disabled?R("",!0):(p(),I("div",YH,[e.enableCreate&&e.createAllowed&&e.updateAllowed?(p(),C(y,{key:0,onClick:t[2]||(t[2]=h=>e.currentlyEditing="+")},{default:d(()=>[D(b(e.t("create_new")),1)]),_:1})):R("",!0),e.enableSelect&&e.updateAllowed?(p(),C(y,{key:1,onClick:t[3]||(t[3]=h=>e.selectModalActive=!0)},{default:d(()=>[D(b(e.t("add_existing")),1)]),_:1})):R("",!0)])),e.disabled?R("",!0):(p(),C(g,{key:4,active:e.currentlyEditing!==null,collection:e.relatedCollection.collection,"primary-key":e.currentlyEditing||"+",edits:e.editsAtStart,"circular-field":e.relation.field,onInput:e.stageEdits,"onUpdate:active":e.cancelEdit},null,8,["active","collection","primary-key","edits","circular-field","onInput","onUpdate:active"])),e.disabled?R("",!0):(p(),C($,{key:5,active:e.selectModalActive,"onUpdate:active":t[4]||(t[4]=h=>e.selectModalActive=h),collection:e.relatedCollection.collection,selection:e.selectedPrimaryKeys,multiple:"",onInput:t[5]||(t[5]=h=>e.$emit("input",h.length>0?h:null))},null,8,["active","collection","selection"]))])):(p(),C(a,{key:0,type:"warning"},{default:d(()=>[D(b(e.t("relationship_not_setup")),1)]),_:1}))}var eW=q(JH,[["render",xH],["__scopeId","data-v-785ae440"]]),tW=`<svg width="156" height="96" viewBox="0 0 156 96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18.4443" y="9" width="120" height="22" rx="6" fill="var(--background-page)" />
	<rect x="19.4443" y="10" width="118" height="20" rx="5" stroke="var(--primary)" stroke-opacity="0.25"
		stroke-width="2" />
	<rect x="46" y="17" width="10" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="60" y="17" width="40" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path opacity="0.5" d="M38 18H28V19.2691H38V18ZM28 21.7778H38V20.5087H28V21.7778Z" fill="var(--primary)" />
	<rect x="18" y="65" width="120" height="22" rx="6" fill="var(--background-page)" />
	<rect x="19" y="66" width="118" height="20" rx="5" stroke="var(--primary)" stroke-opacity="0.25" stroke-width="2" />
	<rect x="46" y="73" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path opacity="0.5" d="M38 74H28V75.2691H38V74ZM28 77.7778H38V76.5087H28V77.7778Z" fill="var(--primary)" />
	<rect x="18" y="37" width="120" height="22" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="38" width="118" height="20" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="46" y="45" width="30" height="6" rx="2" fill="var(--primary)" />
	<rect x="80" y="45" width="10" height="6" rx="2" fill="var(--primary)" />
	<path d="M38 46H28V47.2691H38V46ZM28 49.7778H38V48.5087H28V49.7778Z" fill="var(--primary)" />
	<path
		d="M127.074 52.0742H118.926V43.9258H123V42.75H118.926C118.27 42.75 117.75 43.2695 117.75 43.9258V52.0742C117.75 52.7305 118.27 53.25 118.926 53.25H127.074C127.73 53.25 128.25 52.7305 128.25 52.0742V48H127.074V52.0742ZM124.176 42.75V43.9258H126.254L120.539 49.6406L121.359 50.4609L127.074 44.7461V46.8242H128.25V42.75H124.176Z"
		fill="var(--primary)" />
</svg>
`,nW=Me({id:"list-o2m",name:"$t:interfaces.list-o2m.one-to-many",description:"$t:interfaces.list-o2m.description",icon:"arrow_right_alt",component:eW,types:["alias"],localTypes:["o2m"],group:"relational",relational:!0,options:({relations:e})=>{var n;const t=(n=e.o2m)==null?void 0:n.collection;return[{field:"template",name:"$t:display_template",meta:{interface:"system-display-template",options:{collectionName:t},width:"full"}},{field:"enableCreate",name:"$t:creating_items",schema:{default_value:!0},meta:{interface:"boolean",options:{label:"$t:enable_create_button"},width:"half"}},{field:"enableSelect",name:"$t:selecting_items",schema:{default_value:!0},meta:{interface:"boolean",options:{label:"$t:enable_select_button"},width:"half"}}]},recommendedDisplays:["related-values"],preview:tW}),lW=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:nW});const oW=z({components:{DrawerItem:qt},props:{collection:{type:String,required:!0},template:{type:String,required:!0},item:{type:Object,required:!0},primaryKeyField:{type:String,required:!0},disabled:{type:Boolean,default:!1},parentField:{type:String,required:!0}},emits:["deselect","input"],setup(){const{t:e}=Y(),t=E(!1);return{t:e,editActive:t}}}),aW=e=>(We("data-v-569bebef"),e=e(),Ge(),e),iW={class:"preview"},sW=aW(()=>S("div",{class:"spacer"},null,-1)),rW={key:0,class:"actions"};function dW(e,t,n,l,i,u){const a=c("render-template"),s=c("v-icon"),r=c("drawer-item"),m=Se("tooltip");return p(),I("div",iW,[o(a,{collection:e.collection,template:e.template,item:e.item},null,8,["collection","template","item"]),sW,e.disabled?R("",!0):(p(),I("div",rW,[x(o(s,{name:"launch",clickable:"",onClick:t[0]||(t[0]=f=>e.editActive=!0)},null,512),[[m,e.t("edit")]]),x(o(s,{name:"clear",clickable:"",onClick:t[1]||(t[1]=f=>e.$emit("deselect"))},null,512),[[m,e.t("deselect")]])])),o(r,{active:e.editActive,"onUpdate:active":t[2]||(t[2]=f=>e.editActive=f),collection:e.collection,"primary-key":e.item[e.primaryKeyField]||"+",edits:e.item,"circular-field":e.parentField,onInput:t[3]||(t[3]=f=>e.$emit("input",f))},null,8,["active","collection","primary-key","edits","circular-field"])])}var uW=q(oW,[["render",dW],["__scopeId","data-v-569bebef"]]);const cW=z({name:"NestedDraggable",components:{Draggable:Ct,ItemPreview:uW},props:{tree:{required:!0,type:Array,default:()=>[]},root:{type:Boolean,default:!1},collection:{type:String,required:!0},template:{type:String,required:!0},primaryKeyField:{type:String,required:!0},parentField:{type:String,required:!0},childrenField:{type:String,required:!0},disabled:{type:Boolean,default:!1}},emits:["change","input"],setup(e,{emit:t}){const n=E(!1),l=E(!1);return{drag:n,hideDragImage:Bt,editActive:l,dragOptions:{animation:150,group:"description",disabled:!1,ghostClass:"ghost"},replaceItem:i,removeItem:u,replaceChildren:a};function i(s,r){t("input",e.tree.map((m,f)=>f===s?r:m))}function u(s){t("input",e.tree.filter((r,m)=>m!==s))}function a(s,r){t("input",e.tree.map((m,f)=>f===s?Ve(pe({},m),{[e.childrenField]:r}):m))}}}),pW={class:"row"};function mW(e,t,n,l,i,u){const a=c("item-preview"),s=c("nested-draggable",!0),r=c("draggable");return p(),C(r,dt(e.dragOptions,{class:["drag-area",{root:e.root,drag:e.drag}],tag:"ul",list:e.tree,group:{name:"g1"},"item-key":"id",draggable:".row","set-data":e.hideDragImage,disabled:e.disabled,"force-fallback":!0,onStart:t[1]||(t[1]=m=>e.drag=!0),onEnd:t[2]||(t[2]=m=>e.drag=!1),onChange:t[3]||(t[3]=m=>e.$emit("change",m))}),{item:d(({element:m,index:f})=>[S("li",pW,[o(a,{item:m,template:e.template,collection:e.collection,"primary-key-field":e.primaryKeyField,disabled:e.disabled,"parent-field":e.parentField,onInput:v=>e.replaceItem(f,v),onDeselect:v=>e.removeItem(f)},null,8,["item","template","collection","primary-key-field","disabled","parent-field","onInput","onDeselect"]),o(s,{tree:m[e.childrenField]||[],template:e.template,collection:e.collection,"primary-key-field":e.primaryKeyField,"parent-field":e.parentField,"children-field":e.childrenField,disabled:e.disabled,onChange:t[0]||(t[0]=v=>e.$emit("change",v)),onInput:v=>e.replaceChildren(f,v)},null,8,["tree","template","collection","primary-key-field","parent-field","children-field","disabled","onInput"])])]),_:1},16,["class","list","set-data","disabled"])}var fW=q(cW,[["render",mW],["__scopeId","data-v-0de81f94"]]);const vW=z({components:{NestedDraggable:fW,DrawerCollection:Qt,DrawerItem:qt},props:{value:{type:Array,default:null},displayTemplate:{type:String,default:void 0},disabled:{type:Boolean,default:!1},collection:{type:String,required:!0},field:{type:String,required:!0},primaryKey:{type:[String,Number],default:void 0},enableCreate:{type:Boolean,default:!0},enableSelect:{type:Boolean,default:!0}},emits:["input"],setup(e,{emit:t}){const{t:n}=Y(),l=ut(),i=E([]),{relation:u}=P(),{info:a,primaryKeyField:s}=at(u.value.related_collection),{loading:r,error:m,stagedValues:f,fetchValues:v,emitValue:_}=F(),{stageSelection:y,selectDrawer:g}=T(),{addNewActive:$,addNew:h}=N(),k=V(()=>{var L,M,B;return e.displayTemplate||((M=(L=a.value)==null?void 0:L.meta)==null?void 0:M.display_template)||`{{${(B=s.value)==null?void 0:B.field}}}`});it(v),_e(()=>e.primaryKey,v,{immediate:!0});const A=E(!1);return{t:n,relation:u,openItems:i,template:k,loading:r,error:m,stagedValues:f,fetchValues:v,primaryKeyField:s,onDraggableChange:O,hideDragImage:Bt,dragging:A,emitValue:_,stageSelection:y,selectDrawer:g,addNewActive:$,addNew:h};function F(){const L=E(!1),M=E(null),B=E([]);return{loading:L,error:M,stagedValues:B,fetchValues:K,emitValue:le,getFieldsToFetch:W};async function K(){var G,Q,fe;if(!(!e.primaryKey||!u.value||e.primaryKey==="+")){if(((G=e.value)==null?void 0:G.length)>0&&e.value.every(ue=>typeof ue=="object")){B.value=e.value;return}L.value=!0;try{const ue=await re.get(`/items/${e.collection}/${encodeURIComponent(e.primaryKey)}`,{params:{fields:W()}});B.value=(fe=(Q=ue.data.data)==null?void 0:Q[u.value.meta.one_field])!=null?fe:[]}catch(ue){M.value=ue}finally{L.value=!1}}}function W(){var ue;const G=[...new Set([(ue=s.value)==null?void 0:ue.field,u.value.meta.one_field,...yt(k.value)])],Q=[],fe=`${u.value.meta.one_field}.`;for(let ne=1;ne<=5;ne++)for(const ee of G)Q.push(`${fe.repeat(ne)}${ee}`);return Q}function le(G){var fe;if(B.value=G,(fe=u.value.meta)==null?void 0:fe.sort_field)return t("input",Q(G));t("input",G);function Q(ue){return(ue||[]).map((ne,ee)=>Ve(pe({},ne),{[u.value.meta.sort_field]:ee+1,[u.value.meta.one_field]:Q(ne[u.value.meta.one_field])}))}}}function P(){return{relation:V(()=>{var M;return(M=l.getRelationsForField(e.collection,e.field))==null?void 0:M[0]})}}function O(){_(f.value)}function T(){const L=E(!1),M=V(()=>{var le;const K=(le=s.value)==null?void 0:le.field;if(f.value===null||!K||!e.primaryKey)return[];return[e.primaryKey,...W(f.value)];function W(G){const Q=[];if(K)for(const fe of G){if(!fe[K])continue;Q.push(fe[K]);const ue=W(fe[u.value.meta.one_field]);Q.push(...ue)}return Q}});return{stageSelection:B,selectDrawer:L};async function B(K){var ne,ee,de;r.value=!0;const W=K.filter(ce=>M.value.includes(ce)===!1),le=[...new Set([(ne=s.value)==null?void 0:ne.field,u.value.meta.one_field,...yt(k.value)])],G=[],Q=`${u.value.meta.one_field}.`;for(let ce=1;ce<=5;ce++)for(const H of le)G.push(`${Q.repeat(ce)}${H}`);if(!((ee=s.value)==null?void 0:ee.field))return;const ue=[...(await re.get(`/items/${e.collection}`,{params:{fields:[...le,...G],filter:{[(de=s.value)==null?void 0:de.field]:{_in:W}}}})).data.data,...f.value];ue.length===0?_([]):_(ue),r.value=!1}}function N(){return{addNewActive:E(!1),addNew:M};function M(B){_([...f.value,B])}}}}),_W={key:1,class:"tree-view"},yW={key:0,class:"actions"};function gW(e,t,n,l,i,u){const a=c("v-notice"),s=c("nested-draggable"),r=c("v-button"),m=c("drawer-item"),f=c("drawer-collection");return e.relation.collection!==e.relation.related_collection?(p(),C(a,{key:0,type:"warning"},{default:d(()=>[D(b(e.t("interfaces.list-o2m-tree-view.recursive_only")),1)]),_:1})):(p(),I("div",_W,[o(s,{template:e.template,collection:e.collection,tree:e.stagedValues||[],"primary-key-field":e.primaryKeyField.field,"children-field":e.relation.meta.one_field,"parent-field":e.relation.field,disabled:e.disabled,root:"",onChange:e.onDraggableChange,onInput:e.emitValue},null,8,["template","collection","tree","primary-key-field","children-field","parent-field","disabled","onChange","onInput"]),e.disabled?R("",!0):(p(),I("div",yW,[e.enableCreate?(p(),C(r,{key:0,onClick:t[0]||(t[0]=v=>e.addNewActive=!0)},{default:d(()=>[D(b(e.t("create_new")),1)]),_:1})):R("",!0),e.enableSelect?(p(),C(r,{key:1,onClick:t[1]||(t[1]=v=>e.selectDrawer=!0)},{default:d(()=>[D(b(e.t("add_existing")),1)]),_:1})):R("",!0)])),e.disabled?R("",!0):(p(),C(m,{key:1,active:e.addNewActive,collection:e.collection,"primary-key":"+",edits:{},"circular-field":e.relation.field,onInput:e.addNew,"onUpdate:active":t[2]||(t[2]=v=>e.addNewActive=!1)},null,8,["active","collection","circular-field","onInput"])),e.disabled?R("",!0):(p(),C(f,{key:2,active:e.selectDrawer,"onUpdate:active":t[3]||(t[3]=v=>e.selectDrawer=v),collection:e.collection,selection:[],multiple:"",onInput:e.stageSelection},null,8,["active","collection","onInput"]))]))}var hW=q(vW,[["render",gW],["__scopeId","data-v-1d7230b5"]]),bW=Me({id:"list-o2m-tree-view",name:"$t:tree_view",description:"$t:interfaces.list-o2m-tree-view.description",icon:"account_tree",types:["alias"],localTypes:["o2m"],group:"relational",relational:!0,component:hW,options:({relations:e})=>{var n;const t=(n=e.o2m)==null?void 0:n.collection;return[{field:"displayTemplate",name:"$t:display_template",meta:{interface:"system-display-template",options:{collectionName:t},width:"full"}},{field:"enableCreate",name:"$t:creating_items",schema:{default_value:!0},meta:{interface:"boolean",options:{label:"$t:enable_create_button"},width:"half"}},{field:"enableSelect",name:"$t:selecting_items",schema:{default_value:!0},meta:{interface:"boolean",options:{label:"$t:enable_select_button"},width:"half"}}]}}),$W=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:bW});class Go{constructor(t,n){ft(this,"active");ft(this,"element");ft(this,"groupElement");this.className=t,this.callback=n,this.element=document.createElement("button"),this.element.className=this.className,this.element.onpointerdown=n,this.active=!1}click(...t){this.callback(...t)}activate(t){this.element.classList[t?"add":"remove"]("active"),this.active=t}show(t){this.element.classList[t?"remove":"add"]("hidden")}onAdd(){return this.groupElement=document.createElement("div"),this.groupElement.className="mapboxgl-ctrl mapboxgl-ctrl-group",this.groupElement.appendChild(this.element),this.groupElement}onRemove(){var t;this.element.remove(),(t=this.groupElement)==null||t.remove()}}class wW{constructor(t){ft(this,"groupElement");ft(this,"boxElement");ft(this,"selectButton");ft(this,"map");ft(this,"layers");ft(this,"selecting",!1);ft(this,"shiftPressed",!1);ft(this,"startPos");ft(this,"lastPos");ft(this,"onKeyDownHandler");ft(this,"onKeyUpHandler");ft(this,"onMouseDownHandler");ft(this,"onMouseMoveHandler");ft(this,"onMouseUpHandler");var n,l,i,u;this.layers=(n=t==null?void 0:t.layers)!=null?n:[],this.boxElement=document.createElement("div"),this.boxElement.className=(l=t==null?void 0:t.boxElementClass)!=null?l:"selection-box",this.groupElement=document.createElement("div"),this.groupElement.className=(i=t==null?void 0:t.groupElementClass)!=null?i:"mapboxgl-ctrl mapboxgl-ctrl-group",this.selectButton=new Go((u=t==null?void 0:t.selectButtonClass)!=null?u:"ctrl-select",()=>{this.activate(!this.shiftPressed)}),this.groupElement.appendChild(this.selectButton.element),this.onKeyDownHandler=this.onKeyDown.bind(this),this.onKeyUpHandler=this.onKeyUp.bind(this),this.onMouseDownHandler=this.onMouseDown.bind(this),this.onMouseMoveHandler=this.onMouseMove.bind(this),this.onMouseUpHandler=this.onMouseUp.bind(this)}onAdd(t){return this.map=t,this.map.boxZoom.disable(),this.map.getContainer().appendChild(this.boxElement),this.map.getContainer().addEventListener("pointerdown",this.onMouseDownHandler,!0),document.addEventListener("keydown",this.onKeyDownHandler),document.addEventListener("keyup",this.onKeyUpHandler),this.groupElement}onRemove(){this.map.boxZoom.enable(),this.boxElement.remove(),this.groupElement.remove(),this.map.getContainer().removeEventListener("pointerdown",this.onMouseDownHandler),document.removeEventListener("keydown",this.onKeyDownHandler),document.removeEventListener("keyup",this.onKeyUpHandler)}active(){return this.shiftPressed||this.selecting}getMousePosition(t){const n=this.map.getContainer(),l=n.getBoundingClientRect();return new Kt.exports.Point(t.clientX-l.left-n.clientLeft,t.clientY-l.top-n.clientTop)}onKeyDown(t){t.key=="Shift"&&this.activate(!0),t.key=="Escape"&&(this.reset(),this.activate(!1),this.map.fire("select.end",{features:[]}))}activate(t){this.shiftPressed=t,this.selectButton.activate(t),this.map.fire(`select.${t?"enable":"disable"}`)}onKeyUp(t){t.key=="Shift"&&this.activate(!1)}onMouseDown(t){!this.shiftPressed||t.button===0&&(this.selecting=!0,this.map.dragPan.disable(),this.startPos=this.getMousePosition(t),this.lastPos=this.startPos,document.addEventListener("pointermove",this.onMouseMoveHandler),document.addEventListener("pointerup",this.onMouseUpHandler),this.map.fire("select.start"))}onMouseMove(t){this.lastPos=this.getMousePosition(t);const n=Math.min(this.startPos.x,this.lastPos.x),l=Math.max(this.startPos.x,this.lastPos.x),i=Math.min(this.startPos.y,this.lastPos.y),u=Math.max(this.startPos.y,this.lastPos.y),a=`translate(${n}px, ${i}px)`,s=l-n+"px",r=u-i+"px";this.updateBoxStyle({transform:a,width:s,height:r})}onMouseUp(t){if(this.reset(),!this.active())return;const n=this.map.queryRenderedFeatures([this.startPos,this.lastPos],{layers:this.layers});this.map.fire("select.end",{features:n,alt:t.altKey})}reset(){this.selecting=!1,this.updateBoxStyle({width:"0",height:"0",transform:""}),document.removeEventListener("pointermove",this.onMouseMoveHandler),document.removeEventListener("pointerup",this.onMouseUpHandler),this.map.dragPan.enable()}updateBoxStyle(t){this.boxElement.style.transform=t.transform,this.boxElement.style.width=t.width,this.boxElement.style.height=t.height}}function Jo(e,t){return[Math.min(e[0],t[0]),Math.min(e[1],t[1]),Math.max(e[2],t[0]),Math.max(e[3],t[1])]}function Ol(e){let t=[1/0,1/0,-1/0,-1/0];return jd(e,n=>{t=Jo(t,n)}),t}function pr(e){switch(e){case"json":return"geojson";case"text":case"string":return"wkt";case"csv":return"lnglat";default:return e.startsWith("geometry")?"native":void 0}}function kW(e){const{geometryFormat:t}=e;switch(t){case"native":case"geojson":return n=>n;case"wkt":return n=>Rd(n);case"lnglat":return n=>n.coordinates;default:throw new Error(qe.global.t("interfaces.map.invalid_format",{format:t}))}}function SW(e){const{geometryFormat:t}=e;switch(t){case"native":case"geojson":return n=>n;case"wkt":return n=>Md(n);case"lnglat":return n=>({type:"Point",coordinates:[Number(n[0]),Number(n[1])]});default:throw new Error(qe.global.t("interfaces.map.invalid_format",{format:t}))}}function mr(e){const t=SW(e);return function(n){const l=n[e.geometryField],i=l&&t(l);if(!!i)return i}}function CW(e,t){const n=mr(t),l={type:"FeatureCollection",features:[],bbox:[1/0,1/0,-1/0,-1/0]};for(let i=0;i<e.length;i++){const u=n(e[i]);if(!u)continue;const[a,s,r,m]=Ol(u);l.bbox=Jo(l.bbox,[a,s]),l.bbox=Jo(l.bbox,[r,m]);const f=pe({},e[i]);delete f[t.geometryField];const v={type:"Feature",properties:f,geometry:u};l.features.push(v)}return l.features.length==0&&delete l.bbox,l}function fr(e){if(!e)return[];if(e.type=="GeometryCollection")return e.geometries.flatMap(fr);if(e.type.startsWith("Multi")){const t=e.type.replace("Multi","");return e.coordinates.map(n=>({type:t,coordinates:n}))}return[e]}const VW="#9e8de4",FW="#68b0f4",AW="#00c897",IW="#ffb300",EW="#ee9746",DW="#e35169",TW="#000000",PW="#ffffff";var vr={purple:VW,blue:FW,green:AW,yellow:IW,orange:EW,red:DW,black:TW,white:PW};const{green:OW,orange:Ll,black:Qo,white:_r}=vr,sl=["case",["==",["get","mode"],"static"],Qo,["==",["get","active"],"true"],Ll,OW];var LW=[{id:"directus-polygon-fill",type:"fill",filter:["all",["==","$type","Polygon"]],paint:{"fill-color":sl,"fill-outline-color":sl,"fill-opacity":.15}},{id:"directus-polygon-stroke",type:"line",filter:["all",["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":sl,"line-width":2}},{id:"directus-polygon-midpoint",type:"circle",filter:["all",["==","$type","Point"],["==","meta","midpoint"]],paint:{"circle-radius":3,"circle-color":Ll}},{id:"directus-line",type:"line",filter:["all",["==","$type","LineString"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":sl,"line-width":2}},{id:"directus-polygon-and-line-vertex",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"]],paint:{"circle-radius":3,"circle-color":Ll,"circle-opacity":["case",["==",["get","active"],"true"],1,.2],"circle-stroke-color":["case",["==",["get","active"],"true"],_r,Ll],"circle-stroke-width":2}},{id:"directus-point-shadow",filter:["all",["==","$type","Point"],["==","meta","feature"],["!=","meta","midpoint"],["!=","mode","static"]],type:"circle",layout:{},paint:{"circle-radius":10,"circle-blur":1,"circle-opacity":.9,"circle-color":Qo}},{id:"directus-point",filter:["all",["==","$type","Point"],["==","meta","feature"],["!=","meta","midpoint"]],type:"circle",layout:{},paint:{"circle-radius":6,"circle-color":sl,"circle-stroke-color":["case",["==",["get","mode"],"static"],Qo,_r],"circle-opacity":["case",["==",["get","mode"],"static"],.2,1],"circle-stroke-width":2,"circle-stroke-opacity":1}}];const jW=["directus-point","directus-line","directus-polygon-fill","directus-polygon-stroke","directus-polygon-midpoint","directus-polygon-and-line-vertex"].flatMap(e=>[e+".hot",e+".cold"]),RW=z({props:{type:{type:String,default:null},fieldData:{type:Object,default:void 0},value:{type:[Object,Array,String],default:null},loading:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},geometryType:{type:String,default:void 0},defaultView:{type:Object,default:()=>({})}},emits:["input"],setup(e,{emit:t}){var ve;const{t:n}=Y(),l=E(null);let i,u=E(!0),a;const s=E(),r=E(),m=e.geometryType||((ve=e.fieldData)==null?void 0:ve.type.split(".")[1]),f=pr(e.type),v=En("mapbox_key"),_=el(),y=kt(),{basemap:g}=Re(y),$=V(()=>{var oe;const J=(oe=_.find(ae=>ae.name==g.value))!=null?oe:_[0];return g.value,Oo(J)});let h,k;try{h=mr({geometryFormat:f,geometryField:"value"}),k=kW({geometryFormat:f,geometryField:"value"})}catch(J){s.value=J}const A=E([]),F=E(),P=E();function O(){P.value=F.value?i.project(F.value):null}_e(F,O);const T={draw:new Wl(ne(m)),fitData:new Go("mapboxgl-ctrl-fitdata",ue),navigation:new Kt.exports.NavigationControl({showCompass:!1}),geolocate:new Kt.exports.GeolocateControl({showUserLocation:!1}),geocoder:void 0};v&&(T.geocoder=new fa({accessToken:v,collapsed:!0,flyTo:{speed:1.4},marker:!1,mapboxgl:Bl,placeholder:n("layouts.map.find_location")}));const N=E(!1),L=E(""),M=E({x:0,y:0});function B(){N.value=!1}const K=U.exports.debounce(J=>{var ae;const oe=(ae=J.features)==null?void 0:ae[0];oe&&oe.properties.active==="false"&&(L.value=n("interfaces.map.click_to_select",{geometry:oe.geometry.type}),N.value=!0,M.value=J.point)},200);function W(J){N.value=!1,K({point:J.point,features:J.features})}return it(()=>{const J=le();St(J)}),{t:n,tooltipPosition:M,tooltipVisible:N,tooltipMessage:L,container:l,mapLoading:u,resetValue:fe,geometryParsingError:r,geometryOptionsError:s,basemaps:_,basemap:g,location:F,projection:P,selection:A};function le(){return i=new Kt.exports.Map(pe(pe({container:l.value,style:$.value,attributionControl:!1,dragRotate:!1,logoPosition:"bottom-right"},e.defaultView),v?{accessToken:v}:{})),T.geocoder&&(i.addControl(T.geocoder,"top-right"),T.geocoder.on("result",J=>{F.value=J.result.center}),T.geocoder.on("clear",()=>{F.value=null})),T.geolocate.on("geolocate",J=>{const{longitude:oe,latitude:ae}=J.coords;F.value=[oe,ae]}),i.addControl(T.navigation,"top-left"),i.addControl(T.geolocate,"top-left"),i.addControl(T.fitData,"top-left"),i.addControl(T.draw,"top-left"),i.on("load",async()=>{i.resize(),u.value=!1,i.on("draw.create",X),i.on("draw.delete",X),i.on("draw.update",X),i.on("draw.modechange",H),i.on("draw.selectionchange",Z),i.on("move",O);for(const J of jW)i.on("mousedown",J,B),i.on("mousemove",J,W),i.on("mouseleave",J,W);window.addEventListener("keydown",te)}),_e(()=>e.value,G,{immediate:!0}),_e(()=>$.value,Q),_e(()=>e.disabled,Q),()=>{window.removeEventListener("keydown",te),i.remove()}}function G(J){if(J)U.exports.isEqual(J,a&&k(a))||(de(),T.draw.changeMode("simple_select"));else if(T.draw.deleteAll(),a=null,m){const ae=`draw_${U.exports.snakeCase(m.replace("Multi",""))}`;T.draw.changeMode(ae)}e.disabled&&T.draw.changeMode("static")}function Q(){i.removeControl(T.draw),i.setStyle($.value,{diff:!1}),T.draw=new Wl(ne(m)),i.addControl(T.draw,"top-left"),de()}function fe(J){r.value=void 0,J&&t("input",null)}function ue(J){if(i&&a){const oe=Ol(a);i.fitBounds(oe,pe({padding:80,maxZoom:8},J))}}function ne(J){const oe={styles:LW,controls:{},userProperties:!0,displayControlsDefault:!1,modes:Object.assign(Wl.modes,{static:Ud})};if(e.disabled)return oe;if(J){const ae=U.exports.snakeCase(J.replace("Multi",""));return oe.controls[ae]=!0,oe.controls.trash=!0,oe}else return oe.controls.line_string=!0,oe.controls.polygon=!0,oe.controls.point=!0,oe.controls.trash=!0,oe}function ee(J,oe){return!J||!oe?!0:J.startsWith("Multi")?J.replace("Multi","")==oe.replace("Multi",""):J==oe}function de(){try{T.draw.deleteAll();const J=h(e);if(!J)return;!e.disabled&&!ee(m,J.type)&&(r.value=n("interfaces.map.unexpected_geometry",{expected:m,got:J.type}));const oe=fr(J);for(const ae of oe)T.draw.add(ae);if(a=ce(),a.bbox=Ol(a),r.value){const ae=Ol(J);i.fitBounds(ae,{padding:0,maxZoom:8,duration:0})}else ue({duration:0})}catch(J){r.value=J}}function ce(){const oe=T.draw.getAll().features.map(me=>me.geometry);let ae;if(oe.length==0)return null;if(!m)oe.length>1?ae={type:"GeometryCollection",geometries:oe}:ae=oe[0];else if(m.startsWith("Multi")){const me=oe.filter(({type:ge})=>`Multi${ge}`==m).map(({coordinates:ge})=>ge);ae={type:m,coordinates:me}}else ae=oe[oe.length-1];return ae}function H(J){if(!e.disabled&&J.mode.startsWith("draw")&&m&&!m.startsWith("Multi"))for(const oe of T.draw.getAll().features.slice(0,-1))T.draw.delete(oe.id)}function Z(J){A.value=J.features}function X(){a=ce(),a?t("input",k(a)):(T.draw.deleteAll(),t("input",null))}function te(J){[8,46].includes(J.keyCode)&&T.draw.trash()}}}),MW={class:"interface-map"},UW={ref:"container"},NW={class:"mapboxgl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-dropdown basemap-select"};function BW(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-select"),r=c("v-notice"),m=c("v-info"),f=c("v-button"),v=c("v-card-actions");return p(),I("div",MW,[S("div",{class:se(["map",{loading:e.mapLoading,error:e.geometryParsingError||e.geometryOptionsError,"has-selection":e.selection.length>0}])},[S("div",UW,null,512)],2),e.location?(p(),I("div",{key:0,class:"mapboxgl-user-location-dot mapboxgl-search-location-dot",style:ze(`transform: translate(${e.projection.x}px, ${e.projection.y}px) translate(-50%, -50%) rotateX(0deg) rotateZ(0deg)`)},null,4)):R("",!0),o(jt,{name:"fade"},{default:d(()=>[e.tooltipVisible?(p(),I("div",{key:0,class:"tooltip top",style:ze(`display: block; transform: translate(${e.tooltipPosition.x}px, ${e.tooltipPosition.y}px) translate(-50%, -150%) rotateX(0deg) rotateZ(0deg)`)},b(e.tooltipMessage),5)):R("",!0)]),_:1}),S("div",NW,[o(a,{name:"map"}),o(s,{modelValue:e.basemap,"onUpdate:modelValue":t[0]||(t[0]=_=>e.basemap=_),inline:"",items:e.basemaps.map(_=>({text:_.name,value:_.name}))},null,8,["modelValue","items"])]),o(jt,{name:"fade"},{default:d(()=>[e.geometryOptionsError?(p(),C(m,{key:0,icon:"error",center:"",type:"danger",title:e.t("interfaces.map.invalid_options")},{default:d(()=>[o(r,{type:"danger",icon:!1},{default:d(()=>[D(b(e.geometryOptionsError),1)]),_:1})]),_:1},8,["title"])):e.geometryParsingError?(p(),C(m,{key:1,icon:"error",center:"",type:"warning",title:e.t("layouts.map.invalid_geometry")},{append:d(()=>[o(v,null,{default:d(()=>[o(f,{small:"",secondary:"",onClick:t[1]||(t[1]=_=>e.resetValue(!1))},{default:d(()=>[D(b(e.t("continue")),1)]),_:1}),o(f,{small:"",kind:"danger",onClick:t[2]||(t[2]=_=>e.resetValue(!0))},{default:d(()=>[D(b(e.t("reset")),1)]),_:1})]),_:1})]),default:d(()=>[o(r,{type:"warning",icon:!1},{default:d(()=>[D(b(e.geometryParsingError),1)]),_:1})]),_:1},8,["title"])):R("",!0)]),_:1})])}var qW=q(RW,[["render",BW],["__scopeId","data-v-5eae020f"]]);const zW=z({props:{collection:{type:String,required:!0},field:{type:Object,default:null},value:{type:Object,default:null}},emits:["input"],setup(e,{emit:t}){var h,k,A,F;const{t:n}=Y(),l=V(()=>e.field.type.split(".")[1]),i=E((A=(k=l.value)!=null?k:(h=e.value)==null?void 0:h.geometryType)!=null?A:"Point"),u=E((F=e.value)==null?void 0:F.defaultView);_e(()=>e.field.type,a),_e(l,s),_e([i,u],r,{immediate:!0});function a(P){P==="csv"&&(i.value="Point")}function s(P){i.value=P}function r(){t("input",{defaultView:u,geometryType:i.value})}const m=E(null);let f;const v=En("mapbox_key"),_=el(),y=kt(),{basemap:g}=Re(y),$=V(()=>{var O;const P=(O=_.find(T=>T.name==g.value))!=null?O:_[0];return Oo(P)});return it(()=>{f=new Kt.exports.Map(pe(pe({container:m.value,style:$.value,attributionControl:!1},u.value||{}),v?{accessToken:v}:{})),f.on("moveend",()=>{u.value={center:f.getCenter(),zoom:f.getZoom(),bearing:f.getBearing(),pitch:f.getPitch()}})}),St(()=>{f.remove()}),{t:n,nativeGeometryType:l,GEOMETRY_TYPES:Ca,geometryType:i,mapContainer:m}}}),KW={class:"form-grid"},HW={key:0,class:"field half-left"},WW={class:"type-label"},GW={class:"field"},JW={class:"type-label"},QW={ref:"mapContainer",class:"map"};function XW(e,t,n,l,i,u){const a=c("v-select");return p(),I("div",KW,[!e.nativeGeometryType&&e.field.type!=="csv"?(p(),I("div",HW,[S("div",WW,b(e.t("interfaces.map.geometry_type")),1),o(a,{modelValue:e.geometryType,"onUpdate:modelValue":t[0]||(t[0]=s=>e.geometryType=s),placeholder:e.t("any"),"show-deselect":!0,items:e.GEOMETRY_TYPES.map(s=>({value:s,text:s}))},null,8,["modelValue","placeholder","items"])])):R("",!0),S("div",GW,[S("div",JW,b(e.t("interfaces.map.default_view")),1),S("div",QW,null,512)])])}var ZW=q(zW,[["render",XW],["__scopeId","data-v-6367459a"]]),YW=Me({id:"map",name:"$t:interfaces.map.map",description:"$t:interfaces.map.description",icon:"map",component:qW,types:["geometry.Point","geometry.LineString","geometry.Polygon","geometry.MultiPoint","geometry.MultiLineString","geometry.MultiPolygon","geometry","json","string","text","csv"],group:"selection",options:ZW,recommendedDisplays:[]}),xW=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:YW});const eG=z({props:{color:{type:String,default:null},icon:{type:String,default:null},title:{type:String,default:null},inlineTitle:{type:Boolean,default:!1},marginTop:{type:Boolean,default:!0}}});function tG(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-divider");return p(),C(s,{class:se({"add-margin-top":e.marginTop}),style:ze({"--v-divider-label-color":e.color,"--v-divider-color":"var(--border-subdued)"}),large:"","inline-title":e.inlineTitle},Ze({_:2},[e.icon?{name:"icon",fn:d(()=>[o(a,{name:e.icon},null,8,["name"])])}:void 0,e.title?{name:"default",fn:d(()=>[D(b(e.title),1)])}:void 0]),1032,["class","style","inline-title"])}var nG=q(eG,[["render",tG],["__scopeId","data-v-63cedea8"]]),lG=Me({id:"presentation-divider",name:"$t:interfaces.presentation-divider.divider",description:"$t:interfaces.presentation-divider.description",icon:"remove",component:nG,hideLabel:!0,hideLoader:!0,types:["alias"],localTypes:["presentation"],group:"presentation",options:[{field:"title",name:"$t:title",type:"string",meta:{width:"full",interface:"input",options:{placeholder:"$t:interfaces.presentation-divider.title_placeholder"}}},{field:"color",name:"$t:color",type:"string",meta:{width:"half",interface:"select-color"}},{field:"icon",name:"$t:icon",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"marginTop",name:"$t:interfaces.presentation-divider.margin_top",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.presentation-divider.margin_top_label"}},schema:{default_value:!0}},{field:"inlineTitle",name:"$t:interfaces.presentation-divider.inline_title",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.presentation-divider.inline_title_label"}},schema:{default_value:!1}}]}),oG=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:lG});const aG=z({props:{disabled:{type:Boolean,default:!1},links:{type:Array,default:null}},setup(e){const t=bt("values",E({}));return{linksParsed:V(()=>e.links.map(l=>{var a;const i=U.exports.omit(l,["url"]),u=Un((a=l.url)!=null?a:"",t.value);return u.startsWith("/")?i.to=u:i.href=u,i}))}}}),iG={class:"presentation-links"},sG={key:1};function rG(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-button");return p(),I("div",iG,[(p(!0),I(ie,null,he(e.linksParsed,(r,m)=>(p(),C(s,{key:m,class:se(["action",[r.type]]),secondary:r.type!=="primary",disabled:e.disabled,icon:!r.label,href:r.href,to:r.to},{default:d(()=>[r.icon?(p(),C(a,{key:0,left:"",name:r.icon},null,8,["name"])):R("",!0),r.label?(p(),I("span",sG,b(r.label),1)):R("",!0)]),_:2},1032,["class","secondary","disabled","icon","href","to"]))),128))])}var dG=q(aG,[["render",rG],["__scopeId","data-v-406a838a"]]),uG=Me({id:"presentation-links",name:"$t:interfaces.presentation-links.presentation-links",description:"$t:interfaces.presentation-links.description",icon:"smart_button",component:dG,hideLabel:!0,hideLoader:!0,types:["alias"],localTypes:["presentation"],group:"presentation",options:({collection:e})=>[{field:"links",name:"$t:interfaces.presentation-links.links",type:"json",meta:{interface:"list",options:{fields:[{field:"label",type:"string",name:"$t:label",meta:{width:"full",interface:"input",options:{placeholder:"$t:label"}}},{field:"icon",name:"$t:icon",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"type",name:"$t:type",type:"string",meta:{width:"half",interface:"select-dropdown",default_value:"normal",options:{choices:[{text:"$t:primary",value:"primary"},{text:"$t:normal",value:"normal"},{text:"$t:info",value:"info"},{text:"$t:success",value:"success"},{text:"$t:warning",value:"warning"},{text:"$t:danger",value:"danger"}]}},schema:{default_value:"normal"}},{field:"url",type:"string",name:"$t:url",meta:{width:"full",interface:"system-display-template",options:{collectionName:e,font:"monospace",placeholder:"https://example.com/articles/{{ id }}/{{ slug }}"}}}]}}}]}),cG=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:uG});const pG=z({props:{color:{type:String,default:"normal"},icon:{type:String,default:"info"},text:{type:String,default:"No text configured..."}}}),mG={class:"presentation-notice"};function fG(e,t,n,l,i,u){const a=c("v-notice"),s=Se("md");return p(),I("div",mG,[o(a,{icon:e.icon,type:e.color},{default:d(()=>[x(S("div",null,null,512),[[s,e.text]])]),_:1},8,["icon","type"])])}var vG=q(pG,[["render",fG]]),_G=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="25" width="120" height="46" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="46" y="35" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="46" y="45" width="74" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="46" y="55" width="30" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="100" y="35" width="20" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<path
		d="M31.426 45.074h1.148v1.176h-1.148v-1.176zm0 2.352h1.148v3.5h-1.148v-3.5zm.574-5.25A5.811 5.811 0 0026.176 48 5.811 5.811 0 0032 53.824 5.811 5.811 0 0037.824 48 5.811 5.811 0 0032 42.176zm0 10.5A4.691 4.691 0 0127.324 48 4.691 4.691 0 0132 43.324 4.691 4.691 0 0136.676 48 4.691 4.691 0 0132 52.676z"
		fill="var(--primary)" />
</svg>
`,yG=Me({id:"presentation-notice",name:"$t:interfaces.presentation-notice.notice",description:"$t:interfaces.presentation-notice.description",icon:"info",component:vG,hideLabel:!0,hideLoader:!0,types:["alias"],localTypes:["presentation"],group:"presentation",options:[{field:"color",name:"$t:color",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:normal",value:"normal"},{text:"$t:info",value:"info"},{text:"$t:success",value:"success"},{text:"$t:warning",value:"warning"},{text:"$t:danger",value:"danger"}]}},schema:{default_value:"normal"}},{field:"icon",name:"$t:icon",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"text",name:"$t:text",type:"string",meta:{width:"full",interface:"input-multiline",options:{placeholder:"$t:interfaces.presentation-notice.text"}}}],preview:_G}),gG=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:yG});const hG=z({props:{disabled:{type:Boolean,default:!1},value:{type:String,default:null,validator:e=>e===null||e===""||Tl(e)},placeholder:{type:String,default:null},presets:{type:Array,default:()=>[{name:"Red",color:"#E35169"},{name:"Orange",color:"#F7971C"},{name:"Yellow",color:"#F2C94C"},{name:"Green",color:"#00C897"},{name:"Blue",color:"#68B0F4"},{name:"Purple",color:"#9E8DE4"},{name:"Gray",color:"#607D8B"},{name:"Light Gray",color:"#ECEFF1"},{name:"White",color:"#FFFFFF"}]},width:{type:String,required:!0}},emits:["input"],setup(e,{emit:t}){const{t:n}=Y(),l=E(null),i=["RGB","HSL"],u=E("RGB");function a(){t("input",null)}function s(){var h;((h=l.value)==null?void 0:h.$el).getElementsByTagName("input")[0].click()}const r=V(()=>v.value!==null&&e.value!==null),m=V(()=>{if(y.value===null)return!0;const h=getComputedStyle(document.body).getPropertyValue("--background-page").trim(),k=zt(h);return y.value.contrast(k)<1.1}),{hsl:f,rgb:v,hex:_,color:y}=$();return{t:n,colorTypes:i,colorType:u,rgb:v,hsl:f,hex:_,htmlColorInput:l,activateColorPicker:s,isValidColor:r,Color:zt,setValue:g,lowContrast:m,unsetColor:a};function g(h,k,A){if(h==="rgb"){const F=[...v.value];F[k]=A,v.value=F}else{const F=[...f.value];F[k]=A,f.value=F}}function $(){const h=E(null);_e(()=>e.value,O=>{h.value=O!==null?zt(O):null},{immediate:!0});const k=V({get(){return h.value!==null?h.value.rgb().array().map(Math.round):[0,0,0]},set(O){P(zt.rgb(O))}}),A=V({get(){return h.value!==null?h.value.hsl().array().map(Math.round):[0,0,0]},set(O){P(zt.hsl(O))}}),F=V({get(){return h.value!==null?h.value.hex():null},set(O){if(O===null||O==="")a();else{if(Tl(O)===!1)return;P(zt(O))}}});return{rgb:k,hsl:A,hex:F,color:h};function P(O){h.value=O,O===null?a():t("input",O.hex())}}}}),bG={class:"color-data-input color-type"},$G={key:0,class:"presets"};function wG(e,t,n,l,i,u){const a=c("v-input"),s=c("v-icon"),r=c("v-button"),m=c("v-select"),f=c("v-menu"),v=Se("tooltip");return p(),C(f,{attached:"",disabled:e.disabled,"close-on-content-click":!1},{activator:d(({activate:_})=>[o(a,{modelValue:e.hex,"onUpdate:modelValue":t[1]||(t[1]=y=>e.hex=y),disabled:e.disabled,placeholder:e.placeholder||e.t("interfaces.select-color.placeholder"),pattern:/#([a-f\d]{2}){3}/i,class:"color-input",maxlength:"7",onFocus:_},{prepend:d(()=>[o(a,{ref:"htmlColorInput",modelValue:e.hex,"onUpdate:modelValue":t[0]||(t[0]=y=>e.hex=y),type:"color",class:"html-color-select"},null,8,["modelValue"]),o(r,{class:"swatch",icon:!0,style:ze({"--v-button-background-color":e.isValidColor?e.hex:"transparent",border:e.lowContrast===!1?"none":"var(--border-width) solid var(--border-normal)"}),onClick:e.activateColorPicker},{default:d(()=>[e.isValidColor?R("",!0):(p(),C(s,{key:0,name:"colorize"}))]),_:1},8,["style","onClick"])]),append:d(()=>[o(s,{name:e.isValidColor?"close":"palette",clickable:"",onClick:e.unsetColor},null,8,["name","onClick"])]),_:2},1032,["modelValue","disabled","placeholder","pattern","onFocus"])]),default:d(()=>[S("div",{class:se(["color-data-inputs",{stacked:e.width==="half"}])},[S("div",bG,[o(m,{modelValue:e.colorType,"onUpdate:modelValue":t[2]||(t[2]=_=>e.colorType=_),items:e.colorTypes},null,8,["modelValue","items"])]),e.colorType==="RGB"?(p(!0),I(ie,{key:0},he(e.rgb,(_,y)=>(p(),C(a,{key:y,type:"number","model-value":_,class:"color-data-input",pattern:"\\d*",min:0,max:255,step:1,maxlength:"3","onUpdate:modelValue":g=>e.setValue("rgb",y,g)},null,8,["model-value","onUpdate:modelValue"]))),128)):R("",!0),e.colorType==="HSL"?(p(!0),I(ie,{key:1},he(e.hsl,(_,y)=>(p(),C(a,{key:y,type:"number","model-value":_,class:"color-data-input",pattern:"\\d*",min:0,max:y===0?360:100,step:1,maxlength:"3","onUpdate:modelValue":g=>e.setValue("hsl",y,g)},null,8,["model-value","max","onUpdate:modelValue"]))),128)):R("",!0)],2),e.presets?(p(),I("div",$G,[(p(!0),I(ie,null,he(e.presets,_=>x((p(),C(r,{key:_.color,class:"preset",rounded:"",icon:"",style:ze({"--v-button-background-color":_.color}),onClick:()=>e.hex=_.color},null,8,["style","onClick"])),[[v,_.name]])),128))])):R("",!0)]),_:1},8,["disabled"])}var kG=q(hG,[["render",wG],["__scopeId","data-v-751d12b2"]]),SG=Me({id:"select-color",name:"$t:interfaces.select-color.color",description:"$t:interfaces.select-color.description",icon:"palette",component:kG,types:["string"],recommendedDisplays:["color"],group:"selection",options:[{field:"presets",name:"$t:interfaces.select-color.preset_colors",type:"string",meta:{width:"full",interface:"list",options:{addLabel:"$t:interfaces.select-color.preset_colors_add_label",template:"{{ name }} - {{ color }}",fields:[{field:"name",type:"string",name:"$t:name",meta:{interface:"input",width:"half",options:{placeholder:"$t:interfaces.select-color.name_placeholder"}}},{field:"color",type:"string",name:"$t:color",meta:{interface:"select-color",width:"half"}}]}}}]}),CG=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:SG});const VG=z({props:{disabled:{type:Boolean,default:!1},value:{type:String,default:null},choices:{type:Array,default:null},icon:{type:String,default:null},allowNone:{type:Boolean,default:!1},placeholder:{type:String,default:()=>qe.global.t("select_an_item")},allowOther:{type:Boolean,default:!1}},emits:["input"],setup(){const{t:e}=Y();return{t:e}}});function FG(e,t,n,l,i,u){const a=c("v-notice"),s=c("v-icon"),r=c("v-select");return e.choices?(p(),C(r,{key:1,"model-value":e.value,items:e.choices,disabled:e.disabled,"show-deselect":e.allowNone,placeholder:e.placeholder,"allow-other":e.allowOther,"onUpdate:modelValue":t[0]||(t[0]=m=>e.$emit("input",m))},Ze({_:2},[e.icon?{name:"prepend",fn:d(()=>[o(s,{name:e.icon},null,8,["name"])])}:void 0]),1032,["model-value","items","disabled","show-deselect","placeholder","allow-other"])):(p(),C(a,{key:0,type:"warning"},{default:d(()=>[D(b(e.t("choices_option_configured_incorrectly")),1)]),_:1}))}var AG=q(VG,[["render",FG]]),IG=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="17.037" width="120" height="62" rx="6" fill="var(--background-page)" />
	<rect x="19" y="18.037" width="118" height="60" rx="5" stroke="var(--primary)" stroke-opacity=".25"
		stroke-width="2" />
	<rect x="28" y="51" width="40" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="63" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="18" y="17" width="120" height="26" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="18" width="118" height="24" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="28" y="27" width="70" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<path d="M120.966 28a.4.4 0 00-.283.683l3.034 3.034a.4.4 0 00.566 0l3.034-3.034a.4.4 0 00-.283-.683h-6.068z"
		fill="var(--primary)" />
</svg>
`,EG=Me({id:"select-dropdown",name:"$t:dropdown",description:"$t:interfaces.select-dropdown.description",icon:"arrow_drop_down_circle",component:AG,types:["string","integer","float","bigInteger"],group:"selection",preview:IG,options:({field:e})=>[{field:"choices",type:"json",name:"$t:choices",meta:{width:"full",interface:"list",options:{placeholder:"$t:interfaces.select-dropdown.choices_placeholder",template:"{{ text }}",fields:[{field:"text",type:"string",name:"$t:text",meta:{interface:"input",width:"half",options:{placeholder:"$t:interfaces.select-dropdown.choices_name_placeholder"}}},{field:"value",type:e.type,name:"$t:value",meta:{interface:"input",options:{font:"monospace",placeholder:"$t:interfaces.select-dropdown.choices_value_placeholder"},width:"half"}}]}}},{field:"allowOther",name:"$t:interfaces.select-dropdown.allow_other",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.select-dropdown.allow_other_label"}},schema:{default_value:!1}},{field:"allowNone",name:"$t:interfaces.select-dropdown.allow_none",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.select-dropdown.allow_none_label"}},schema:{default_value:!1}},{field:"icon",name:"$t:icon",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"placeholder",name:"$t:placeholder",type:"string",meta:{width:"half",interface:"input",options:{placeholder:"$t:enter_a_placeholder"}}}],recommendedDisplays:["labels"]}),DG=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:EG});const TG=z({components:{DrawerItem:qt,DrawerCollection:Qt},props:{value:{type:[Number,String,Object],default:null},collection:{type:String,required:!0},field:{type:String,required:!0},template:{type:String,default:null},selectMode:{type:String,default:"auto"},disabled:{type:Boolean,default:!1}},emits:["input"],setup(e,{emit:t}){const{t:n}=Y(),{collection:l}=Re(e),i=ut(),u=Ke(),{relation:a,relatedCollection:s,relatedPrimaryKeyField:r}=Q(),{usesMenu:m,menuActive:f}=fe(),{info:v}=at(l),{selection:_,stageSelection:y,selectModalActive:g}=ne(),{displayTemplate:$,onPreviewClick:h,requiredFields:k}=ue(),{totalCount:A,loading:F,fetchItems:P,items:O}=G(),{setCurrent:T,currentItem:N,loading:L,currentPrimaryKey:M}=le(),{edits:B,stageEdits:K}=ee(),W=E(!1);return{t:n,collectionInfo:v,currentItem:N,displayTemplate:$,items:O,itemsLoading:F,loadingCurrent:L,menuActive:f,onPreviewClick:h,relatedCollection:s,relation:a,selection:_,selectModalActive:g,setCurrent:T,totalCount:A,stageSelection:y,useMenu:fe,currentPrimaryKey:M,edits:B,stageEdits:K,editModalActive:W,relatedPrimaryKeyField:r};function le(){const de=E(null),ce=E(!1);_e(()=>e.value,te=>{var ve;te!==null&&te!==((ve=de.value)==null?void 0:ve[r.value.field])&&(typeof te=="string"||typeof te=="number")?X(te):te===null?de.value=null:!de.value&&typeof te=="object"&&te[r.value.field]&&X(te[r.value.field])},{immediate:!0});const H=V(()=>{var te,ve,J;return!de.value||!e.value||!r.value?"+":typeof e.value=="number"||typeof e.value=="string"?e.value:typeof e.value=="object"&&r.value.field in((te=e.value)!=null?te:{})&&(J=(ve=e.value)==null?void 0:ve[r.value.field])!=null?J:"+"});return{setCurrent:Z,currentItem:de,loading:ce,currentPrimaryKey:H};function Z(te){!r.value||(de.value=te,t("input",te[r.value.field]))}async function X(te){if(!r.value||!s.value)return;ce.value=!0;const ve=k.value||[];ve.includes(r.value.field)===!1&&ve.push(r.value.field);try{const J=s.value.collection.startsWith("directus_")?`/${s.value.collection.substring(9)}/${te}`:`/items/${s.value.collection}/${encodeURIComponent(te)}`,oe=await re.get(J,{params:{fields:ve}});de.value=oe.data.data}catch(J){Ce(J)}finally{ce.value=!1}}}function G(){const de=E(null),ce=E(null),H=E(!1);return _e(s,()=>{X(),ce.value=null}),{totalCount:de,fetchItems:Z,items:ce,loading:H};async function Z(){if(ce.value!==null||!s.value||!r.value)return;H.value=!0;const te=k.value||[];te.includes(r.value.field)===!1&&te.push(r.value.field);try{const ve=s.value.collection.startsWith("directus_")?`/${s.value.collection.substring(9)}`:`/items/${s.value.collection}`,J=await re.get(ve,{params:{fields:te,limit:-1}});ce.value=J.data.data}catch(ve){Ce(ve)}finally{H.value=!1}}async function X(){if(!s.value)return;const te=s.value.collection.startsWith("directus_")?`/${s.value.collection.substring(9)}`:`/items/${s.value.collection}`,ve=await re.get(te,{params:{limit:0,meta:"total_count"}});de.value=ve.data.meta.total_count}}function Q(){const de=V(()=>{var X;return(X=i.getRelationsForField(e.collection,e.field))==null?void 0:X[0]}),ce=V(()=>{var X;return((X=de.value)==null?void 0:X.related_collection)?u.getCollection(de.value.related_collection):null}),H=V(()=>{var X,te;return(te=(X=ce.value)==null?void 0:X.collection)!=null?te:null}),{primaryKeyField:Z}=at(H);return{relation:de,relatedCollection:ce,relatedPrimaryKeyField:Z}}function fe(){const de=E(!1),ce=V(()=>e.selectMode==="modal"?!1:e.selectMode==="dropdown"||A.value!==null&&A.value<=100);return{menuActive:de,usesMenu:ce}}function ue(){const de=V(()=>{var Z,X,te;return e.template!==null?e.template:((X=(Z=v.value)==null?void 0:Z.meta)==null?void 0:X.display_template)||`{{ ${((te=r==null?void 0:r.value)==null?void 0:te.field)||""} }}`}),ce=V(()=>!de.value||!s.value?null:Xt(yt(de.value),s.value.collection));return{onPreviewClick:H,displayTemplate:de,requiredFields:ce};function H(){if(!e.disabled)if(m.value===!0){const Z=!f.value;f.value=Z,Z===!0&&P()}else g.value=!0}}function ne(){const de=E(!1);return{selection:V(()=>{var Z;return e.value?r.value?typeof e.value=="object"&&r.value.field in((Z=e.value)!=null?Z:{})?[e.value[r.value.field]]:typeof e.value=="string"||typeof e.value=="number"?[e.value]:[]:[]:[]}),stageSelection:H,selectModalActive:de};function H(Z){Z.length===0?t("input",null):t("input",Z[0])}}function ee(){return{edits:V(()=>e.value&&typeof e.value=="object"?e.value:{}),stageEdits:ce};function ce(H){!r.value||(M.value&&M.value!=="+"?t("input",pe({[r.value.field]:M.value},H)):(r.value.field in H&&H[r.value.field]==="+"&&delete H[r.value.field],t("input",H)),N.value=pe(pe({},N.value),H))}}}}),PG={key:2,class:"many-to-one"},OG={class:"preview"};function LG(e,t,n,l,i,u){var A;const a=c("v-notice"),s=c("v-skeleton-loader"),r=c("render-template"),m=c("v-icon"),f=c("v-input"),v=c("v-list-item-content"),_=c("v-list-item"),y=c("v-list"),g=c("v-menu"),$=c("drawer-item"),h=c("drawer-collection"),k=Se("tooltip");return e.relation?e.displayTemplate?(p(),I("div",PG,[o(g,{modelValue:e.menuActive,"onUpdate:modelValue":t[3]||(t[3]=F=>e.menuActive=F),attached:"",disabled:e.disabled},{activator:d(({active:F})=>[e.loadingCurrent?(p(),C(s,{key:0,type:"input"})):(p(),C(f,{key:1,active:F,clickable:"",placeholder:e.t("select_an_item"),disabled:e.disabled,onClick:e.onPreviewClick},Ze({_:2},[e.currentItem?{name:"input",fn:d(()=>[S("div",OG,[o(r,{collection:e.relatedCollection.collection,item:e.currentItem,template:e.displayTemplate},null,8,["collection","item","template"])])])}:void 0,e.disabled?void 0:{name:"append",fn:d(()=>[e.currentItem?(p(),I(ie,{key:0},[x(o(m,{name:"open_in_new",class:"edit",onClick:t[0]||(t[0]=Fe(P=>e.editModalActive=!0,["stop"]))},null,512),[[k,e.t("edit")]]),x(o(m,{name:"close",class:"deselect",onClick:t[1]||(t[1]=Fe(P=>e.$emit("input",null),["stop"]))},null,512),[[k,e.t("deselect")]])],64)):(p(),I(ie,{key:1},[x(o(m,{class:"add",name:"add",onClick:t[2]||(t[2]=Fe(P=>e.editModalActive=!0,["stop"]))},null,512),[[k,e.t("create_item")]]),o(m,{class:se(["expand",{active:F}]),name:"expand_more"},null,8,["class"])],64))])}]),1032,["active","placeholder","disabled","onClick"]))]),default:d(()=>[o(y,null,{default:d(()=>[e.itemsLoading?(p(),I(ie,{key:0},he(10,F=>o(_,{key:`loader-${F}`},{default:d(()=>[o(v,null,{default:d(()=>[o(s,{type:"text"})]),_:1})]),_:2},1024)),64)):(p(!0),I(ie,{key:1},he(e.items,F=>(p(),C(_,{key:F[e.relatedPrimaryKeyField.field],active:e.value===F[e.relatedPrimaryKeyField.field],clickable:"",onClick:P=>e.setCurrent(F)},{default:d(()=>[o(v,null,{default:d(()=>[o(r,{collection:e.relatedCollection.collection,template:e.displayTemplate,item:F},null,8,["collection","template","item"])]),_:2},1024)]),_:2},1032,["active","onClick"]))),128))]),_:1})]),_:1},8,["modelValue","disabled"]),e.disabled?R("",!0):(p(),C($,{key:0,active:e.editModalActive,"onUpdate:active":t[4]||(t[4]=F=>e.editModalActive=F),collection:e.relatedCollection.collection,"primary-key":e.currentPrimaryKey,edits:e.edits,"circular-field":(A=e.relation.meta)==null?void 0:A.one_field,onInput:e.stageEdits},null,8,["active","collection","primary-key","edits","circular-field","onInput"])),e.disabled?R("",!0):(p(),C(h,{key:1,active:e.selectModalActive,"onUpdate:active":t[5]||(t[5]=F=>e.selectModalActive=F),collection:e.relatedCollection.collection,selection:e.selection,onInput:e.stageSelection},null,8,["active","collection","selection","onInput"]))])):(p(),C(a,{key:1,type:"warning"},{default:d(()=>[D(b(e.t("display_template_not_setup")),1)]),_:1})):(p(),C(a,{key:0,type:"warning"},{default:d(()=>[D(b(e.t("relationship_not_setup")),1)]),_:1}))}var jG=q(TG,[["render",LG],["__scopeId","data-v-1f8e6a47"]]),RG=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="17.037" width="120" height="62" rx="6" fill="var(--background-page)" />
	<rect x="19" y="18.037" width="118" height="60" rx="5" stroke="var(--primary)" stroke-opacity=".25"
		stroke-width="2" />
	<rect x="28" y="51" width="40" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="63" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="18" y="17" width="120" height="26" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="18" width="118" height="24" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="28" y="27" width="70" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<path d="M120.966 28a.4.4 0 00-.283.683l3.034 3.034a.4.4 0 00.566 0l3.034-3.034a.4.4 0 00-.283-.683h-6.068z"
		fill="var(--primary)" />
</svg>
`,MG=Me({id:"select-dropdown-m2o",name:"$t:interfaces.select-dropdown-m2o.many-to-one",description:"$t:interfaces.select-dropdown-m2o.description",icon:"arrow_right_alt",component:jG,types:["uuid","string","text","integer","bigInteger"],relational:!0,localTypes:["m2o"],group:"relational",options:({relations:e})=>{var n;const t=(n=e.m2o)==null?void 0:n.related_collection;return[{field:"template",name:"$t:interfaces.select-dropdown-m2o.display_template",meta:{interface:"system-display-template",options:{collectionName:t}}}]},recommendedDisplays:["related-values"],preview:RG}),UG=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:MG}),yr=[{name:"action",icons:["3d_rotation","accessibility","accessibility_new","accessible","accessible_forward","account_balance","account_balance_wallet","account_box","account_circle","add_shopping_cart","addchart","admin_panel_settings","alarm","alarm_add","alarm_off","alarm_on","all_inbox","all_out","analytics","anchor","android","announcement","api","app_blocking","arrow_circle_down","arrow_circle_up","arrow_right_alt","article","aspect_ratio","assessment","assignment","assignment_ind","assignment_late","assignment_return","assignment_returned","assignment_turned_in","autorenew","backup","backup_table","batch_prediction","book","book_online","bookmark","bookmark_border","bookmarks","bug_report","build","build_circle","cached","calendar_today","calendar_view_day","camera_enhance","cancel_schedule_send","card_giftcard","card_membership","card_travel","change_history","check_circle","check_circle_outline","chrome_reader_mode","class","close_fullscreen","code","comment_bank","commute","compare_arrows","contact_support","contactless","copyright","credit_card","dashboard","date_range","delete","delete_forever","delete_outline","description","dns","done","done_all","done_outline","donut_large","donut_small","drag_indicator","dynamic_form","eco","eject","euro_symbol","event","event_seat","exit_to_app","explore","explore_off","extension","face","fact_check","favorite","favorite_border","feedback","filter_alt","find_in_page","find_replace","fingerprint","flaky","flight_land","flight_takeoff","flip_to_back","flip_to_front","g_translate","gavel","get_app","gif","grade","grading","group_work","help","help_center","help_outline","highlight_alt","highlight_off","history","history_toggle_off","home","horizontal_split","hourglass_disabled","hourglass_empty","hourglass_full","http","https","important_devices","info","input","integration_instructions","invert_colors","label","label_important","label_off","language","launch","line_style","line_weight","list","lock","lock_open","login","loyalty","markunread_mailbox","maximize","mediation","minimize","motorcycle","note_add","offline_bolt","offline_pin","online_prediction","opacity","open_in_browser","open_in_full","open_in_new","open_with","outlet","pageview","pan_tool","payment","pending","pending_actions","perm_camera_mic","perm_contact_calendar","perm_data_setting","perm_device_information","perm_identity","perm_media","perm_phone_msg","perm_scan_wifi","pets","picture_in_picture","picture_in_picture_alt","plagiarism","play_for_work","polymer","power_settings_new","pregnant_woman","preview","print","privacy_tip","query_builder","question_answer","quickreply","receipt","record_voice_over","redeem","remove_shopping_cart","reorder","report_problem","request_page","restore","restore_from_trash","restore_page","room","rounded_corner","rowing","rule","schedule","search","search_off","settings","settings_applications","settings_backup_restore","settings_bluetooth","settings_brightness","settings_cell","settings_ethernet","settings_input_antenna","settings_input_component","settings_input_composite","settings_input_hdmi","settings_input_svideo","settings_overscan","settings_phone","settings_power","settings_remote","settings_voice","shop","shop_two","shopping_bag","shopping_basket","shopping_cart","smart_button","source","speaker_notes","speaker_notes_off","spellcheck","star_rate","stars","store","subject","subtitles_off","supervised_user_circle","supervisor_account","support","swap_horiz","swap_horizontal_circle","swap_vert","swap_vertical_circle","sync_alt","system_update_alt","tab","tab_unselected","table_view","text_rotate_up","text_rotate_vertical","text_rotation_angledown","text_rotation_angleup","text_rotation_down","text_rotation_none","theaters","thumb_down","thumb_up","thumbs_up_down","timeline","toc","today","toll","touch_app","tour","track_changes","translate","trending_down","trending_flat","trending_up","turned_in","turned_in_not","update","upgrade","verified","verified_user","vertical_split","view_agenda","view_array","view_carousel","view_column","view_day","view_headline","view_list","view_module","view_quilt","view_sidebar","view_stream","view_week","visibility","visibility_off","voice_over_off","watch_later","wifi_protected_setup","work","work_off","work_outline","wysiwyg","youtube_searched_for","zoom_in","zoom_out"]},{name:"alert",icons:["add_alert","auto_delete","error","error_outline","notification_important","warning"]},{name:"av",icons:["4k","5g","add_to_queue","airplay","album","art_track","av_timer","branding_watermark","call_to_action","closed_caption","closed_caption_disabled","control_camera","equalizer","explicit","fast_forward","fast_rewind","featured_play_list","featured_video","fiber_dvr","fiber_manual_record","fiber_new","fiber_pin","fiber_smart_record","forward_10","forward_30","forward_5","games","hd","hearing","hearing_disabled","high_quality","library_add","library_add_check","library_books","library_music","loop","mic","mic_none","mic_off","missed_video_call","movie","music_video","new_releases","not_interested","note","pause","pause_circle_filled","pause_circle_outline","play_arrow","play_circle_filled","play_circle_filled_white","play_circle_outline","playlist_add","playlist_add_check","playlist_play","queue","queue_music","queue_play_next","radio","recent_actors","remove_from_queue","repeat","repeat_one","replay","replay_10","replay_30","replay_5","shuffle","skip_next","skip_previous","slow_motion_video","snooze","sort_by_alpha","speed","stop","stop_circle","subscriptions","subtitles","surround_sound","video_call","video_label","video_library","video_settings","videocam","videocam_off","volume_down","volume_mute","volume_off","volume_up","web","web_asset"]},{name:"communication",icons:["add_ic_call","alternate_email","business","call","call_end","call_made","call_merge","call_missed","call_missed_outgoing","call_received","call_split","cancel_presentation","wifi","chat","chat_bubble","chat_bubble_outline","clear_all","comment","contact_mail","contact_phone","contacts","desktop_access_disabled","dialer_sip","dialpad","domain_disabled","domain_verification","duo","email","forum","forward_to_inbox","hourglass_bottom","hourglass_top","import_contacts","import_export","invert_colors_off","list_alt","live_help","location_off","location_on","mail_outline","mark_chat_read","mark_chat_unread","mark_email_read","mark_email_unread","message","mobile_screen_share","more_time","nat","no_sim","pause_presentation","person_add_disabled","person_search","phone","phone_disabled","phone_enabled","phonelink_erase","phonelink_lock","phonelink_ring","phonelink_setup","portable_wifi_off","present_to_all","print_disabled","qr_code","qr_code_scanner","read_more","ring_volume","rss_feed","screen_share","sentiment_satisfied_alt","speaker_phone","stay_current_landscape","stay_current_portrait","stay_primary_landscape","stay_primary_portrait","stop_screen_share","swap_calls","textsms","unsubscribe","voicemail","vpn_key","wifi_calling"]},{name:"content",icons:["add","add_box","add_circle","add_circle_outline","amp_stories","archive","backspace","ballot","biotech","block","calculate","clear","content_copy","content_cut","content_paste","create","delete_sweep","drafts","dynamic_feed","file_copy","filter_list","flag","font_download","forward","gesture","how_to_reg","how_to_vote","inbox","insights","link","link_off","low_priority","mail","markunread","move_to_inbox","next_week","outlined_flag","policy","push_pin","redo","remove","remove_circle","remove_circle_outline","reply","reply_all","report","report_off","save","save_alt","select_all","send","sort","square_foot","text_format","unarchive","undo","waves","weekend","where_to_vote"]},{name:"device",icons:["access_alarm","access_alarms","access_time","ad_units","add_alarm","add_to_home_screen","airplanemode_active","airplanemode_inactive","battery_alert","battery_charging_full","battery_full","battery_unknown","bluetooth","bluetooth_connected","bluetooth_disabled","bluetooth_searching","brightness_auto","brightness_high","brightness_low","brightness_medium","data_usage","developer_mode","devices","dvr","gps_fixed","graphic_eq","location_disabled","location_searching","mobile_friendly","mobile_off","nfc","screen_lock_landscape","screen_lock_portrait","screen_lock_rotation","screen_rotation","sd_storage","settings_system_daydream","signal_cellular_alt","signal_cellular_no_sim","signal_cellular_null","signal_cellular_off","signal_wifi_off","storage","usb","wallpaper","widgets","wifi_lock","wifi_tethering"]},{name:"editor",icons:["add_comment","attach_file","attach_money","bar_chart","border_all","border_bottom","border_clear","border_horizontal","border_inner","border_left","border_outer","border_right","border_style","border_top","border_vertical","bubble_chart","drag_handle","format_align_center","format_align_justify","format_align_left","format_align_right","format_bold","format_clear","format_color_reset","format_indent_decrease","format_indent_increase","format_italic","format_line_spacing","format_list_bulleted","format_list_numbered","format_list_numbered_rtl","format_paint","format_quote","format_shapes","format_size","format_strikethrough","format_textdirection_l_to_r","format_textdirection_r_to_l","format_underlined","functions","height","highlight","horizontal_rule","insert_chart","insert_comment","insert_drive_file","insert_emoticon","insert_invitation","insert_link","insert_photo","linear_scale","merge_type","mode_comment","monetization_on","money_off","multiline_chart","notes","pie_chart","post_add","publish","scatter_plot","score","short_text","show_chart","space_bar","strikethrough_s","subscript","superscript","table_chart","table_rows","text_fields","title","vertical_align_bottom","vertical_align_center","vertical_align_top","wrap_text"]},{name:"file",icons:["attach_email","attachment","cloud","cloud_circle","cloud_done","cloud_download","cloud_off","cloud_queue","cloud_upload","create_new_folder","folder","folder_open","folder_shared","request_quote","rule_folder","snippet_folder","text_snippet","topic"]},{name:"hardware",icons:["browser_not_supported","cast","cast_connected","cast_for_education","computer","desktop_mac","desktop_windows","developer_board","device_hub","device_unknown","devices_other","dock","gamepad","headset","headset_mic","keyboard","keyboard_arrow_down","keyboard_arrow_left","keyboard_arrow_right","keyboard_arrow_up","keyboard_backspace","keyboard_capslock","keyboard_hide","keyboard_return","keyboard_tab","keyboard_voice","laptop","laptop_chromebook","laptop_mac","laptop_windows","memory","mouse","phone_android","phone_iphone","phonelink","phonelink_off","point_of_sale","power_input","router","scanner","security","sim_card","smartphone","speaker","speaker_group","tablet","tablet_android","tablet_mac","toys","tv","videogame_asset","watch"]},{name:"home",icons:["sensor_door","sensor_window"]},{name:"image",icons:["add_a_photo","add_photo_alternate","add_to_photos","adjust","assistant","assistant_photo","audiotrack","bedtime","blur_circular","blur_linear","blur_off","blur_on","brightness_1","brightness_2","brightness_3","brightness_4","brightness_5","brightness_6","brightness_7","broken_image","brush","burst_mode","camera","camera_alt","camera_front","camera_rear","camera_roll","center_focus_strong","center_focus_weak","collections","collections_bookmark","color_lens","colorize","compare","control_point","control_point_duplicate","crop","crop_16_9","crop_3_2","crop_5_4","crop_7_5","crop_din","crop_free","crop_landscape","crop_original","crop_portrait","crop_rotate","crop_square","dehaze","details","edit","euro","exposure","exposure_neg_1","exposure_neg_2","exposure_plus_1","exposure_plus_2","exposure_zero","filter","filter_1","filter_2","filter_3","filter_4","filter_5","filter_6","filter_7","filter_8","filter_9","filter_9_plus","filter_b_and_w","filter_center_focus","filter_drama","filter_frames","filter_hdr","filter_none","filter_tilt_shift","filter_vintage","flare","flash_auto","flash_off","flash_on","flip","flip_camera_android","flip_camera_ios","gradient","grain","grid_off","grid_on","hdr_off","hdr_on","hdr_strong","hdr_weak","healing","image","image_aspect_ratio","image_not_supported","image_search","iso","landscape","leak_add","leak_remove","lens","linked_camera","looks","looks_3","looks_4","looks_5","looks_6","looks_one","looks_two","loupe","monochrome_photos","motion_photos_on","motion_photos_paused","movie_creation","movie_filter","music_note","music_off","nature","nature_people","navigate_before","navigate_next","palette","panorama","panorama_fish_eye","panorama_horizontal","panorama_vertical","panorama_wide_angle","photo","photo_album","photo_camera","photo_filter","photo_library","photo_size_select_actual","photo_size_select_large","photo_size_select_small","picture_as_pdf","portrait","receipt_long","remove_red_eye","rotate_90_degrees_ccw","rotate_left","rotate_right","shutter_speed","slideshow","straighten","style","switch_camera","switch_video","tag_faces","texture","timelapse","timer","timer_10","timer_3","timer_off","tonality","transform","tune","view_comfy","view_compact","vignette","wb_auto","wb_cloudy","wb_incandescent","wb_iridescent","wb_sunny"]},{name:"maps",icons:["360","add_business","add_location","add_location_alt","add_road","agriculture","alt_route","atm","beenhere","bike_scooter","category","cleaning_services","compass_calibration","departure_board","design_services","directions","directions_bike","directions_boat","directions_bus","directions_car","directions_railway","directions_run","directions_subway","directions_transit","directions_walk","edit_attributes","edit_location","edit_road","electric_bike","electric_car","electric_moped","electric_scooter","electrical_services","ev_station","fastfood","flight","handyman","home_repair_service","hotel","hvac","layers","layers_clear","local_activity","local_airport","local_atm","local_bar","local_cafe","local_car_wash","local_convenience_store","local_dining","local_drink","local_fire_department","local_florist","local_gas_station","local_grocery_store","local_hospital","local_hotel","local_laundry_service","local_library","local_mall","local_movies","local_offer","local_parking","local_pharmacy","local_phone","local_pizza","local_play","local_police","local_post_office","local_printshop","local_see","local_shipping","local_taxi","map","maps_ugc","medical_services","menu_book","miscellaneous_services","money","moped","multiple_stop","museum","my_location","navigation","near_me","no_meals","no_transfer","not_listed_location","pedal_bike","person_pin","person_pin_circle","pest_control","pest_control_rodent","pin_drop","place","plumbing","rate_review","restaurant","restaurant_menu","run_circle","satellite","store_mall_directory","streetview","subway","terrain","traffic","train","tram","transfer_within_a_station","transit_enterexit","trip_origin","two_wheeler","wrong_location","zoom_out_map"]},{name:"navigation",icons:["app_settings_alt","apps","arrow_back","arrow_back_ios","arrow_downward","arrow_drop_down","arrow_drop_down_circle","arrow_drop_up","arrow_forward","arrow_forward_ios","arrow_left","arrow_right","arrow_upward","campaign","cancel","check","chevron_left","chevron_right","close","double_arrow","east","expand_less","expand_more","first_page","fullscreen","fullscreen_exit","home_work","last_page","legend_toggle","menu","menu_open","more_horiz","more_vert","north","north_east","north_west","payments","refresh","south","south_east","south_west","subdirectory_arrow_left","subdirectory_arrow_right","switch_left","switch_right","unfold_less","unfold_more","west"]},{name:"notification",icons:["account_tree","adb","airline_seat_flat","airline_seat_flat_angled","airline_seat_individual_suite","airline_seat_legroom_extra","airline_seat_legroom_normal","airline_seat_legroom_reduced","airline_seat_recline_extra","airline_seat_recline_normal","bluetooth_audio","confirmation_number","directions_off","disc_full","drive_eta","enhanced_encryption","event_available","event_busy","event_note","folder_special","live_tv","mms","more","network_check","network_locked","no_encryption","ondemand_video","personal_video","phone_bluetooth_speaker","phone_callback","phone_forwarded","phone_in_talk","phone_locked","phone_missed","phone_paused","power","power_off","priority_high","sd_card","sms","sms_failed","support_agent","sync","sync_disabled","sync_problem","system_update","tap_and_play","time_to_leave","tv_off","vibration","voice_chat","vpn_lock","wc","wifi","wifi_off"]},{name:"places",icons:["ac_unit","airport_shuttle","all_inclusive","apartment","baby_changing_station","backpack","bathtub","beach_access","business_center","casino","charging_station","checkroom","child_care","child_friendly","corporate_fare","do_not_step","do_not_touch","dry","elevator","escalator","escalator_warning","family_restroom","fire_extinguisher","fitness_center","free_breakfast","golf_course","grass","hot_tub","house","kitchen","meeting_room","no_cell","no_drinks","no_flash","no_food","no_meeting_room","no_photography","no_stroller","pool","room_preferences","room_service","rv_hookup","smoke_free","smoking_rooms","soap","spa","stairs","storefront","stroller","tty","umbrella","wash","wheelchair_pickup"]},{name:"social",icons:["6_ft_apart","architecture","cake","clean_hands","construction","deck","domain","emoji_emotions","emoji_events","emoji_flags","emoji_food_beverage","emoji_nature","emoji_objects","emoji_people","emoji_symbols","emoji_transportation","engineering","fireplace","group","group_add","history_edu","king_bed","location_city","luggage","military_tech","mood","mood_bad","nights_stay","no_luggage","notifications","notifications_active","notifications_none","notifications_off","notifications_paused","outdoor_grill","pages","party_mode","people","people_alt","person","person_add","person_add_alt_1","person_outline","person_remove","plus_one","poll","psychology","public","public_off","school","science","self_improvement","sentiment_dissatisfied","sentiment_satisfied","sentiment_very_dissatisfied","sentiment_very_satisfied","share","single_bed","sports","sports_baseball","sports_basketball","sports_cricket","sports_esports","sports_football","sports_golf","sports_handball","sports_hockey","sports_kabaddi","sports_mma","sports_motorsports","sports_rugby","sports_soccer","sports_tennis","sports_volleyball","thumb_down_alt","thumb_up_alt","whatshot"]},{name:"toggle",icons:["check_box","check_box_outline_blank","indeterminate_check_box","radio_button_checked","radio_button_unchecked","star","star_border","star_half","toggle_off","toggle_on"]}];const NG=z({props:{value:{type:String,default:null},disabled:{type:Boolean,default:!1},width:{type:String,default:"half"}},emits:["input"],setup(e,{emit:t}){const{t:n}=Y(),l=E(""),i=V(()=>yr.map(a=>{if(l.value.length===0)return a;const s=a.icons.filter(r=>r.includes(l.value.toLowerCase()));return Ve(pe({},a),{icons:s,length:s.length})}));return{t:n,icons:yr,setIcon:u,searchQuery:l,filteredIcons:i,formatTitle:Ft};function u(a){l.value="",t("input",a)}}}),BG={key:0,class:"icons"};function qG(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-input"),r=c("v-divider"),m=c("v-menu");return p(),C(m,{attached:"",disabled:e.disabled},{activator:d(({active:f,activate:v})=>[o(s,{modelValue:e.searchQuery,"onUpdate:modelValue":t[1]||(t[1]=_=>e.searchQuery=_),disabled:e.disabled,placeholder:e.value?e.formatTitle(e.value):e.t("interfaces.select-icon.search_for_icon"),class:se({"has-value":e.value}),nullable:!1,onFocus:v},Ze({append:d(()=>[e.value!==null?(p(),C(a,{key:0,clickable:"",name:"close",onClick:t[0]||(t[0]=_=>e.setIcon(null))})):(p(),C(a,{key:1,clickable:"",name:"expand_more",class:se(["open-indicator",{open:f}]),onClick:v},null,8,["class","onClick"]))]),_:2},[e.value?{name:"prepend",fn:d(()=>[o(a,{clickable:"",name:e.value,class:se({active:e.value}),onClick:v},null,8,["name","class","onClick"])])}:void 0]),1032,["modelValue","disabled","placeholder","class","onFocus"])]),default:d(()=>[S("div",{class:se(["content",e.width])},[(p(!0),I(ie,null,he(e.filteredIcons,(f,v)=>(p(),I(ie,{key:f.name},[f.icons.length>0?(p(),I("div",BG,[(p(!0),I(ie,null,he(f.icons,_=>(p(),C(a,{key:_,name:_,class:se({active:_===e.value}),clickable:"",onClick:y=>e.setIcon(_)},null,8,["name","class","onClick"]))),128))])):R("",!0),f.icons.length>0&&v!==e.filteredIcons.length-1?(p(),C(r,{key:1})):R("",!0)],64))),128))],2)]),_:1},8,["disabled"])}var zG=q(NG,[["render",qG],["__scopeId","data-v-80080b9a"]]),KG=Me({id:"select-icon",name:"$t:interfaces.select-icon.icon",description:"$t:interfaces.select-icon.description",icon:"insert_emoticon",component:zG,types:["string"],group:"selection",options:[],recommendedDisplays:["icon"]}),HG=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:KG});const WG=z({props:{disabled:{type:Boolean,default:!1},value:{type:Array,default:null},choices:{type:Array,default:null},allowOther:{type:Boolean,default:!1},width:{type:String,default:null},iconOn:{type:String,default:"check_box"},iconOff:{type:String,default:"check_box_outline_blank"},color:{type:String,default:"var(--primary)"},itemsShown:{type:Number,default:8}},emits:["input"],setup(e,{emit:t}){const{t:n}=Y(),{choices:l,value:i}=Re(e),u=E(!1),a=V(()=>e.choices.length>e.itemsShown),s=V(()=>u.value||a.value===!1?e.choices:e.choices.slice(0,e.itemsShown)),r=V(()=>e.choices.length-e.itemsShown),m=V(()=>{var g;if(l.value===null)return null;const y=l.value.reduce(($,h)=>(h.text.length>$.length&&($=h.text),$),"").length;return((g=e.width)==null?void 0:g.startsWith("half"))?y<=10?"grid-2":"grid-1":y<=10?"grid-4":y>10&&y<=15?"grid-3":y>15&&y<=25?"grid-2":"grid-1"}),{otherValues:f,addOtherValue:v,setOtherValue:_}=Us(i,l,y=>t("input",y));return{t:n,gridClass:m,otherValues:f,addOtherValue:v,setOtherValue:_,choicesDisplayed:s,hideChoices:a,showAll:u,hiddenCount:r}}}),GG=["disabled"];function JG(e,t,n,l,i,u){const a=c("v-notice"),s=c("v-checkbox"),r=c("v-detail"),m=c("v-icon");return e.choices?(p(),I("div",{key:1,class:se(["checkboxes",e.gridClass]),style:ze({"--v-checkbox-color":e.color})},[(p(!0),I(ie,null,he(e.choicesDisplayed,f=>(p(),C(s,{key:f.value,block:"",value:f.value,label:f.text,disabled:e.disabled,"icon-on":e.iconOn,"icon-off":e.iconOff,"model-value":e.value||[],"onUpdate:modelValue":t[0]||(t[0]=v=>e.$emit("input",v))},null,8,["value","label","disabled","icon-on","icon-off","model-value"]))),128)),e.hideChoices&&e.showAll===!1?(p(),C(r,{key:0,class:se(e.gridClass),label:e.t("interfaces.select-multiple-checkbox.show_more",{count:e.hiddenCount}),"onUpdate:modelValue":t[1]||(t[1]=f=>e.showAll=!0)},null,8,["class","label"])):R("",!0),e.allowOther?(p(),I(ie,{key:1},[(p(!0),I(ie,null,he(e.otherValues,f=>(p(),C(s,{key:f.key,block:"","custom-value":"",value:f.value,disabled:e.disabled,"icon-on":e.iconOn,"icon-off":e.iconOff,"model-value":e.value||[],"onUpdate:value":v=>e.setOtherValue(f.key,v),"onUpdate:modelValue":t[2]||(t[2]=v=>e.$emit("input",v))},null,8,["value","disabled","icon-on","icon-off","model-value","onUpdate:value"]))),128)),e.allowOther?(p(),I("button",{key:0,disabled:e.disabled,class:"add-new custom",align:"left",outlined:"",dashed:"",secondary:"",onClick:t[3]||(t[3]=f=>e.addOtherValue())},[o(m,{name:"add"}),D(" "+b(e.t("other")),1)],8,GG)):R("",!0)],64)):R("",!0)],6)):(p(),C(a,{key:0,type:"warning"},{default:d(()=>[D(b(e.t("choices_option_configured_incorrectly")),1)]),_:1}))}var QG=q(WG,[["render",JG],["__scopeId","data-v-eb2534aa"]]),XG=`<svg width="156" height="96" viewBox="0 0 156 96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="54" y="36" width="70" height="6" rx="2" fill="var(--primary)" />
	<path
		d="M43.0742 33.75H34.9258C34.2695 33.75 33.75 34.2695 33.75 34.9258V43.0742C33.75 43.7305 34.2695 44.25 34.9258 44.25H43.0742C43.7305 44.25 44.25 43.7305 44.25 43.0742V34.9258C44.25 34.2695 43.7305 33.75 43.0742 33.75ZM43.0742 43.0742H34.9258V34.9258H43.0742V43.0742ZM42.5 37.25L41.6797 36.4297L37.8242 40.2578L36.3203 38.7539L35.5 39.6016L37.8242 41.9258L42.5 37.25Z"
		fill="var(--primary)" />
	<rect x="54" y="72" width="50" height="6" rx="2" fill="var(--primary)" />
	<path
		d="M43.0742 69.75H34.9258C34.2695 69.75 33.75 70.2695 33.75 70.9258V79.0742C33.75 79.7305 34.2695 80.25 34.9258 80.25H43.0742C43.7305 80.25 44.25 79.7305 44.25 79.0742V70.9258C44.25 70.2695 43.7305 69.75 43.0742 69.75ZM43.0742 79.0742H34.9258V70.9258H43.0742V79.0742ZM42.5 73.25L41.6797 72.4297L37.8242 76.2578L36.3203 74.7539L35.5 75.6016L37.8242 77.9258L42.5 73.25Z"
		fill="var(--primary)" />
	<rect x="54" y="18" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path
		d="M43.0742 16.9258V25.0742H34.9258V16.9258H43.0742ZM43.0742 15.75H34.9258C34.2695 15.75 33.75 16.2695 33.75 16.9258V25.0742C33.75 25.7305 34.2695 26.25 34.9258 26.25H43.0742C43.7305 26.25 44.25 25.7305 44.25 25.0742V16.9258C44.25 16.2695 43.7305 15.75 43.0742 15.75Z"
		fill="var(--primary)" fill-opacity="0.25" />
	<rect x="54" y="54" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path
		d="M43.0742 52.9258V61.0742H34.9258V52.9258H43.0742ZM43.0742 51.75H34.9258C34.2695 51.75 33.75 52.2695 33.75 52.9258V61.0742C33.75 61.7305 34.2695 62.25 34.9258 62.25H43.0742C43.7305 62.25 44.25 61.7305 44.25 61.0742V52.9258C44.25 52.2695 43.7305 51.75 43.0742 51.75Z"
		fill="var(--primary)" fill-opacity="0.25" />
</svg>
`,ZG=Me({id:"select-multiple-checkbox",name:"$t:interfaces.select-multiple-checkbox.checkboxes",icon:"check_box",component:QG,description:"$t:interfaces.select-multiple-checkbox.description",types:["json","csv"],group:"selection",preview:XG,options:[{field:"choices",type:"json",name:"$t:choices",meta:{width:"full",interface:"list",options:{template:"{{ text }}",fields:[{field:"text",type:"string",name:"$t:text",meta:{width:"half",interface:"input",options:{placeholder:"$t:interfaces.select-dropdown.choices_name_placeholder"}}},{field:"value",type:"string",name:"$t:value",meta:{width:"half",interface:"input",options:{font:"monospace",placeholder:"$t:interfaces.select-dropdown.choices_name_placeholder"}}}]}}},{field:"allowOther",name:"$t:interfaces.select-multiple-checkbox.allow_other",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:enable_custom_values"}},schema:{default_value:!1}},{field:"color",name:"$t:color",type:"string",meta:{width:"half",interface:"select-color"},schema:{default_value:"#00C897"}},{field:"iconOn",name:"$t:icon_on",type:"string",meta:{width:"half",interface:"select-icon"},schema:{default_value:"check_box"}},{field:"iconOff",name:"$t:icon_off",type:"string",meta:{width:"half",interface:"select-icon"},schema:{default_value:"check_box_outline_blank"}},{field:"itemsShown",name:"$t:interfaces.select-multiple-checkbox.items_shown",type:"integer",meta:{width:"half",interface:"input"},schema:{default_value:8}}],recommendedDisplays:["labels"]}),YG=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ZG});const xG=z({props:{value:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1},choices:{type:Array,default:()=>[]},valueCombining:{type:String,default:"all"}},emits:["input"],setup(){const{t:e}=Y(),t=E(""),n=E(!1),l=U.exports.debounce(u=>{i.value=u},250);_e(t,l);const i=E("");return{search:t,t:e,searchDebounced:i,showSelectionOnly:n}}}),eJ={class:"select-multiple-checkbox-tree"},tJ={class:"search"},nJ={class:"footer"},lJ=D(" / ");function oJ(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-input"),r=c("v-checkbox-tree");return p(),I("div",eJ,[S("div",tJ,[o(s,{modelValue:e.search,"onUpdate:modelValue":t[1]||(t[1]=m=>e.search=m),class:"input",type:"text",placeholder:e.t("search")},Ze({prepend:d(()=>[o(a,{name:"search"})]),_:2},[e.search?{name:"append",fn:d(()=>[o(a,{name:"clear",clickable:"",onClick:t[0]||(t[0]=m=>e.search="")})])}:void 0]),1032,["modelValue","placeholder"])]),o(r,{"model-value":e.value,search:e.searchDebounced,disabled:e.disabled,choices:e.choices,"value-combining":e.valueCombining,"show-selection-only":e.showSelectionOnly,"onUpdate:modelValue":t[2]||(t[2]=m=>e.$emit("input",m))},null,8,["model-value","search","disabled","choices","value-combining","show-selection-only"]),S("div",nJ,[S("span",{class:se({active:e.showSelectionOnly===!1}),onClick:t[3]||(t[3]=m=>e.showSelectionOnly=!1)},b(e.t("interfaces.select-multiple-checkbox-tree.show_all")),3),lJ,S("span",{class:se({active:e.showSelectionOnly===!0}),onClick:t[4]||(t[4]=m=>e.showSelectionOnly=!0)},b(e.t("interfaces.select-multiple-checkbox-tree.show_selected")),3)])])}var aJ=q(xG,[["render",oJ],["__scopeId","data-v-4588d42a"]]);const Xo=[{field:"text",type:"string",name:"$t:text",meta:{width:"half",interface:"input",options:{placeholder:"$t:interfaces.select-dropdown.choices_name_placeholder"}}},{field:"value",type:"string",name:"$t:value",meta:{width:"half",interface:"input",options:{font:"monospace",placeholder:"$t:interfaces.select-dropdown.choices_name_placeholder"}}}],gr={field:"children",type:"json",name:"$t:children",meta:{width:"full",interface:"list",options:{fields:Xo}}};function hr(e=0,t=3){return e<t?[...Xo,Ve(pe({},gr),{meta:Ve(pe({},gr.meta),{options:{fields:hr(e+1)}})})]:Xo}var iJ=Me({id:"select-multiple-checkbox-tree",name:"$t:interfaces.select-multiple-checkbox-tree.name",icon:"account_tree",component:aJ,description:"$t:interfaces.select-multiple-checkbox-tree.description",types:["json","csv"],group:"selection",options:[{field:"choices",type:"json",name:"$t:choices",meta:{width:"full",interface:"list",options:{template:"{{ text }}",fields:hr()}}},{field:"valueCombining",type:"string",name:"$t:interfaces.select-multiple-checkbox-tree.value_combining",schema:{default_value:"all"},meta:{note:"$t:interfaces.select-multiple-checkbox-tree.value_combining_note",interface:"select-dropdown",options:{choices:[{text:"$t:all",value:"all"},{text:"$t:branch",value:"branch"},{text:"$t:leaf",value:"leaf"},{text:"$t:indeterminate",value:"indeterminate"},{text:"$t:exclusive",value:"exclusive"}]}}}],recommendedDisplays:["labels"]}),sJ=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:iJ});const rJ=z({props:{disabled:{type:Boolean,default:!1},value:{type:Array,default:null},choices:{type:Array,default:null},icon:{type:String,default:null},allowNone:{type:Boolean,default:!1},placeholder:{type:String,default:null},allowOther:{type:Boolean,default:!1}},emits:["input"],setup(){const{t:e}=Y();return{t:e}}});function dJ(e,t,n,l,i,u){const a=c("v-notice"),s=c("v-icon"),r=c("v-select");return e.choices?(p(),C(r,{key:1,multiple:"","model-value":e.value,items:e.choices,disabled:e.disabled,"show-deselect":e.allowNone,placeholder:e.placeholder,"allow-other":e.allowOther,"close-on-content-click":!1,"onUpdate:modelValue":t[0]||(t[0]=m=>e.$emit("input",m))},Ze({_:2},[e.icon?{name:"prepend",fn:d(()=>[o(s,{name:e.icon},null,8,["name"])])}:void 0]),1032,["model-value","items","disabled","show-deselect","placeholder","allow-other"])):(p(),C(a,{key:0,type:"warning"},{default:d(()=>[D(b(e.t("choices_option_configured_incorrectly")),1)]),_:1}))}var uJ=q(rJ,[["render",dJ]]),cJ=`<svg width="156" height="96" viewBox="0 0 156 96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="15" width="120" height="66" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="16" width="118" height="64" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="28" y="25" width="80" height="6" rx="2" fill="var(--primary)" />
	<rect x="28" y="45.1479" width="70" height="6" rx="2" fill="var(--primary)" />
	<rect x="28" y="55.2222" width="80" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="28" y="65.2959" width="90" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="28" y="35.0737" width="90" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
</svg>
`,pJ=Me({id:"select-multiple-dropdown",name:"$t:interfaces.select-multiple-dropdown.select-multiple-dropdown",description:"$t:interfaces.select-multiple-dropdown.description",icon:"arrow_drop_down_circle",component:uJ,types:["json","csv"],group:"selection",preview:cJ,options:[{field:"choices",type:"json",name:"$t:choices",meta:{width:"full",interface:"list",options:{placeholder:"$t:interfaces.select-dropdown.choices_placeholder",template:"{{ text }}",fields:[{field:"text",type:"string",name:"$t:text",meta:{width:"half",interface:"input",options:{placeholder:"$t:interfaces.select-dropdown.choices_name_placeholder"}}},{field:"value",type:"string",name:"$t:value",meta:{width:"half",interface:"input",options:{font:"monospace",placeholder:"$t:interfaces.select-dropdown.choices_value_placeholder"}}}]}}},{field:"allowOther",name:"$t:interfaces.select-dropdown.allow_other",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.select-dropdown.allow_other_label"}},schema:{default_value:!1}},{field:"allowNone",name:"$t:interfaces.select-dropdown.allow_none",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.select-dropdown.allow_none_label"}},schema:{default_value:!1}},{field:"placeholder",name:"$t:placeholder",type:"string",meta:{width:"half",interface:"input",options:{placeholder:"$t:enter_a_placeholder"}}},{field:"icon",name:"$t:icon",type:"string",meta:{width:"half",interface:"select-icon"}}],recommendedDisplays:["labels"]}),mJ=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:pJ});const fJ=z({props:{disabled:{type:Boolean,default:!1},value:{type:String,default:null},choices:{type:Array,default:null},allowOther:{type:Boolean,default:!1},width:{type:String,default:null},iconOn:{type:String,default:"radio_button_checked"},iconOff:{type:String,default:"radio_button_unchecked"},color:{type:String,default:"var(--primary)"}},emits:["input"],setup(e,{emit:t}){const{t:n}=Y(),{choices:l,value:i}=Re(e),u=V(()=>{var f;if(l.value===null)return null;const m=l.value.reduce((v,_)=>(_.text.length>v.length&&(v=_.text),v),"").length;return((f=e.width)==null?void 0:f.startsWith("half"))?m<=10?"grid-2":"grid-1":m<=10?"grid-4":m>10&&m<=15?"grid-3":m>15&&m<=25?"grid-2":"grid-1"}),{otherValue:a,usesOtherValue:s}=Ms(i,l,m=>t("input",m)),r=V(()=>a.value?a.value&&s.value===!0?e.iconOn:e.iconOff:"add");return{t:n,gridClass:u,otherValue:a,usesOtherValue:s,customIcon:r}}}),vJ=["placeholder","disabled"];function _J(e,t,n,l,i,u){const a=c("v-notice"),s=c("v-radio"),r=c("v-icon");return e.choices?(p(),I("div",{key:1,class:se(["radio-buttons",e.gridClass]),style:ze({"--v-radio-color":e.color})},[(p(!0),I(ie,null,he(e.choices,m=>(p(),C(s,{key:m.value,block:"",value:m.value,label:m.text,disabled:e.disabled,"icon-on":e.iconOn,"icon-off":e.iconOff,"model-value":e.value,"onUpdate:modelValue":t[0]||(t[0]=f=>e.$emit("input",f))},null,8,["value","label","disabled","icon-on","icon-off","model-value"]))),128)),e.allowOther?(p(),I("div",{key:0,class:se(["custom",{active:!e.disabled&&e.usesOtherValue,"has-value":!e.disabled&&e.otherValue,disabled:e.disabled}])},[o(r,{disabled:e.disabled,name:e.customIcon,clickable:"",onClick:t[1]||(t[1]=m=>e.$emit("input",e.otherValue))},null,8,["disabled","name"]),x(S("input",{"onUpdate:modelValue":t[2]||(t[2]=m=>e.otherValue=m),placeholder:e.t("other"),disabled:e.disabled,onFocus:t[3]||(t[3]=m=>e.$emit("input",e.otherValue))},null,40,vJ),[[Hl,e.otherValue]])],2)):R("",!0)],6)):(p(),C(a,{key:0,type:"warning"},{default:d(()=>[D(b(e.t("choices_option_configured_incorrectly")),1)]),_:1}))}var yJ=q(fJ,[["render",_J],["__scopeId","data-v-3c9fc610"]]),gJ=`<svg width="156" height="96" viewBox="0 0 156 96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="54" y="36" width="70" height="6" rx="2" fill="var(--primary)" />
	<path
		d="M39 33.1758C35.7734 33.1758 33.1758 35.7734 33.1758 39C33.1758 42.2266 35.7734 44.8242 39 44.8242C42.2266 44.8242 44.8242 42.2266 44.8242 39C44.8242 35.7734 42.2266 33.1758 39 33.1758ZM39 43.6758C36.4297 43.6758 34.3242 41.5703 34.3242 39C34.3242 36.4297 36.4297 34.3242 39 34.3242C41.5703 34.3242 43.6758 36.4297 43.6758 39C43.6758 41.5703 41.5703 43.6758 39 43.6758ZM36.0742 39C36.0742 37.3867 37.3867 36.0742 39 36.0742C40.6133 36.0742 41.9258 37.3867 41.9258 39C41.9258 40.6133 40.6133 41.9258 39 41.9258C37.3867 41.9258 36.0742 40.6133 36.0742 39Z"
		fill="var(--primary)" />
	<rect x="54" y="72" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path
		d="M39 69.1758C35.7734 69.1758 33.1758 71.7734 33.1758 75C33.1758 78.2266 35.7734 80.8242 39 80.8242C42.2266 80.8242 44.8242 78.2266 44.8242 75C44.8242 71.7734 42.2266 69.1758 39 69.1758ZM39 79.6758C36.4297 79.6758 34.3242 77.5703 34.3242 75C34.3242 72.4297 36.4297 70.3242 39 70.3242C41.5703 70.3242 43.6758 72.4297 43.6758 75C43.6758 77.5703 41.5703 79.6758 39 79.6758Z"
		fill="var(--primary)" fill-opacity="0.25" />
	<rect x="54" y="18" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path
		d="M39 15.1758C35.7734 15.1758 33.1758 17.7734 33.1758 21C33.1758 24.2266 35.7734 26.8242 39 26.8242C42.2266 26.8242 44.8242 24.2266 44.8242 21C44.8242 17.7734 42.2266 15.1758 39 15.1758ZM39 25.6758C36.4297 25.6758 34.3242 23.5703 34.3242 21C34.3242 18.4297 36.4297 16.3242 39 16.3242C41.5703 16.3242 43.6758 18.4297 43.6758 21C43.6758 23.5703 41.5703 25.6758 39 25.6758Z"
		fill="var(--primary)" fill-opacity="0.25" />
	<rect x="54" y="54" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path
		d="M39 51.1758C35.7734 51.1758 33.1758 53.7734 33.1758 57C33.1758 60.2266 35.7734 62.8242 39 62.8242C42.2266 62.8242 44.8242 60.2266 44.8242 57C44.8242 53.7734 42.2266 51.1758 39 51.1758ZM39 61.6758C36.4297 61.6758 34.3242 59.5703 34.3242 57C34.3242 54.4297 36.4297 52.3242 39 52.3242C41.5703 52.3242 43.6758 54.4297 43.6758 57C43.6758 59.5703 41.5703 61.6758 39 61.6758Z"
		fill="var(--primary)" fill-opacity="0.25" />
</svg>
`,hJ=Me({id:"select-radio",name:"$t:interfaces.select-radio.radio-buttons",description:"$t:interfaces.select-radio.description",icon:"radio_button_checked",component:yJ,types:["string","integer","float","bigInteger"],recommendedDisplays:["badge"],group:"selection",preview:gJ,options:({field:e})=>[{field:"choices",type:"json",name:"$t:choices",meta:{width:"full",interface:"list",options:{template:"{{ text }}",fields:[{field:"text",type:"string",name:"$t:text",meta:{width:"half",interface:"input"}},{field:"value",type:e.type,name:"$t:value",meta:{width:"half",interface:"input",options:{font:"monospace"}}}]}}},{field:"iconOn",name:"$t:icon_on",type:"string",meta:{width:"half",interface:"select-icon"},schema:{default_value:"radio_button_checked"}},{field:"iconOff",name:"$t:icon_off",type:"string",meta:{width:"half",interface:"select-icon"},schema:{default_value:"radio_button_unchecked"}},{field:"color",name:"$t:color",type:"string",meta:{width:"half",interface:"select-color"}},{field:"allowOther",name:"$t:interfaces.select-dropdown.allow_other",type:"string",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.select-dropdown.allow_other_label"}},schema:{default_value:!1}}]}),bJ=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:hJ});const $J=z({props:{value:{type:Number,default:null},disabled:{type:Boolean,default:!1},minValue:{type:Number,default:0},maxValue:{type:Number,default:100},stepInterval:{type:Number,default:1},alwaysShowValue:{type:Boolean,default:!1}},emits:["input"]});function wJ(e,t,n,l,i,u){const a=c("v-slider");return p(),C(a,{"model-value":e.value,disabled:e.disabled,min:e.minValue,max:e.maxValue,step:e.stepInterval,"always-show-value":e.alwaysShowValue,"show-thumb-label":"","show-ticks":"","onUpdate:modelValue":t[0]||(t[0]=s=>e.$emit("input",s))},null,8,["model-value","disabled","min","max","step","always-show-value"])}var kJ=q($J,[["render",wJ],["__scopeId","data-v-26b36e86"]]),SJ=Me({id:"slider",name:"$t:interfaces.slider.slider",description:"$t:interfaces.slider.description",icon:"linear_scale",component:kJ,types:["integer","decimal","float","bigInteger"],group:"other",options:[{field:"minValue",name:"$t:interfaces.input.minimum_value",type:"integer",meta:{width:"half",interface:"input"}},{field:"maxValue",name:"$t:interfaces.input.maximum_value",type:"integer",meta:{width:"half",interface:"input"}},{field:"stepInterval",name:"$t:interfaces.input.step_interval",type:"integer",meta:{width:"half",interface:"input"}},{field:"alwaysShowValue",name:"$t:interfaces.slider.always_show_value",type:"boolean",meta:{width:"half",interface:"boolean"}}]}),CJ=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:SJ});const VJ=z({props:{disabled:{type:Boolean,default:!1},value:{type:Array,default:null},placeholder:{type:String,default:null},whitespace:{type:String,default:null},capitalization:{type:String,default:null},alphabetize:{type:Boolean,default:!1},iconLeft:{type:String,default:null},iconRight:{type:String,default:"local_offer"},presets:{type:Array,default:null},allowCustom:{type:Boolean,default:!0}},emits:["input"],setup(e,{emit:t}){const{t:n}=Y(),l=V(()=>e.presets!==null?s(e.presets):[]),i=E(s(e.value||[]));_e(()=>e.value,y=>{Array.isArray(y)&&(i.value=s(y)),y===null&&(i.value=[])});const u=V(()=>{let y=s(i.value);return e.allowCustom||(y=y.filter(g=>l.value.includes(g))),y}),a=V(()=>u.value.filter(y=>!l.value.includes(y)));function s(y){return y=y.map(g=>{g=g.trim(),e.capitalization==="uppercase"&&(g=g.toUpperCase()),e.capitalization==="lowercase"&&(g=g.toLowerCase());const $=e.whitespace===null?" ":e.whitespace;return e.capitalization==="auto-format"&&(g=Ft(g,new RegExp($))),g=g.replace(/ +/g,$),g}),e.alphabetize&&(y=y.concat().sort()),y=[...new Set(y)],y}return{t:n,onInput:r,addTag:f,removeTag:v,toggleTag:m,presetVals:l,customVals:a,selectedVals:u};function r(y){y.target&&(y.key==="Enter"||y.key===",")&&(y.preventDefault(),f(y.target.value),y.target.value="")}function m(y){u.value.includes(y)?v(y):f(y)}function f(y){!y||y===""||(y=y.trim(),i.value.push(y),_())}function v(y){i.value=i.value.filter(g=>g!==y),_()}function _(){t("input",u.value)}}}),FJ={class:"interface-tags"},AJ={key:1,class:"tags"},IJ={key:0,class:"presets tag-container"},EJ={key:1,class:"custom tag-container"};function DJ(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-input"),r=c("v-chip");return p(),I("div",FJ,[e.allowCustom?(p(),C(s,{key:0,placeholder:e.placeholder||e.t("interfaces.tags.add_tags"),disabled:e.disabled,onKeydown:e.onInput},Ze({append:d(()=>[o(a,{name:e.iconRight},null,8,["name"])]),_:2},[e.iconLeft?{name:"prepend",fn:d(()=>[o(a,{name:e.iconLeft},null,8,["name"])])}:void 0]),1032,["placeholder","disabled","onKeydown"])):R("",!0),e.presetVals.length>0||e.customVals.length>0?(p(),I("div",AJ,[e.presetVals.length>0?(p(),I("span",IJ,[(p(!0),I(ie,null,he(e.presetVals,m=>(p(),C(r,{key:m,class:se(["tag",{inactive:!e.selectedVals.includes(m)}]),disabled:e.disabled,small:"",label:"",clickable:"",onClick:f=>e.toggleTag(m)},{default:d(()=>[D(b(m),1)]),_:2},1032,["class","disabled","onClick"]))),128))])):R("",!0),e.customVals.length>0&&e.allowCustom?(p(),I("span",EJ,[e.presetVals.length>0?(p(),C(a,{key:0,class:"custom-tags-delimeter",name:"chevron_right"})):R("",!0),(p(!0),I(ie,null,he(e.customVals,m=>(p(),C(r,{key:m,disabled:e.disabled,class:"tag",small:"",label:"",clickable:"",onClick:f=>e.removeTag(m)},{default:d(()=>[D(b(m),1)]),_:2},1032,["disabled","onClick"]))),128))])):R("",!0)])):R("",!0)])}var TJ=q(VJ,[["render",DJ],["__scopeId","data-v-5f85ff84"]]),PJ=Me({id:"tags",name:"$t:interfaces.tags.tags",description:"$t:interfaces.tags.description",icon:"local_offer",component:TJ,types:["json","csv"],group:"standard",options:[{field:"presets",name:"$t:presets",type:"string",meta:{width:"full",interface:"tags"}},{field:"placeholder",name:"$t:placeholder",type:"string",meta:{width:"full",interface:"input",options:{placeholder:"$t:enter_a_placeholder"}}},{field:"alphabetize",name:"$t:interfaces.tags.alphabetize",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.tags.alphabetize_label"}},schema:{default_value:!1}},{field:"allowCustom",name:"$t:interfaces.select-dropdown.allow_other",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.select-dropdown.allow_other_label"}},schema:{default_value:!0}},{field:"whitespace",name:"$t:interfaces.tags.whitespace",type:"string",meta:{width:"half",interface:"select-dropdown",options:{allowNone:!0,choices:[{text:"$t:interfaces.tags.hyphen",value:"-"},{text:"$t:interfaces.tags.underscore",value:"_"},{text:"$t:interfaces.tags.remove",value:""}]}}},{field:"capitalization",name:"$t:interfaces.tags.capitalization",type:"string",meta:{width:"half",interface:"select-dropdown",options:{allowNone:!0,choices:[{text:"$t:interfaces.tags.uppercase",value:"uppercase"},{text:"$t:interfaces.tags.lowercase",value:"lowercase"},{text:"$t:interfaces.tags.auto_formatter",value:"auto-format"}]}}},{field:"iconLeft",name:"$t:icon_left",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"iconRight",name:"$t:icon_right",type:"string",meta:{width:"half",interface:"select-icon"}}],recommendedDisplays:["labels"]}),OJ=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:PJ});const LJ=z({components:{},props:{modelValue:{type:String,default:null},items:{type:Array,default:()=>[]},secondary:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e){return{displayValue:V(()=>{var l;const n=e.items.find(i=>i.value===e.modelValue);return(l=n==null?void 0:n.text)!=null?l:e.modelValue})}}}),jJ=["onClick"],RJ={class:"display-value"},MJ={class:"append-slot"},UJ={class:"start"},NJ={class:"end"};function BJ(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-progress-linear"),r=c("v-list-item"),m=c("v-list"),f=c("v-menu"),v=Se("tooltip");return p(),C(f,{attached:"",class:se(["language-select",{secondary:e.secondary}])},{activator:d(({toggle:_,active:y})=>[S("button",{class:"toggle",onClick:_},[o(a,{class:"translate",name:"translate"}),S("span",RJ,b(e.displayValue),1),o(a,{name:"expand_more",class:se({active:y})},null,8,["class"]),S("span",MJ,[ye(e.$slots,"append",{},void 0,!0)])],8,jJ)]),default:d(()=>[o(m,null,{default:d(()=>[(p(!0),I(ie,null,he(e.items,(_,y)=>(p(),C(r,{key:y,onClick:g=>e.$emit("update:modelValue",_.value)},{default:d(()=>[S("div",UJ,[S("div",{class:se(["dot",{show:_.edited}])},null,2),D(" "+b(_.text),1)]),S("div",NJ,[x(o(s,{value:_.progress,rounded:"",colorful:""},null,8,["value"]),[[v,`${Math.round(_.current/_.max*100)}%`]])])]),_:2},1032,["onClick"]))),128))]),_:1})]),_:3},8,["class"])}var qJ=q(LJ,[["render",BJ],["__scopeId","data-v-0ebb08d8"]]);function zJ(e={throttle:100}){const t=E(0),n=E(0);function l(){t.value=window.innerWidth,n.value=window.innerHeight}const i=U.exports.throttle(l,e.throttle);return aa(l),it(()=>{window.addEventListener("resize",i,{passive:!0})}),St(()=>{window.removeEventListener("resize",i)}),{width:t,height:n}}const KJ=z({components:{LanguageSelect:qJ},props:{collection:{type:String,required:!0},field:{type:String,required:!0},primaryKey:{type:[Number,String],required:!0},languageField:{type:String,default:null},value:{type:Array,default:null},autofocus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["input"],setup(e,{emit:t}){const{collection:n,field:l}=Re(e),{t:i}=Y(),u=Pe(),a=Je(),{width:s}=zJ(),r=E(!1),m=E(),f=E(),{info:v}=at(n);_e(r,ue=>{const ne=F.value;ue&&f.value===m.value&&(f.value=ne[0].value===m.value?ne[1].value:ne[0].value)});const{junction:_,junctionCollection:y,junctionPrimaryKeyField:g,relation:$,relationCollection:h,relationPrimaryKeyField:k}=Pl(n,l),A=V(()=>$.value?$.value.field:null),{languageOptions:F,loading:P}=Q(),{items:O,firstItem:T,loading:N,updateValue:L,secondItem:M,firstItemInitial:B,secondItemInitial:K}=fe(),W=V(()=>y.value===null?[]:u.getFieldsForCollection(y.value.collection)),le=V(()=>s.value>960&&F.value.length>1),G=V(()=>le.value&&r.value);return{collectionInfo:v,splitView:r,firstLang:m,secondLang:f,t:i,languageOptions:F,fields:W,translationsRelation:_,translationsCollection:y,translationsPrimaryKeyField:g,languagesRelation:$,languagesCollection:h,languagesPrimaryKeyField:k,translationsLanguageField:A,items:O,firstItem:T,secondItem:M,updateValue:L,firstItemInitial:B,secondItemInitial:K,splitViewAvailable:le,splitViewEnabled:G,languagesLoading:P,valuesLoading:N};function Q(){const ue=E([]),ne=E(!1),ee=E(null);return _e(h,ce,{immediate:!0}),{languageOptions:V(()=>{const H=A.value;if(H===null)return[];const Z=W.value.filter(te=>{var ve;return te.type!=="alias"&&((ve=te.meta)==null?void 0:ve.hidden)===!1&&te.meta.readonly===!1}),X=Z.length;return ue.value.map(te=>{var ge,$e,ke;if(k.value===null)return te;const ve=te[k.value.field],J=(ge=O.value.find(Ae=>Ae[H]===ve))!=null?ge:{},oe=($e=e.value)==null?void 0:$e.find(Ae=>typeof Ae=="object"&&Ae[H]===ve),ae=pe(pe({},J),oe!=null?oe:{}),me=Z.filter(Ae=>Ae.field in ae&&Nt(ae[Ae.field])).length;return{text:te[(ke=e.languageField)!=null?ke:k.value.field],value:ve,edited:oe!==void 0,progress:Math.round(me/X*100),max:X,current:me}})}),loading:ne,error:ee};async function ce(){var Z,X,te,ve,J,oe,ae;if(!h.value||!k.value)return;const H=new Set;e.languageField!==null&&H.add(e.languageField),H.add(k.value.field),ne.value=!0;try{const me=await re.get(`/items/${h.value.collection}`,{params:{fields:Array.from(H),limit:-1,sort:(Z=e.languageField)!=null?Z:k.value.field}});if(ue.value=me.data.data,!m.value){const ge=(te=(X=me.data.data)==null?void 0:X.find($e=>$e[k.value.field]===a.currentUser.language))==null?void 0:te[k.value.field];m.value=ge||((J=(ve=me.data.data)==null?void 0:ve[0])==null?void 0:J[k.value.field])}f.value||(f.value=(ae=(oe=me.data.data)==null?void 0:oe[1])==null?void 0:ae[k.value.field])}catch(me){Ce(me)}finally{ne.value=!1}}}function fe(){const ue=E([]),ne=E(!1),ee=E(null),de=V(()=>ve(m)),ce=V(()=>ve(f)),H=V(()=>te(m)),Z=V(()=>te(f));_e(()=>e.value,(ae,me)=>{ae&&U.exports.isNil(ae)!==U.exports.isNil(me)&&(ae==null?void 0:ae.every(ge=>typeof ge=="string"||typeof ge=="number"))&&J(),(ae===null||ae.length===0)&&(ue.value=[])},{immediate:!0});const X=V(()=>{var ge,$e;const ae=(ge=g.value)==null?void 0:ge.field;if(!ae)return[];const me=[...ue.value.map(ke=>ke[ae])];return($e=e.value)==null||$e.forEach(ke=>{if(typeof ke=="object")if(ae in ke){const Ae=me.findIndex(De=>De===ke[ae]);me[Ae]=ke}else me.push(ke)}),me});return{items:ue,firstItem:de,updateValue:oe,secondItem:ce,firstItemInitial:H,secondItemInitial:Z,loading:ne,error:ee};function te(ae){var $e;const me=Mn(ae),ge=A.value;return ge===null?{}:($e=ue.value.find(ke=>ke[ge]===me))!=null?$e:{}}function ve(ae){var $e,ke;const me=Mn(ae),ge=A.value;return ge===null?{}:(ke=($e=e.value)==null?void 0:$e.find(Ae=>typeof Ae=="object"&&Ae[ge]===me))!=null?ke:{}}async function J(){var ae;if(!(!((ae=_.value)==null?void 0:ae.field)||e.primaryKey==="+")){ne.value=!0;try{const me=await re.get(`/items/${y.value.collection}`,{params:{fields:"*",limit:-1,filter:{[_.value.field]:{_eq:e.primaryKey}}}});ue.value=me.data.data}catch(me){ee.value=me,Ce(me)}finally{ne.value=!1}}}function oe(ae,me){var Ne,lt;const ge=(Ne=g.value)==null?void 0:Ne.field,$e=A.value,ke=te(me),Ae=U.exports.assign({},ke,ae);if(!ge||!$e)return;let De=U.exports.cloneDeep((lt=X.value)!=null?lt:[]);if(ge in Ae){const Te=ue.value.find(Oe=>Oe[$e]===me);De=De.map(Oe=>typeof Oe=="number"||typeof Oe=="string"?Ae[ge]===Oe?Ae:Oe:Ae[ge]===Oe[ge]?U.exports.isEqual(Te,pe(pe({},Te),Ae))?Ae[ge]:Ae:Oe)}else{const Te=De.findIndex(Oe=>typeof Oe=="object"&&Oe[$e]===me);Te!==-1?Object.keys(Ae).length===1&&$e in Ae?De.splice(Te,1):De[Te]=Ae:De.push(Ve(pe({},Ae),{[$e]:me}))}t("input",De)}}}});function HJ(e,t,n,l,i,u){var v,_;const a=c("v-icon"),s=c("language-select"),r=c("v-form"),m=c("v-divider"),f=Se("tooltip");return p(),I("div",{class:se(["translations",{split:e.splitViewEnabled}])},[S("div",{class:se(["primary",e.splitViewEnabled?"half":"full"])},[o(s,{modelValue:e.firstLang,"onUpdate:modelValue":t[1]||(t[1]=y=>e.firstLang=y),items:e.languageOptions},{append:d(()=>[e.splitViewAvailable&&!e.splitViewEnabled?x((p(),C(a,{key:0,name:"flip",clickable:"",onClick:t[0]||(t[0]=Fe(y=>e.splitView=!0,["stop"]))},null,512)),[[f,e.t("interfaces.translations.toggle_split_view")]]):R("",!0)]),_:1},8,["modelValue","items"]),o(r,{disabled:e.disabled,loading:e.valuesLoading,fields:e.fields,"model-value":e.firstItem,"initial-values":e.firstItemInitial,badge:(v=e.languageOptions.find(y=>y.value===e.firstLang))==null?void 0:v.text,autofocus:e.autofocus,"onUpdate:modelValue":t[2]||(t[2]=y=>e.updateValue(y,e.firstLang))},null,8,["disabled","loading","fields","model-value","initial-values","badge","autofocus"]),o(m)],2),e.splitViewEnabled?(p(),I("div",{key:0,class:se(["secondary",e.splitViewEnabled?"half":"full"])},[o(s,{modelValue:e.secondLang,"onUpdate:modelValue":t[4]||(t[4]=y=>e.secondLang=y),items:e.languageOptions,secondary:""},{append:d(()=>[x(o(a,{name:"close",clickable:"",onClick:t[3]||(t[3]=Fe(y=>e.splitView=!e.splitView,["stop"]))},null,512),[[f,e.t("interfaces.translations.toggle_split_view")]])]),_:1},8,["modelValue","items"]),o(r,{disabled:e.disabled,loading:e.valuesLoading,"initial-values":e.secondItemInitial,fields:e.fields,badge:(_=e.languageOptions.find(y=>y.value===e.secondLang))==null?void 0:_.text,"model-value":e.secondItem,"onUpdate:modelValue":t[5]||(t[5]=y=>e.updateValue(y,e.secondLang))},null,8,["disabled","loading","initial-values","fields","badge","model-value"]),o(m)],2)):R("",!0)],2)}var WJ=q(KJ,[["render",HJ],["__scopeId","data-v-0839c442"]]),GJ=Me({id:"translations",name:"$t:translations",icon:"translate",types:["alias"],localTypes:["translations"],group:"relational",relational:!0,component:WJ,options:({relations:e})=>{var i;const t=Pe(),n=(i=e.m2o)==null?void 0:i.related_collection;let l=[];return n&&(l=t.getFieldsForCollection(n).map(u=>({text:u.name,value:u.field}))),[{field:"languageField",type:"string",name:"$t:interfaces.translations.language_field",meta:{interface:"select-dropdown",options:{placeholder:"$t:primary_key",choices:l}}}]}}),JJ=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:GJ});const QJ=z({props:{value:{type:String,default:null},disabled:{type:Boolean,default:!1},includeSystem:{type:Boolean,default:!1}},emits:["input"],setup(e){const{t}=Y(),n=Ke(),l=V(()=>[...n.collections.filter(u=>u.collection.startsWith("directus_")===!1),...e.includeSystem?n.crudSafeSystemCollections:[]]);return{items:V(()=>l.value.map(u=>({text:u.name,value:u.collection}))),t}}});function XJ(e,t,n,l,i,u){const a=c("v-select");return p(),C(a,{"model-value":e.value,disabled:e.disabled,items:e.items,placeholder:e.t("select_a_collection"),"onUpdate:modelValue":t[0]||(t[0]=s=>e.$emit("input",s))},null,8,["model-value","disabled","items","placeholder"])}var ZJ=q(QJ,[["render",XJ]]),YJ=Me({id:"system-collection",name:"$t:interfaces.system-collection.collection",description:"$t:interfaces.system-collection.description",icon:"featured_play_list",component:ZJ,types:["string"],options:[{field:"includeSystem",name:"$t:system",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.system-collection.include_system_collections"}},schema:{default_value:!1}}],system:!0,recommendedDisplays:["collection"]}),xJ=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:YJ});const eQ=z({props:{value:{type:Array,default:null},disabled:{type:Boolean,default:!1},includeSystem:{type:Boolean,default:!1}},emits:["input"],setup(e){const{t}=Y(),n=Ke(),l=V(()=>e.includeSystem?n.collections:n.collections.filter(u=>u.collection.startsWith("directus_")===!1)),i=V(()=>l.value.map(u=>({text:u.name,value:u.collection})));return{t,items:i}}});function tQ(e,t,n,l,i,u){const a=c("v-notice"),s=c("interface-select-multiple-checkbox");return e.items.length===0?(p(),C(a,{key:0},{default:d(()=>[D(b(e.t("no_collections")),1)]),_:1})):(p(),C(s,{key:1,choices:e.items,value:e.value,disabled:e.disabled,onInput:t[0]||(t[0]=r=>e.$emit("input",r))},null,8,["choices","value","disabled"]))}var nQ=q(eQ,[["render",tQ]]),lQ=Me({id:"system-collections",name:"$t:interfaces.system-collections.collections",description:"$t:interfaces.system-collections.description",icon:"featured_play_list",component:nQ,types:["json","csv"],options:[{field:"includeSystem",name:"$t:system",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.system-collections.include_system_collections"}},schema:{default_value:!1}}],system:!0,recommendedDisplays:["labels"]}),oQ=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:lQ});const aQ=z({props:{disabled:{type:Boolean,default:!1},value:{type:String,default:null},collectionField:{type:String,default:null},collectionName:{type:String,default:null}},emits:["input"],setup(e){const{t}=Y(),n=Ke(),l=bt("values",E({})),i=V(()=>{if(!e.collectionField)return e.collectionName?e.collectionName:null;const u=l.value[e.collectionField];return!!n.collections.find(s=>s.collection===u)===!1?null:u});return{t,collection:i}}}),iQ={class:"system-display-template"};function sQ(e,t,n,l,i,u){const a=c("v-notice"),s=c("v-field-template");return p(),I("div",iQ,[e.collection===null?(p(),C(a,{key:0,type:"info"},{default:d(()=>[D(b(e.t("interfaces.system-display-template.select_a_collection")),1)]),_:1})):(p(),C(s,{key:1,collection:e.collection,"model-value":e.value,disabled:e.disabled,"onUpdate:modelValue":t[0]||(t[0]=r=>e.$emit("input",r))},null,8,["collection","model-value","disabled"]))])}var rQ=q(aQ,[["render",sQ]]),dQ=Me({id:"system-display-template",name:"$t:interfaces.system-display-template.display-template",description:"$t:interfaces.system-display-template.description",icon:"arrow_drop_down_circle",component:rQ,types:["string"],system:!0,options:[{field:"collectionField",name:"$t:interfaces.system-display-template.collection_field",type:"string",meta:{width:"full",interface:"input"},schema:{default_value:null}}]}),uQ=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:dQ});const cQ=z({props:{collectionField:{type:String,default:null},collection:{type:String,default:null},typeAllowList:{type:Array,default:()=>[]},value:{type:String,default:null},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:null},allowNone:{type:Boolean,default:!1},allowPrimaryKey:{type:Boolean,default:!1}},emits:["input"],setup(e,{emit:t}){const{t:n}=Y(),l=Pe(),i=bt("values",E({})),u=V(()=>i.value[e.collectionField]||e.collection),a=V(()=>!e.collectionField&&!e.collection?[]:l.getFieldsForCollection(u.value));_e(u,(r,m)=>{m!==null&&r!==m&&t("input",null)});const s=V(()=>a.value.map(r=>{var f;let m=!1;return e.allowPrimaryKey===!1&&((f=r==null?void 0:r.schema)==null?void 0:f.is_primary_key)===!0&&(m=!0),e.typeAllowList.length>0&&e.typeAllowList.includes(r.type)===!1&&(m=!0),{text:r.name,value:r.field,disabled:m}}));return{t:n,selectItems:s,values:i,fields:a}}});function pQ(e,t,n,l,i,u){const a=c("v-notice"),s=c("v-select");return!e.collectionField&&!e.collection?(p(),C(a,{key:0,type:"warning"},{default:d(()=>[D(b(e.t("collection_field_not_setup")),1)]),_:1})):e.selectItems.length===0?(p(),C(a,{key:1,type:"warning"},{default:d(()=>[D(b(e.t("select_a_collection")),1)]),_:1})):(p(),C(s,{key:2,"show-deselect":e.allowNone,"model-value":e.value,disabled:e.disabled,items:e.selectItems,placeholder:e.placeholder||e.t("select_a_field"),"onUpdate:modelValue":t[0]||(t[0]=r=>e.$emit("input",r))},null,8,["show-deselect","model-value","disabled","items","placeholder"]))}var mQ=q(cQ,[["render",pQ]]),fQ=Me({id:"system-field",name:"$t:field",icon:"box",component:mQ,types:["string"],options:[],system:!0}),vQ=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:fQ});const _Q=z({props:{collectionField:{type:String,default:null},collection:{type:String,default:null},value:{type:Array,default:null},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:null},allowNone:{type:Boolean,default:!1}},emits:["input"],setup(e){const{t}=Y(),n=bt("values",E({})),l=V(()=>n.value[e.collectionField]||e.collection),{treeList:i,loadFieldRelations:u}=il(l);return{t,values:n,treeList:i,chosenCollection:l,loadFieldRelations:u}}}),yQ={key:2,class:"system-field-tree"};function gQ(e,t,n,l,i,u){const a=c("v-notice"),s=c("v-checkbox-tree");return!e.collectionField&&!e.collection?(p(),C(a,{key:0,type:"warning"},{default:d(()=>[D(b(e.t("collection_field_not_setup")),1)]),_:1})):e.chosenCollection?(p(),I("div",yQ,[o(s,{"model-value":e.value,disabled:e.disabled,choices:e.treeList,"item-text":"name","item-value":"key","value-combining":"exclusive","onUpdate:modelValue":t[0]||(t[0]=r=>e.$emit("input",r)),onGroupToggle:t[1]||(t[1]=r=>e.loadFieldRelations(r.value))},null,8,["model-value","disabled","choices"])])):(p(),C(a,{key:1,type:"warning"},{default:d(()=>[D(b(e.t("select_a_collection")),1)]),_:1}))}var hQ=q(_Q,[["render",gQ],["__scopeId","data-v-1bd9310a"]]),bQ=Me({id:"system-field-tree",name:"$t:field",icon:"box",component:hQ,types:["string"],options:[],system:!0}),$Q=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:bQ});const wQ=z({props:{is:{type:String,required:!0},type:{type:String,required:!0},value:{type:[String,Number,Object,Boolean,Array],default:null},focus:{type:Boolean,default:!0},choices:{type:Array,default:()=>[]}},emits:["input"],setup(e,{emit:t}){const n=E(),{t:l}=Y(),i=V(()=>e.value===null||e.value===void 0?null:typeof e.value=="string"&&e.value.length>25?e.value.substring(0,22)+"...":e.value),u=V(()=>{var r;return(((r=e.value)==null?void 0:r.toString().length)||2)+1+"ch"}),a=V(()=>{switch(e.type){case"integer":case"bigInteger":return"[+-]?[0-9]+";case"decimal":case"float":return"[+-]?[0-9]+\\.?[0-9]*";case"uuid":return"[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}";default:return""}});return it(()=>{var r;e.focus&&((r=n.value)==null||r.focus())}),{displayValue:i,width:u,t:l,emitValue:s,inputEl:n,inputPattern:a};function s(r){if(r==="")return t("input",null);if(typeof r=="string"&&["$NOW","$CURRENT_USER","$CURRENT_ROLE"].some(m=>r.startsWith(m))||typeof r!="string"||new RegExp(a.value).test(r))return t("input",r)}}}),kQ=["pattern","value"],SQ=["onClick"];function CQ(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-select"),r=c("v-menu");return e.type==="boolean"?(p(),C(a,{key:0,name:e.value===null?"indeterminate_check_box":e.value?"check_box":"check_box_outline_blank",clickable:"",class:"preview",small:"",onClick:t[0]||(t[0]=m=>e.$emit("input",!e.value))},null,8,["name"])):e.is==="interface-input"?(p(),I("input",{key:1,ref:"inputEl",type:"text",pattern:e.inputPattern,value:e.value,style:ze({width:e.width}),placeholder:"--",onInput:t[1]||(t[1]=m=>e.emitValue(m.target.value))},null,44,kQ)):e.is==="select"?(p(),C(s,{key:2,inline:"",items:e.choices,"model-value":e.value,placeholder:e.t("select"),"allow-other":"","onUpdate:modelValue":t[2]||(t[2]=m=>e.emitValue(m))},null,8,["items","model-value","placeholder"])):(p(),C(r,{key:3,"close-on-content-click":!1,"show-arrow":!0,placement:"bottom-start"},{activator:d(({toggle:m})=>[e.type.startsWith("geometry")||e.type==="json"?(p(),C(a,{key:0,class:"preview",name:e.type==="json"?"integration_instructions":"map",onClick:m},null,8,["name","onClick"])):(p(),I("div",{key:1,class:"preview",onClick:m},b(e.displayValue),9,SQ))]),default:d(()=>[S("div",{class:se(["input",e.type])},[(p(),C(Ue(e.is),{class:"input-component",small:"",type:e.type,value:e.value,onInput:t[3]||(t[3]=m=>e.emitValue(m))},null,8,["type","value"]))],2)]),_:1}))}var VQ=q(wQ,[["render",CQ],["__scopeId","data-v-0cdd55fb"]]);function rl(e){return e?Object.keys(e)[0]:""}function on(e){const t=rl(e);if(t.startsWith("_")||!U.exports.isPlainObject(e[t]))return"";const n=on(e[t]);return n!==""?`${t}.${n}`:t}function jn(e){return rl(U.exports.get(e,on(e)))}function Zo(e,t,n){return l(e.split("."));function l(i){const u=i.shift();return u!==void 0?{[u]:l(i)}:{[t]:n}}}const FQ=z({components:{InputComponent:VQ},props:{field:{type:Object,required:!0},collection:{type:String,required:!0}},emits:["update:field"],setup(e,{emit:t}){const n=Pe(),{t:l}=Y(),i=V(()=>n.getField(e.collection,on(e.field))),u=V(()=>{var f,v,_,y;return((_=(v=(f=i.value)==null?void 0:f.meta)==null?void 0:v.options)==null?void 0:_.choices)?"select":"interface-"+{bigInteger:"input",binary:"input",boolean:"boolean",date:"datetime",dateTime:"datetime",decimal:"input",float:"input",integer:"input",json:"input-code",string:"input",text:"input-multiline",time:"datetime",timestamp:"datetime",uuid:"input",csv:"input",hash:"input-hash",geometry:"map"}[((y=i.value)==null?void 0:y.type)||"string"]}),a=V({get(){const m=on(e.field),f=jn(e.field),v=U.exports.get(e.field,`${m}.${f}`);return["_in","_nin"].includes(jn(e.field))?[...v.filter(_=>_!==null&&_!==""),null]:v},set(m){const f=on(e.field),v=jn(e.field);let _;["_in","_nin"].includes(v)?_=m.filter(y=>y!==null&&y!==""):_=m,t("update:field",Zo(f,v,_))}}),s=V(()=>{var m,f,v,_;return Vt((_=(v=(f=(m=i.value)==null?void 0:m.meta)==null?void 0:f.options)==null?void 0:v.choices)!=null?_:{})});return{t:l,choices:s,fieldInfo:i,interfaceType:u,value:a,setValueAt:r,getComparator:jn};function r(m,f){let v=Array.isArray(a.value)?U.exports.clone(a.value):new Array(m+1);v[m]=f,a.value=v}}}),AQ={class:"and"};function IQ(e,t,n,l,i,u){var s,r,m,f,v,_;const a=c("input-component");return["_eq","_neq","_lt","_gt","_lte","_gte","_contains","_ncontains","_starts_with","_nstarts_with","_ends_with","_nends_with"].includes(e.getComparator(e.field))?(p(),C(a,{key:0,is:e.interfaceType,choices:e.choices,type:(r=(s=e.fieldInfo)==null?void 0:s.type)!=null?r:"unknown",value:e.value,onInput:t[0]||(t[0]=y=>e.value=y)},null,8,["is","choices","type","value"])):["_in","_nin"].includes(e.getComparator(e.field))?(p(),I("div",{key:1,class:se(["list",{moveComma:e.interfaceType==="interface-input"}])},[(p(!0),I(ie,null,he(e.value,(y,g)=>{var $,h;return p(),I("div",{key:g,class:"value"},[o(a,{is:e.interfaceType,type:(h=($=e.fieldInfo)==null?void 0:$.type)!=null?h:"unknown",value:y,focus:!1,choices:e.choices,onInput:k=>e.setValueAt(g,k)},null,8,["is","type","value","choices","onInput"])])}),128))],2)):["_between","_nbetween"].includes(e.getComparator(e.field))?(p(),I(ie,{key:2},[o(a,{is:e.interfaceType,choices:e.choices,type:(f=(m=e.fieldInfo)==null?void 0:m.type)!=null?f:"unknown",value:e.value[0],onInput:t[1]||(t[1]=y=>e.setValueAt(0,y))},null,8,["is","choices","type","value"]),S("div",AQ,b(e.t("interfaces.filter.and")),1),o(a,{is:e.interfaceType,choices:e.choices,type:(_=(v=e.fieldInfo)==null?void 0:v.type)!=null?_:"unknown",value:e.value[1],onInput:t[2]||(t[2]=y=>e.setValueAt(1,y))},null,8,["is","choices","type","value"])],64)):R("",!0)}var EQ=q(FQ,[["render",IQ],["__scopeId","data-v-21d4a8ae"]]);const DQ=z({name:"Nodes",components:{Draggable:Ct,InputGroup:EQ},props:{filter:{type:Object,required:!0},collection:{type:String,required:!0},depth:{type:Number,default:1},inline:{type:Boolean,default:!1}},emits:["remove-node","update:filter","change"],setup(e,{emit:t}){const{collection:n}=Re(e),l=Le(e,"filter",t),{treeList:i,loadFieldRelations:u}=il(n),a=Pe(),{t:s}=Y(),r=V({get(){return e.filter.map((h,k)=>{const A=rl(h),F=A.startsWith("_")===!1;return F?{id:k,isField:F,name:A,field:on(h),comparator:jn(h),node:h}:{id:k,name:A,isField:F,node:h}})},set(h){t("update:filter",h.map(k=>k.node))}});return{fieldOptions:i,getCompareOptions:$,updateField:y,updateComparator:_,t:s,replaceNode:g,toggleLogic:v,loadFieldRelations:u,getNodeName:rl,getField:on,getComparator:jn,filterInfo:r,getIndex:f,getFieldPreview:m,filterSync:l};function m(h){const A=on(h).split(".");return A.map((P,O)=>{var L;const T=A.slice(0,O),N=a.getField(e.collection,[...T,P].join("."));return(L=N==null?void 0:N.name)!=null?L:P}).join(" -> ")}function f(h){return e.filter.findIndex(k=>k===h)}function v(h){const k=r.value[h];r.value[h].isField||("_and"in k.node?l.value=l.value.map((A,F)=>F===h?{_or:k.node._and}:A):l.value=l.value.map((A,F)=>F===h?{_and:k.node._or}:A))}function _(h,k){const A=r.value[h];if(A.isField===!1)return;const F=A.field+"."+A.comparator;let P=U.exports.get(A.node,F);switch(k){case"_in":case"_nin":O(vl(P)||[]);break;case"_between":case"_nbetween":O((vl(P)||[]).slice(0,2));break;case"_null":case"_nnull":case"_empty":case"_nempty":O(!0);break;case"_intersects":case"_nintersects":case"_intersects_bbox":case"_nintersects_bbox":["_intersects","_nintersects","_intersects_bbox","_nintersects_bbox"].includes(A.comparator)?O(P):O(null);break;default:O(Array.isArray(P)?P[0]:P);break}function O(T){A.isField!==!1&&(l.value=l.value.map((N,L)=>L===h?Zo(A.field,k,T):N))}}function y(h,k){const A=r.value[h],F=a.getField(e.collection,A.name),P=a.getField(e.collection,k);if(A.isField===!1)return;const O=A.field+"."+A.comparator;let T=U.exports.get(A.node,O),N=A.comparator;(F==null?void 0:F.type)!==(P==null?void 0:P.type)&&(T=null,N=$(k)[0].value),l.value=l.value.map((L,M)=>M===h?Zo(k,N,T):L)}function g(h,k){l.value=l.value.map((A,F)=>F===h?k:A)}function $(h){const k=a.getField(e.collection,h);return k===null?[]:Sa(k.type).map(A=>({text:s(`operators.${A}`),value:`_${A}`}))}}}),TQ={class:"row"},PQ={key:0,block:"",class:"node field"},OQ={class:"delete"},LQ={key:1,class:"node logic"},jQ=["onClick"],RQ={class:"text"},MQ={class:"delete"};function UQ(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-select"),r=c("input-group"),m=c("nodes",!0),f=c("draggable"),v=Se("tooltip");return p(),C(f,{tag:"ul",draggable:".row",handle:".drag-handle",class:"group",list:e.filterSync,group:{name:"g1"},"item-key":e.getIndex,"swap-threshold":.3,"force-fallback":!0,onChange:t[2]||(t[2]=_=>e.$emit("change"))},{item:d(({element:_,index:y})=>[S("li",TQ,[e.filterInfo[y].isField?(p(),I("div",PQ,[S("div",{class:se(["header",{inline:e.inline}])},[o(a,{name:"drag_indicator",class:"drag-handle",small:""}),o(s,{inline:"",class:"name","item-text":"name","item-value":"key",placement:"bottom-start","full-width":!1,"model-value":e.filterInfo[y].field,items:e.fieldOptions,mandatory:!1,"groups-clickable":!0,onGroupToggle:t[0]||(t[0]=g=>e.loadFieldRelations(g.value)),"onUpdate:modelValue":g=>e.updateField(y,g)},{preview:d(()=>[D(b(e.getFieldPreview(_)),1)]),_:2},1032,["model-value","items","onUpdate:modelValue"]),o(s,{inline:"",class:"comparator",placement:"bottom-start","model-value":e.filterInfo[y].comparator,items:e.getCompareOptions(e.filterInfo[y].field),"onUpdate:modelValue":g=>e.updateComparator(y,g)},null,8,["model-value","items","onUpdate:modelValue"]),o(r,{field:_,collection:e.collection,"onUpdate:field":g=>e.replaceNode(y,g)},null,8,["field","collection","onUpdate:field"]),S("span",OQ,[x(o(a,{name:"close",small:"",clickable:"",onClick:g=>e.$emit("remove-node",[y])},null,8,["onClick"]),[[v,e.t("delete_label")]])])],2)])):(p(),I("div",LQ,[S("div",{class:se(["header",{inline:e.inline}])},[o(a,{name:"drag_indicator",class:"drag-handle",small:""}),S("div",{class:se(["logic-type",{or:e.filterInfo[y].name==="_or"}])},[S("span",{class:"key",onClick:g=>e.toggleLogic(y)},b(e.filterInfo[y].name==="_and"?e.t("interfaces.filter.all"):e.t("interfaces.filter.any")),9,jQ),S("span",RQ,b(e.t("interfaces.filter.of_the_following")),1)],2),S("span",MQ,[x(o(a,{name:"close",small:"",clickable:"",onClick:g=>e.$emit("remove-node",[y])},null,8,["onClick"]),[[v,e.t("delete_label")]])])],2),o(m,{filter:_[e.filterInfo[y].name],collection:e.collection,depth:e.depth+1,inline:e.inline,onChange:t[1]||(t[1]=g=>e.$emit("change")),onRemoveNode:g=>e.$emit("remove-node",[`${y}.${e.filterInfo[y].name}`,...g]),"onUpdate:filter":g=>e.replaceNode(y,{[e.filterInfo[y].name]:g})},null,8,["filter","collection","depth","inline","onRemoveNode","onUpdate:filter"])]))])]),_:1},8,["list","item-key","swap-threshold"])}var NQ=q(DQ,[["render",UQ],["__scopeId","data-v-8fb0011e"]]);const BQ=z({components:{Nodes:NQ},props:{value:{type:Object,default:null},disabled:{type:Boolean,default:!1},collectionName:{type:String,default:null},collectionField:{type:String,default:null},inline:{type:Boolean,default:!1}},emits:["input"],setup(e,{emit:t}){const{t:n}=Y(),l=bt("values",E({})),i=V(()=>{var y;return e.collectionName?e.collectionName:(y=l.value[e.collectionField])!=null?y:null}),u=Pe(),{treeList:a,loadFieldRelations:s}=il(i),r=V({get(){return!e.value||U.exports.isEmpty(e.value)?[]:rl(e.value)==="_and"?U.exports.cloneDeep(e.value._and):U.exports.cloneDeep([e.value])},set(y){switch(y.length){case 0:t("input",null);break;case 1:t("input",y[0]);break;default:t("input",{_and:y});break}}}),m=V(()=>[{key:"$group",name:n("interfaces.filter.add_group")},{divider:!0},...a.value]);return{t:n,addNode:v,removeNode:_,innerValue:r,fieldOptions:m,loadFieldRelations:s,emitValue:f,collection:i};function f(){r.value.length===0?t("input",null):t("input",{_and:r.value})}function v(y){if(y==="$group")r.value=r.value.concat({_and:[]});else{const g=u.getField(i.value,y),$=Sa(g.type)[0],h=U.exports.set({},y,{["_"+$]:null});r.value=r.value.concat(h)}}function _(y){const g=y.pop();if(y.length===0){r.value=r.value.filter((h,k)=>k!==Number(g));return}let $=U.exports.get(r.value,y.join("."));$=$.filter((h,k)=>k!==Number(g)),r.value=U.exports.set(r.value,y.join("."),$)}}}),qQ={key:0,class:"no-rules"},zQ={class:"buttons"};function KQ(e,t,n,l,i,u){const a=c("v-notice"),s=c("nodes"),r=c("v-list"),m=c("v-icon"),f=c("v-select");return!e.collectionField&&!e.collection?(p(),C(a,{key:0,type:"warning"},{default:d(()=>[D(b(e.t("collection_field_not_setup")),1)]),_:1})):e.collection?(p(),I("div",{key:2,class:se(["system-filter",{inline:e.inline,empty:e.innerValue.length===0}])},[o(r,{mandatory:!0},{default:d(()=>[e.innerValue.length===0?(p(),I("div",qQ,b(e.t("interfaces.filter.no_rules")),1)):(p(),C(s,{key:1,filter:e.innerValue,"onUpdate:filter":t[0]||(t[0]=v=>e.innerValue=v),collection:e.collection,depth:1,onRemoveNode:t[1]||(t[1]=v=>e.removeNode(v)),onChange:e.emitValue},null,8,["filter","collection","onChange"]))]),_:1}),S("div",zQ,[o(f,{inline:!e.inline,"item-text":"name","item-value":"key",placement:"bottom-start",class:"add-filter",placeholder:e.t("interfaces.filter.add_filter"),"full-width":e.inline,"model-value":null,items:e.fieldOptions,mandatory:!1,"groups-clickable":!0,onGroupToggle:t[2]||(t[2]=v=>e.loadFieldRelations(v.value)),"onUpdate:modelValue":t[3]||(t[3]=v=>e.addNode(v))},Ze({_:2},[e.inline?{name:"prepend",fn:d(()=>[o(m,{name:"add",small:""})])}:void 0]),1032,["inline","placeholder","full-width","items"])])],2)):(p(),C(a,{key:1,type:"warning"},{default:d(()=>[D(b(e.t("select_a_collection")),1)]),_:1}))}var HQ=q(BQ,[["render",KQ],["__scopeId","data-v-404ba734"]]),WQ=Me({id:"system-filter",name:"$t:interfaces.filter.name",icon:"search",component:HQ,types:["json"],options:[],system:!0}),GQ=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:WQ});const JQ=z({name:"FolderListItem",props:{folder:{type:Object,required:!0},currentFolder:{type:String,default:null},disabled:{type:Boolean,default:!1},disabledFolders:{type:Array,default:()=>[]}},emits:["click"]});function QQ(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-list-item-icon"),r=c("v-list-item-content"),m=c("v-list-item"),f=c("folder-list-item",!0),v=c("v-list-group");return!e.folder.children||e.folder.children.length===0?(p(),C(m,{key:0,active:e.currentFolder===e.folder.id,disabled:e.disabled,clickable:"",onClick:t[0]||(t[0]=_=>e.$emit("click",e.folder.id))},{default:d(()=>[o(s,null,{default:d(()=>[o(a,{name:e.currentFolder===e.folder.id?"folder_open":"folder"},null,8,["name"])]),_:1}),o(r,null,{default:d(()=>[D(b(e.folder.name),1)]),_:1})]),_:1},8,["active","disabled"])):(p(),C(v,{key:1,clickable:"",active:e.currentFolder===e.folder.id,disabled:e.disabled,onClick:t[2]||(t[2]=_=>e.$emit("click",e.folder.id))},{activator:d(()=>[o(s,null,{default:d(()=>[o(a,{name:e.currentFolder===e.folder.id?"folder_open":"folder"},null,8,["name"])]),_:1}),o(r,null,{default:d(()=>[D(b(e.folder.name),1)]),_:1})]),default:d(()=>[(p(!0),I(ie,null,he(e.folder.children,_=>(p(),C(f,{key:_.id,folder:_,"current-folder":e.currentFolder,disabled:e.disabledFolders.includes(_.id),"disabled-folders":e.disabledFolders,onClick:t[1]||(t[1]=y=>e.$emit("click",y))},null,8,["folder","current-folder","disabled","disabled-folders"]))),128))]),_:1},8,["active","disabled"]))}var XQ=q(JQ,[["render",QQ]]);const ZQ=z({components:{FolderListItem:XQ},props:{value:{type:String,default:void 0},disabledFolders:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""}},emits:["input"],setup(e,{emit:t}){const{t:n}=Y(),{nestedFolders:l,folders:i,loading:u}=Gn(),a=V(()=>{if(!e.value||!i.value)return n("interfaces.system-folder.root_name");const f=i.value.find(v=>v.id===e.value);return f?r(f,i.value).map(v=>v.name).join(" / "):e.value});return{emitValue:s,loading:u,folderPath:a,nestedFolders:l,onFolderSelect:m,t:n};function s(f){return t("input",f)}function r(f,v){const _=new Map(v.map(g=>[g.id,g])),y=g=>(_.has(g.parent)?y(_.get(g.parent)):[]).concat(g);return y(f)}function m(f){e.disabled||t("input",f)}}});function YQ(e,t,n,l,i,u){const a=c("v-skeleton-loader"),s=c("v-icon"),r=c("v-input"),m=c("v-list-item-icon"),f=c("v-list-item-content"),v=c("v-list-item"),_=c("v-divider"),y=c("folder-list-item"),g=c("v-list"),$=c("v-menu");return e.loading?(p(),C(a,{key:0})):(p(),C($,{key:1,class:"v-select",attached:!0,"show-arrow":!1,disabled:e.disabled,"close-on-content-click":!0},{activator:d(({toggle:h,active:k})=>[o(r,{readonly:"",active:k,"model-value":e.folderPath,placeholder:e.placeholder,disabled:e.disabled,onClick:h},{prepend:d(()=>[o(s,{name:e.value?"folder_open":"folder_special"},null,8,["name"])]),append:d(()=>[o(s,{name:"expand_more",class:se({active:k})},null,8,["class"])]),_:2},1032,["active","model-value","placeholder","disabled","onClick"])]),default:d(()=>[o(g,null,{default:d(()=>[o(v,{clickable:"",active:!e.value,onClick:t[0]||(t[0]=h=>e.emitValue(null))},{default:d(()=>[o(m,null,{default:d(()=>[o(s,{name:"folder_special"})]),_:1}),o(f,null,{default:d(()=>[D(b(e.t("interfaces.system-folder.root_name")),1)]),_:1})]),_:1},8,["active"]),e.nestedFolders&&e.nestedFolders.length>0?(p(),C(_,{key:0})):R("",!0),(p(!0),I(ie,null,he(e.nestedFolders,h=>(p(),C(y,{key:h.id,clickbable:"",folder:h,"current-folder":e.value,disabled:e.disabledFolders.includes(h.id),"disabled-folders":e.disabledFolders,onClick:e.emitValue},null,8,["folder","current-folder","disabled","disabled-folders","onClick"]))),128))]),_:1})]),_:1},8,["disabled"]))}var xQ=q(ZQ,[["render",YQ],["__scopeId","data-v-243bccaf"]]),eX=Me({id:"system-folder",name:"$t:interfaces.system-folder.folder",description:"$t:interfaces.system-folder.description",icon:"folder",component:xQ,types:["uuid"],options:[],system:!0,recommendedDisplays:["raw"]}),tX=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:eX});const nX=z({props:{value:{type:String,default:null},typeField:{type:String,default:null}},emits:["input"],setup(e,{emit:t}){const{t:n}=Y(),{interfaces:l}=bn(),i=bt("values",E({})),u=V(()=>{if(!(e.typeField===null||!i.value[e.typeField]))return i.value[e.typeField]});_e(()=>i.value[e.typeField],()=>{t("input",null)});const a=V(()=>l.value.filter(s=>s.relational!==!0&&s.system!==!0).filter(s=>u.value===void 0||s.types.includes(u.value)).map(s=>({text:s.name,value:s.id})));return{t:n,items:a,selectedType:u,values:i}}});function lX(e,t,n,l,i,u){const a=c("v-notice"),s=c("v-select");return e.selectedType===void 0?(p(),C(a,{key:0},{default:d(()=>[D(b(e.t("select_field_type")),1)]),_:1})):(p(),C(s,{key:1,items:e.items,"model-value":e.value,placeholder:e.t("interfaces.system-interface.placeholder"),"onUpdate:modelValue":t[0]||(t[0]=r=>e.$emit("input",r))},null,8,["items","model-value","placeholder"]))}var oX=q(nX,[["render",lX]]),aX=Me({id:"system-interface",name:"$t:interfaces.system-interface.interface",description:"$t:interfaces.system-interface.description",icon:"box",component:oX,types:["string"],system:!0,options:[]}),iX=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:aX});const sX=z({props:{value:{type:Object,default:null},interfaceField:{type:String,default:null},interface:{type:String,default:null},collection:{type:String,default:null}},emits:["input"],setup(e,{emit:t}){const{t:n}=Y(),l=V({get(){return e.value},set(r){t("input",r)}}),i=bt("values",E({})),u=V(()=>{if(e.interface)return Dt(e.interface);if(!!i.value[e.interfaceField])return Dt(i.value[e.interfaceField])}),a=V(()=>u.value?u.value.options&&"render"in u.value.options:!1),s=V(()=>{if(!u.value)return[];if(!u.value.options)return[];if(a.value===!0)return[];let r;return typeof u.value.options=="function"?r=u.value.options({field:{type:"unknown"},editing:"+",collection:e.collection,relations:{o2m:void 0,m2o:void 0,m2a:void 0},collections:{related:void 0,junction:void 0},fields:{corresponding:void 0,junctionCurrent:void 0,junctionRelated:void 0,sort:void 0},items:{},localType:"standard",autoGenerateJunctionRelation:!1,saving:!1}):r=u.value.options,Array.isArray(r)?r:[...r.standard,...r.advanced]});return{t:n,selectedInterface:u,values:i,usesCustomComponent:a,optionsFields:s,options:l}}}),rX={key:2,class:"inset"};function dX(e,t,n,l,i,u){const a=c("v-notice"),s=c("v-form");return e.selectedInterface?e.usesCustomComponent===!1&&e.optionsFields.length===0?(p(),C(a,{key:1},{default:d(()=>[D(b(e.t("no_options_available")),1)]),_:1})):(p(),I("div",rX,[e.usesCustomComponent===!1?(p(),C(s,{key:0,modelValue:e.options,"onUpdate:modelValue":t[0]||(t[0]=r=>e.options=r),class:"extension-options",fields:e.optionsFields,"primary-key":"+"},null,8,["modelValue","fields"])):(p(),C(Ue(`interface-options-${e.selectedInterface.id}`),{key:1,value:e.value,collection:e.collection,onInput:t[1]||(t[1]=r=>e.$emit("input",r))},null,8,["value","collection"]))])):(p(),C(a,{key:0},{default:d(()=>[D(b(e.t("select_interface")),1)]),_:1}))}var uX=q(sX,[["render",dX],["__scopeId","data-v-001458ae"]]),cX=Me({id:"system-interface-options",name:"$t:interfaces.system-interface-options.interface-options",description:"$t:interfaces.system-interface-options.description",icon:"box",component:uX,types:["string"],options:[],system:!0}),pX=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:cX});const mX=z({props:{disabled:{type:Boolean,default:!1},value:{type:String,default:null}},emits:["input"],setup(){return{languages:Object.entries(wa).map(([t,n])=>({text:n,value:t}))}}});function fX(e,t,n,l,i,u){const a=c("v-select");return p(),C(a,{"model-value":e.value,items:e.languages,disabled:e.disabled,"onUpdate:modelValue":t[0]||(t[0]=s=>e.$emit("input",s))},null,8,["model-value","items","disabled"])}var vX=q(mX,[["render",fX]]),_X=Me({id:"system-language",name:"$t:language",icon:"translate",component:vX,system:!0,types:["string"],options:[]}),yX=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:_X});const gX=z({props:{value:{type:String,default:null},primaryKey:{type:String,default:null}},setup(e){const{t}=Y(),n=Je(),l=E(!!e.value),i=E(!1),u=E(!1),a=E(!1),s=E(!1),r=_t(),m=E(),f=E(""),v=E(),_=E("");it(()=>{_.value=""}),_e(()=>e.value,()=>{l.value=!!e.value},{immediate:!0});const y=V(()=>{var F;return((F=n.currentUser)==null?void 0:F.id)===e.primaryKey});return{t,tfaEnabled:l,tfaGenerated:i,generateTFA:$,cancelAndClose:h,enableTFA:k,toggle:g,password:_,enableActive:u,disableActive:a,loading:s,canvasID:r,secret:m,disableTFA:A,otp:f,error:v,isCurrentUser:y};function g(){l.value===!1?u.value=!0:a.value=!0}async function $(){if(s.value!==!0){s.value=!0;try{const F=await re.post("/users/me/tfa/generate",{password:_.value}),P=F.data.data.otpauth_url;m.value=F.data.data.secret,await Nd.toCanvas(document.getElementById(r),P),i.value=!0,v.value=null}catch(F){v.value=F}finally{s.value=!1}}}function h(){i.value=!1,u.value=!1,_.value="",f.value="",m.value=""}async function k(){if(s.value!==!0){s.value=!0;try{await re.post("/users/me/tfa/enable",{otp:f.value,secret:m.value}),l.value=!0,i.value=!1,u.value=!1,_.value="",f.value="",m.value="",v.value=null}catch(F){v.value=F}finally{s.value=!1}}}async function A(){s.value=!0;try{await re.post("/users/me/tfa/disable",{otp:f.value}),l.value=!1,a.value=!1,f.value=""}catch(F){v.value=F}finally{s.value=!1}}}}),hX=e=>(We("data-v-855b3ebc"),e=e(),Ge(),e),bX=hX(()=>S("div",{class:"spacer"},null,-1)),$X=["id"],wX={class:"secret selectable"};function kX(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-checkbox"),r=c("v-card-title"),m=c("v-input"),f=c("v-error"),v=c("v-card-text"),_=c("v-button"),y=c("v-card-actions"),g=c("v-progress-circular"),$=c("v-card"),h=c("v-dialog");return p(),I("div",null,[o(s,{block:"","model-value":e.tfaEnabled,disabled:!e.isCurrentUser,onClick:e.toggle},{append:d(()=>[o(a,{name:"launch",class:se(["checkbox-icon",{enabled:e.tfaEnabled}])},null,8,["class"])]),default:d(()=>[D(b(e.tfaEnabled?e.t("enabled"):e.t("disabled"))+" ",1),bX]),_:1},8,["model-value","disabled","onClick"]),o(h,{modelValue:e.enableActive,"onUpdate:modelValue":t[4]||(t[4]=k=>e.enableActive=k),persistent:"",onEsc:e.cancelAndClose},{default:d(()=>[o($,null,{default:d(()=>[e.tfaEnabled===!1&&e.tfaGenerated===!1&&e.loading===!1?(p(),I("form",{key:0,onSubmit:t[1]||(t[1]=Fe((...k)=>e.generateTFA&&e.generateTFA(...k),["prevent"]))},[o(r,null,{default:d(()=>[D(b(e.t("enter_password_to_enable_tfa")),1)]),_:1}),o(v,null,{default:d(()=>[o(m,{modelValue:e.password,"onUpdate:modelValue":t[0]||(t[0]=k=>e.password=k),nullable:!1,type:"password",placeholder:e.t("password")},null,8,["modelValue","placeholder"]),e.error?(p(),C(f,{key:0,error:e.error},null,8,["error"])):R("",!0)]),_:1}),o(y,null,{default:d(()=>[o(_,{type:"button",secondary:"",onClick:e.cancelAndClose},{default:d(()=>[D(b(e.t("cancel")),1)]),_:1},8,["onClick"]),o(_,{type:"submit",loading:e.loading},{default:d(()=>[D(b(e.t("next")),1)]),_:1},8,["loading"])]),_:1})],32)):e.loading===!0?(p(),C(g,{key:1,class:"loader",indeterminate:""})):R("",!0),x(S("div",null,[S("form",{onSubmit:t[3]||(t[3]=Fe((...k)=>e.enableTFA&&e.enableTFA(...k),["prevent"]))},[o(r,null,{default:d(()=>[D(b(e.t("tfa_scan_code")),1)]),_:1}),o(v,null,{default:d(()=>[S("canvas",{id:e.canvasID,class:"qr"},null,8,$X),S("output",wX,b(e.secret),1),o(m,{modelValue:e.otp,"onUpdate:modelValue":t[2]||(t[2]=k=>e.otp=k),type:"text",placeholder:e.t("otp"),nullable:!1},null,8,["modelValue","placeholder"]),e.error?(p(),C(f,{key:0,error:e.error},null,8,["error"])):R("",!0)]),_:1}),o(y,null,{default:d(()=>[o(_,{type:"button",secondary:"",onClick:e.cancelAndClose},{default:d(()=>[D(b(e.t("cancel")),1)]),_:1},8,["onClick"]),o(_,{type:"submit",disabled:e.otp.length!==6,onClick:e.enableTFA},{default:d(()=>[D(b(e.t("done")),1)]),_:1},8,["disabled","onClick"])]),_:1})],32)],512),[[Et,e.tfaEnabled===!1&&e.tfaGenerated===!0&&e.loading===!1]])]),_:1})]),_:1},8,["modelValue","onEsc"]),o(h,{modelValue:e.disableActive,"onUpdate:modelValue":t[7]||(t[7]=k=>e.disableActive=k),onEsc:t[8]||(t[8]=k=>e.disableActive=!1)},{default:d(()=>[o($,null,{default:d(()=>[S("form",{onSubmit:t[6]||(t[6]=Fe((...k)=>e.disableTFA&&e.disableTFA(...k),["prevent"]))},[o(r,null,{default:d(()=>[D(b(e.t("enter_otp_to_disable_tfa")),1)]),_:1}),o(v,null,{default:d(()=>[o(m,{modelValue:e.otp,"onUpdate:modelValue":t[5]||(t[5]=k=>e.otp=k),type:"text",placeholder:e.t("otp"),nullable:!1},null,8,["modelValue","placeholder"]),e.error?(p(),C(f,{key:0,error:e.error},null,8,["error"])):R("",!0)]),_:1}),o(y,null,{default:d(()=>[o(_,{type:"submit",kind:"warning",loading:e.loading,disabled:e.otp.length!==6},{default:d(()=>[D(b(e.t("disable_tfa")),1)]),_:1},8,["loading","disabled"])]),_:1})],32)]),_:1})]),_:1},8,["modelValue"])])}var SX=q(gX,[["render",kX],["__scopeId","data-v-855b3ebc"]]),CX=Me({id:"system-mfa-setup",name:"mfa-setup",icon:"box",component:SX,types:["text"],options:[],system:!0}),VX=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:CX});const FX=[{field:"name",name:"$t:name",meta:{required:!0,interface:"input",width:"half-left",options:{placeholder:"$t:enter_a_name"}}},{field:"icon",name:"$t:icon",meta:{required:!0,interface:"select-icon",width:"half-right"}},{field:"url",name:"$t:url",meta:{required:!0,interface:"input",options:{placeholder:"https://example.com"}}}],AX=z({name:"SystemModules",components:{Draggable:Ct},props:{value:{type:Array,default:()=>mn}},emits:["input"],setup(e,{emit:t}){const{t:n}=Y(),l=E(),i=E(),u=E(),{modules:a}=Ql(),s=V(()=>a.value.filter($=>$.hidden!==!0).map($=>({type:"module",id:$.id,enabled:!1}))),r=V({get(){var h,k;const $=((h=e.value)!=null?h:mn).filter(A=>A.type==="module").map(A=>A.id);return m([...(k=e.value)!=null?k:mn,...s.value.filter(A=>$.includes(A.id)===!1)])},set($){t("input",f($))}});return{t:n,editing:l,valuesWithData:r,hideDragImage:Bt,updateItem:v,edit:_,linkFields:FX,save:y,values:i,remove:g,initialValues:u};function m($){return $.filter(h=>h.type==="link"?!0:!!a.value.find(k=>k.id===h.id)).map(h=>{if(h.type==="link")return Ve(pe({},h),{to:h.url,icon:h.icon,name:h.name});const k=a.value.find(A=>A.id===h.id);return Ve(pe({},h),{to:`/${k.id}`,name:k.name,icon:k.icon})})}function f($){return $.map(h=>{if(h.type==="link"){const{type:O,id:T,name:N,url:L,icon:M,enabled:B,locked:K}=h;return{type:O,id:T,name:N,url:L,icon:M,enabled:B,locked:K}}const{type:k,id:A,enabled:F,locked:P}=h;return{type:k,id:A,enabled:F,locked:P}})}function v($,h){r.value=r.value.map(k=>k===$?U.exports.assign({},$,h):k)}function _($){var k;l.value=$;let h;$!=="+"?h=((k=e.value)!=null?k:mn).find(A=>A.id===$):h={id:_t(),type:"link",enabled:!0,url:"",name:"",icon:""},i.value=h,u.value=h}function y(){var $,h;l.value==="+"?t("input",[...($=e.value)!=null?$:mn,i.value]):t("input",((h=e.value)!=null?h:mn).map(k=>k.id===l.value?i.value:k)),i.value=null,l.value=null}function g($){var h;t("input",((h=e.value)!=null?h:mn).filter(k=>k.id!==$))}}}),IX=e=>(We("data-v-006bc8b7"),e=e(),Ge(),e),EX={class:"system-modules"},DX={class:"info"},TX={class:"name"},PX={class:"to"},OX=IX(()=>S("div",{class:"spacer"},null,-1)),LX={class:"drawer-content"};function jX(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-list-item"),r=c("draggable"),m=c("v-list"),f=c("v-button"),v=c("v-form"),_=c("v-drawer"),y=Se("tooltip");return p(),I("div",EX,[o(m,{class:"list"},{default:d(()=>[o(r,{modelValue:e.valuesWithData,"onUpdate:modelValue":t[0]||(t[0]=g=>e.valuesWithData=g),"force-fallback":!0,"set-data":e.hideDragImage,"item-key":"id",handle:".drag-handle",animation:150},{item:d(({element:g})=>[o(s,{block:"",class:se({enabled:g.enabled}),clickable:g.type==="link",onClick:$=>g.type==="link"?e.edit(g.id):void 0},{default:d(()=>[o(a,{class:"drag-handle",name:"drag_handle"}),o(a,{class:"icon",name:g.icon},null,8,["name"]),S("div",DX,[S("div",TX,b(g.name),1),S("div",PX,b(g.to),1)]),OX,g.locked===!0?(p(),C(a,{key:0,name:"lock"})):g.type==="link"?(p(),C(a,{key:1,name:"clear",onClick:Fe($=>e.remove(g.id),["stop"])},null,8,["onClick"])):(p(),C(a,{key:2,name:g.enabled?"check_box":"check_box_outline_blank",clickable:"",onClick:Fe($=>e.updateItem(g,{enabled:!g.enabled}),["stop"])},null,8,["name","onClick"]))]),_:2},1032,["class","clickable","onClick"])]),_:1},8,["modelValue","set-data"])]),_:1}),o(f,{onClick:t[1]||(t[1]=g=>e.edit("+"))},{default:d(()=>[D(b(e.t("add_link")),1)]),_:1}),o(_,{title:e.t("custom_link"),"model-value":!!e.editing,icon:"link","onUpdate:modelValue":t[3]||(t[3]=g=>e.editing=null),onCancel:t[4]||(t[4]=g=>e.editing=null)},{actions:d(()=>[x(o(f,{icon:"",rounded:"",onClick:e.save},{default:d(()=>[o(a,{name:"check"})]),_:1},8,["onClick"]),[[y,e.t("save"),void 0,{bottom:!0}]])]),default:d(()=>[S("div",LX,[o(v,{modelValue:e.values,"onUpdate:modelValue":t[2]||(t[2]=g=>e.values=g),"initial-values":e.initialValues,fields:e.linkFields},null,8,["modelValue","initial-values","fields"])])]),_:1},8,["title","model-value"])])}var RX=q(AX,[["render",jX],["__scopeId","data-v-006bc8b7"]]),MX=Me({id:"system-modules",name:"$t:module_bar",icon:"arrow_drop_down_circle",component:RX,types:["json"],options:[],system:!0}),UX=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:MX});const NX=z({components:{DrawerCollection:Qt},props:{value:{type:String,default:null}},emits:["input"],setup(e,{emit:t}){const{t:n}=Y(),l=E(null),i=E(null),u=E(!1),a=V(()=>e.value!==null&&(e.value.startsWith("role_")||e.value.startsWith("user_")));return _e(()=>e.value,f),f(),{options:V(()=>{let v=[{text:n("global")+": "+n("all_users"),value:"all"},{text:n("user")+": "+n("select"),value:"directus_users"},{text:n("role")+": "+n("select"),value:"directus_roles"}];if(a.value){const[_,y]=e.value.split("_");v=[{text:n(_)+": "+(i.value||y),value:e.value},{divider:!0},...v]}return v}),collection:l,onSelect:r,onSelectItem:m,loading:u};function r(v){if(v==="all")return l.value=null,t("input","all");l.value=v}function m(v){if(l.value==="directus_users")return t("input","user_"+v[0]);if(l.value==="directus_roles")return t("input","role_"+v[0])}async function f(){if(!a.value){i.value=null;return}u.value=!0;const[v,_]=e.value.split("_");if(v==="role"){const y=await re.get("/roles/"+_,{params:{fields:["id","name"]}});i.value=y.data.data.name}else if(v==="user"){const y=await re.get("/users/"+_,{params:{fields:["id","first_name","last_name","email"]}});i.value=ht(y.data.data)}u.value=!1}}});function BX(e,t,n,l,i,u){const a=c("v-skeleton-loader"),s=c("v-select"),r=c("drawer-collection");return p(),I("div",null,[e.loading?(p(),C(a,{key:0})):(p(),C(s,{key:1,"model-value":e.value,items:e.options,"onUpdate:modelValue":e.onSelect},null,8,["model-value","items","onUpdate:modelValue"])),e.collection!==null?(p(),C(r,{key:2,active:e.collection!==null,collection:e.collection,"onUpdate:active":t[0]||(t[0]=m=>e.collection=null),onInput:e.onSelectItem},null,8,["active","collection","onInput"])):R("",!0)])}var qX=q(NX,[["render",BX]]),zX=Me({id:"system-scope",name:"$t:scope",icon:"arrow_drop_down_circle",component:qX,types:["string"],options:[],system:!0}),KX=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:zX});const{interfacesRaw:br}=bn();async function HX(e){const n=Object.values({"./boolean/index.ts":Rq,"./datetime/index.ts":Zq,"./file/index.ts":az,"./file-image/index.ts":wz,"./files/index.ts":Tz,"./group-accordion/index.ts":qz,"./group-detail/index.ts":Jz,"./group-raw/index.ts":eK,"./input/index.ts":iK,"./input-autocomplete-api/index.ts":mK,"./input-code/index.ts":wK,"./input-hash/index.ts":AK,"./input-multiline/index.ts":OK,"./input-rich-text-html/index.ts":MK,"./input-rich-text-md/index.ts":oH,"./list/index.ts":SH,"./list-m2a/index.ts":RH,"./list-m2m/index.ts":GH,"./list-o2m/index.ts":lW,"./list-o2m-tree-view/index.ts":$W,"./map/index.ts":xW,"./presentation-divider/index.ts":oG,"./presentation-links/index.ts":cG,"./presentation-notice/index.ts":gG,"./select-color/index.ts":CG,"./select-dropdown/index.ts":DG,"./select-dropdown-m2o/index.ts":UG,"./select-icon/index.ts":HG,"./select-multiple-checkbox/index.ts":YG,"./select-multiple-checkbox-tree/index.ts":sJ,"./select-multiple-dropdown/index.ts":mJ,"./select-radio/index.ts":bJ,"./slider/index.ts":CJ,"./tags/index.ts":OJ,"./translations/index.ts":JJ,"./_system/system-collection/index.ts":xJ,"./_system/system-collections/index.ts":oQ,"./_system/system-display-template/index.ts":uQ,"./_system/system-field/index.ts":vQ,"./_system/system-field-tree/index.ts":$Q,"./_system/system-filter/index.ts":GQ,"./_system/system-folder/index.ts":tX,"./_system/system-interface/index.ts":iX,"./_system/system-interface-options/index.ts":pX,"./_system/system-language/index.ts":yX,"./_system/system-mfa-setup/index.ts":VX,"./_system/system-modules/index.ts":UX,"./_system/system-scope/index.ts":KX}).map(l=>l.default);try{const l=await j(()=>import(`${Qe()}extensions/interfaces/index.js`),[]);n.push(...l.default)}catch(l){console.warn("Couldn't load custom interfaces"),console.warn(l)}br.value=n,br.value.forEach(l=>{e.component(`interface-${l.id}`,l.component),typeof l.options!="function"&&Array.isArray(l.options)===!1&&l.options!==null&&e.component(`interface-options-${l.id}`,l.options)})}function WX(e){switch(e){case"af":return j(()=>import("./assets/af.0ae12dd5.js").then(function(t){return t.a}),[]);case"ar-dz":return j(()=>import("./assets/ar-dz.4def840c.js").then(function(t){return t.a}),[]);case"ar-kw":return j(()=>import("./assets/ar-kw.8e19bfac.js").then(function(t){return t.a}),[]);case"ar-ly":return j(()=>import("./assets/ar-ly.1c517370.js").then(function(t){return t.a}),[]);case"ar-ma":return j(()=>import("./assets/ar-ma.f01598f3.js").then(function(t){return t.a}),[]);case"ar-sa":return j(()=>import("./assets/ar-sa.c5fe14e9.js").then(function(t){return t.a}),[]);case"ar-tn":return j(()=>import("./assets/ar-tn.121f69b2.js").then(function(t){return t.a}),[]);case"ar":return j(()=>import("./assets/ar.bed29460.js").then(function(t){return t.a}),[]);case"az":return j(()=>import("./assets/az.706ff558.js").then(function(t){return t.a}),[]);case"bg":return j(()=>import("./assets/bg.1c68ab52.js").then(function(t){return t.b}),[]);case"bn":return j(()=>import("./assets/bn.52d26e23.js").then(function(t){return t.b}),[]);case"bs":return j(()=>import("./assets/bs.4d20add5.js").then(function(t){return t.b}),[]);case"ca":return j(()=>import("./assets/ca.a79eb6d2.js").then(function(t){return t.c}),[]);case"cs":return j(()=>import("./assets/cs.b1e8bc14.js").then(function(t){return t.c}),[]);case"cy":return j(()=>import("./assets/cy.ac181a59.js").then(function(t){return t.c}),[]);case"da":return j(()=>import("./assets/da.4016bc22.js").then(function(t){return t.d}),[]);case"de-at":return j(()=>import("./assets/de-at.c36ba3d5.js").then(function(t){return t.d}),[]);case"de":return j(()=>import("./assets/de.31ae30a8.js").then(function(t){return t.d}),[]);case"el":return j(()=>import("./assets/el.59a913c2.js").then(function(t){return t.e}),[]);case"en-au":return j(()=>import("./assets/en-au.169355d7.js").then(function(t){return t.e}),[]);case"en-gb":return j(()=>import("./assets/en-gb.0b977da8.js").then(function(t){return t.e}),[]);case"en-nz":return j(()=>import("./assets/en-nz.6296f2b6.js").then(function(t){return t.e}),[]);case"eo":return j(()=>import("./assets/eo.d92d8fbf.js").then(function(t){return t.e}),[]);case"es-us":return j(()=>import("./assets/es-us.35915abe.js").then(function(t){return t.e}),[]);case"es":return j(()=>import("./assets/es.c516dd05.js").then(function(t){return t.e}),[]);case"et":return j(()=>import("./assets/et.420b5f6d.js").then(function(t){return t.e}),[]);case"eu":return j(()=>import("./assets/eu.edaff4b0.js").then(function(t){return t.e}),[]);case"fa":return j(()=>import("./assets/fa.f3993a60.js").then(function(t){return t.f}),[]);case"fi":return j(()=>import("./assets/fi.3ee32d07.js").then(function(t){return t.f}),[]);case"fr-ca":return j(()=>import("./assets/fr-ca.e2e64899.js").then(function(t){return t.f}),[]);case"fr-ch":return j(()=>import("./assets/fr-ch.e9042a4c.js").then(function(t){return t.f}),[]);case"fr":return j(()=>import("./assets/fr.9d599b24.js").then(function(t){return t.f}),[]);case"gl":return j(()=>import("./assets/gl.b8341ed4.js").then(function(t){return t.g}),[]);case"he":return j(()=>import("./assets/he.18403882.js").then(function(t){return t.h}),[]);case"hi":return j(()=>import("./assets/hi.e2a17765.js").then(function(t){return t.h}),[]);case"hr":return j(()=>import("./assets/hr.57f77dc3.js").then(function(t){return t.h}),[]);case"hu":return j(()=>import("./assets/hu.adb9ccdc.js").then(function(t){return t.h}),[]);case"hy-am":return j(()=>import("./assets/hy-am.59b7a75e.js").then(function(t){return t.h}),[]);case"id":return j(()=>import("./assets/id.bc299c4a.js").then(function(t){return t.i}),[]);case"is":return j(()=>import("./assets/is.2eb43668.js").then(function(t){return t.i}),[]);case"it":return j(()=>import("./assets/it.e663f69e.js").then(function(t){return t.i}),[]);case"ja":return j(()=>import("./assets/ja.21755c02.js").then(function(t){return t.j}),[]);case"ka":return j(()=>import("./assets/ka.09267484.js").then(function(t){return t.k}),[]);case"kk":return j(()=>import("./assets/kk.c27d7d0f.js").then(function(t){return t.k}),[]);case"ko":return j(()=>import("./assets/ko.86462d08.js").then(function(t){return t.k}),[]);case"lb":return j(()=>import("./assets/lb.b4fb4102.js").then(function(t){return t.l}),[]);case"lt":return j(()=>import("./assets/lt.bec1e735.js").then(function(t){return t.l}),[]);case"lv":return j(()=>import("./assets/lv.1d9eac62.js").then(function(t){return t.l}),[]);case"mk":return j(()=>import("./assets/mk.ac873732.js").then(function(t){return t.m}),[]);case"ms":return j(()=>import("./assets/ms.a8caaf33.js").then(function(t){return t.m}),[]);case"nb":return j(()=>import("./assets/nb.c4e12345.js").then(function(t){return t.n}),[]);case"ne":return j(()=>import("./assets/ne.8c2e7d13.js").then(function(t){return t.n}),[]);case"nl":return j(()=>import("./assets/nl.15edef36.js").then(function(t){return t.n}),[]);case"nn":return j(()=>import("./assets/nn.33ea37c6.js").then(function(t){return t.n}),[]);case"pl":return j(()=>import("./assets/pl.8a0826b3.js").then(function(t){return t.p}),[]);case"pt-br":return j(()=>import("./assets/pt-br.e87cb008.js").then(function(t){return t.p}),[]);case"pt":return j(()=>import("./assets/pt.de450764.js").then(function(t){return t.p}),[]);case"ro":return j(()=>import("./assets/ro.1786958f.js").then(function(t){return t.r}),[]);case"ru":return j(()=>import("./assets/ru.2c0e4894.js").then(function(t){return t.r}),[]);case"sk":return j(()=>import("./assets/sk.e174a41b.js").then(function(t){return t.s}),[]);case"sl":return j(()=>import("./assets/sl.34422efd.js").then(function(t){return t.s}),[]);case"sq":return j(()=>import("./assets/sq.ee367a13.js").then(function(t){return t.s}),[]);case"sr-cyrl":return j(()=>import("./assets/sr-cyrl.0abb2793.js").then(function(t){return t.s}),[]);case"sr":return j(()=>import("./assets/sr.efb7e3ec.js").then(function(t){return t.s}),[]);case"sv":return j(()=>import("./assets/sv.b9d19aa9.js").then(function(t){return t.s}),[]);case"ta-in":return j(()=>import("./assets/ta-in.8c88aa82.js").then(function(t){return t.t}),[]);case"th":return j(()=>import("./assets/th.d0e24ade.js").then(function(t){return t.t}),[]);case"tr":return j(()=>import("./assets/tr.d887c301.js").then(function(t){return t.t}),[]);case"ug":return j(()=>import("./assets/ug.2ae6849b.js").then(function(t){return t.u}),[]);case"uk":return j(()=>import("./assets/uk.69d22b7d.js").then(function(t){return t.u}),[]);case"uz":return j(()=>import("./assets/uz.a2abf7be.js").then(function(t){return t.u}),[]);case"vi":return j(()=>import("./assets/vi.cc30f87c.js").then(function(t){return t.v}),[]);case"zh-cn":return j(()=>import("./assets/zh-cn.f12689f7.js").then(function(t){return t.z}),[]);case"zh-tw":return j(()=>import("./assets/zh-tw.c5aeda5a.js").then(function(t){return t.z}),[]);default:return Promise.resolve()}}async function GX(e){const t=[e,e.split("-")[0],"en-US"];let n;for(const l of t)try{const i=await WX(l);n=i.default.default||i.default;break}catch{continue}return n}const JX=z({inheritAttrs:!1,props:{itemCount:{type:Number,default:null},showingCount:{type:String,default:null}}}),QX={key:0,class:"item-count"};function XX(e,t,n,l,i,u){return p(),C(jt,{name:"fade"},{default:d(()=>[e.itemCount?(p(),I("span",QX,b(e.showingCount),1)):R("",!0)]),_:1})}var ZX=q(JX,[["render",XX],["__scopeId","data-v-ceefb89c"]]);const YX=z({inheritAttrs:!1,props:{createCalendar:{type:Function,required:!0},destroyCalendar:{type:Function,required:!0}},emits:["update:selection"],setup(e){const t=E();return it(()=>{e.createCalendar(t.value)}),St(()=>{e.destroyCalendar()}),{calendarElement:t}}}),xX={class:"calendar-layout"},eZ={ref:"calendarElement"};function tZ(e,t,n,l,i,u){return p(),I("div",xX,[S("div",eZ,null,512)])}var nZ=q(YX,[["render",tZ],["__scopeId","data-v-028014b2"]]);const lZ=z({inheritAttrs:!1,props:{collection:{type:String,required:!0},template:{type:String,default:null},dateFields:{type:Array,required:!0},startDateField:{type:String,default:null},endDateField:{type:String,default:null}},emits:["update:template","update:startDateField","update:endDateField"],setup(e,{emit:t}){const{t:n}=Y(),l=Le(e,"template",t),i=Le(e,"startDateField",t),u=Le(e,"endDateField",t);return{t:n,templateWritable:l,startDateFieldWritable:i,endDateFieldWritable:u}}}),oZ={class:"field"},aZ={class:"type-label"},iZ={class:"field"},sZ={class:"type-label"},rZ={class:"field"},dZ={class:"type-label"};function uZ(e,t,n,l,i,u){const a=c("v-field-template"),s=c("v-select");return p(),I(ie,null,[S("div",oZ,[S("div",aZ,b(e.t("display_template")),1),o(a,{modelValue:e.templateWritable,"onUpdate:modelValue":t[0]||(t[0]=r=>e.templateWritable=r),collection:e.collection},null,8,["modelValue","collection"])]),S("div",iZ,[S("div",sZ,b(e.t("layouts.calendar.start_date_field")),1),o(s,{modelValue:e.startDateFieldWritable,"onUpdate:modelValue":t[1]||(t[1]=r=>e.startDateFieldWritable=r),"show-deselect":"",items:e.dateFields,"item-text":"name","item-value":"field"},null,8,["modelValue","items"])]),S("div",rZ,[S("div",dZ,b(e.t("layouts.calendar.end_date_field")),1),o(s,{modelValue:e.endDateFieldWritable,"onUpdate:modelValue":t[2]||(t[2]=r=>e.endDateFieldWritable=r),"show-deselect":"",items:e.dateFields,"item-text":"name","item-value":"field"},null,8,["modelValue","items"])])],64)}var cZ=q(lZ,[["render",uZ]]),pZ=cl({id:"calendar",name:"$t:layouts.calendar.calendar",icon:"event",component:nZ,slots:{options:cZ,sidebar:()=>{},actions:ZX},setup(e,{emit:t}){const{t:n,locale:l}=Y(),i=E(),u=kt(),a=Le(e,"selection",t),s=Le(e,"layoutOptions",t),{collection:r,filter:m,search:f}=Re(e),{primaryKeyField:v,fields:_}=at(r),y=V(()=>_.value.filter(H=>["timestamp","dateTime","date"].includes(H.type))),g=V(()=>{if(!i.value||!A.value)return;const H=Nn(i.value.view.activeStart),Z=Nn(i.value.view.activeEnd),X={[A.value]:{_between:[H,Z]}};if(!P.value)return X;const te={[P.value]:{_between:[H,Z]}},ve={[A.value]:{_lte:H}},J={[P.value]:{_gte:Z}};return{_or:[X,te,{_and:[ve,J]}]}}),$=V(()=>g.value?m.value?{_and:[m.value,g.value]}:null:m.value),h=ct(s,"template",void 0),k=ct(s,"viewInfo",void 0),A=ct(s,"startDateField",void 0),F=V(()=>_.value.find(H=>H.field===A.value)),P=ct(s,"endDateField",void 0),O=V(()=>_.value.find(H=>H.field===P.value)),{items:T,loading:N,error:L,totalPages:M,itemCount:B,totalCount:K,changeManualSort:W,getItems:le}=pl(r,{sort:V(()=>{var H;return[((H=v.value)==null?void 0:H.field)||""]}),page:E(1),limit:E(-1),fields:V(()=>{if(!v.value)return[];const H=[v.value.field];return h.value&&H.push(...yt(h.value)),A.value&&H.push(A.value),P.value&&H.push(P.value),H}),filter:$,search:f},!1),G=V(()=>T.value.map(H=>de(H)).filter(H=>H)||[]),Q=V(()=>{var Z,X,te,ve,J,oe;const H={editable:!0,eventStartEditable:!0,eventResizableFromStart:!0,eventDurationEditable:!0,dayMaxEventRows:!0,height:"100%",nextDayThreshold:"01:00:00",plugins:[Bd,qd,zd,Kd],initialView:(X=(Z=k.value)==null?void 0:Z.type)!=null?X:"dayGridMonth",headerToolbar:{left:"prevYear,prev,next,nextYear today",center:"title",right:"dayGridMonth,dayGridWeek,dayGridDay,listWeek"},events:G.value,initialDate:(ve=(te=k.value)==null?void 0:te.startDateStr)!=null?ve:Nn(new Date),eventClick(ae){var me;if(!!r.value)if(e.selectMode||((me=a.value)==null?void 0:me.length)>0){const ge=T.value.find($e=>$e[v.value.field]==ae.event.id);if(ge){const $e=ge[v.value.field];a.value.includes($e)?a.value=a.value.filter(ke=>ke!==$e):a.value=[...a.value,$e],ue()}}else{const ge=ae.event.id,$e=r.value.startsWith("directus")?r.value.substring(9):`content/${r.value}`;Mt.push(`/${$e}/${ge}`)}},async eventChange(ae){if(!r.value||!A.value||!F.value)return;const me={[A.value]:ce(ae.event.startStr,F.value.type)};P.value&&O.value&&ae.event.endStr&&(me[P.value]=ce(ae.event.endStr,O.value.type));const ge=r.value.startsWith("directus")?r.value.substring(9):`/items/${r.value}`;try{await re.patch(`${ge}/${ae.event.id}`,me)}catch($e){Ce($e)}}};return(((J=F.value)==null?void 0:J.type)==="dateTime"||((oe=F.value)==null?void 0:oe.type)==="timestamp")&&(H.headerToolbar=Ve(pe({},H.headerToolbar),{right:"dayGridMonth,timeGridWeek,timeGridDay,listWeek"})),H});_e(()=>u.sidebarOpen,()=>setTimeout(()=>{var H;return(H=i.value)==null?void 0:H.updateSize()},300)),_e(Q,()=>ue(),{deep:!0,immediate:!0}),_e([i,l],async()=>{if(i.value){const H=await GX(l.value);i.value.setOption("locale",H)}},{immediate:!0});const fe=V(()=>B.value?n("item_count",B.value):null);return{items:T,loading:N,error:L,totalPages:M,itemCount:B,totalCount:K,changeManualSort:W,getItems:le,filterWithCalendarView:$,template:h,dateFields:y,startDateField:A,endDateField:P,showingCount:fe,createCalendar:ne,destroyCalendar:ee};function ue(){i.value&&(i.value.pauseRendering(),i.value.resetOptions(Q.value),i.value.resumeRendering(),i.value.render())}function ne(H){i.value=new Hd(H,Q.value),i.value.on("datesSet",Z=>{k.value={type:Z.view.type,startDateStr:Nn(Z.view.currentStart)}}),i.value.render()}function ee(){var H;(H=i.value)==null||H.destroy()}function de(H){if(!A.value||!v.value)return null;let Z;const X=O.value&&O.value.type==="date";if(P.value)if(X){const ve=rn(H[P.value],"yyyy-MM-dd",new Date);ve.setDate(ve.getDate()+1),Z=sn(ve,"yyyy-MM-dd")}else Z=H[P.value];const te=H[v.value.field];return{id:te,title:S8(h.value||`{{ ${v.value.field} }}`,H)||void 0,start:H[A.value],end:Z,allDay:X,className:a.value.includes(te)?"selected":void 0}}function ce(H,Z){return Z==="dateTime"?H.substring(0,19):H}}}),mZ=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:pZ});const fZ=z({props:{icon:{type:String,default:"box"},file:{type:Object,default:null},crop:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},item:{type:Object,default:null},modelValue:{type:Array,default:()=>[]},selectMode:{type:Boolean,default:!1},to:{type:String,default:""},readonly:{type:Boolean,default:!1},itemKey:{type:String,required:!0}},emits:["update:modelValue"],setup(e,{emit:t}){const n=Ye(),l=E(!1),i=V(()=>!e.file||!e.file.type||!l.value&&e.file.type.startsWith("image")?null:Xn(e.file.type,!0)),u=V(()=>{if(!e.file||!e.file.type||e.file.type.startsWith("image")===!1||e.file.type.includes("svg"))return null;let f="system-medium-cover";e.crop===!1&&(f="system-medium-contain");const v=Qe()+`assets/${e.file.id}?key=${f}&modified=${e.file.modified_on}`;return st(v)}),a=V(()=>{if(!e.file||!e.file.type||e.file.type.startsWith("image")===!1||e.file.type.includes("svg")===!1)return null;const f=Qe()+`assets/${e.file.id}?modified=${e.file.modified_on}`;return st(f)}),s=V(()=>e.item&&e.modelValue.includes(e.item[e.itemKey])?"check_circle":"radio_button_unchecked");return{imageSource:u,svgSource:a,type:i,selectionIcon:s,toggleSelection:r,handleClick:m,imgError:l};function r(){if(!e.item)return null;e.modelValue.includes(e.item[e.itemKey])?t("update:modelValue",e.modelValue.filter(f=>f!==e.item[e.itemKey])):t("update:modelValue",[...e.modelValue,e.item[e.itemKey]])}function m(){e.selectMode===!0?r():n.push(e.to)}}}),vZ=e=>(We("data-v-2f2457e2"),e=e(),Ge(),e),_Z={class:"header"},yZ=vZ(()=>S("div",{class:"selection-fade"},null,-1)),gZ={key:0,class:"type type-title"},hZ=["src"],bZ=["src"],$Z={key:0,class:"title"},wZ={key:1,class:"subtitle"};function kZ(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-skeleton-loader");return p(),I("div",{class:se(["card",{loading:e.loading,readonly:e.readonly,selected:e.item&&e.modelValue.includes(e.item[e.itemKey]),"select-mode":e.selectMode}]),onClick:t[2]||(t[2]=(...r)=>e.handleClick&&e.handleClick(...r))},[o(a,{class:"selector",name:e.selectionIcon,onClick:Fe(e.toggleSelection,["stop"])},null,8,["name","onClick"]),S("div",_Z,[yZ,e.loading?(p(),C(s,{key:0})):(p(),I(ie,{key:1},[e.type||e.imgError?(p(),I("p",gZ,b(e.type),1)):(p(),I(ie,{key:1},[e.imageSource?(p(),I("img",{key:0,class:"image",loading:"lazy",src:e.imageSource,alt:"",role:"presentation",onError:t[0]||(t[0]=r=>e.imgError=!0)},null,40,hZ)):e.svgSource?(p(),I("img",{key:1,class:"svg",src:e.svgSource,alt:"",role:"presentation",onError:t[1]||(t[1]=r=>e.imgError=!0)},null,40,bZ)):(p(),C(a,{key:2,large:"",name:e.icon},null,8,["name"]))],64))],64))]),e.loading?(p(),C(s,{key:0,type:"text"})):(p(),I(ie,{key:1},[e.$slots.title?(p(),I("div",$Z,[ye(e.$slots,"title",{},void 0,!0)])):R("",!0),e.$slots.subtitle?(p(),I("div",wZ,[ye(e.$slots,"subtitle",{},void 0,!0)])):R("",!0)],64))],2)}var SZ=q(fZ,[["render",kZ],["__scopeId","data-v-2f2457e2"]]);const CZ=z({props:{fields:{type:Array,required:!0},size:{type:Number,required:!0},sort:{type:Array,required:!0},showSelect:{type:String,default:"multiple"},selection:{type:Array,default:()=>[]}},emits:["select-all","update:size","update:sort","update:selection"],setup(e,{emit:t}){const{t:n}=Y(),l=Le(e,"size",t),i=Le(e,"sort",t),u=Le(e,"selection",t),a=V(()=>e.sort[0].startsWith("-")),s=V(()=>e.sort[0].startsWith("-")?e.sort[0].substring(1):e.sort[0]),r=V(()=>e.fields.find(_=>_.field===s.value)),m=V(()=>e.fields.filter(_=>_.field.startsWith("$")===!1).map(_=>({field:_.field,name:_.name,disabled:["json","o2m","m2o","m2a","file","files","alias","presentation"].includes(_.type)})));return{t:n,toggleSize:f,descending:a,toggleDescending:v,sortField:r,sizeSync:l,sortSync:i,selectionSync:u,sortKey:s,fieldsWithoutFake:m};function f(){e.size>=2&&e.size<5?l.value++:l.value=2}function v(){a.value===!0?i.value=[i.value[0].substring(1)]:i.value=["-"+i.value]}}}),VZ={class:"cards-header"},FZ={class:"start"},AZ={class:"label"},IZ={class:"label"},EZ={class:"end"},DZ=["onClick"];function TZ(e,t,n,l,i,u){const a=c("v-icon"),s=c("v-list-item-content"),r=c("v-list-item"),m=c("v-list"),f=c("v-menu"),v=Se("tooltip");return p(),I("div",VZ,[S("div",FZ,[e.selectionSync.length>0?(p(),I("div",{key:0,class:"selected",onClick:t[0]||(t[0]=_=>e.selectionSync=[])},[o(a,{name:"cancel",outline:""}),S("span",AZ,b(e.t("n_items_selected",e.selectionSync.length)),1)])):(p(),I("button",{key:1,class:"select-all",onClick:t[1]||(t[1]=_=>e.showSelect==="multiple"?e.$emit("select-all"):void 0)},[o(a,{name:"check_circle",outline:""}),S("span",IZ,b(e.t(e.showSelect==="multiple"?"select_all":"select_an_item")),1)]))]),S("div",EZ,[x(o(a,{class:"size-selector",name:`grid_${7-e.size}`,clickable:"",onClick:e.toggleSize},null,8,["name","onClick"]),[[v,e.t("card_size"),void 0,{top:!0}]]),o(f,{"show-arrow":"",placement:"bottom"},{activator:d(({toggle:_})=>[x(S("div",{class:"sort-selector",onClick:_},[D(b(e.sortField&&e.sortField.name),1)],8,DZ),[[v,e.t("sort_field"),void 0,{top:!0}]])]),default:d(()=>[o(m,null,{default:d(()=>[(p(!0),I(ie,null,he(e.fieldsWithoutFake,_=>(p(),C(r,{key:_.field,disabled:_.disabled,active:_.field===e.sortKey,clickable:"",onClick:y=>e.sortSync=[_.field]},{default:d(()=>[o(s,null,{default:d(()=>[D(b(_.name),1)]),_:2},1024)]),_:2},1032,["disabled","active","onClick"]))),128))]),_:1})]),_:1}),x(o(a,{class:se(["sort-direction",{descending:e.descending}]),name:"sort",clickable:"",onClick:e.toggleDescending},null,8,["class","onClick"]),[[v,e.t("sort_direction"),void 0,{top:!0}]])])])}var PZ=q(CZ,[["render",TZ],["__scopeId","data-v-e1acf4b8"]]);const OZ=z({components:{Card:SZ,CardsHeader:PZ},inheritAttrs:!1,props:{collection:{type:String,required:!0},selection:{type:Array,required:!0},showSelect:{type:String,default:"multiple"},selectMode:{type:Boolean,required:!0},readonly:{type:Boolean,required:!0},items:{type:Array,required:!0},loading:{type:Boolean,required:!0},error:{type:Object,default:null},totalPages:{type:Number,required:!0},page:{type:Number,required:!0},toPage:{type:Function,required:!0},itemCount:{type:Number,default:null},fieldsInCollection:{type:Array,required:!0},limit:{type:Number,required:!0},size:{type:Number,required:!0},primaryKeyField:{type:Object,default:null},icon:{type:String,required:!0},imageSource:{type:String,default:null},title:{type:String,default:null},subtitle:{type:String,default:null},getLinkForItem:{type:Function,required:!0},imageFit:{type:String,required:!0},sort:{type:Array,required:!0},info:{type:Object,default:null},isSingleRow:{type:Boolean,required:!0},width:{type:Number,required:!0},selectAll:{type:Function,required:!0},resetPresetAndRefresh:{type:Function,required:!0},filter:{type:Object,default:null},search:{type:String,default:null}},emits:["update:selection","update:limit","update:size","update:sort","update:width"],setup(e,{emit:t}){const{t:n}=Y(),l=Le(e,"selection",t),i=Le(e,"limit",t),u=Le(e,"size",t),a=Le(e,"sort",t),s=bt("main-element"),r=E(),{width:m}=Zn(r);return _e(()=>e.page,()=>{var f;return(f=s.value)==null?void 0:f.scrollTo({top:0,behavior:"smooth"})}),_e(m,()=>{t("update:width",m.value)}),{t:n,selectionWritable:l,limitWritable:i,sizeWritable:u,sortWritable:a,layoutElement:r}}}),LZ={class:"footer"},jZ={class:"pagination"},RZ={key:0,class:"per-page"};function MZ(e,t,n,l,i,u){const a=c("cards-header"),s=c("render-template"),r=c("card"),m=c("v-pagination"),f=c("v-select"),v=c("v-error"),_=c("v-button"),y=c("v-info");return p(),I("div",{ref:"layoutElement",class:"layout-cards",style:ze({"--size":e.size*40+"px"})},[e.loading||e.itemCount>0?(p(),I(ie,{key:0},[o(a,{size:e.sizeWritable,"onUpdate:size":t[0]||(t[0]=g=>e.sizeWritable=g),selection:e.selectionWritable,"onUpdate:selection":t[1]||(t[1]=g=>e.selectionWritable=g),sort:e.sortWritable,"onUpdate:sort":t[2]||(t[2]=g=>e.sortWritable=g),fields:e.fieldsInCollection,"show-select":e.showSelect,onSelectAll:e.selectAll},null,8,["size","selection","sort","fields","show-select","onSelectAll"]),S("div",{class:se(["grid",{"single-row":e.isSingleRow}])},[(p(!0),I(ie,null,he(e.items,g=>(p(),C(r,{key:g[e.primaryKeyField.field],modelValue:e.selectionWritable,"onUpdate:modelValue":t[3]||(t[3]=$=>e.selectionWritable=$),"item-key":e.primaryKeyField.field,crop:e.imageFit==="crop",icon:e.icon,file:e.imageSource?g[e.imageSource]:null,item:g,"select-mode":e.selectMode||e.selection&&e.selection.length>0,to:e.getLinkForItem(g),readonly:e.readonly},Ze({_:2},[e.title?{name:"title",fn:d(()=>[o(s,{collection:e.collection,item:g,template:e.title},null,8,["collection","item","template"])])}:void 0,e.subtitle?{name:"subtitle",fn:d(()=>[o(s,{collection:e.collection,item:g,template:e.subtitle},null,8,["collection","item","template"])])}:void 0]),1032,["modelValue","item-key","crop","icon","file","item","select-mode","to","readonly"]))),128))],2),S("div",LZ,[S("div",jZ,[e.totalPages>1?(p(),C(m,{key:0,length:e.totalPages,"total-visible":7,"show-first-last":"","model-value":e.page,"onUpdate:modelValue":e.toPage},null,8,["length","model-value","onUpdate:modelValue"])):R("",!0)]),e.loading===!1&&e.items.length>=25?(p(),I("div",RZ,[S("span",null,b(e.t("per_page")),1),o(f,{"model-value":`${e.limit}`,items:["25","50","100","250","500","1000"],inline:"","onUpdate:modelValue":t[4]||(t[4]=g=>e.limitWritable=+g)},null,8,["model-value"])])):R("",!0)])],64)):e.error?(p(),C(y,{key:1,type:"danger",title:e.t("unexpected_error"),icon:"error",center:""},{append:d(()=>[o(v,{error:e.error},null,8,["error"]),o(_,{small:"",class:"reset-preset",onClick:e.resetPresetAndRefresh},{default:d(()=>[D(b(e.t("reset_page_preferences")),1)]),_:1},8,["onClick"])]),default:d(()=>[D(b(e.t("unexpected_error_copy"))+" ",1)]),_:1},8,["title"])):e.itemCount===0&&(e.filter||e.search)?ye(e.$slots,"no-results",{key:2},void 0,!0):e.itemCount===0?ye(e.$slots,"no-items",{key:3},void 0,!0):R("",!0)],4)}var UZ=q(OZ,[["render",MZ],["__scopeId","data-v-49bc126c"]]);const NZ=z({inheritAttrs:!1,props:{collection:{type:String,required:!0},icon:{type:String,required:!0},fileFields:{type:Array,required:!0},imageSource:{type:String,default:null},title:{type:String,default:null},subtitle:{type:String,default:null},imageFit:{type:String,required:!0}},emits:["update:icon","update:imageSource","update:title","update:subtitle","update:imageFit"],setup(e,{emit:t}){const{t:n}=Y(),l=Le(e,"icon",t),i=Le(e,"imageSource",t),u=Le(e,"title",t),a=Le(e,"subtitle",t),s=Le(e,"imageFit",t);return{t:n,iconWritable:l,imageSourceWritable:i,titleWritable:u,subtitleWritable:a,imageFitWritable:s}}}),BZ={class:"field"},qZ={class:"type-label"},zZ={class:"field"},KZ={class:"type-label"},HZ={class:"field"},WZ={class:"type-label"},GZ={class:"nested-options"},JZ={class:"field"},QZ={class:"type-label"},XZ={class:"field"},ZZ={class:"type-label"};function YZ(e,t,n,l,i,u){const a=c("v-select"),s=c("v-field-template"),r=c("interface-select-icon"),m=c("v-detail");return p(),I(ie,null,[S("div",BZ,[S("div",qZ,b(e.t("layouts.cards.image_source")),1),o(a,{modelValue:e.imageSourceWritable,"onUpdate:modelValue":t[0]||(t[0]=f=>e.imageSourceWritable=f),"show-deselect":"","item-value":"field","item-text":"name",items:e.fileFields},null,8,["modelValue","items"])]),S("div",zZ,[S("div",KZ,b(e.t("layouts.cards.title")),1),o(s,{modelValue:e.titleWritable,"onUpdate:modelValue":t[1]||(t[1]=f=>e.titleWritable=f),collection:e.collection},null,8,["modelValue","collection"])]),S("div",HZ,[S("div",WZ,b(e.t("layouts.cards.subtitle")),1),o(s,{modelValue:e.subtitleWritable,"onUpdate:modelValue":t[2]||(t[2]=f=>e.subtitleWritable=f),collection:e.collection},null,8,["modelValue","collection"])]),o(m,{class:"field"},{title:d(()=>[D(b(e.t("layout_setup")),1)]),default:d(()=>[S("div",GZ,[S("div",JZ,[S("div",QZ,b(e.t("layouts.cards.image_fit")),1),o(a,{modelValue:e.imageFitWritable,"onUpdate:modelValue":t[3]||(t[3]=f=>e.imageFitWritable=f),disabled:e.imageSource===null,items:[{text:e.t("layouts.cards.crop"),value:"crop"},{text:e.t("layouts.cards.contain"),value:"contain"}]},null,8,["modelValue","disabled","items"])]),S("div",XZ,[S("div",ZZ,b(e.t("fallback_icon")),1),o(r,{value:e.icon,onInput:t[4]||(t[4]=f=>e.iconWritable=f)},null,8,["value"])])])]),_:1})],64)}var xZ=q(NZ,[["render",YZ],["__scopeId","data-v-1167aeea"]]);const eY=z({inheritAttrs:!1,props:{itemCount:{type:Number,default:null},showingCount:{type:String,required:!0}}}),tY={key:0,class:"item-count"};function nY(e,t,n,l,i,u){return p(),C(jt,{name:"fade"},{default:d(()=>[e.itemCount?(p(),I("span",tY,b(e.showingCount),1)):R("",!0)]),_:1})}var lY=q(eY,[["render",nY],["__scopeId","data-v-4039d1ee"]]),oY=cl({id:"cards",name:"$t:layouts.cards.cards",icon:"grid_4",component:UZ,slots:{options:xZ,sidebar:()=>{},actions:lY},setup(e,{emit:t}){const{t:n,n:l}=Y(),i=ut(),u=Le(e,"selection",t),a=Le(e,"layoutOptions",t),s=Le(e,"layoutQuery",t),{collection:r,filter:m,search:f,filterUser:v}=Re(e),{info:_,primaryKeyField:y,fields:g}=at(r),$=V(()=>g.value.filter(J=>J.field==="$thumbnail"?!0:!!i.relations.find(ae=>ae.collection===e.collection&&ae.field===J.field&&ae.related_collection==="directus_files"))),{size:h,icon:k,imageSource:A,title:F,subtitle:P,imageFit:O}=Z(),{sort:T,limit:N,page:L,fields:M}=X(),{items:B,loading:K,error:W,totalPages:le,itemCount:G,totalCount:Q,getItems:fe}=pl(r,{sort:T,limit:N,page:L,fields:M,filter:m,search:f}),ue=V(()=>(G.value||0)<(Q.value||0)&&v.value?G.value===1?n("one_filtered_item"):n("start_end_of_count_filtered_items",{start:l((+L.value-1)*N.value+1),end:l(Math.min(L.value*N.value,G.value||0)),count:l(G.value||0)}):G.value===1?n("one_item"):n("start_end_of_count_items",{start:l((+L.value-1)*N.value+1),end:l(Math.min(L.value*N.value,G.value||0)),count:l(G.value||0)})),ne=E(0),ee=V(()=>B.value.length*(h.value*40)+(B.value.length-1)*24<=ne.value);return{items:B,loading:K,error:W,totalPages:le,page:L,toPage:H,itemCount:G,totalCount:Q,fieldsInCollection:g,limit:N,size:h,primaryKeyField:y,icon:k,fileFields:$,imageSource:A,title:F,subtitle:P,getLinkForItem:te,imageFit:O,sort:T,info:_,showingCount:ue,isSingleRow:ee,width:ne,refresh:ce,selectAll:ve,resetPresetAndRefresh:de,filter:m,search:f};async function de(){var J;await((J=e==null?void 0:e.resetPreset)==null?void 0:J.call(e)),ce()}function ce(){fe()}function H(J){L.value=J}function Z(){var Ae,De;const J=ke("size",4),oe=ke("icon","box"),ae=ke("title",null),me=ke("subtitle",null),ge=ke("imageSource",(De=(Ae=$.value[0])==null?void 0:Ae.field)!=null?De:null),$e=ke("imageFit","crop");return{size:J,icon:oe,imageSource:ge,title:ae,subtitle:me,imageFit:$e};function ke(Ne,lt){return V({get(){var Te,Oe;return((Te=a.value)==null?void 0:Te[Ne])!==void 0?(Oe=a.value)==null?void 0:Oe[Ne]:lt},set(Te){a.value=Ve(pe({},a.value),{[Ne]:Te})}})}}function X(){const J=ct(s,"page",1),oe=ct(s,"limit",25),ae=V(()=>{var $e;return y.value?[($e=y.value)==null?void 0:$e.field]:[]}),me=ct(s,"sort",ae),ge=V(()=>{if(!y.value||!e.collection)return[];const $e=[y.value.field];A.value&&($e.push(`${A.value}.modified_on`),$e.push(`${A.value}.type`),$e.push(`${A.value}.filename_disk`),$e.push(`${A.value}.storage`),$e.push(`${A.value}.id`)),e.collection==="directus_files"&&A.value==="$thumbnail"&&($e.push("modified_on"),$e.push("type"));const ke=[];return F.value&&ke.push(...yt(F.value)),P.value&&ke.push(...yt(P.value)),[...$e,...Xt(ke,e.collection)]});return{sort:me,limit:oe,page:J,fields:ge}}function te(J){if(!!y.value)return`/content/${e.collection}/${encodeURIComponent(J[y.value.field])}`}function ve(){if(!y.value)return;const J=y.value;u.value=U.exports.clone(B.value).map(oe=>oe[J.field])}}}),aY=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:oY});const iY=z({components:{},props:{data:{type:Object,required:!0},source:{type:Object,required:!0},layers:{type:Array,default:()=>[]},camera:{type:Object,default:()=>({})},bounds:{type:Array,default:void 0},featureId:{type:String,default:void 0},selection:{type:Array,default:()=>[]},showSelect:{type:String,default:"multiple"}},emits:["moveend","featureclick","featureselect","fitdata","updateitempopup"],setup(e,{emit:t}){const{t:n}=Y(),l=kt();let i;const u=E(),a=E(),s=E(),r=E(),m=[],{sidebarOpen:f,basemap:v}=Re(l),_=En("mapbox_key"),y=el(),g=V(()=>{var ee;const ne=(ee=y.find(de=>de.name===v.value))!=null?ee:y[0];return Oo(ne)}),$=new Kt.exports.AttributionControl({compact:!0}),h=new Kt.exports.NavigationControl({showCompass:!1}),k=new Kt.exports.GeolocateControl,A=new Go("mapboxgl-ctrl-fitdata",()=>{t("fitdata")}),F=new wW({boxElementClass:"map-selection-box",selectButtonClass:"mapboxgl-ctrl-select",layers:["__directus_polygons","__directus_points","__directus_lines"]});let P;if(_){const ne=document.createElement("div");ne.className="mapboxgl-user-location-dot mapboxgl-search-location-dot",P=new fa({accessToken:_,collapsed:!0,marker:{element:ne},flyTo:{speed:1.4},mapboxgl:Bl,placeholder:n("layouts.map.find_location")})}return it(()=>{O()}),St(()=>{i.remove()}),{container:r,hoveredFeature:u,hoveredCluster:a,selectMode:s};function O(){i=new Kt.exports.Map(pe(pe({container:"map-container",style:g.value,attributionControl:!1,dragRotate:!1},e.camera),_?{accessToken:_}:{})),P&&i.addControl(P,"top-right"),i.addControl($,"top-right"),i.addControl(h,"top-left"),i.addControl(k,"top-left"),i.addControl(A,"top-left"),i.addControl(F,"top-left"),i.on("load",()=>{_e(()=>g.value,N),_e(()=>e.bounds,T);const ne=["__directus_polygons","__directus_points","__directus_lines"];for(const ee of ne)i.on("click",ee,le),i.on("mousemove",ee,G),i.on("mouseleave",ee,G);i.on("move",Q),i.on("click","__directus_clusters",fe),i.on("mousemove","__directus_clusters",ue),i.on("mouseleave","__directus_clusters",ue),i.on("select.enable",()=>s.value=!0),i.on("select.disable",()=>s.value=!1),i.on("select.end",ee=>{var ce;const de=(ce=ee.features)==null?void 0:ce.map(H=>H.id);t("featureselect",{ids:de,replace:!ee.alt})}),i.on("moveend",ee=>{!ee.originalEvent||t("moveend",{center:i.getCenter(),zoom:i.getZoom(),bearing:i.getBearing(),pitch:i.getPitch(),bbox:i.getBounds().toArray().flat()})}),L()}),_e(()=>f.value,ne=>{ne||setTimeout(()=>i.resize(),300)}),setTimeout(()=>i.resize(),300)}function T(){const ne=e.data.bbox;i&&ne&&i.fitBounds(ne,{padding:100,speed:1.3,maxZoom:14})}function N(ne){m.forEach(ee=>ee()),m.length=0,i.setStyle(ne,{diff:!1}),i.once("styledata",L)}function L(){m.push(_e(()=>e.source,B,{immediate:!0}),_e(()=>e.selection,W,{immediate:!0}),_e(()=>e.layers,K),_e(()=>e.data,M))}function M(ne){i.getSource("__directus").setData(ne),W(e.selection,void 0)}function B(ne){var de,ce;const ee=new Set((de=i.getStyle().layers)==null?void 0:de.map(({id:H})=>H));for(const H of e.layers)ee.has(H.id)&&i.removeLayer(H.id);e.featureId?ne.promoteId=e.featureId:ne.generateId=!0,((ce=i.getStyle().sources)==null?void 0:ce.__directus)&&i.removeSource("__directus"),i.addSource("__directus",Ve(pe({},ne),{data:e.data})),i.once("sourcedata",()=>{setTimeout(()=>e.layers.forEach(H=>i.addLayer(H)))})}function K(ne,ee){var ce;const de=new Set((ce=i.getStyle().layers)==null?void 0:ce.map(({id:H})=>H));ee==null||ee.forEach(H=>{de.has(H.id)&&i.removeLayer(H.id)}),ne==null||ne.forEach(H=>{i.addLayer(H)})}function W(ne,ee){ee==null||ee.forEach(de=>{i.setFeatureState({id:de,source:"__directus"},{selected:!1}),i.removeFeatureState({id:de,source:"__directus"})}),ne==null||ne.forEach(de=>{i.setFeatureState({id:de,source:"__directus"},{selected:!0})})}function le(ne){var ce;const ee=(ce=ne.features)==null?void 0:ce[0],de=e.showSelect==="multiple"?!1:!ne.originalEvent.altKey;ee&&e.featureId&&(F.active()?t("featureselect",{ids:[ee.id],replace:de}):t("featureclick",{id:ee.id,replace:de}))}function G(ne){var H;const ee=i.queryRenderedFeatures(ne.point,{layers:["__directus_polygons","__directus_points","__directus_lines"]})[0],de=(H=u.value)==null?void 0:H.id,ce=de!==(ee==null?void 0:ee.id);if(de&&ce&&i.setFeatureState({id:de,source:"__directus"},{hovered:!1}),ee&&ee.properties){if(ee.geometry.type==="Point"){const{x:Z,y:X}=i.project(ee.geometry.coordinates),te=i.getContainer().getBoundingClientRect();t("updateitempopup",{position:{x:te.x+Z,y:te.y+X}})}else{const{clientX:Z,clientY:X}=ne.originalEvent;t("updateitempopup",{position:{x:Z,y:X}})}ce&&(i.setFeatureState({id:ee.id,source:"__directus"},{hovered:!0}),u.value=ee,t("updateitempopup",{item:ee.id}))}else ce&&(u.value=ee,t("updateitempopup",{item:null}))}function Q(ne){if(u.value&&ne.originalEvent){const{x:ee,y:de}=ne.originalEvent;t("updateitempopup",{position:{x:ee,y:de}})}}function fe(ne){var H,Z;const ee=i.queryRenderedFeatures(ne.point,{layers:["__directus_clusters"]}),de=(Z=(H=ee[0])==null?void 0:H.properties)==null?void 0:Z.cluster_id;i.getSource("__directus").getClusterExpansionZoom(de,(X,te)=>{X||i.flyTo({center:ee[0].geometry.coordinates,zoom:te,speed:1.3})})}function ue(ne){ne.type=="mousemove"?a.value=!0:a.value=!1}}});function sY(e,t,n,l,i,u){return p(),I("div",{id:"map-container",ref:"container",class:se({select:e.selectMode,hover:e.hoveredFeature||e.hoveredCluster})},null,2)}var rY=q(iY,[["render",sY],["__scopeId","data-v-32b87468"]]);const dY=z({components:{MapComponent:rY},inheritAttrs:!1,props:{collection:{type:String,required:!0},selection:{type:Array,default:()=>[]},loading:{type:Boolean,required:!0},error:{type:Object,default:null},geojsonError:{type:String,default:null},geometryOptions:{type:Object,default:void 0},geojson:{type:Object,required:!0},featureId:{type:String,default:null},geojsonBounds:{type:Object,default:void 0},directusSource:{type:Object,required:!0},directusLayers:{type:Array,required:!0},handleClick:{type:Function,required:!0},handleSelect:{type:Function,required:!0},cameraOptions:{type:Object,default:void 0},resetPresetAndRefresh:{type:Function,required:!0},geojsonLoading:{type:Boolean,required:!0},itemCount:{type:Number,default:null},totalPages:{type:Number,required:!0},page:{type:Number,required:!0},toPage:{type:Function,required:!0},limit:{type:Number,required:!0},autoLocationFilter:{type:Boolean,default:void 0},fitDataBounds:{type:Function,required:!0},template:{type:String,default:()=>{}},itemPopup:{type:Object,default:()=>{}},updateItemPopup:{type:Function,required:!0}},emits:["update:cameraOptions","update:limit"],setup(e,{emit:t}){const{t:n,n:l}=Y(),i=Le(e,"cameraOptions",t),u=Le(e,"limit",t);return{t:n,n:l,cameraOptionsWritable:i,limitWritable:u}}}),uY={class:"layout-map"},cY={key:0,class:"footer"},pY={class:"pagination"},mY={class:"mapboxgl-ctrl-dropdown"};function fY(e,t,n,l,i,u){const a=c("map-component"),s=c("render-template"),r=c("v-error"),m=c("v-button"),f=c("v-info"),v=c("v-progress-circular"),_=c("v-pagination"),y=c("v-select");return p(),I("div",uY,[o(a,{ref:"map",class:se(["mapboxgl-map",{loading:e.loading,error:e.error||e.geojsonError||!e.geometryOptions}]),data:e.geojson,"feature-id":e.featureId,selection:e.selection,camera:e.cameraOptions,bounds:e.geojsonBounds,source:e.directusSource,layers:e.directusLayers,onFeatureclick:e.handleClick,onFeatureselect:e.handleSelect,onMoveend:t[0]||(t[0]=g=>e.cameraOptionsWritable=g),onFitdata:e.fitDataBounds,onUpdateitempopup:e.updateItemPopup},null,8,["class","data","feature-id","selection","camera","bounds","source","layers","onFeatureclick","onFeatureselect","onFitdata","onUpdateitempopup"]),o(jt,{name:"fade"},{default:d(()=>[e.itemPopup.item?(p(),I("div",{key:0,class:"popup",style:ze({top:e.itemPopup.position.y+"px",left:e.itemPopup.position.x+"px"})},[o(s,{template:e.template,item:e.itemPopup.item,collection:e.collection},null,8,["template","item","collection"])],4)):R("",!0)]),_:1}),o(jt,{name:"fade"},{default:d(()=>[e.error?(p(),C(f,{key:0,type:"danger",title:e.t("unexpected_error"),icon:"error",center:""},{append:d(()=>[o(r,{error:e.error},null,8,["error"]),o(m,{small:"",class:"reset-preset",onClick:e.resetPresetAndRefresh},{default:d(()=>[D(b(e.t("reset_page_preferences")),1)]),_:1},8,["onClick"])]),default:d(()=>[D(b(e.t("unexpected_error_copy"))+" ",1)]),_:1},8,["title"])):e.geojsonError?(p(),C(f,{key:1,type:"warning",icon:"wrong_location",center:"",title:e.t("layouts.map.invalid_geometry")},{default:d(()=>[D(b(e.geojsonError),1)]),_:1},8,["title"])):e.loading||e.geojsonLoading?(p(),C(v,{key:2,indeterminate:"","x-large":"",class:"center"})):R("",!0)]),_:1}),e.loading||e.itemCount>0?(p(),I("div",cY,[S("div",pY,[e.totalPages>1?(p(),C(_,{key:0,length:e.totalPages,"total-visible":7,"show-first-last":"","model-value":e.page,"onUpdate:modelValue":e.toPage},null,8,["length","model-value","onUpdate:modelValue"])):R("",!0)]),S("div",mY,[S("span",null,b(e.t("limit")),1),o(y,{"model-value":e.limit,items:[{text:e.n(100),value:100},{text:e.n(1e3),value:1e3},{text:e.n(1e4),value:1e4},{text:e.n(1e5),value:1e5}],inline:"","onUpdate:modelValue":t[1]||(t[1]=g=>e.limitWritable=+g)},null,8,["model-value","items"])])])):R("",!0)])}var vY=q(dY,[["render",fY],["__scopeId","data-v-0152f6e2"]]);const _Y=z({inheritAttrs:!1,props:{collection:{type:String,required:!0},geometryFields:{type:Array,required:!0},geometryField:{type:String,default:void 0},geometryOptions:{type:Object,default:void 0},clusterData:{type:Boolean,default:void 0},displayTemplate:{type:String,default:void 0}},emits:["update:geometryField","update:autoLocationFilter","update:clusterData"],setup(e,{emit:t}){const{t:n}=Y(),l=kt(),i=Le(e,"geometryField",t),u=Le(e,"clusterData",t),a=Le(e,"displayTemplate",t),s=el(),{basemap:r}=Re(l);return{t:n,geometryFieldWritable:i,clusterDataWritable:u,displayTemplateWritable:a,basemaps:s,basemap:r}}}),yY={class:"field"},gY={class:"type-label"},hY={key:0,class:"field"},bY={key:1,class:"field"},$Y={class:"type-label"},wY={class:"field"},kY={class:"type-label"},SY={class:"field"};function CY(e,t,n,l,i,u){const a=c("v-select"),s=c("v-input"),r=c("v-field-template"),m=c("v-checkbox");return p(),I(ie,null,[S("div",yY,[S("div",gY,b(e.t("layouts.map.basemap")),1),o(a,{modelValue:e.basemap,"onUpdate:modelValue":t[0]||(t[0]=f=>e.basemap=f),items:e.basemaps.map(f=>({text:f.name,value:f.name}))},null,8,["modelValue","items"])]),e.geometryFields.length==0?(p(),I("div",hY,[o(s,{type:"text",disabled:"",prefix:e.t("layouts.map.no_compatible_fields")},null,8,["prefix"])])):(p(),I("div",bY,[S("div",$Y,b(e.t("layouts.map.field")),1),o(a,{modelValue:e.geometryFieldWritable,"onUpdate:modelValue":t[1]||(t[1]=f=>e.geometryFieldWritable=f),items:e.geometryFields.map(({name:f,field:v})=>({text:f,value:v}))},null,8,["modelValue","items"])])),S("div",wY,[S("div",kY,b(e.t("display_template")),1),o(r,{modelValue:e.displayTemplateWritable,"onUpdate:modelValue":t[2]||(t[2]=f=>e.displayTemplateWritable=f),collection:e.collection,placeholder:e.t("layouts.map.default_template")},null,8,["modelValue","collection","placeholder"])]),S("div",SY,[o(m,{modelValue:e.clusterDataWritable,"onUpdate:modelValue":t[3]||(t[3]=f=>e.clusterDataWritable=f),label:e.t("layouts.map.cluster"),disabled:e.geometryOptions&&e.geometryOptions.geometryType!=="Point"},null,8,["modelValue","label","disabled"])])],64)}var VY=q(_Y,[["render",CY]]);const FY=z({inheritAttrs:!1,props:{itemCount:{type:Number,default:null},showingCount:{type:String,required:!0}}}),AY={key:0,class:"item-count"};function IY(e,t,n,l,i,u){return p(),C(jt,{name:"fade"},{default:d(()=>[e.itemCount?(p(),I("span",AY,b(e.showingCount),1)):R("",!0)]),_:1})}var EY=q(FY,[["render",IY],["__scopeId","data-v-08898882"]]);const{green:jl,orange:Rn,yellow:$r,black:DY,white:TY}=vr,PY=[{id:"__directus_polygons_outline",type:"line",source:"__directus",filter:["all",["!has","point_count"],["==","$type","Polygon"]],paint:{"line-color":["case",["boolean",["feature-state","selected"],!1],Rn,["boolean",["feature-state","hovered"],!1],Rn,jl],"line-width":2},layout:{"line-join":"round"}},{id:"__directus_polygons",type:"fill",source:"__directus",filter:["all",["!has","point_count"],["==","$type","Polygon"]],paint:{"fill-color":["case",["boolean",["feature-state","selected"],!1],$r,["boolean",["feature-state","hovered"],!1],$r,jl],"fill-opacity":.15}},{id:"__directus_lines",type:"line",source:"__directus",filter:["all",["!has","point_count"],["==","$type","LineString"]],paint:{"line-color":["case",["boolean",["feature-state","selected"],!1],Rn,["boolean",["feature-state","hovered"],!1],Rn,jl],"line-width":2}},{id:"__directus_points_shadow",type:"circle",source:"__directus",filter:["all",["!has","point_count"],["==","$type","Point"]],layout:{},paint:{"circle-radius":10,"circle-blur":1,"circle-opacity":.9,"circle-color":DY}},{id:"__directus_points",type:"circle",source:"__directus",filter:["all",["!has","point_count"],["==","$type","Point"]],layout:{},paint:{"circle-radius":6,"circle-color":["case",["boolean",["feature-state","selected"],!1],Rn,["boolean",["feature-state","hovered"],!1],Rn,jl],"circle-stroke-color":TY,"circle-stroke-width":2}},{id:"__directus_clusters",type:"circle",source:"__directus",filter:["has","point_count"],paint:{"circle-radius":["step",["get","point_count"],20,100,30,750,40],"circle-color":["step",["get","point_count"],"#7fe3ca",100,"#fde2a7",750,"#f0a7b3"],"circle-opacity":.7}},{id:"__directus_cluster_count",type:"symbol",source:"__directus",filter:["has","point_count"],layout:{"text-field":"{point_count_abbreviated}","text-font":["Open Sans Semibold"],"text-size":["step",["get","point_count"],15,100,17,750,19]},paint:{"text-opacity":.85}}];var OY=cl({id:"map",name:"$t:layouts.map.map",icon:"map",smallHeader:!0,component:vY,slots:{options:VY,sidebar:()=>{},actions:EY},setup(e,{emit:t}){const{t:n,n:l}=Y(),i=Ye(),u=Le(e,"selection",t),a=Le(e,"layoutOptions",t),s=Le(e,"layoutQuery",t),{collection:r,filter:m,filterUser:f,search:v}=Re(e),{info:_,primaryKeyField:y,fields:g}=at(r),$=ct(s,"page",1),h=ct(s,"limit",1e3),k=V(()=>{var be;return y.value?[(be=y.value)==null?void 0:be.field]:[]}),A=ct(s,"sort",k),F=E(),P=V(()=>F.value?m.value?{_and:[m.value,F.value]}:F.value:m.value),O=ct(a,"displayTemplate",void 0),T=ct(a,"cameraOptions",void 0),N=ct(a,"clusterData",!1),L=ct(a,"geometryField",void 0),M=V(()=>g.value.find(be=>be.field==L.value)),B=V(()=>g.value.filter(({type:be,meta:je})=>be.startsWith("geometry")||(je==null?void 0:je.interface)=="map"));_e(B,be=>{!L.value&&be.length>0&&(L.value=be[0].field)},{immediate:!0});const K=V(()=>{var ot,pt,mt;const be=M.value;if(!be)return;const je=be.field,et=pr(be.type),tt=(mt=be.type.split(".")[1])!=null?mt:(pt=(ot=be.meta)==null?void 0:ot.options)==null?void 0:pt.geometryType;if(!!et)return{geometryField:je,geometryFormat:et,geometryType:tt}}),W=V(()=>{var be;return((be=K.value)==null?void 0:be.geometryFormat)==="native"}),le=V(()=>{var be,je,et;return O.value||((je=(be=_.value)==null?void 0:be.meta)==null?void 0:je.display_template)||`{{ ${(et=y.value)==null?void 0:et.field} }}`}),G=V(()=>{var be;return[L.value,...yt(le.value)].concat((be=y.value)==null?void 0:be.field).filter(je=>!!je)});function Q(){if(!W.value||!T.value||!L.value)return;const be=T.value.bbox,je=[[be[0],be[1]],[be[2],be[1]],[be[2],be[3]],[be[0],be[3]],[be[0],be[1]]];return{[L.value]:{_intersects_bbox:{type:"Polygon",coordinates:[je]}}}}const fe=E(!1);function ue(){var be;if(fe.value=!0,W.value){F.value=void 0;return}((be=te.value)==null?void 0:be.features.length)&&(ve.value=U.exports.cloneDeep(te.value.bbox))}_e(T,()=>{fe.value=!1,F.value=Q()});const{items:ne,loading:ee,error:de,totalPages:ce,itemCount:H,totalCount:Z,getItems:X}=pl(r,{sort:A,limit:h,page:$,search:v,filter:P,fields:G}),te=E({type:"FeatureCollection",features:[]}),ve=E(),J=E(null),oe=E(!1);_e([v,r,h,A],ae),_e(ne,me),_e(L,()=>fe.value=!0);function ae(){fe.value=!0,oe.value=!1}function me(){if(K.value)try{te.value={type:"FeatureCollection",features:[]},oe.value=!0,J.value=null,te.value=CW(ne.value,K.value),oe.value=!1,(!T.value||fe.value)&&(ve.value=te.value.bbox)}catch(be){oe.value=!1,J.value=be,te.value={type:"FeatureCollection",features:[]}}else te.value={type:"FeatureCollection",features:[]}}const ge=E({type:"geojson",data:{type:"FeatureCollection",features:[]}});_e(N,$e,{immediate:!0});function $e(){ge.value=U.exports.merge({},ge.value,{cluster:N.value})}function ke(be){u.value=Array.from(new Set(be))}function Ae(be){u.value=Array.from(new Set(u.value.concat(be)))}function De({ids:be,replace:je}){je?ke(be):Ae(be)}function Ne({id:be,replace:je}){e.selectMode?De({ids:[be],replace:je}):i.push(`/content/${r.value}/${be}`)}const lt=V(()=>{var be,je;return e.readonly?null:(je=(be=y.value)==null?void 0:be.field)!=null?je:null}),Te=V(()=>(H.value||0)<(Z.value||0)&&f.value?H.value===1?n("one_filtered_item"):n("start_end_of_count_filtered_items",{start:l((+$.value-1)*h.value+1),end:l(Math.min($.value*h.value,H.value||0)),count:l(H.value||0)}):H.value===1?n("one_item"):n("start_end_of_count_items",{start:l((+$.value-1)*h.value+1),end:l(Math.min($.value*h.value,H.value||0)),count:l(H.value||0)})),Oe=E({item:null});function Be(be){var je,et;if("item"in be){const tt=(je=y.value)==null?void 0:je.field;be.item=tt&&(et=ne.value.find(ot=>ot[tt]===be.item))!=null?et:null}Oe.value=U.exports.merge({},Oe.value,be)}return{collection:r,geojson:te,directusSource:ge,directusLayers:PY,featureId:lt,geojsonBounds:ve,geojsonLoading:oe,geojsonError:J,geometryOptions:K,handleClick:Ne,handleSelect:De,geometryField:L,displayTemplate:O,isGeometryFieldNative:W,cameraOptions:T,clusterData:N,items:ne,loading:ee,error:de,totalPages:ce,page:$,toPage:we,itemCount:H,fieldsInCollection:g,limit:h,filter:m,primaryKeyField:y,sort:A,info:_,showingCount:Te,refresh:Ie,resetPresetAndRefresh:xe,geometryFields:B,fitDataBounds:ue,template:le,itemPopup:Oe,updateItemPopup:Be};async function xe(){var be;await((be=e==null?void 0:e.resetPreset)==null?void 0:be.call(e)),Ie()}function Ie(){X()}function we(be){$.value=be}}}),LY=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:OY});const jY=z({inheritAttrs:!1,props:{collection:{type:String,required:!0},selection:{type:Array,default:()=>[]},readonly:{type:Boolean,required:!0},tableHeaders:{type:Array,required:!0},showSelect:{type:String,default:"none"},items:{type:Array,required:!0},loading:{type:Boolean,required:!0},error:{type:Object,default:null},totalPages:{type:Number,required:!0},tableSort:{type:Object,required:!0},onRowClick:{type:Function,required:!0},onSortChange:{type:Function,required:!0},tableRowHeight:{type:Number,required:!0},page:{type:Number,required:!0},toPage:{type:Function,required:!0},itemCount:{type:Number,default:null},fields:{type:Array,required:!0},limit:{type:Number,required:!0},primaryKeyField:{type:Object,default:null},info:{type:Object,default:null},sortField:{type:String,default:null},changeManualSort:{type:Function,required:!0},resetPresetAndRefresh:{type:Function,required:!0},selectAll:{type:Function,required:!0},filterUser:{type:Object,default:null},search:{type:String,default:null}},emits:["update:selection","update:tableHeaders","update:limit"],setup(e,{emit:t}){const{t:n}=Y(),l=Le(e,"selection",t),i=Le(e,"tableHeaders",t),u=Le(e,"limit",t),a=bt("main-element"),s=E();return _e(()=>e.page,()=>{var r;return(r=a.value)==null?void 0:r.scrollTo({top:0,behavior:"smooth"})}),nt("meta+a",()=>{e.selectAll()},s),{t:n,selectionWritable:l,tableHeadersWritable:i,limitWritable:u,table:s}}}),RY={class:"layout-tabular"},MY={class:"footer"},UY={class:"pagination"},NY={key:0,class:"per-page"};function BY(e,t,n,l,i,u){const a=c("render-display"),s=c("v-pagination"),r=c("v-select"),m=c("v-table"),f=c("v-error"),v=c("v-button"),_=c("v-info");return p(),I("div",RY,[e.loading||e.itemCount>0?(p(),C(m,{key:0,ref:"table",modelValue:e.selectionWritable,"onUpdate:modelValue":t[1]||(t[1]=y=>e.selectionWritable=y),headers:e.tableHeadersWritable,"onUpdate:headers":t[2]||(t[2]=y=>e.tableHeadersWritable=y),class:"table","fixed-header":"","show-select":e.showSelect?e.showSelect:e.selection!==void 0,"show-resize":"","must-sort":"",sort:e.tableSort,items:e.items,loading:e.loading,"row-height":e.tableRowHeight,"server-sort":e.itemCount===e.limit||e.totalPages>1,"item-key":e.primaryKeyField.field,"show-manual-sort":e.sortField!==null,"manual-sort-key":e.sortField,"selection-use-keys":"","onClick:row":e.onRowClick,"onUpdate:sort":e.onSortChange,onManualSort:e.changeManualSort},Ze({footer:d(()=>[S("div",MY,[S("div",UY,[e.totalPages>1?(p(),C(s,{key:0,length:e.totalPages,"total-visible":7,"show-first-last":"","model-value":e.page,"onUpdate:modelValue":e.toPage},null,8,["length","model-value","onUpdate:modelValue"])):R("",!0)]),e.loading===!1&&e.items.length>=25?(p(),I("div",NY,[S("span",null,b(e.t("per_page")),1),o(r,{"model-value":`${e.limit}`,items:["25","50","100","250","500"," 1000"],inline:"","onUpdate:modelValue":t[0]||(t[0]=y=>e.limitWritable=+y)},null,8,["model-value"])])):R("",!0)])]),_:2},[he(e.tableHeaders,y=>({name:`item.${y.value}`,fn:d(({item:g})=>[o(a,{value:g[y.value],display:y.field.display,options:y.field.displayOptions,interface:y.field.interface,"interface-options":y.field.interfaceOptions,type:y.field.type,collection:e.collection,field:y.field.field},null,8,["value","display","options","interface","interface-options","type","collection","field"])])}))]),1032,["modelValue","headers","show-select","sort","items","loading","row-height","server-sort","item-key","show-manual-sort","manual-sort-key","onClick:row","onUpdate:sort","onManualSort"])):e.error?(p(),C(_,{key:1,type:"danger",title:e.t("unexpected_error"),icon:"error",center:""},{append:d(()=>[o(f,{error:e.error},null,8,["error"]),o(v,{small:"",class:"reset-preset",onClick:e.resetPresetAndRefresh},{default:d(()=>[D(b(e.t("reset_page_preferences")),1)]),_:1},8,["onClick"])]),default:d(()=>[D(b(e.t("unexpected_error_copy"))+" ",1)]),_:1},8,["title"])):e.itemCount===0&&(e.filterUser||e.search)?ye(e.$slots,"no-results",{key:2},void 0,!0):e.itemCount===0?ye(e.$slots,"no-items",{key:3},void 0,!0):R("",!0)])}var qY=q(jY,[["render",BY],["__scopeId","data-v-8bf67ae6"]]);const zY=z({components:{Draggable:Ct},inheritAttrs:!1,props:{fields:{type:Array,required:!0},activeFields:{type:Array,required:!0},tableSpacing:{type:String,required:!0},hideDragImage:{type:Function,required:!0},availableFields:{type:Array,required:!0}},emits:["update:tableSpacing","update:activeFields","update:fields"],setup(e,{emit:t}){const{t:n}=Y(),l=Le(e,"fields",t),i=Le(e,"activeFields",t),u=Le(e,"tableSpacing",t);return{t:n,fieldsWritable:l,activeFieldsWritable:i,tableSpacingWritable:u}}}),KY=e=>(We("data-v-4a9cb74e"),e=e(),Ge(),e),HY={class:"field"},WY={class:"type-label"},GY={class:"field"},JY={class:"type-label"},QY=KY(()=>S("div",{class:"spacer"},null,-1));function XY(e,t,n,l,i,u){const a=c("v-select"),s=c("v-icon"),r=c("v-checkbox"),m=c("draggable");return p(),I(ie,null,[S("div",HY,[S("div",WY,b(e.t("layouts.tabular.spacing")),1),o(a,{modelValue:e.tableSpacingWritable,"onUpdate:modelValue":t[0]||(t[0]=f=>e.tableSpacingWritable=f),items:[{text:e.t("layouts.tabular.compact"),value:"compact"},{text:e.t("layouts.tabular.cozy"),value:"cozy"},{text:e.t("layouts.tabular.comfortable"),value:"comfortable"}]},null,8,["modelValue","items"])]),S("div",GY,[S("div",JY,b(e.t("layouts.tabular.fields")),1),o(m,{modelValue:e.activeFieldsWritable,"onUpdate:modelValue":t[3]||(t[3]=f=>e.activeFieldsWritable=f),"item-key":"field",handle:".drag-handle","set-data":e.hideDragImage,"force-fallback":!0},{item:d(({element:f})=>[o(r,{modelValue:e.fieldsWritable,"onUpdate:modelValue":t[2]||(t[2]=v=>e.fieldsWritable=v),value:f.field,label:f.name},{append:d(()=>[QY,o(s,{name:"drag_handle",class:"drag-handle",onClick:t[1]||(t[1]=Fe(()=>{},["stop"]))})]),_:2},1032,["modelValue","value","label"])]),_:1},8,["modelValue","set-data"]),(p(!0),I(ie,null,he(e.availableFields.filter(f=>e.fields.includes(f.field)===!1),f=>(p(),C(r,{key:f.field,modelValue:e.fieldsWritable,"onUpdate:modelValue":t[4]||(t[4]=v=>e.fieldsWritable=v),value:f.field,label:f.name},null,8,["modelValue","value","label"]))),128))])],64)}var ZY=q(zY,[["render",XY],["__scopeId","data-v-4a9cb74e"]]);const YY=z({inheritAttrs:!1,props:{itemCount:{type:Number,default:null},showingCount:{type:String,required:!0}}}),xY={key:0,class:"item-count"};function ex(e,t,n,l,i,u){return p(),C(jt,{name:"fade"},{default:d(()=>[e.itemCount?(p(),I("span",xY,b(e.showingCount),1)):R("",!0)]),_:1})}var tx=q(YY,[["render",ex],["__scopeId","data-v-34941803"]]),nx=cl({id:"tabular",name:"$t:layouts.tabular.tabular",icon:"reorder",component:qY,slots:{options:ZY,sidebar:()=>{},actions:tx},setup(e,{emit:t}){const{t:n,n:l}=Y(),i=Ye(),u=Le(e,"selection",t),a=Le(e,"layoutOptions",t),s=Le(e,"layoutQuery",t),{collection:r,filter:m,filterUser:f,search:v}=Re(e),{info:_,primaryKeyField:y,fields:g,sortField:$}=at(r),{sort:h,limit:k,page:A,fields:F,fieldsWithRelational:P}=ve(),{items:O,loading:T,error:N,totalPages:L,itemCount:M,totalCount:B,changeManualSort:K,getItems:W}=pl(r,{sort:h,limit:k,page:A,fields:P,filter:m,search:v}),{tableSort:le,tableHeaders:G,tableRowHeight:Q,onRowClick:fe,onSortChange:ue,activeFields:ne,tableSpacing:ee}=J(),de=V(()=>(M.value||0)<(B.value||0)&&f.value?M.value===1?n("one_filtered_item"):n("start_end_of_count_filtered_items",{start:l((+A.value-1)*k.value+1),end:l(Math.min(A.value*k.value,M.value||0)),count:l(M.value||0)}):M.value===1?n("one_item"):n("start_end_of_count_items",{start:l((+A.value-1)*k.value+1),end:l(Math.min(A.value*k.value,M.value||0)),count:l(M.value||0)})),ce=V(()=>g.value.filter(oe=>{var ae,me;return((me=(ae=oe.meta)==null?void 0:ae.special)==null?void 0:me.includes("no-data"))!==!0}));return{tableHeaders:G,items:O,loading:T,error:N,totalPages:L,tableSort:le,onRowClick:fe,onSortChange:ue,tableRowHeight:Q,page:A,toPage:X,itemCount:M,totalCount:B,fieldsInCollection:g,fields:F,limit:k,activeFields:ne,tableSpacing:ee,primaryKeyField:y,info:_,showingCount:de,sortField:$,changeManualSort:K,hideDragImage:Bt,refresh:Z,resetPresetAndRefresh:H,selectAll:te,availableFields:ce,filter:m,search:v};async function H(){var oe;await((oe=e==null?void 0:e.resetPreset)==null?void 0:oe.call(e)),Z()}function Z(){W()}function X(oe){A.value=oe}function te(){if(!y.value)return;const oe=y.value;u.value=U.exports.clone(O.value).map(ae=>ae[oe.field])}function ve(){const oe=ct(s,"page",1),ae=ct(s,"limit",25),me=V(()=>{var De;return y.value?[(De=y.value)==null?void 0:De.field]:[]}),ge=ct(s,"sort",me),$e=V(()=>g.value.filter(De=>{var Ne;return!((Ne=De.meta)==null?void 0:Ne.hidden)}).slice(0,4).map(({field:De})=>De).sort()),ke=ct(s,"fields",$e),Ae=V(()=>e.collection?Xt(ke.value,e.collection):[]);return{sort:ge,limit:ae,page:oe,fields:ke,fieldsWithRelational:Ae}}function J(){const oe=V(()=>{var Te,Oe;return((Te=h.value)==null?void 0:Te[0])?((Oe=h.value)==null?void 0:Oe[0].startsWith("-"))?{by:h.value[0].substring(1),desc:!0}:{by:h.value[0],desc:!1}:null}),ae=E({});_e(()=>a.value,()=>{ae.value={}});const me=U.exports.debounce(()=>{a.value=Object.assign({},a.value,{widths:ae.value})},350),ge=V({get(){return F.value.map(Te=>g.value.find(Oe=>Oe.field===Te)).filter(Te=>Te)},set(Te){F.value=Te.map(Oe=>Oe.field)}}),$e=V({get(){return ge.value.map(Te=>{var Oe,Be,xe,Ie,we,be;return{text:Te.name,value:Te.field,width:ae.value[Te.field]||((Be=(Oe=a.value)==null?void 0:Oe.widths)==null?void 0:Be[Te.field])||null,field:{display:((xe=Te.meta)==null?void 0:xe.display)||js(Te.type),displayOptions:(Ie=Te.meta)==null?void 0:Ie.display_options,interface:(we=Te.meta)==null?void 0:we.interface,interfaceOptions:(be=Te.meta)==null?void 0:be.options,type:Te.type,field:Te.field},sortable:["json","o2m","m2o","m2m","m2a","file","files","alias","presentation","translations"].includes(Te.type)===!1}})},set(Te){const Oe={};Te.forEach(Be=>{Be.width&&(Oe[Be.value]=Be.width)}),ae.value=Oe,me()}}),ke=ct(a,"spacing","cozy"),Ae=V(()=>{switch(ke.value){case"compact":return 32;case"cozy":default:return 48;case"comfortable":return 64}});return{tableSort:oe,tableHeaders:$e,tableSpacing:ke,tableRowHeight:Ae,onRowClick:De,onSortChange:Ne,activeFields:ge,getFieldDisplay:lt};function De({item:Te,event:Oe}){var xe,Ie;if(e.readonly===!0||!y.value)return;const Be=Te[y.value.field];if(e.selectMode||((xe=u.value)==null?void 0:xe.length)>0)((Ie=u.value)==null?void 0:Ie.includes(Be))===!1?u.value=u.value.concat(Be):u.value=u.value.filter(we=>we!==Be);else{const we=i.resolve(`/content/${r.value}/${encodeURIComponent(Be)}`);Oe.ctrlKey||Oe.metaKey?window.open(we.href,"_blank"):i.push(we)}}function Ne(Te){let Oe=Te.by;if(!Te.by){h.value=[];return}Te.desc===!0&&(Oe="-"+Oe),h.value=[Oe]}function lt(Te){var Be;const Oe=g.value.find(xe=>xe.field===Te);return((Be=Oe==null?void 0:Oe.meta)==null?void 0:Be.display)?{display:Oe.meta.display,options:Oe.meta.display_options}:null}}}}),lx=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:nx});const{layoutsRaw:wr}=$n();async function ox(e){const n=Object.values({"./calendar/index.ts":mZ,"./cards/index.ts":aY,"./map/index.ts":LY,"./tabular/index.ts":lx}).map(l=>l.default);try{const l=await j(()=>import(`${Qe()}extensions/layouts/index.js`),[]);n.push(...l.default)}catch(l){console.warn("Couldn't load custom layouts"),console.warn(l)}wr.value=n,wr.value.forEach(l=>{e.component(`layout-${l.id}`,l.component),e.component(`layout-options-${l.id}`,l.slots.options),e.component(`layout-sidebar-${l.id}`,l.slots.sidebar),e.component(`layout-actions-${l.id}`,l.slots.actions)})}var ax="assets/logo-light.7a327cdd.svg";const ix=z({props:{wide:{type:Boolean,default:!1}},setup(){var a;const e=Ln(),t=V(()=>{var s,r;return!!((r=(s=e.info)==null?void 0:s.project)==null?void 0:r.project_color)}),n=V(()=>{var r,m,f,v,_;const s="#263238";return((m=(r=e.info)==null?void 0:r.project)==null?void 0:m.public_background)?`url(${Qe()+`assets/${(f=e.info.project)==null?void 0:f.public_background}`})`:((_=(v=e.info)==null?void 0:v.project)==null?void 0:_.project_color)||s}),l=V(()=>({background:n.value,backgroundSize:"cover",backgroundPosition:"center center"})),i=V(()=>{var s,r,m;return((r=(s=e.info)==null?void 0:s.project)==null?void 0:r.public_foreground)?Qe()+`assets/${(m=e.info.project)==null?void 0:m.public_foreground}`:null}),u=V(()=>{var s,r,m;return((r=(s=e.info)==null?void 0:s.project)==null?void 0:r.project_logo)?Qe()+`assets/${(m=e.info.project)==null?void 0:m.project_logo}`:null});return{version:va,artStyles:l,branding:(a=e.info)==null?void 0:a.project,foregroundURL:i,logoURL:u,isBranded:t}}}),kr=e=>(We("data-v-441fc56e"),e=e(),Ge(),e),sx={class:"title-box"},rx=["src","alt"],dx=kr(()=>S("img",{src:ax,alt:"Directus",class:"directus-logo"},null,-1)),ux=[dx],cx={class:"title"},px={class:"type-title"},mx=kr(()=>S("p",{class:"subtitle"},"Admin App",-1)),fx={class:"content"},vx={class:"notice"},_x=["src","alt"],yx={class:"note-container"},gx={key:0,class:"note"};function hx(e,t,n,l,i,u){const a=Se("md");return p(),I("div",{class:se(["public-view",{branded:e.isBranded}])},[S("div",{class:se(["container",{wide:e.wide}])},[S("div",sx,[e.branding&&e.branding.project_logo?(p(),I("div",{key:0,class:"logo",style:ze({backgroundColor:e.branding.project_color})},[S("img",{src:e.logoURL,alt:e.branding.project_name||"Logo"},null,8,rx)],4)):(p(),I("div",{key:1,class:"logo",style:ze({backgroundColor:e.branding.project_color})},ux,4)),S("div",cx,[S("h1",px,b(e.branding&&e.branding.project_name),1),mx])]),S("div",fx,[ye(e.$slots,"default")]),S("div",vx,[ye(e.$slots,"notice")])],2),S("div",{class:"art",style:ze(e.artStyles)},[o(jt,{name:"scale"},{default:d(()=>[e.foregroundURL?(p(),I("img",{key:0,class:"foreground",src:e.foregroundURL,alt:e.branding&&e.branding.project_name},null,8,_x)):R("",!0)]),_:1}),S("div",yx,[e.branding&&e.branding.public_note?x((p(),I("div",gx,null,512)),[[a,e.branding.public_note]]):R("",!0)])],4)],2)}var bx=q(ix,[["render",hx],["__scopeId","data-v-441fc56e"]]);const $x=ma(()=>j(()=>import("./assets/index.be725ecc.js"),["assets/index.be725ecc.js","assets/index.2ca0b263.css","assets/vendor.764dd834.js","assets/vendor.fe7856f0.css","assets/use-sync.03a52ddb.js"]));function wx(e){e.component("PublicView",bx),e.component("PrivateView",$x)}kx();async function kx(){console.log(Ww),console.info(`Hey! Interested in helping build this open-source data management platform?
If so, join our growing team of contributors at: https://directus.chat`),console.info("%c\u{1F430} Starting Directus...","color:Green"),console.time("\u{1F553} Application Loaded");const e=Wd(H6);e.use(Mt),e.use(qe),e.use(Gd()),oN(e),HU(e),wx(e),await Promise.all([HX(e),MN(e),Tq(e),ox(e),$6()]),e.mount("#app"),console.timeEnd("\u{1F553} Application Loaded"),console.group("%c\u2728 Project Information","color:DodgerBlue"),console.info("%cEnvironment: production","color:DodgerBlue"),console.groupEnd(),window.addEventListener("dragover",t=>t.preventDefault(),!1),window.addEventListener("drop",t=>t.preventDefault(),!1)}export{rL as H,mn as M,q as _,Il as a,st as b,kt as c,nl as d,Je as e,Ql as f,Qe as g,Bo as h,Ln as i,Ja as j,Ke as k,re as l,lB as m,w8 as n,qe as o,Da as p,eo as q,j6 as r,Vt as t,ll as u};
